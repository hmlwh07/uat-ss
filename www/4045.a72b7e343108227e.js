"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4045],{41018:(m,h,n)=>{n.d(h,{w:()=>p});var i=n(93075);function p(c){Object.keys(c.controls).forEach(l=>{const r=c.get(l);r instanceof i.NI?r.markAsTouched({onlySelf:!0}):r instanceof i.cw&&this.validateAllFields(r)})}},4721:(m,h,n)=>{n.d(h,{V:()=>Z});var i=n(93075),p=n(4128),c=n(54004),l=n(70262),r=n(39646);const d=[{stage:"01",township:["KhaPhaNa","KhaLaNa","SaLaNa","SaPaBa","TaNaNa","NaMaNa","PaTaAh","PhaKaNa","BaMaNa","MaKaNa","MaNyaNa","MaKaNa","MaHsaNa","MaKhaBa","MaMaNa","YaKaNa","WaMaNa","AhGaYa"]},{stage:"02",township:["DaMaSa","PhaSaNa","PhaYaSa","BaLaKha","MaHsaNa","YaTaNa","YaThaNa","LaKaNa"]},{stage:"03",township:["KaKaYa","KaSaKa","PhaPaNa","BaAhNa","MaWaTa","LaBaNa","ThaTaNa"]},{stage:"04",township:["KaPaLa","TaTaNa","TaZaNa","HtaTaLa","PaLaWa","PhaLaNa","MaTaNa","MaTaPa","HaKhaNa"]},{stage:"05",township:["KaLaNa","KhaNaTa","KaThaNa","KaBaLa","MaLaNa","MaYaNa","YaBaNa","TaMaNa","YaMaPa","AhYaTa","BaTaLa","KhaOuNa","DaPaYa","HaMaLa","AhTaNa","KaLaWa","KaNaNa","KaLaNa","KhaOuNa","KaLaNa","MaMaNa","MaMaNa","PaLaNa","PhaPaNa","PaLaBa","SaLaKa","HsaKaNa","TaSaNa","HtaKhaNa","WaLaNa","WaThaNa","BaMaNa","NaYaNa","YaOuNa","MaKaNa","LaYaNa","LaHaNa"]},{stage:"06",township:["HtaWaNa","MaMaNa","KaThaNa","LaLaNa","ThaYaKha","YaPhaNa","KaHsaNa","PaLaNa","BaPaNa","PaLaNa"]},{stage:"07",township:["PaKhaNa","KaTaKha","ZaKaNa","NyaLaPa","TaNgaNa","NaTaLa","KaWaNa","PaMaNa","PaTaNa","PhaMaNa","MaLaNa","YaTaYa","LaPaTa","WaMaNa","ThaWaTa","ThaKaNa","AhPhaNa","MaNyaNa","PaKhaNa","DaOuNa","ThaNaPa","HtaTaPa","AhTaNa","KaKaNa","YaKaNa","KaPaKa","YaTaNa","PaTaNa"]},{stage:"08",township:["MaKaNa","KhaMaNa","PaKhaKa","ThaYaNa","GaGaNa","NaMaNa","MaThaNa","YaNaKha","TaTaKa","MaBaNa","PaPhaNa","HsaLaNa","NgaPhaNa","HsaTaYa","SaPhaNa","YaHsaKa","MaMaNa","PaMaNa","HtaLaNa","SaMaNa","AhLaNa","SaPaWa","MaTaNa","MaLaNa","KaMaNa"]},{stage:"09",township:["KaSaNa","MaHtaLa","MaKhaNa","NyaOuNa","PaOuLa","YaMaTha","AhMaZa","KhaAhZa","MaHaMa","KhaMaHsa","PaKaKha","AhMaYa","PaThaKa","MaTaYa","HsaKaNa","MaKaNa","ThaPaKa","HsaKaNa","MaThaNa","TaTaOu","TaThaNa","NaHtaKa","KaPaTa","NgaZaNa","PaBaNa","MaLaNa","ThaHsaNa","WaTaNa"]},{stage:"10",township:["ThaHtaNa","MaLaMa","KaMaYa","KaHtaNa","KhaSaNa","PaMaNa","BaLaNa","MaDaNa","YaMaNa","ThaPhaYa"]},{stage:"11",township:["AhMaNa","GaMaNa","KaTaNa","MaPaNa","MaOuNa","MaAhNa","MaPaNa","PaTaNa","PaNaKa","YaBaNa","YaThaTa","TaKaNa","HsaTaNa","BaThaTa","MaTaNa","KaPhaNa","ThaTaNa"]},{stage:"12",township:["TaMaNa","OuKaTa","DaGaSa","DaGaTa","DaGaMa","DaGaYa","DaPaNa","PaZaTa","BaTaHta","MaGaTa","OuKaMa","YaKaNa","ThaGaKa","ThaKaTa","KaMaYa","KaTaTa","KaMaTa","HsaKhaNa","SaKaNa","DaGaNa","PaBaTa","BaHaNa","MaYaKa","LaMaTa","LaThaNa","LaMaNa","AhLaNa","TaKaNa","HtaTaPa","MaGaDa","MaBaNa","YaPaTha","LaKaNa","LaThaYa","AhHsaNa","KaTaNa","KaKhaKa","KaKaKa","KaMaNa","KhaYaNa","SaKaKha","TaTaNa","DaLaNa","ThaLaNa","ThaKhaNa"]},{stage:"13",township:["TaKaNa","LaYaNa","KaTaNa","LaLaNa","LaKaNa","LaKhaNa","KaMaNa","MaSaNa","KaLaNa","TaKhaLa","MaSaNa","MaPhaNa","HaPaNa","HaPaNa","PaTaYa","NaSaNa","NaMaTa","NaKhaNa","ThaPaNa","MaTaNa","MaMaNa","MaBaNa","NaKhaNa","KaKhaNa","TaYaNa","MaYaNa","MaMaNa","NaHsaNa","YaSaKa","YaNgaNa","NyaYaNa","PaLaNa","SaSaNa","MaNaNa","MaPaNa","MaKaNa","KaHaNa","KaKaNa","MaKhaNa","PhaKhaNa","LaKhaNa","MaMaNa","KaThaNa","KaLaNa","MaYaNa","MaPaNa","MaTaNa","MaYaNa","MaLaNa","MaYaNa","MaMaNa","AhPaNa","YaNyaNa","AhThaYa","KaTaLa","NaTaYa","PaLaNa","KaTaNa","HaMaNa","AhTaNa","MaNaMa","MaNgaNa","TaMaNya","MaKaNa","MaHaYa","KhaYaHa","NaTaNa","TaTaNa","TaLaNa","KaLaNa","MaYaNa","MaKhaNa","MaPaNa"]},{stage:"14",township:["PaThaNa","HaThaTa","MaAhPa","MaMaNa","PhaPaNa","LaPaTa","KaKaHta","NgaPaTa","ThaPaNa","KaKaNa","KaPaNa","YaKaNa","ZaLaNa","LaMaNa","MaAhNa","KaKhaNa","AhGaPa","AhMaNa","WaKhaMa","PaTaNa","NyaTaNa","DaNaPha","BaKaLa","KaLaNa","DaDaYa","MaMaKa"]}];var a=n(5e3),T=n(63272),g=n(27670),u=n(64537),M=n(69808),K=n(98807);function P(o,N){if(1&o&&(a.ynx(0),a.TgZ(1,"ng-option",18),a._uU(2),a.qZA(),a.BQk()),2&o){const t=N.$implicit;a.xp6(1),a.Q6J("value",t),a.xp6(1),a.Oqu(t.value)}}function f(o,N){1&o&&(a.TgZ(0,"div",19),a._uU(1,"State No is required"),a.qZA())}function v(o,N){if(1&o&&(a.ynx(0),a.TgZ(1,"ng-option",18),a._uU(2),a.qZA(),a.BQk()),2&o){const t=N.$implicit;a.xp6(1),a.Q6J("value",t),a.xp6(1),a.Oqu(t.value)}}function L(o,N){1&o&&(a.TgZ(0,"div",19),a._uU(1,"District is required"),a.qZA())}function A(o,N){if(1&o&&(a.ynx(0),a.TgZ(1,"ng-option",18),a._uU(2),a.qZA(),a.BQk()),2&o){const t=N.$implicit;a.xp6(1),a.Q6J("value",t),a.xp6(1),a.Oqu(t.value)}}function Y(o,N){1&o&&(a.TgZ(0,"div",19),a._uU(1,"Type is required"),a.qZA())}function y(o,N){1&o&&(a.TgZ(0,"div",19),a._uU(1,"NRC No is required"),a.qZA())}let Z=(()=>{class o{constructor(t,e,s){this.modal=t,this.cdf=e,this.masterDataService=s,this.nrcStage=d,this.submitted=!1,this.townShip=[],this.stageOption=[],this.townshipOption=[],this.typeOption=[]}ngOnInit(){this.setForm(),this.getMaster(),this.getTownship()}setForm(){this.nrcForm=new i.cw({stage:new i.NI(null,[i.kI.required]),township:new i.NI(null,[i.kI.required]),prefix:new i.NI(null,[i.kI.required]),nrc:new i.NI(null,[i.kI.required,i.kI.maxLength(6),i.kI.minLength(6),i.kI.pattern("[0-9]*")])})}getMaster(){(0,p.D)([this.getStage(),this.getType()]).toPromise().then(t=>{t&&(this.stageOption=t[0],this.typeOption=t[1],this.cdf.detectChanges())})}getStage(){return this.masterDataService.getDataByType("NRC_REGION").pipe((0,c.U)(t=>this.getFormatOpt(t)),(0,l.K)(t=>(0,r.of)([])))}getTownship(t){this.masterDataService.getDataByParent("NRC_TOWNSHIP",t,"NRC_REGION").toPromise().then(e=>{e&&(this.townshipOption=e.map(s=>({code:s.codeId,value:s.codeName})),this.townshipOption.length>0&&(this.nrcForm.controls.township.setValue(this.townshipOption[0]),this.nrcForm.controls.prefix.setValue(this.typeOption[5])),this.cdf.detectChanges())})}getType(){return this.masterDataService.getDataByType("NRC_TYPE").pipe((0,c.U)(t=>this.getFormatOpt(t)),(0,l.K)(t=>(0,r.of)([])))}getFormatOpt(t){return t.map(e=>({code:e.codeId||e.code,value:e.codeName||e.codeValue||e.value}))}save(){if(this.submitted=!0,this.nrcForm.invalid)return!1;let t=this.nrcForm.value;this.stageCode=t.stage.code?t.stage.code:this.stageCode,this.townshipCode=t.township.code?t.township.code:this.townshipCode,this.typeCode=t.prefix.code?t.prefix.code:this.typeCode;let e=`${t.stage.value}/${t.township.value}(${t.prefix.value})${t.nrc}`;this.config.name&&this.group.controls[this.config.name].setValue(e),this.config.nrcRegionCode&&this.group.controls[this.config.nrcRegionCode].setValue(this.stageCode),this.config.nrcTownshipCode&&this.group.controls[this.config.nrcTownshipCode].setValue(this.townshipCode),this.config.nrcTypeCode&&this.group.controls[this.config.nrcTypeCode].setValue(this.typeCode),this.config.nrcNumber&&this.group.controls[this.config.nrcNumber].setValue(t.nrc),this.config.identityNRC&&this.group.controls[this.config.identityNRC].setValue(e),this.modal.dismiss("save")}dismiss(){this.modal.dismiss()}changeStage(){let t=this.nrcForm.controls.stage.value;if(t){let e=this.stageOption.find(s=>s.code==t.code);this.getTownship(e.code),this.cdf.detectChanges()}}isControlValid(t){const e=this.nrcForm.controls[t];return e.valid&&(e.dirty||e.touched)}isControlInvalid(t){const e=this.nrcForm.controls[t];return e.invalid&&(e.dirty||e.touched)}controlHasError(t,e){const s=this.nrcForm.controls[e];return s.hasError(t)&&(s.dirty||s.touched)}isControlTouched(t){const e=this.nrcForm.controls[t];return e.dirty||e.touched}}return o.\u0275fac=function(t){return new(t||o)(a.Y36(T.Kz),a.Y36(a.sBO),a.Y36(g.D))},o.\u0275cmp=a.Xpm({type:o,selectors:[["app-nrc-popup"]],inputs:{group:"group",config:"config"},decls:41,vars:24,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4","left-border-image"],[1,"overlay","overlay-block","cursor-default","modal-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-3"],[1,"form-group"],[1,"form-label"],["placeholder","State No","formControlName","stage",1,"ng-custom-select","ng-custom-select-sm",3,"change"],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["placeholder","District","formControlName","township",1,"ng-custom-select","ng-custom-select-sm"],["placeholder","Type","formControlName","prefix",1,"ng-custom-select","ng-custom-select-sm"],["type","tel","name","nrc","autocomplete","off","formControlName","nrc","minLength","6","maxLength","6",1,"form-control","form-control-sm"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-primary","btn-elevate",3,"click"],[3,"value"],[1,"invalid-feedback"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a._uU(3," NRC ID "),a.qZA(),a.qZA(),a.TgZ(4,"div",3),a.TgZ(5,"form",4),a.NdJ("ngSubmit",function(){return e.save()}),a.TgZ(6,"div",5),a.TgZ(7,"div",6),a.TgZ(8,"div",7),a.TgZ(9,"label",8),a._uU(10,"State No"),a.qZA(),a.TgZ(11,"ng-select",9),a.NdJ("change",function(){return e.changeStage()}),a.YNc(12,P,3,2,"ng-container",10),a.qZA(),a.YNc(13,f,2,0,"div",11),a.qZA(),a.qZA(),a.TgZ(14,"div",6),a.TgZ(15,"div",7),a.TgZ(16,"label",8),a._uU(17,"District"),a.qZA(),a.TgZ(18,"ng-select",12),a.YNc(19,v,3,2,"ng-container",10),a.qZA(),a.YNc(20,L,2,0,"div",11),a.qZA(),a.qZA(),a.TgZ(21,"div",6),a.TgZ(22,"div",7),a.TgZ(23,"label",8),a._uU(24,"Type"),a.qZA(),a.TgZ(25,"ng-select",13),a.YNc(26,A,3,2,"ng-container",10),a.qZA(),a.YNc(27,Y,2,0,"div",11),a.qZA(),a.qZA(),a.TgZ(28,"div",6),a.TgZ(29,"div",7),a.TgZ(30,"label",8),a._uU(31,"NRC No"),a.qZA(),a._UZ(32,"input",14),a.YNc(33,y,2,0,"div",11),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(34,"div",15),a.TgZ(35,"button",16),a.NdJ("click",function(){return e.modal.dismiss()}),a._uU(36),a.ALo(37,"translate"),a.qZA(),a.TgZ(38,"button",17),a.NdJ("click",function(){return e.save()}),a._uU(39),a.ALo(40,"translate"),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(5),a.Q6J("formGroup",e.nrcForm),a.xp6(6),a.ekj("is-invalid",e.isControlInvalid("stage")),a.xp6(1),a.Q6J("ngForOf",e.stageOption),a.xp6(1),a.Q6J("ngIf",e.controlHasError("required","stage")),a.xp6(5),a.ekj("is-invalid",e.isControlInvalid("township")),a.xp6(1),a.Q6J("ngForOf",e.townshipOption),a.xp6(1),a.Q6J("ngIf",e.controlHasError("required","township")),a.xp6(5),a.ekj("is-invalid",e.isControlInvalid("prefix")),a.xp6(1),a.Q6J("ngForOf",e.typeOption),a.xp6(1),a.Q6J("ngIf",e.controlHasError("required","prefix")),a.xp6(5),a.ekj("is-invalid",e.isControlInvalid("nrc"))("is-valid",e.isControlValid("nrc")),a.xp6(1),a.Q6J("ngIf",e.controlHasError("required","nrc")),a.xp6(3),a.Oqu(a.lcZ(37,20,"FORM.btn_cancel")),a.xp6(3),a.Oqu(a.lcZ(40,22,"FORM.btn_save")))},directives:[i._Y,i.JL,i.sg,u.w9,i.JJ,i.u,M.sg,M.O5,i.Fj,u.xv],pipes:[K.X],styles:[".rowStyle[_ngcontent-%COMP%]{margin-top:10px;color:#000}.columnStyle[_ngcontent-%COMP%]{text-align:center;font-size:var(--label-size)}.input[_ngcontent-%COMP%]{border-bottom:1px #A1AAAD solid;width:100%;display:inline-block;text-align:center;font-size:8pt!important;color:gray}.input-box[_ngcontent-%COMP%]{border-bottom:1px #A1AAAD solid;width:100%;display:inline-block;margin:15px 0;text-align:center}.textColor[_ngcontent-%COMP%]{color:#2c66ff}.header-style[_ngcontent-%COMP%]{box-shadow:0 4px 5px #ccc;padding:15px 20px;margin-bottom:20px}.input-border[_ngcontent-%COMP%]{border:.5px solid #333;border-radius:2px;width:100%;margin:10px 0}"]}),o})()},3777:(m,h,n)=>{n.d(h,{A6:()=>r,MN:()=>c,NP:()=>a,Y6:()=>d,ei:()=>p,k5:()=>T,uK:()=>l});var i=n(34436);const p=[{title:"FNA ID",type:i.Y.FEILD,field:"id"},{title:"Date",type:i.Y.FEILD,field:"createdAt",isFromatDate:!0},{title:"Type",type:i.Y.FEILD,field:"fnaType"},{title:"Conducted By",type:i.Y.FEILD,field:"createdByName"},{title:"Actions",type:i.Y.ACTION,field:"actions",btn:{edit:!0,delete:!0}}],c=["id","createdAt","fnaType","createdByName","actions"],l=[{title:"Description",type:i.Y.FEILD,field:"description"},{title:"Document",type:i.Y.FEILD,field:"fileName"},{title:"Action",type:i.Y.ACTION,field:"action",btn:{download:!0,delete:!0}}],r=["description","fileName","action"],d=[{title:"Campaign Number",type:i.Y.FEILD,field:"cpmNumber"},{title:"Campaign Name",type:i.Y.FEILD,field:"cpmName"},{title:"Status",type:i.Y.FEILD,field:"cpmStatus"},{title:"Owner",type:i.Y.FEILD,field:"cpmOwnerName"}],a=["cpmNumber","cpmName","cpmStatus","cpmOwnerName"];let T=(()=>{class g{}return g.LEAD_ID="",g})()}}]);