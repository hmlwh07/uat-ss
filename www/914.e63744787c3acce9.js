"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[914,8757],{6517:(C,h,r)=>{r.d(h,{t7:()=>e});var d=r(5e3),m=r(19775),v=r(15439);const u=r.n(v)()||v,M=new d.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function A(){return{useUtc:!1}}});function Z(a,p){const t=Array(a);for(let n=0;n<a;n++)t[n]=p(n);return t}let e=(()=>{class a extends m._A{constructor(t,n){super(),this._options=n,this.setLocale(t||u.locale())}setLocale(t){super.setLocale(t);let n=u.localeData(t);this._localeData={firstDayOfWeek:n.firstDayOfWeek(),longMonths:n.months(),shortMonths:n.monthsShort(),dates:Z(31,f=>this.createDate(2017,0,f+1).format("D")),longDaysOfWeek:n.weekdays(),shortDaysOfWeek:n.weekdaysShort(),narrowDaysOfWeek:n.weekdaysMin()}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return"long"==t?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(t){return"long"==t?this._localeData.longDaysOfWeek:"short"==t?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return t.clone().locale(this.locale)}createDate(t,n,f){const g=this._createMoment({year:t,month:n,date:f}).locale(this.locale);return g.isValid(),g}today(){return this._createMoment().locale(this.locale)}parse(t,n){return t&&"string"==typeof t?this._createMoment(t,n,this.locale):t?this._createMoment(t).locale(this.locale):null}format(t,n){return t=this.clone(t),this.isValid(t),t.format(n)}addCalendarYears(t,n){return this.clone(t).add({years:n})}addCalendarMonths(t,n){return this.clone(t).add({months:n})}addCalendarDays(t,n){return this.clone(t).add({days:n})}toIso8601(t){return this.clone(t).format()}deserialize(t){let n;if(t instanceof Date)n=this._createMoment(t).locale(this.locale);else if(this.isDateInstance(t))return this.clone(t);if("string"==typeof t){if(!t)return null;n=this._createMoment(t,u.ISO_8601).locale(this.locale)}return n&&this.isValid(n)?this._createMoment(n).locale(this.locale):super.deserialize(t)}isDateInstance(t){return u.isMoment(t)}isValid(t){return this.clone(t).isValid()}invalid(){return u.invalid()}_createMoment(t,n,f){const{strict:g,useUtc:b}=this._options||{};return b?u.utc(t,n,f,g):u(t,n,f,g)}}return a.\u0275fac=function(t){return new(t||a)(d.LFG(m.Ad,8),d.LFG(M,8))},a.\u0275prov=d.Yz7({token:a,factory:a.\u0275fac}),a})()},88757:(C,h,r)=>{function d(u){try{JSON.parse(u)}catch(M){return!1}return!0}r.d(h,{Gs:()=>m,Ny:()=>s,cU:()=>d});const m={parse:{dateInput:"DD-MM-YYYY"},display:{dateInput:"DD-MM-YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},s={parse:{dateInput:"MM-YYYY"},display:{dateInput:"MM-YYYY",monthYearLabel:"MM-YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MM-YYYY"}}},10914:(C,h,r)=>{r.r(h),r.d(h,{RenewManagementDetailModule:()=>R});var d=r(69808),m=r(96592),v=r(70655),s=r(93075),u=r(15439),M=r(19775),A=r(6517),Z=r(88757),e=r(5e3),Y=r(25492),D=r(17606),T=r(84161),O=r(65981),a=r(65884),p=r(21223),t=r(8202),n=r(98807);const f=function(){return{prefix:"",thousands:",",allowNegative:!1,align:"left"}};function g(c,y){if(1&c){const o=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e.TgZ(3,"div",4),e.TgZ(4,"form",5),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().backLocation()}),e.TgZ(5,"div",1),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"label",8),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",9),e.qZA(),e.qZA(),e.TgZ(12,"div",6),e.TgZ(13,"div",7),e.TgZ(14,"label",8),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",10),e._UZ(18,"input",11),e._UZ(19,"mat-datepicker-toggle",12),e._UZ(20,"mat-datepicker",13,14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",6),e.TgZ(23,"div",7),e.TgZ(24,"label",8),e._uU(25),e.ALo(26,"translate"),e.qZA(),e._UZ(27,"input",15),e.qZA(),e.qZA(),e.TgZ(28,"div",6),e.TgZ(29,"div",7),e.TgZ(30,"label",8),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"div",10),e._UZ(34,"input",16),e._UZ(35,"mat-datepicker-toggle",12),e._UZ(36,"mat-datepicker",13,17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",6),e.TgZ(39,"div",7),e.TgZ(40,"label",8),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"div",10),e._UZ(44,"input",18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"div",6),e.TgZ(46,"div",7),e.TgZ(47,"label",8),e._uU(48),e.ALo(49,"translate"),e.qZA(),e._UZ(50,"input",19),e.qZA(),e.qZA(),e.TgZ(51,"div",6),e.TgZ(52,"div",7),e.TgZ(53,"label",8),e._uU(54),e.ALo(55,"translate"),e.qZA(),e._UZ(56,"input",20),e.qZA(),e.qZA(),e.TgZ(57,"div",6),e.TgZ(58,"div",7),e.TgZ(59,"label",8),e._uU(60),e.ALo(61,"translate"),e.qZA(),e._UZ(62,"input",21),e.qZA(),e.qZA(),e.TgZ(63,"div",6),e.TgZ(64,"div",7),e.TgZ(65,"label",8),e._uU(66),e.ALo(67,"translate"),e.qZA(),e._UZ(68,"input",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(69,"button",23),e.NdJ("click",function(){return e.CHM(o),e.oxw().backLocation()}),e._uU(70),e.ALo(71,"translate"),e.qZA(),e.TgZ(72,"button",24),e.NdJ("click",function(){return e.CHM(o),e.oxw().confirmRenew()}),e._uU(73),e.ALo(74,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&c){const o=e.MAs(21),i=e.MAs(37),l=e.oxw();e.xp6(4),e.Q6J("formGroup",l.actForm),e.xp6(5),e.Oqu(e.lcZ(10,46,"FORM.policy_no")),e.xp6(2),e.ekj("is-invalid",l.isControlInvalid("policyNumber"))("is-valid",l.isControlValid("policyNumber")),e.xp6(4),e.Oqu(e.lcZ(16,48,"FORM.policy_date")),e.xp6(3),e.Q6J("matDatepicker",o),e.xp6(1),e.Q6J("for",o),e.xp6(6),e.Oqu(e.lcZ(26,50,"FORM.policy_status")),e.xp6(2),e.ekj("is-invalid",l.isControlInvalid("status"))("is-valid",l.isControlValid("status")),e.xp6(4),e.Oqu(e.lcZ(32,52,"FORM.policy_edate")),e.xp6(3),e.Q6J("matDatepicker",i),e.xp6(1),e.Q6J("for",i),e.xp6(6),e.hij("",e.lcZ(42,54,"FORM.qoute_no")," "),e.xp6(3),e.ekj("is-invalid",l.isControlInvalid("quoteNumber"))("is-valid",l.isControlValid("quoteNumber")),e.xp6(4),e.Oqu(e.lcZ(49,56,"FORM.gross_premium")),e.xp6(2),e.ekj("is-invalid",l.isControlInvalid("grossPremium"))("is-valid",l.isControlValid("grossPremium")),e.Q6J("options",e.DdM(68,f)),e.xp6(4),e.Oqu(e.lcZ(55,58,"FORM.policy_holder_code")),e.xp6(2),e.ekj("is-invalid",l.isControlInvalid("policyHolderCode"))("is-valid",l.isControlValid("policyHolderCode")),e.xp6(4),e.Oqu(e.lcZ(61,60,"FORM.net_premium")),e.xp6(2),e.ekj("is-invalid",l.isControlInvalid("netPremium"))("is-valid",l.isControlValid("netPremium")),e.Q6J("options",e.DdM(69,f)),e.xp6(4),e.Oqu(e.lcZ(67,62,"FORM.policy_holder")),e.xp6(2),e.ekj("is-invalid",l.isControlInvalid("policyHolder"))("is-valid",l.isControlValid("policyHolder")),e.xp6(2),e.Oqu(e.lcZ(71,64,"FORM.btn_back")),e.xp6(3),e.Oqu(e.lcZ(74,66,"FORM.btn_confirm"))}}let b=(()=>{class c{constructor(o,i,l,E,F,P,w){this.route=o,this.location=i,this.cdf=l,this.alertService=E,this.menuService=F,this.ngZone=P,this.renewService=w,this.isLead=!1,this.dataAccess={view:!0,create:!0,edit:!0,delete:!0},this.unsub=[]}ngOnInit(){this.loadForm(),this.checkPremission(),this.unsub[0]=this.route.queryParams.subscribe(o=>{let i=JSON.parse(o.data);console.log(i),i||this.location.back(),this.loadForm(i)})}checkPremission(){this.menuService.dataAccess.subscribe(o=>{o&&(this.dataAccess=o.activity,this.dataAccess.view||this.location.back())})}ngAfterViewInit(){}clearDate(o){this.actForm.controls[o].setValue(null)}loadForm(o){console.log(o),this.actForm=new s.cw({policyNumber:new s.NI({value:o?o.policyNumber:null,disabled:!0}),policyInceptionDate:new s.NI({value:o?u(o.policyInceptionDate,"DD/MM/YYYY"):null,disabled:!0}),status:new s.NI({value:o?o.policyStatus:null,disabled:!0}),policyExpiryDate:new s.NI({value:o?u(o.policyExpiryDate,"DD/MM/YYYY"):null,disabled:!0}),quoteNumber:new s.NI({value:o?o.quoteNumber:null,disabled:!0}),grossPremium:new s.NI({value:o?o.grossPremium:null,disabled:!0}),policyHolderCode:new s.NI({value:o?o.policyHolderCode:null,disabled:!0}),netPremium:new s.NI({value:o?o.netPremium:null,disabled:!0}),policyHolder:new s.NI({value:o?o.policyHolder:null,disabled:!0})}),this.cdf.detectChanges()}isControlValid(o){const i=this.actForm.controls[o];return i.valid&&(i.dirty||i.touched)}isControlInvalid(o){const i=this.actForm.controls[o];return i.invalid&&(i.dirty||i.touched)}controlHasError(o,i){const l=this.actForm.controls[i];return l.hasError(o)&&(l.dirty||l.touched)}isControlTouched(o){const i=this.actForm.controls[o];return i.dirty||i.touched}backLocation(){this.ngZone.run(()=>{this.location.back()})}confirmRenew(){"confirm"!=this.actForm.value.status&&this.alertService.activate("Are you sure want to confirm?","Warning Message").then(o=>(0,v.mG)(this,void 0,void 0,function*(){o&&(this.actForm.value.status="confirm",this.renewService.confirmRenew(this.actForm.value.policyNumber).toPromise().then(i=>{i&&this.alertService.activate("This record was updated","Success Message")}))}))}}return c.\u0275fac=function(o){return new(o||c)(e.Y36(m.gz),e.Y36(d.Ye),e.Y36(e.sBO),e.Y36(Y.c),e.Y36(D.q),e.Y36(e.R0b),e.Y36(T.R))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-renew-management-detail"]],features:[e._Bn([{provide:M._A,useClass:A.t7,deps:[M.Ad]},{provide:M.sG,useValue:Z.Gs}])],decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"card","card-custom","gutter-b"],[1,"card-body"],["action","#",1,"form",3,"formGroup","ngSubmit"],[1,"col-sm-6"],[1,"form-group"],[1,"form-label"],["type","text","name","policyNumber","autocomplete","off","formControlName","policyNumber",1,"form-control","form-control-sm"],[1,"input-group"],["matInput","","formControlName","policyInceptionDate","readonly","",1,"form-control-sm","date-input",2,"width","100%",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["policyInceptionDate",""],["type","text","name","actTitle","autocomplete","off","formControlName","status",1,"form-control","form-control-sm"],["matInput","","formControlName","policyExpiryDate","readonly","",1,"form-control-sm","date-input",2,"width","100%",3,"matDatepicker"],["policyExpiryDate",""],["type","text","name","quoteNumber","autocomplete","off","formControlName","quoteNumber",1,"form-control","form-control-sm"],["type","tel","currencyMask","","name","grossPremium","autocomplete","off","formControlName","grossPremium",1,"form-control","form-control-sm","currency-input-tag",3,"options"],["type","text","name","policyHolderCode","autocomplete","off","formControlName","policyHolderCode",1,"form-control","form-control-sm"],["type","tel","currencyMask","","name","netPremium","autocomplete","off","formControlName","netPremium",1,"form-control","form-control-sm","currency-input-tag",3,"options"],["type","text","name","policyHolder","autocomplete","off","formControlName","policyHolder",1,"form-control","form-control-sm"],["type","button",1,"btn","btn-default","btn-elevate","mt-2",3,"click"],["type","button",1,"btn","btn-primary","btn-elevate","mt-2",3,"click"]],template:function(o,i){1&o&&e.YNc(0,g,75,70,"div",0),2&o&&e.Q6J("ngIf",i.actForm)},directives:[d.O5,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,O.Nt,a.hl,a.nW,p.R9,a.Mq,t.g1],pipes:[n.X],styles:[".input-group[_ngcontent-%COMP%]   .form-control-sm[_ngcontent-%COMP%]{background-color:#fff;background-clip:padding-box;border:1px solid #E4E6EF;padding:0px .75rem}.input-group[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;right:5px}.ng-clear-wrapper[_ngcontent-%COMP%]   .ng-clear[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:2rem;top:2.3rem;font-size:1.2rem;color:#999}.ng-clear-wrapper[_ngcontent-%COMP%]   .ng-clear[_ngcontent-%COMP%]:hover{color:#d0021b}"]}),c})();var _=r(63272),x=r(89776),I=r(64537),N=r(7181),L=r(50282);let R=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[[d.ez,s.u5,s.UX,x.U8,L.fA,_.M,a.FA,O.c,I.A0,_.bz,t.Ud,N.j,m.Bz.forChild([{path:"",component:b}])]]}),c})()}}]);