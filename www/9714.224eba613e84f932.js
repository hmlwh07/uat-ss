"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9714],{91691:(v,c,n)=>{n.d(c,{i:()=>u});var s=n(82997);class u{constructor(a,d){this.httpClient=a,this.baseUri=d}save(a){try{return this.httpClient.post(this.baseUri,a)}catch(d){return(0,s.of)(null)}}delete(a){try{return this.httpClient.delete(this.baseUri+"/"+a)}catch(d){return(0,s.of)(null)}}update(a,d){try{return this.httpClient.put(this.baseUri+"/"+a,d)}catch(h){return(0,s.of)(null)}}updateNoID(a){try{return this.httpClient.put(this.baseUri,a)}catch(d){return(0,s.of)(null)}}findOne(a){try{return this.httpClient.get(this.baseUri+"/"+a)}catch(d){return(0,s.of)(null)}}findAll(){try{return this.httpClient.get(this.baseUri)}catch(a){return(0,s.of)(null)}}findAllWithQuery(a=""){try{return this.httpClient.get(this.baseUri+"?"+a)}catch(d){return(0,s.of)(null)}}}},64819:(v,c,n)=>{n.r(c),n.d(c,{FnaListModule:()=>T});var s=n(86019),u=n(29018),p=n(49133),a=n(87626),d=n(45598),h=n(64762),y=n(90949),C=n(26106),g=n(63871),t=n(83668),b=n(28210),L=n(95849),A=n(67198),O=n(85378);let F=(()=>{class o{constructor(i,e,r,l,m,M){this.cdf=i,this.router=e,this.fnaService=r,this.fnaListService=l,this.authService=m,this.modalService=M,this.ELEMENT_COL=g.q,this.displayedColumns=g.I,this.fnaList=[],this.user={},this.isActive=!1}ngOnInit(){this.user=this.authService.currentUserValue,this.getAllFNA()}actionBtn(i){return(0,h.mG)(this,void 0,void 0,function*(){this.fnaService.fnaUpdateProducts=[],"edit"==i.cmd?(this.indexObj=i.data,this.createOrEdit("edit",i.data.id)):(this.indexObj=null,yield this.delete(i.data.id))})}displayFNAType(){const i=this.modalService.open(C.P,{size:"xl",backdrop:!1});i.componentInstance.type="modal",i.result.then(()=>{},e=>{e&&("BRAM"==e.fnaType&&this.router.navigate(["/fna/fna-bram"],{queryParams:{passValue:JSON.stringify({res:e})}}),"LPP"==e.fnaType&&this.router.navigate(["/fna/fna-detail"],{queryParams:{passValue:JSON.stringify(e)}}))})}createOrEdit(i,e){return(0,h.mG)(this,void 0,void 0,function*(){let r;this.indexObj&&(r={conductedBy:this.indexObj.conductedBy,createdAt:this.indexObj.createdAt,createdBy:this.indexObj.createdBy,customerId:this.indexObj.customerId,updatedAt:this.indexObj.updatedAt,fnaId:e,type:"type",pageStatus:i}),this.router.navigate("BRAM"==this.indexObj.fnaType?["/fna/fna-bram"]:["/fna/fna-detail"],{queryParams:{passValue:JSON.stringify(r)}})})}getAllFNA(){return(0,h.mG)(this,void 0,void 0,function*(){yield this.fnaListService.findAll().toPromise().then(i=>{if(this.fnaList=[],i){this.fnaList=i;for(var e=0;e<this.fnaList.length;e++)this.fnaList[e].createdAt=this.convertDateFormatMMDDYYY(this.fnaList[e].createdAt),this.fnaList[e].conductedBy=this.user.username;this.cdf.detectChanges(),this.matTable.reChangeData()}})})}delete(i){return(0,h.mG)(this,void 0,void 0,function*(){yield this.fnaListService.delete(i).toPromise().then(e=>(0,h.mG)(this,void 0,void 0,function*(){this.fnaList=this.fnaList.filter(r=>r.id!==i),this.cdf.detectChanges(),this.matTable.reChangeData()}))})}convertDateFormatMMDDYYY(i){var e=new Date(i),r=String(e.getDate()).padStart(2,"0");return String(e.getMonth()+1).padStart(2,"0")+"/"+r+"/"+e.getFullYear()}convertDateFormatDDMMYYY(i){var e=new Date(i);return String(e.getDate()).padStart(2,"0")+"/"+String(e.getMonth()+1).padStart(2,"0")+"/"+e.getFullYear()}toggle(){this.isActive=!this.isActive}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(t.sBO),t.Y36(u.F0),t.Y36(b.T),t.Y36(L.i),t.Y36(A.e8),t.Y36(O.FF))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-fna-list"]],viewQuery:function(i,e){if(1&i&&t.Gf(y.I,5),2&i){let r;t.iGM(r=t.CRH())&&(e.matTable=r.first)}},decls:12,vars:3,consts:[[1,"row"],[1,"col-12"],[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label","left-border-image"],[1,"card-toolbar",2,"position","relative"],["type","button",1,"btn","btn-primary","btn-circle",3,"click"],[1,"flaticon2-plus"],[1,"card-body","customer-card-body"],[3,"data","colum","displayedColumns","emitter"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"h3",5),t._uU(6,"FNA List"),t.qZA(),t.qZA(),t.TgZ(7,"div",6),t.TgZ(8,"button",7),t.NdJ("click",function(){return e.displayFNAType()}),t._UZ(9,"span",8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",9),t.TgZ(11,"app-material-table-view",10),t.NdJ("emitter",function(l){return e.actionBtn(l)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.xp6(11),t.Q6J("data",e.fnaList)("colum",e.ELEMENT_COL)("displayedColumns",e.displayedColumns))},directives:[y.I],styles:[".popover[_ngcontent-%COMP%]{background-color:#fff;pointer-events:none;opacity:0;position:absolute;transition:all .5s ease 0s;margin:55px 0 0 -40px;width:100px;border-radius:0;padding:6px}.popover[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{line-height:24px;cursor:pointer}.popover[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}"]}),o})(),T=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[A.e8],imports:[[s.ez,p.u5,p.UX,a.vi,d.fA,u.Bz.forChild([{path:"",component:F}])]]}),o})()},63871:(v,c,n)=>{n.d(c,{q:()=>u,I:()=>p});var s=n(18510);const u=[{title:"Date",type:s.Y.FEILD,field:"createdAt"},{title:"FNA Type",type:s.Y.FEILD,field:"fnaType"},{title:"Conducted By",type:s.Y.FEILD,field:"conductedBy"},{title:"Actions",type:s.Y.ACTION,field:"actions",btn:{edit:!0,delete:!0}}],p=["createdAt","fnaType","conductedBy","actions"]}}]);