"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5195],{25195:(F,m,i)=>{i.r(m),i.d(m,{RenewManagementListModule:()=>N});var f=i(86019),d=i(4205),r=i(49133),u=i(90949),a=i(18510);const g=[{title:"Policy Number",type:a.Y.FEILD,field:"policyNumber"},{title:"Renew Policy Number",type:a.Y.FEILD,field:"renewalPolicyNumber"},{title:"Product Code",type:a.Y.FEILD,field:"productCode"},{title:"Agent Name",type:a.Y.FEILD,field:"agentName"},{title:"Premium",type:a.Y.FEILD,field:"premium",amtFormat:!0},{title:"Currency",type:a.Y.FEILD,field:"currency"},{title:"Status",type:a.Y.FEILD,field:"status",isRenewStatus:!0},{title:"Confirm",type:a.Y.TEXT,field:"Confirm"},{title:"Actions",type:a.Y.ACTION,field:"actions",btn:{edit:!0,view:!0,download:!0}}],p=["policyNumber","renewalPolicyNumber","productCode","agentName","premium","currency","status","Confirm","actions"];var e=i(83668),h=i(52902),y=i(60940);let v=(()=>{class o{constructor(t,n,s,c,T){this.fb=t,this.router=n,this.cdf=s,this.renewService=c,this.alertService=T,this.ELEMENT_COL=g,this.displayedColumns=p,this.renewList=[],this.activityStatus=a.f,this.loadForm()}ngOnInit(){}ngAfterViewInit(){this.getList()}cancel(){}loadForm(){this.actForm=new r.cw({type:new r.NI(""),title:new r.NI(null),status:new r.NI(""),startDate:new r.NI(null),endDate:new r.NI(null)})}getList(){this.renewService.getRenewList(this.actForm.value).toPromise().then(t=>{t&&(this.renewList=t,this.cdf.detectChanges(),this.matTable.reChangeData())})}actionBtn(t){"edit"==t.cmd||"view"==t.cmd?this.navigateToDetail(t.data):"create"==t.cmd&&this.confirmRenew(t.data)}isControlValid(t){const n=this.actForm.controls[t];return n.valid&&(n.dirty||n.touched)}isControlInvalid(t){const n=this.actForm.controls[t];return n.invalid&&(n.dirty||n.touched)}controlHasError(t,n){const s=this.actForm.controls[n];return s.hasError(t)&&(s.dirty||s.touched)}isControlTouched(t){const n=this.actForm.controls[t];return n.dirty||n.touched}navigateToDetail(t){this.router.navigate(["sale/renew-policy/detail"],{queryParams:{data:JSON.stringify(t)}})}confirmRenew(t){"confirm"!=t.status&&this.renewService.confirmRenew(t.policyNumber).toPromise().then(n=>{n&&(console.log(n),this.alertService.activate("This record was updated","Success Message"),this.navigateToDetail(n))})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(d.F0),e.Y36(e.sBO),e.Y36(h.R),e.Y36(y.c))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-renew-management-list"]],viewQuery:function(t,n){if(1&t&&e.Gf(u.I,5),2&t){let s;e.iGM(s=e.CRH())&&(n.matTable=s.first)}},decls:5,vars:3,consts:[[1,"row"],[1,"col-12"],[1,"card","card-custom","gutter-b"],[1,"card-body","customer-card-body"],[3,"data","colum","displayedColumns","emitter"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"app-material-table-view",4),e.NdJ("emitter",function(c){return n.actionBtn(c)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("data",n.renewList)("colum",n.ELEMENT_COL)("displayedColumns",n.displayedColumns))},directives:[u.I],styles:[".col-form-label[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.form-group.row[_ngcontent-%COMP%]{align-items:center}"]}),o})();var w=i(87626),C=i(45598),L=i(57842),M=i(63699);let N=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[f.ez,r.u5,r.UX,w.vi,C.fA,L.A0,M.j,d.Bz.forChild([{path:"",component:v}])]]}),o})()}}]);