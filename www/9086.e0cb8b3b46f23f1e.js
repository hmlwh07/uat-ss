"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9086],{53489:(b,T,n)=>{n.d(T,{w:()=>i});var s=n(49133);function i(e){Object.keys(e.controls).forEach(C=>{const N=e.get(C);N instanceof s.NI?N.markAsTouched({onlySelf:!0}):N instanceof s.cw&&this.validateAllFields(N)})}},63703:(b,T,n)=>{n.d(T,{n:()=>i,t:()=>e});var s=n(18510);const i=[{title:"Activity No.",type:s.Y.FEILD,field:"activityNo"},{title:"Activity Type",type:s.Y.FEILD,field:"activityType"},{title:"Activity Title",type:s.Y.FEILD,field:"activityTitle"},{title:"Related To",type:s.Y.FEILD,field:"relatedTo"},{title:"Assigned To",type:s.Y.FEILD,field:"assignName"},{title:"Due Date",type:s.Y.FEILD,field:"dueDate",isFromatDate:!0},{title:"Status",type:s.Y.FEILD,field:"status",isActivityStatus:!0},{title:"Customer",type:s.Y.FEILD,field:"customerName"},{title:"Actions",type:s.Y.ACTION,field:"actions",btn:{edit:!0}}],e=["activityNo","activityType","activityTitle","relatedTo","assignName","dueDate","status","customerName","actions"]},68424:(b,T,n)=>{n.d(T,{h:()=>gt});var s=n(64762),i=n(49133),e=n(92118),C=n(44290),N=n(92070),h=n(54753),y=n(53489),f=n(47975),I=n(63703),Z=n(63871),x=n(91471),v=n(22030),A=n(73155),p=n(76175),c=n(9939),d=n(17318),t=n(83668),_=n(86019),m=n(26697),g=n(29018),P=n(27738),O=n(85378),U=n(35618),L=n(23347),S=n(60940),F=n(57842),Y=n(57730),q=n(78480),J=n(86031),K=n(55167),w=n(90949);const B=["fna"],Q=["activity"],k=["application"],R=["attachment"],H=["quotation"];function W(l,u){if(1&l){const a=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){return t.CHM(a),t.oxw(3).toggleAccordion("Detail")}),t._UZ(1,"span",58),t.qZA()}}function V(l,u){if(1&l){const a=t.EpF();t.TgZ(0,"button",59),t.NdJ("click",function(){return t.CHM(a),t.oxw(3).toggleAccordion("Detail")}),t._UZ(1,"span",60),t.qZA()}}function j(l,u){if(1&l&&(t.TgZ(0,"div",54),t.YNc(1,W,2,0,"button",55),t.YNc(2,V,2,0,"button",56),t.qZA()),2&l){const a=t.oxw(2);t.xp6(1),t.Q6J("ngIf",a.isDetail),t.xp6(1),t.Q6J("ngIf",!a.isDetail)}}function G(l,u){if(1&l){const a=t.EpF();t.TgZ(0,"input",61),t.NdJ("click",function(){return t.CHM(a),t.oxw(2).openModal()}),t.qZA()}if(2&l){const a=t.oxw(2);t.ekj("is-invalid",a.isControlInvalid("identityNumber"))("is-valid",a.isControlValid("identityNumber"))}}function z(l,u){if(1&l&&t._UZ(0,"input",62),2&l){const a=t.oxw(2);t.ekj("is-invalid",a.isControlInvalid("identityNumber"))("is-valid",a.isControlValid("identityNumber"))}}function $(l,u){if(1&l){const a=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"div",3),t.TgZ(2,"div",4),t.TgZ(3,"div",5),t.TgZ(4,"div",6),t.TgZ(5,"h3",7),t._uU(6),t.qZA(),t.qZA(),t.YNc(7,j,3,2,"div",8),t.qZA(),t.TgZ(8,"div",9),t.TgZ(9,"form",10),t.NdJ("ngSubmit",function(){return t.CHM(a),t.oxw().doCustomer()}),t.TgZ(10,"div",11),t.TgZ(11,"div",12),t.TgZ(12,"div",13),t.TgZ(13,"label",14),t._uU(14,"Title"),t.qZA(),t.TgZ(15,"div",15),t._UZ(16,"ng-select",16),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",12),t.TgZ(18,"div",13),t.TgZ(19,"label",14),t._uU(20,"Father Name"),t.qZA(),t.TgZ(21,"div",15),t._UZ(22,"input",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",11),t.TgZ(24,"div",12),t.TgZ(25,"div",13),t.TgZ(26,"label",14),t._uU(27,"First Name"),t.qZA(),t.TgZ(28,"div",15),t._UZ(29,"input",18),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",12),t.TgZ(31,"div",13),t.TgZ(32,"label",14),t._uU(33,"Mobile"),t.qZA(),t.TgZ(34,"div",15),t._UZ(35,"input",19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",11),t.TgZ(37,"div",12),t.TgZ(38,"div",13),t.TgZ(39,"label",14),t._uU(40,"Middle Name"),t.qZA(),t.TgZ(41,"div",15),t._UZ(42,"input",20),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"div",12),t.TgZ(44,"div",13),t.TgZ(45,"label",14),t._uU(46,"Email"),t.qZA(),t.TgZ(47,"div",15),t._UZ(48,"input",21),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"div",11),t.TgZ(50,"div",12),t.TgZ(51,"div",13),t.TgZ(52,"label",14),t._uU(53,"Last Name"),t.qZA(),t.TgZ(54,"div",15),t._UZ(55,"input",22),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",12),t.TgZ(57,"div",13),t.TgZ(58,"label",14),t._uU(59,"Date of Birth"),t.qZA(),t.TgZ(60,"div",15),t.TgZ(61,"div",23),t._UZ(62,"input",24),t._UZ(63,"mat-datepicker-toggle",25),t._UZ(64,"mat-datepicker",26,27),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(66,"div",11),t.TgZ(67,"div",12),t.TgZ(68,"div",13),t.TgZ(69,"label",14),t._uU(70,"Nationality"),t.qZA(),t.TgZ(71,"div",15),t._UZ(72,"ng-select",28),t.qZA(),t.qZA(),t.qZA(),t.TgZ(73,"div",12),t.TgZ(74,"div",13),t.TgZ(75,"label",14),t._uU(76,"Occupation"),t.qZA(),t.TgZ(77,"div",15),t._UZ(78,"ng-select",29),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(79,"div",2),t.TgZ(80,"div",30),t.TgZ(81,"div",13),t.TgZ(82,"label",31),t._uU(83,"ID Type"),t.qZA(),t.TgZ(84,"div",32),t.TgZ(85,"div",33),t.TgZ(86,"mat-radio-group",34),t.NdJ("click",function(){return t.CHM(a),t.oxw().isIdentitiyType()}),t.TgZ(87,"mat-radio-button",35),t._uU(88,"NRC"),t.qZA(),t.TgZ(89,"mat-radio-button",36),t._uU(90,"FRC"),t.qZA(),t.TgZ(91,"mat-radio-button",37),t._uU(92,"Passport "),t.qZA(),t.TgZ(93,"mat-radio-button",38),t._uU(94,"Others "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(95,"div",2),t.TgZ(96,"div",12),t.TgZ(97,"div",13),t.TgZ(98,"label",14),t._uU(99,"ID No."),t.qZA(),t.TgZ(100,"div",15),t.YNc(101,G,1,4,"input",39),t.YNc(102,z,1,4,"input",40),t.qZA(),t.qZA(),t.TgZ(103,"div",13),t.TgZ(104,"label",14),t._uU(105,"Gender"),t.qZA(),t.TgZ(106,"div",15),t._UZ(107,"ng-select",41),t.qZA(),t.qZA(),t.TgZ(108,"div",13),t.TgZ(109,"label",14),t._uU(110,"Status"),t.qZA(),t.TgZ(111,"div",15),t._UZ(112,"ng-select",42),t.qZA(),t.qZA(),t.TgZ(113,"div",13),t.TgZ(114,"label",14),t._uU(115,"State"),t.qZA(),t.TgZ(116,"div",15),t.TgZ(117,"ng-select",43),t.NdJ("change",function(){return t.CHM(a),t.oxw().onChangeState()}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(118,"div",13),t.TgZ(119,"label",14),t._uU(120,"District"),t.qZA(),t.TgZ(121,"div",15),t.TgZ(122,"ng-select",44),t.NdJ("change",function(){return t.CHM(a),t.oxw().onChangeDistrict()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(123,"div",12),t.TgZ(124,"div",13),t.TgZ(125,"label",14),t._uU(126,"Party Code"),t.qZA(),t.TgZ(127,"div",15),t._UZ(128,"input",45),t.qZA(),t.qZA(),t.TgZ(129,"div",13),t.TgZ(130,"label",14),t._uU(131,"House"),t.qZA(),t.TgZ(132,"div",15),t._UZ(133,"input",46),t.qZA(),t.qZA(),t.TgZ(134,"div",13),t.TgZ(135,"label",14),t._uU(136,"Road"),t.qZA(),t.TgZ(137,"div",15),t._UZ(138,"input",47),t.qZA(),t.qZA(),t.TgZ(139,"div",13),t.TgZ(140,"label",14),t._uU(141,"Block Area"),t.qZA(),t.TgZ(142,"div",15),t._UZ(143,"input",48),t.qZA(),t.qZA(),t.TgZ(144,"div",13),t.TgZ(145,"label",14),t._uU(146,"Township "),t.qZA(),t.TgZ(147,"div",15),t._UZ(148,"ng-select",49),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(149,"div",11),t.TgZ(150,"div",12),t.TgZ(151,"div",13),t.TgZ(152,"label",14),t._uU(153,"Company Name"),t.qZA(),t.TgZ(154,"div",15),t._UZ(155,"input",50),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(156,"div",51),t.TgZ(157,"button",52),t._uU(158,"Save"),t.qZA(),t.TgZ(159,"button",53),t.NdJ("click",function(){return t.CHM(a),t.oxw().backLocation()}),t._uU(160,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&l){const a=t.MAs(65),o=t.oxw();t.xp6(2),t.ekj("gutter-b",!o.isPopup),t.xp6(4),t.Oqu("create"==o.pageStatus?"Create Customer":"Customer Detail"),t.xp6(1),t.Q6J("ngIf",!o.isPopup),t.xp6(1),t.Q6J("ngClass",o.isDetail?"active":"inactive"),t.xp6(1),t.Q6J("formGroup",o.customerForm),t.xp6(7),t.ekj("is-invalid",o.isControlInvalid("titleCode"))("is-valid",o.isControlValid("titleCode")),t.Q6J("items",o.titleOption),t.xp6(6),t.ekj("is-invalid",o.isControlInvalid("fatherName"))("is-valid",o.isControlValid("fatherName")),t.xp6(7),t.ekj("is-invalid",o.isControlInvalid("firstName"))("is-valid",o.isControlValid("firstName")),t.xp6(6),t.ekj("is-invalid",o.isControlInvalid("phone"))("is-valid",o.isControlValid("phone")),t.xp6(7),t.ekj("is-invalid",o.isControlInvalid("middleName"))("is-valid",o.isControlValid("middleName")),t.xp6(6),t.ekj("is-invalid",o.isControlInvalid("email"))("is-valid",o.isControlValid("email")),t.xp6(7),t.ekj("is-invalid",o.isControlInvalid("lastName"))("is-valid",o.isControlValid("lastName")),t.xp6(7),t.ekj("is-invalid",o.isControlInvalid("dateOfBirth"))("is-valid",o.isControlValid("dateOfBirth")),t.Q6J("matDatepicker",a),t.xp6(1),t.Q6J("for",a),t.xp6(9),t.ekj("is-invalid",o.isControlInvalid("nationalityCode"))("is-valid",o.isControlValid("nationalityCode")),t.Q6J("items",o.nationalityOption),t.xp6(6),t.ekj("is-invalid",o.isControlInvalid("occupationCode"))("is-valid",o.isControlValid("occupationCode")),t.Q6J("items",o.occupationOption),t.xp6(23),t.Q6J("ngIf","NRC"==o.customerForm.get("identityType").value),t.xp6(1),t.Q6J("ngIf","NRC"!=o.customerForm.get("identityType").value),t.xp6(5),t.ekj("is-invalid",o.isControlInvalid("genderCode"))("is-valid",o.isControlValid("genderCode")),t.Q6J("items",o.genderOption),t.xp6(5),t.ekj("is-invalid",o.isControlInvalid("statusCode"))("is-valid",o.isControlValid("statusCode")),t.Q6J("items",o.statusOption),t.xp6(5),t.ekj("is-invalid",o.isControlInvalid("stateCode"))("is-valid",o.isControlValid("stateCode")),t.Q6J("items",o.stateOption),t.xp6(5),t.ekj("is-invalid",o.isControlInvalid("districtCode"))("is-valid",o.isControlValid("districtCode")),t.Q6J("items",o.districtOption),t.xp6(6),t.ekj("is-invalid",o.isControlInvalid("partyCode"))("is-valid",o.isControlValid("partyCode")),t.xp6(5),t.ekj("is-invalid",o.isControlInvalid("houseNumber"))("is-valid",o.isControlValid("houseNumber")),t.xp6(5),t.ekj("is-invalid",o.isControlInvalid("road"))("is-valid",o.isControlValid("road")),t.xp6(5),t.ekj("is-invalid",o.isControlInvalid("blockArea"))("is-valid",o.isControlValid("blockArea")),t.xp6(5),t.ekj("is-invalid",o.isControlInvalid("townshipCode"))("is-valid",o.isControlValid("townshipCode")),t.Q6J("items",o.townshipOption),t.xp6(7),t.ekj("is-invalid",o.isControlInvalid("companyName"))("is-valid",o.isControlValid("companyName"))}}function X(l,u){if(1&l){const a=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){return t.CHM(a),t.oxw(3).toggleAccordion("FNA")}),t._UZ(1,"span",58),t.qZA()}}function tt(l,u){if(1&l){const a=t.EpF();t.TgZ(0,"button",59),t.NdJ("click",function(){return t.CHM(a),t.oxw(3).toggleAccordion("FNA")}),t._UZ(1,"span",60),t.qZA()}}function at(l,u){if(1&l&&(t.TgZ(0,"div",5),t.TgZ(1,"div",6),t.TgZ(2,"h3",7),t._uU(3,"FNA"),t.qZA(),t.qZA(),t.TgZ(4,"div",54),t.YNc(5,X,2,0,"button",55),t.YNc(6,tt,2,0,"button",56),t.qZA(),t.qZA()),2&l){const a=t.oxw(2);t.xp6(5),t.Q6J("ngIf",a.isFNA),t.xp6(1),t.Q6J("ngIf",!a.isFNA)}}function et(l,u){if(1&l){const a=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){return t.CHM(a),t.oxw(3).toggleAccordion("Activity")}),t._UZ(1,"span",74),t.qZA()}}function it(l,u){if(1&l){const a=t.EpF();t.TgZ(0,"button",59),t.NdJ("click",function(){return t.CHM(a),t.oxw(3).toggleAccordion("Activity")}),t._UZ(1,"span",75),t.qZA()}}function ot(l,u){if(1&l&&(t.TgZ(0,"div",5),t.TgZ(1,"div",6),t.TgZ(2,"h3",7),t._uU(3,"Activity"),t.qZA(),t.qZA(),t.TgZ(4,"div",54),t.YNc(5,et,2,0,"button",55),t.YNc(6,it,2,0,"button",56),t.qZA(),t.qZA()),2&l){const a=t.oxw(2);t.xp6(5),t.Q6J("ngIf",a.isActivity),t.xp6(1),t.Q6J("ngIf",!a.isActivity)}}function nt(l,u){if(1&l){const a=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){return t.CHM(a),t.oxw(3).toggleAccordion("Quotation")}),t._UZ(1,"span",74),t.qZA()}}function st(l,u){if(1&l){const a=t.EpF();t.TgZ(0,"button",59),t.NdJ("click",function(){return t.CHM(a),t.oxw(3).toggleAccordion("Quotation")}),t._UZ(1,"span",75),t.qZA()}}function lt(l,u){if(1&l&&(t.TgZ(0,"div",5),t.TgZ(1,"div",6),t.TgZ(2,"h3",7),t._uU(3,"Quotation"),t.qZA(),t.qZA(),t.TgZ(4,"div",54),t.YNc(5,nt,2,0,"button",55),t.YNc(6,st,2,0,"button",56),t.qZA(),t.qZA()),2&l){const a=t.oxw(2);t.xp6(5),t.Q6J("ngIf",a.isQuotation),t.xp6(1),t.Q6J("ngIf",!a.isQuotation)}}function rt(l,u){if(1&l){const a=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){return t.CHM(a),t.oxw(3).toggleAccordion("Application")}),t._UZ(1,"span",74),t.qZA()}}function ct(l,u){if(1&l){const a=t.EpF();t.TgZ(0,"button",59),t.NdJ("click",function(){return t.CHM(a),t.oxw(3).toggleAccordion("Application")}),t._UZ(1,"span",75),t.qZA()}}function dt(l,u){if(1&l&&(t.TgZ(0,"div",5),t.TgZ(1,"div",6),t.TgZ(2,"h3",7),t._uU(3,"Application"),t.qZA(),t.qZA(),t.TgZ(4,"div",54),t.YNc(5,rt,2,0,"button",55),t.YNc(6,ct,2,0,"button",56),t.qZA(),t.qZA()),2&l){const a=t.oxw(2);t.xp6(5),t.Q6J("ngIf",a.isApplication),t.xp6(1),t.Q6J("ngIf",!a.isApplication)}}function _t(l,u){if(1&l){const a=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){return t.CHM(a),t.oxw(3).toggleAccordion("Attachment")}),t._UZ(1,"span",74),t.qZA()}}function mt(l,u){if(1&l){const a=t.EpF();t.TgZ(0,"button",59),t.NdJ("click",function(){return t.CHM(a),t.oxw(3).toggleAccordion("Attachment")}),t._UZ(1,"span",75),t.qZA()}}function pt(l,u){if(1&l&&(t.TgZ(0,"div",5),t.TgZ(1,"div",6),t.TgZ(2,"h3",7),t._uU(3,"Attachment"),t.qZA(),t.qZA(),t.TgZ(4,"div",54),t.YNc(5,_t,2,0,"button",55),t.YNc(6,mt,2,0,"button",56),t.qZA(),t.qZA()),2&l){const a=t.oxw(2);t.xp6(5),t.Q6J("ngIf",a.isAttachment),t.xp6(1),t.Q6J("ngIf",!a.isAttachment)}}function ut(l,u){if(1&l){const a=t.EpF();t.ynx(0),t.TgZ(1,"div",63),t.YNc(2,at,7,2,"div",64),t.TgZ(3,"div",9),t.TgZ(4,"section"),t._UZ(5,"app-material-table-view",65,66),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",63),t.YNc(8,ot,7,2,"div",64),t.TgZ(9,"div",9),t.TgZ(10,"section"),t._UZ(11,"app-material-table-view",65,67),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",63),t.YNc(14,lt,7,2,"div",64),t.TgZ(15,"div",9),t.TgZ(16,"section"),t._UZ(17,"app-material-table-view",65,68),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",63),t.YNc(20,dt,7,2,"div",64),t.TgZ(21,"div",69),t.TgZ(22,"section",70),t._UZ(23,"app-material-table-view",65,71),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"div",63),t.YNc(26,pt,7,2,"div",64),t.TgZ(27,"div",69),t.TgZ(28,"section",70),t.TgZ(29,"app-material-table-view",72,73),t.NdJ("emitter",function(r){return t.CHM(a),t.oxw().actionBtn(r)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&l){const a=t.oxw();t.xp6(2),t.Q6J("ngIf",!a.isPopup),t.xp6(1),t.Q6J("ngClass",a.isFNA?"active":"inactive"),t.xp6(2),t.Q6J("data",a.fnaList)("colum",a.FNAELEMENT_COL)("displayedColumns",a.FNAdisplayedColumns)("selectable",a.isPopup),t.xp6(3),t.Q6J("ngIf",!a.isPopup),t.xp6(1),t.Q6J("ngClass",a.isActivity?"active":"inactive"),t.xp6(2),t.Q6J("data",a.activityList)("colum",a.ACTIVITY_ELEMENT_COL)("displayedColumns",a.ACTIVITYdisplayedColumns)("selectable",a.isPopup),t.xp6(3),t.Q6J("ngIf",!a.isPopup),t.xp6(1),t.Q6J("ngClass",a.isQuotation?"active":"inactive"),t.xp6(2),t.Q6J("data",a.quatationList)("colum",a.QUOTATION_ELEMENT_COL)("displayedColumns",a.QuotationdisplayedColumns)("selectable",a.isPopup),t.xp6(3),t.Q6J("ngIf",!a.isPopup),t.xp6(2),t.Q6J("ngClass",a.isApplication?"active":"inactive"),t.xp6(1),t.Q6J("data",a.applicationList)("colum",a.APPLICATION_ELEMENT_COL)("displayedColumns",a.ApplicationdisplayedColumns)("selectable",a.isPopup),t.xp6(3),t.Q6J("ngIf",!a.isPopup),t.xp6(2),t.Q6J("ngClass",a.isAttachment?"active":"inactive"),t.xp6(1),t.Q6J("data",a.attachmentList)("colum",a.ATTACHMENT_ELEMENT_COL)("displayedColumns",a.AttachmentdisplayedColumns)("selectable",a.isPopup)}}let gt=(()=>{class l{constructor(a,o,r,E,D,ht,vt,Tt,Nt,ft,Ct,At,Zt){this.fb=a,this.location=o,this.masterDataService=r,this.route=E,this.customerService=D,this.modalService=ht,this.cdf=vt,this.prodctService=Tt,this.router=Nt,this.AttachmentUploadService=ft,this.CustomerAttachmentService=Ct,this.AttachmentDownloadService=At,this.alertService=Zt,this.FNAELEMENT_COL=JSON.parse(JSON.stringify(Z.q)),this.FNAdisplayedColumns=JSON.parse(JSON.stringify(A.MN)),this.ACTIVITY_ELEMENT_COL=JSON.parse(JSON.stringify(I.n)),this.ACTIVITYdisplayedColumns=JSON.parse(JSON.stringify(I.t)),this.QUOTATION_ELEMENT_COL=JSON.parse(JSON.stringify(d.J)),this.QuotationdisplayedColumns=JSON.parse(JSON.stringify(d.L)),this.APPLICATION_ELEMENT_COL=JSON.parse(JSON.stringify(p.j)),this.ApplicationdisplayedColumns=JSON.parse(JSON.stringify(p.k)),this.ATTACHMENT_ELEMENT_COL=JSON.parse(JSON.stringify(A.uK)),this.AttachmentdisplayedColumns=JSON.parse(JSON.stringify(A.A6)),this.fnaList=[],this.activityList=[],this.quatationList=[],this.applicationList=[],this.attachmentList=[],this.config={name:"identityNumber"},this.toMinDate=null,this.fromMinDate=null,this.toMaxDate=null,this.fromMaxDate=null,this.isPopup=!1,this.isLead=!1,this.nationalityOption=[],this.occupationOption=[],this.statusOption=[],this.stateOption=[],this.districtOption=[],this.townshipOption=[],this.genderOption=[],this.titleOption=[],this.tabs=[{name:"FNA",active:!1},{name:"Activity",active:!1},{name:"Quotation",active:!1},{name:"Application",active:!1},{name:"Attachment",active:!1}],this.isFNA=!1,this.isApplication=!1,this.isAttachment=!1,this.isQuotation=!1,this.isActivity=!1,this.isMenuOpen=!1,this.isMore=!1,this.isDetail=!0,this.description="",this.ACTIVITYdisplayedColumns.splice(8,1),this.QuotationdisplayedColumns.splice(7,2),this.ApplicationdisplayedColumns.splice(7,1)}ngOnInit(){this.getTitle(),this.getGender(),this.getOccupation(),this.getNationality(),this.getStatus(),this.getState(),this.loadForm(),this.route.queryParams.subscribe(a=>{this.pageStatus=a.pageStatus,"create"==this.pageStatus||this.isPopup?(this.loadForm(this.oldData),this.isLead&&this.customerForm.controls.statusCode.setValue("A")):(this.oldId=a.pageId,this.oldSecondaryId=a.pageSecondaryId,this.getOld())})}ngAfterViewInit(){}getNationality(){this.masterDataService.getDataByType("NATIONALITY").pipe((0,h.U)(a=>this.getFormatOpt(a))).toPromise().then(a=>{a&&(this.nationalityOption=a,this.cdf.detectChanges())})}getTitle(){this.masterDataService.getDataByType("TITLE").pipe((0,h.U)(a=>this.getFormatOpt(a))).toPromise().then(a=>{a&&(this.titleOption=a,this.cdf.detectChanges())})}getGender(){this.masterDataService.getDataByType("TB_GENDER").pipe((0,h.U)(a=>this.getFormatOpt(a))).toPromise().then(a=>{a&&(this.genderOption=a,this.cdf.detectChanges())})}getOccupation(){this.masterDataService.getDataByType("OCCUPATION").pipe((0,h.U)(a=>this.getFormatOpt(a))).toPromise().then(a=>{a&&(this.occupationOption=a,this.cdf.detectChanges())})}getStatus(){this.masterDataService.getDataByType("CUST_STATUS").pipe((0,h.U)(a=>this.getFormatOpt(a))).toPromise().then(a=>{a&&(this.statusOption=a,console.log("  this.statusOption ",this.statusOption),this.cdf.detectChanges())})}getFormatOpt(a){return a.map(o=>({code:o.codeId,value:o.codeName||o.codeValue}))}getState(){this.masterDataService.getDataByType("STATE",!0).pipe((0,h.U)(a=>this.getFormatOpt(a))).toPromise().then(a=>{a&&(this.stateOption=a,this.cdf.detectChanges())})}getDistrict(a){this.masterDataService.getAddressDataByType("DISTRICT",a).pipe((0,h.U)(o=>this.getFormatOpt(o))).toPromise().then(o=>{o&&(this.districtOption=o,this.cdf.detectChanges())})}getTownship(a){this.masterDataService.getAddressDataByType("TOWNSHIP",a).pipe((0,h.U)(o=>this.getFormatOpt(o))).toPromise().then(o=>{o&&(this.townshipOption=o,this.cdf.detectChanges())})}getOld(){this.customerService.findOne(this.oldId).toPromise().then(a=>{a&&(console.log("RESSSS",a),this.oldData=a,this.activityList=null!=this.oldData.activities?this.oldData.activities:[],this.quatationList=null!=this.oldData.resourceQuotations?this.oldData.resourceQuotations:[],this.applicationList=null!=this.oldData.resourcePolicies?this.oldData.resourcePolicies:[],this.attachmentList=null!=this.oldData.attachments?this.oldData.attachments:[],this.loadForm(a),this.onInitAddress(this.oldData),this.cdf.detectChanges(),this.activitymatTable.reChangeData(),this.fnamatTable.reChangeData(),this.attachmentmatTable.reChangeData(),this.quotationmatTable.reChangeData(),this.applicationmatTable.reChangeData())})}loadForm(a){let o=!!a&&!!a.partyCode;this.customerForm=null,this.cdf.detectChanges(),this.customerForm=new i.cw({titleCode:new i.NI({value:a?a.titleCode:"",disabled:o},i.kI.required),firstName:new i.NI({value:a?a.firstName:"",disabled:o},i.kI.required),lastName:new i.NI({value:a?a.lastName:"",disabled:o},i.kI.required),middleName:new i.NI({value:a?a.middleName:"",disabled:o}),genderCode:new i.NI({value:a?a.genderCode:"",disabled:o},i.kI.required),nationalityCode:new i.NI({value:a?a.nationalityCode:"",disabled:o},i.kI.required),identityType:new i.NI({value:a?a.identityType:"",disabled:o},i.kI.required),identityNumber:new i.NI({value:a?a.identityNumber:"",disabled:o},i.kI.required),statusCode:new i.NI({value:a?a.statusCode:"A",disabled:o||this.isLead},i.kI.required),partyCode:new i.NI({value:a?a.partyCode:"",disabled:o}),fatherName:new i.NI({value:a?a.fatherName:"",disabled:o}),phone:new i.NI({value:a?a.phone:"",disabled:o},[i.kI.required,i.kI.maxLength(11),i.kI.minLength(9)]),email:new i.NI({value:a?a.email:"",disabled:o},[i.kI.email,i.kI.required]),dateOfBirth:new i.NI({value:a&&a.dateOfBirth?N(a.dateOfBirth):null,disabled:o},i.kI.required),occupationCode:new i.NI({value:a?a.occupationCode:"",disabled:o}),houseNumber:new i.NI({value:a?a.houseNumber:"",disabled:o},i.kI.required),road:new i.NI({value:a?a.road:"",disabled:o},i.kI.required),blockArea:new i.NI({value:a?a.blockArea:"",disabled:o},i.kI.required),townshipCode:new i.NI({value:a?a.townshipCode:"",disabled:o},i.kI.required),districtCode:new i.NI({value:a?a.districtCode:"",disabled:o},i.kI.required),stateCode:new i.NI({value:a?a.stateCode:"",disabled:o},i.kI.required),companyName:new i.NI({value:"IKBZG",disabled:!0})})}clearDOB(a){"dateOfBirth"==a&&this.customerForm.controls.dateOfBirth.setValue(null)}onInitAddress(a){this.getState(),this.getDistrict(a.stateCode),this.getTownship(a.districtCode),this.cdf.detectChanges()}onChangeState(){this.districtOption=[],this.townshipOption=[],this.customerForm.controls.districtCode.setValue(""),this.customerForm.controls.townshipCode.setValue(""),this.getDistrict(this.customerForm.controls.stateCode.value),this.cdf.detectChanges()}onChangeDistrict(){this.customerForm.controls.townshipCode.setValue(""),""==this.customerForm.controls.stateCode.value?this.townshipOption=[]:this.getTownship(this.customerForm.controls.districtCode.value),this.cdf.detectChanges()}isIdentitiyType(){this.customerForm.controls.identityNumber.setValue("")}backLocation(){this.isPopup?this.modalService.dismissAll():(this.loadForm(this.oldData),this.onInitAddress(this.oldData))}doCustomer(){if(console.log(this.customerForm.invalid),this.customerForm.invalid)return(0,y.w)(this.customerForm),!0;{let a=this.customerForm.getRawValue();this.isPopup||"create"==this.pageStatus?this.create(a):this.edit(a)}}create(a){let o=Object.assign(Object.assign({},a),{customerId:null,individualId:null});this.customerService.save(o).toPromise().then(r=>{console.log("RESSS",r),r&&(this.isPopup?this.modalService.dismissAll({data:{name:o.firstName+" "+o.middleName+" "+o.lastName,customerId:r},type:"save"}):(this.alertService.activate("This record was created","Success Message"),this.location.back()))})}edit(a){let o=Object.assign(Object.assign({},a),{customerId:this.oldId,individualId:this.oldSecondaryId});this.customerService.updateNoID(o).toPromise().then(r=>{r&&(this.alertService.activate("This record was updated","Success Message"),this.location.back())})}toggleAccordion(a){"FNA"==a&&(this.isFNA=!this.isFNA),"Application"==a&&(this.isApplication=!this.isApplication),"Quotation"==a&&(this.isQuotation=!this.isQuotation),"Attachment"==a&&(this.isAttachment=!this.isAttachment,this.isAttachment&&this.getCustomerAttachment()),"Activity"==a&&(this.isActivity=!this.isActivity),"More"==a&&(this.isMore=!this.isMore),"Detail"==a&&(this.isDetail=!this.isDetail)}add(a){if("Application"==a){const o=this.modalService.open(c.P,{size:"xl",backdrop:!1});o.componentInstance.type="modal",o.result.then(()=>{},r=>{r&&"save"==r.type&&(this.prodctService.creatingCustomer=this.oldData,this.prodctService.createingProd=r.data,this.prodctService.editData=null,this.prodctService.referenceID=null,this.prodctService.viewType="policy",this.prodctService.type="policy",this.router.navigateByUrl("/product-form"))})}if("Quotation"==a){const o=this.modalService.open(c.P,{size:"xl",backdrop:!1});o.componentInstance.type="modal",o.result.then(()=>{},r=>{r&&"save"==r.type&&(this.prodctService.createingProd=r.data,this.prodctService.creatingCustomer=this.oldData,this.prodctService.viewType="quotation",this.prodctService.editData=null,this.prodctService.referenceID=null,this.prodctService.type="quotation",this.router.navigateByUrl("/product-form"))})}"Activity"==a&&this.router.navigate(["/activity/activity-management-detail"],{queryParams:{customerId:this.oldData.customerId,name:this.oldData.firstName,pageStatus:"create"}})}openModal(){let a;a=this.modalService.open(v.V,{size:"xl",backdrop:!1}),a.componentInstance.config=this.config,a.componentInstance.group=this.customerForm}actionBtn(a){"download"==a.cmd&&this.AttachmentDownloadService.getDownload(a.data.id,a.data.fileName),"delete"==a.cmd&&this.CustomerAttachmentService.delete(a.data.id).toPromise().then(o=>{o&&this.getCustomerAttachment()})}addAttachment(){return(0,s.mG)(this,void 0,void 0,function*(){let a;a=this.modalService.open(x.F,{size:"lg",backdrop:!1}),a.componentInstance.type="description",a.componentInstance.oldId=this.oldId,a.result.then(()=>{},o=>{o&&(console.log("RESSS",o),this.description=o.description,this.AttachmentUploadService.save(o.data).toPromise().then(r=>{r&&(console.log("RESFILE",r),this.CustomerAttachmentService.save({attachmentId:r,description:this.description,refDocNo:this.oldId,refDocType:"CUST"}).toPromise().then(D=>{D&&(console.log("RESFILE",D),this.getCustomerAttachment())}))}).catch(r=>{}))})})}getCustomerAttachment(){return(0,s.mG)(this,void 0,void 0,function*(){this.CustomerAttachmentService.getAttachmentListRef(this.oldId,"CUST").toPromise().then(a=>{a&&(console.log("RESFILE",a),this.attachmentList=a,this.attachmentmatTable.reChangeData(),this.cdf.detectChanges())})})}isControlValid(a){const o=this.customerForm.controls[a];return o.valid&&(o.dirty||o.touched)}isControlInvalid(a){const o=this.customerForm.controls[a];return o.invalid&&(o.dirty||o.touched)}controlHasError(a,o){const r=this.customerForm.controls[o];return r.hasError(a)&&(r.dirty||r.touched)}isControlTouched(a){const o=this.customerForm.controls[a];return o.dirty||o.touched}}return l.\u0275fac=function(a){return new(a||l)(t.Y36(i.qu),t.Y36(_.Ye),t.Y36(m.D),t.Y36(g.gz),t.Y36(P.v),t.Y36(O.FF),t.Y36(t.sBO),t.Y36(U.f),t.Y36(g.F0),t.Y36(L.p3),t.Y36(L.ou),t.Y36(L.Ys),t.Y36(S.c))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-customer-detail"]],viewQuery:function(a,o){if(1&a&&(t.Gf(B,5),t.Gf(Q,5),t.Gf(k,5),t.Gf(R,5),t.Gf(H,5)),2&a){let r;t.iGM(r=t.CRH())&&(o.fnamatTable=r.first),t.iGM(r=t.CRH())&&(o.activitymatTable=r.first),t.iGM(r=t.CRH())&&(o.applicationmatTable=r.first),t.iGM(r=t.CRH())&&(o.attachmentmatTable=r.first),t.iGM(r=t.CRH())&&(o.quotationmatTable=r.first)}},inputs:{isPopup:"isPopup",pageStatus:"pageStatus",isLead:"isLead"},features:[t._Bn([{provide:C._A,useClass:e.t7,deps:[C.Ad]},{provide:C.sG,useValue:f.G}])],decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-label","left-border-image"],["class","card-toolbar",4,"ngIf"],[1,"card-body","px-10","py-3",3,"ngClass"],["action","#",1,"form",3,"formGroup","ngSubmit"],[1,"row",2,"align-items","center"],[1,"col-sm-6"],[1,"form-group","row"],[1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["bindLabel","value","bindValue","code","formControlName","titleCode",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["type","text","name","fatherName","autocomplete","off","formControlName","fatherName",1,"form-control","form-control-sm"],["type","text","name","firstName","autocomplete","off","formControlName","firstName",1,"form-control","form-control-sm"],["type","text","name","phone","autocomplete","off","formControlName","phone",1,"form-control","form-control-sm"],["type","text","name","middleName","autocomplete","off","formControlName","middleName",1,"form-control","form-control-sm"],["type","email","name","email","autocomplete","off","formControlName","email",1,"form-control","form-control-sm"],["type","text","name","lastName","autocomplete","off","formControlName","lastName",1,"form-control","form-control-sm"],[1,"input-group","input-group-sm"],["matInput","","formControlName","dateOfBirth","readonly","",1,"form-control-sm","date-input",2,"width","100%",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],["bindLabel","value","bindValue","code","formControlName","nationalityCode",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["bindLabel","value","bindValue","code","formControlName","occupationCode",1,"ng-custom-select","ng-custom-select-sm",3,"items"],[1,"col-sm-12"],[1,"col-sm-2","col-form-label"],[1,"col-sm-10"],[1,""],["name","identityType","formControlName","identityType",3,"click"],["value","NRC",1,"example-margin"],["value","FRC",1,"example-margin"],["value","PASSPORT",1,"example-margin"],["value","OTHER",1,"example-margin"],["type","text","class","form-control form-control-sm ","name","identityNumber","autocomplete","off","formControlName","identityNumber","readonly","",3,"is-invalid","is-valid","click",4,"ngIf"],["type","text","class","form-control form-control-sm ","name","identityNumber","autocomplete","off","formControlName","identityNumber",3,"is-invalid","is-valid",4,"ngIf"],["bindLabel","value","bindValue","code","formControlName","genderCode",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["bindLabel","value","bindValue","code","formControlName","statusCode",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["bindLabel","value","bindValue","code","formControlName","stateCode",1,"ng-custom-select","ng-custom-select-sm",3,"items","change"],["bindLabel","value","bindValue","code","formControlName","districtCode",1,"ng-custom-select","ng-custom-select-sm",3,"items","change"],["type","text","readonly","true","name","partyCode","autocomplete","off","formControlName","partyCode",1,"form-control","form-control-sm"],["type","text","name","houseNumber","autocomplete","off","formControlName","houseNumber",1,"form-control","form-control-sm"],["type","text","name","road","autocomplete","off","formControlName","road",1,"form-control","form-control-sm"],["type","text","name","blockArea","autocomplete","off","formControlName","blockArea",1,"form-control","form-control-sm"],["bindLabel","value","bindValue","code","formControlName","townshipCode",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["type","text","name","companyName","autocomplete","off","formControlName","companyName",1,"form-control","form-control-sm"],[1,"form-group",2,"text-align","right"],["type","submit",1,"btn","btn-primary","btn-elevate","mx-2"],["type","button",1,"btn","btn-default","btn-elevate",3,"click"],[1,"card-toolbar"],["type","button","class","icon",3,"click",4,"ngIf"],["type","button","class","icon ml-2",3,"click",4,"ngIf"],["type","button",1,"icon",3,"click"],[1,"flaticon2-back"],["type","button",1,"icon","ml-2",3,"click"],[1,"flaticon2-down"],["type","text","name","identityNumber","autocomplete","off","formControlName","identityNumber","readonly","",1,"form-control","form-control-sm",3,"click"],["type","text","name","identityNumber","autocomplete","off","formControlName","identityNumber",1,"form-control","form-control-sm"],[1,"card","card-custom","gutter-b"],["class","card-header",4,"ngIf"],[3,"data","colum","displayedColumns","selectable"],["fna",""],["activity",""],["quotation",""],[1,"card-body","px-10","py-3"],[3,"ngClass"],["application",""],[3,"data","colum","displayedColumns","selectable","emitter"],["attachment",""],[1,"flaticon2-back","icon"],[1,"flaticon2-down","icon"]],template:function(a,o){1&a&&(t.YNc(0,$,161,98,"div",0),t.YNc(1,ut,31,30,"ng-container",1)),2&a&&(t.Q6J("ngIf",o.customerForm),t.xp6(1),t.Q6J("ngIf",!o.isPopup&&o.oldId))},directives:[_.O5,_.mk,i._Y,i.JL,i.sg,F.w9,i.JJ,i.u,i.Fj,Y.Nt,q.hl,q.nW,J.R9,q.Mq,K.VQ,K.U0,w.I],styles:[".input-group[_ngcontent-%COMP%]   .form-control-sm[_ngcontent-%COMP%]{background-color:#fff;background-clip:padding-box;border:1px solid #E4E6EF;padding:0 .75rem}.input-group[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;right:5px}.active[_ngcontent-%COMP%]{display:block}.inactive[_ngcontent-%COMP%]{display:none}.icon[_ngcontent-%COMP%]{position:relative;border:none;margin:0;font-size:1.5rem}.add[_ngcontent-%COMP%]{top:-11px;position:relative;border:none;background:#f2f2f2;margin:0}.add[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:-52px;right:78px;width:110px}.btn-box[_ngcontent-%COMP%]{text-align:end}.btn-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;width:127%;height:100%;opacity:0}h2[_ngcontent-%COMP%]{font-size:13px;color:#005ca2;background:#F2F2F2;border:none;cursor:pointer;position:relative;margin-top:24px;padding:12px 24px 1px}h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:14px;top:5px}h2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:6px;height:12px;float:left}h2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;padding-left:18px}.tab-div[_ngcontent-%COMP%]{position:relative;padding:20px 0 0;background:#d1d7e2;border-bottom:1px solid #d2d2d2;margin:-10px 0 0}.tab-div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}"]}),l})()},23457:(b,T,n)=>{n.d(T,{d:()=>I});var s=n(86019),i=n(49133),e=n(87626),C=n(45598),N=n(57842),M=n(78480),h=n(57730),y=n(55167),f=n(83668);let I=(()=>{class Z{}return Z.\u0275fac=function(v){return new(v||Z)},Z.\u0275mod=f.oAB({type:Z}),Z.\u0275inj=f.cJS({imports:[[s.ez,i.u5,i.UX,e.vi,C.fA,N.A0,N.A0,M.FA,y.Fk,h.c]]}),Z})()},27738:(b,T,n)=>{n.d(T,{v:()=>M});var s=n(18260),i=n(91691),e=n(83668),C=n(44522);const N=`${s.N.apiUrl}/customer`;let M=(()=>{class h extends i.i{constructor(f){super(f,N),this.httpClient=f}}return h.\u0275fac=function(f){return new(f||h)(e.LFG(C.eN))},h.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},63871:(b,T,n)=>{n.d(T,{q:()=>i,I:()=>e});var s=n(18510);const i=[{title:"Date",type:s.Y.FEILD,field:"createdAt"},{title:"FNA Type",type:s.Y.FEILD,field:"fnaType"},{title:"Conducted By",type:s.Y.FEILD,field:"conductedBy"},{title:"Actions",type:s.Y.ACTION,field:"actions",btn:{edit:!0,delete:!0}}],e=["createdAt","fnaType","conductedBy","actions"]},91471:(b,T,n)=>{n.d(T,{F:()=>c});var s=n(64762),i=n(83668),e=n(49133),C=n(85378),N=n(23347),M=n(86019);const h=["selectedFile"];function y(d,t){1&d&&(i.TgZ(0,"div",11),i.TgZ(1,"span",12),i._uU(2,"Please add Reject Reason"),i.qZA(),i.qZA())}function f(d,t){1&d&&(i.TgZ(0,"div",11),i.TgZ(1,"span",12),i._uU(2,"Please add Lost Reason"),i.qZA(),i.qZA())}function I(d,t){1&d&&(i.TgZ(0,"div",11),i.TgZ(1,"span",12),i._uU(2,"Please add Attachment Description"),i.qZA(),i.qZA())}function Z(d,t){if(1&d){const _=i.EpF();i.TgZ(0,"div",13),i.TgZ(1,"textarea",14),i.NdJ("ngModelChange",function(g){return i.CHM(_),i.oxw().lostReason=g}),i.qZA(),i.qZA()}if(2&d){const _=i.oxw();i.xp6(1),i.Q6J("ngModel",_.lostReason)}}function x(d,t){if(1&d){const _=i.EpF();i.TgZ(0,"div",13),i.TgZ(1,"input",15),i.NdJ("ngModelChange",function(g){return i.CHM(_),i.oxw().description=g}),i.qZA(),i.qZA()}if(2&d){const _=i.oxw();i.xp6(1),i.Q6J("ngModel",_.description)}}function v(d,t){if(1&d){const _=i.EpF();i.TgZ(0,"div",13),i.TgZ(1,"input",16,17),i.NdJ("change",function(g){return i.CHM(_),i.oxw().importDocument(g)}),i.qZA(),i.TgZ(3,"div",18),i.TgZ(4,"input",19),i.NdJ("ngModelChange",function(g){return i.CHM(_),i.oxw().fileName=g}),i.qZA(),i.TgZ(5,"div",20),i.TgZ(6,"button",21),i.NdJ("click",function(){return i.CHM(_),i.oxw().openFile()}),i._uU(7,"Browse"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&d){const _=i.oxw();i.xp6(4),i.Q6J("ngModel",_.fileName)}}function A(d,t){if(1&d){const _=i.EpF();i.TgZ(0,"button",22),i.NdJ("click",function(){return i.CHM(_),i.oxw().save()}),i._uU(1,"Save"),i.qZA()}if(2&d){const _=i.oxw();i.Q6J("disabled",!_.description)}}function p(d,t){if(1&d){const _=i.EpF();i.TgZ(0,"button",22),i.NdJ("click",function(){return i.CHM(_),i.oxw().save()}),i._uU(1,"Save"),i.qZA()}if(2&d){const _=i.oxw();i.Q6J("disabled",!_.lostReason)}}let c=(()=>{class d{constructor(_,m,g){this.fb=_,this.modal=m,this.AttachmentUploadService=g,this.oldId="",this.fileName="",this.subscriptions=[]}ngOnInit(){}ngOnDestroy(){}save(){"reason"==this.type&&this.modal.dismiss(this.lostReason),"description"==this.type&&this.modal.dismiss({data:this.fileData,description:this.description})}importDocument(_){return(0,s.mG)(this,void 0,void 0,function*(){if(_){const m=_.target.files[0];console.log(m);const g=new FileReader;g.readAsDataURL(m),g.onload=()=>{if(g.result){let O={fileStr:g.result.toString().split(",")[1],fileName:m.name,fileType:m.type,fileSize:m.size,contentType:m.type,fileExtension:m.name.split(".").pop()};this.fileName=m.name,this.fileData=O}}}})}openFile(){this.selectedFileEl.nativeElement.click()}}return d.\u0275fac=function(_){return new(_||d)(i.Y36(e.qu),i.Y36(C.Kz),i.Y36(N.p3))},d.\u0275cmp=i.Xpm({type:d,selectors:[["app-custom-input-alert"]],viewQuery:function(_,m){if(1&_&&i.Gf(h,5),2&_){let g;i.iGM(g=i.CRH())&&(m.selectedFileEl=g.first)}},inputs:{config:"config",type:"type",status:"status",oldId:"oldId"},decls:18,vars:8,consts:[[1,"modal-content"],[1,"modal-header"],["class","modal-title h4 left-border-image",4,"ngIf"],[1,"overlay","overlay-block","cursor-default","modal-body"],[1,"row"],["class","col-sm-12",4,"ngIf"],[1,"row",2,"margin-top","25px"],[1,"col-12"],[1,"modal-footer"],["type","button","class","btn btn-light btn-elevate mr-2",3,"disabled","click",4,"ngIf"],[1,"btn","btn-primary","btn-elevate",3,"click"],[1,"modal-title","h4","left-border-image"],[1,"text-muted","font-weight-bold","font-size-sm","mt-1"],[1,"col-sm-12"],["type","text","name","lostReason","placeholder","Reason","autocomplete","off",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","text","name","description","placeholder","Description","autocomplete","off",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","file","name","phone",1,"form-control","form-control-sm",2,"display","none",3,"change"],["selectedFile",""],[1,"input-group"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"disabled","click"]],template:function(_,m){1&_&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.YNc(2,y,3,0,"div",2),i.YNc(3,f,3,0,"div",2),i.YNc(4,I,3,0,"div",2),i.qZA(),i.TgZ(5,"div",3),i.TgZ(6,"div",4),i.YNc(7,Z,2,1,"div",5),i.YNc(8,x,2,1,"div",5),i.qZA(),i.TgZ(9,"div",6),i.YNc(10,v,8,1,"div",5),i.qZA(),i.qZA(),i.TgZ(11,"div",4),i.TgZ(12,"div",7),i.TgZ(13,"div",8),i.YNc(14,A,2,1,"button",9),i.YNc(15,p,2,1,"button",9),i.TgZ(16,"button",10),i.NdJ("click",function(){return m.modal.dismiss()}),i._uU(17,"Cancel"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&_&&(i.xp6(2),i.Q6J("ngIf","reason"==m.type&&"04"==m.status),i.xp6(1),i.Q6J("ngIf","reason"==m.type&&"06"==m.status),i.xp6(1),i.Q6J("ngIf","description"==m.type),i.xp6(3),i.Q6J("ngIf","reason"==m.type),i.xp6(1),i.Q6J("ngIf","description"==m.type),i.xp6(2),i.Q6J("ngIf","description"==m.type),i.xp6(4),i.Q6J("ngIf","description"==m.type),i.xp6(1),i.Q6J("ngIf","reason"==m.type))},directives:[M.O5,e.Fj,e.JJ,e.On],styles:[".active[_ngcontent-%COMP%]{background-color:#3699ff!important;color:#fff}.btn-box[_ngcontent-%COMP%]{text-align:end}.btn-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;width:127%;height:100%;opacity:0}"]}),d})()},22030:(b,T,n)=>{n.d(T,{V:()=>x});var s=n(49133);const i=[{stage:"01",township:["KhaPhaNa","KhaLaNa","SaLaNa","SaPaBa","TaNaNa","NaMaNa","PaTaAh","PhaKaNa","BaMaNa","MaKaNa","MaNyaNa","MaKaNa","MaHsaNa","MaKhaBa","MaMaNa","YaKaNa","WaMaNa","AhGaYa"]},{stage:"02",township:["DaMaSa","PhaSaNa","PhaYaSa","BaLaKha","MaHsaNa","YaTaNa","YaThaNa","LaKaNa"]},{stage:"03",township:["KaKaYa","KaSaKa","PhaPaNa","BaAhNa","MaWaTa","LaBaNa","ThaTaNa"]},{stage:"04",township:["KaPaLa","TaTaNa","TaZaNa","HtaTaLa","PaLaWa","PhaLaNa","MaTaNa","MaTaPa","HaKhaNa"]},{stage:"05",township:["KaLaNa","KhaNaTa","KaThaNa","KaBaLa","MaLaNa","MaYaNa","YaBaNa","TaMaNa","YaMaPa","AhYaTa","BaTaLa","KhaOuNa","DaPaYa","HaMaLa","AhTaNa","KaLaWa","KaNaNa","KaLaNa","KhaOuNa","KaLaNa","MaMaNa","MaMaNa","PaLaNa","PhaPaNa","PaLaBa","SaLaKa","HsaKaNa","TaSaNa","HtaKhaNa","WaLaNa","WaThaNa","BaMaNa","NaYaNa","YaOuNa","MaKaNa","LaYaNa","LaHaNa"]},{stage:"06",township:["HtaWaNa","MaMaNa","KaThaNa","LaLaNa","ThaYaKha","YaPhaNa","KaHsaNa","PaLaNa","BaPaNa","PaLaNa"]},{stage:"07",township:["PaKhaNa","KaTaKha","ZaKaNa","NyaLaPa","TaNgaNa","NaTaLa","KaWaNa","PaMaNa","PaTaNa","PhaMaNa","MaLaNa","YaTaYa","LaPaTa","WaMaNa","ThaWaTa","ThaKaNa","AhPhaNa","MaNyaNa","PaKhaNa","DaOuNa","ThaNaPa","HtaTaPa","AhTaNa","KaKaNa","YaKaNa","KaPaKa","YaTaNa","PaTaNa"]},{stage:"08",township:["MaKaNa","KhaMaNa","PaKhaKa","ThaYaNa","GaGaNa","NaMaNa","MaThaNa","YaNaKha","TaTaKa","MaBaNa","PaPhaNa","HsaLaNa","NgaPhaNa","HsaTaYa","SaPhaNa","YaHsaKa","MaMaNa","PaMaNa","HtaLaNa","SaMaNa","AhLaNa","SaPaWa","MaTaNa","MaLaNa","KaMaNa"]},{stage:"09",township:["KaSaNa","MaHtaLa","MaKhaNa","NyaOuNa","PaOuLa","YaMaTha","AhMaZa","KhaAhZa","MaHaMa","KhaMaHsa","PaKaKha","AhMaYa","PaThaKa","MaTaYa","HsaKaNa","MaKaNa","ThaPaKa","HsaKaNa","MaThaNa","TaTaOu","TaThaNa","NaHtaKa","KaPaTa","NgaZaNa","PaBaNa","MaLaNa","ThaHsaNa","WaTaNa"]},{stage:"10",township:["ThaHtaNa","MaLaMa","KaMaYa","KaHtaNa","KhaSaNa","PaMaNa","BaLaNa","MaDaNa","YaMaNa","ThaPhaYa"]},{stage:"11",township:["AhMaNa","GaMaNa","KaTaNa","MaPaNa","MaOuNa","MaAhNa","MaPaNa","PaTaNa","PaNaKa","YaBaNa","YaThaTa","TaKaNa","HsaTaNa","BaThaTa","MaTaNa","KaPhaNa","ThaTaNa"]},{stage:"12",township:["TaMaNa","OuKaTa","DaGaSa","DaGaTa","DaGaMa","DaGaYa","DaPaNa","PaZaTa","BaTaHta","MaGaTa","OuKaMa","YaKaNa","ThaGaKa","ThaKaTa","KaMaYa","KaTaTa","KaMaTa","HsaKhaNa","SaKaNa","DaGaNa","PaBaTa","BaHaNa","MaYaKa","LaMaTa","LaThaNa","LaMaNa","AhLaNa","TaKaNa","HtaTaPa","MaGaDa","MaBaNa","YaPaTha","LaKaNa","LaThaYa","AhHsaNa","KaTaNa","KaKhaKa","KaKaKa","KaMaNa","KhaYaNa","SaKaKha","TaTaNa","DaLaNa","ThaLaNa","ThaKhaNa"]},{stage:"13",township:["TaKaNa","LaYaNa","KaTaNa","LaLaNa","LaKaNa","LaKhaNa","KaMaNa","MaSaNa","KaLaNa","TaKhaLa","MaSaNa","MaPhaNa","HaPaNa","HaPaNa","PaTaYa","NaSaNa","NaMaTa","NaKhaNa","ThaPaNa","MaTaNa","MaMaNa","MaBaNa","NaKhaNa","KaKhaNa","TaYaNa","MaYaNa","MaMaNa","NaHsaNa","YaSaKa","YaNgaNa","NyaYaNa","PaLaNa","SaSaNa","MaNaNa","MaPaNa","MaKaNa","KaHaNa","KaKaNa","MaKhaNa","PhaKhaNa","LaKhaNa","MaMaNa","KaThaNa","KaLaNa","MaYaNa","MaPaNa","MaTaNa","MaYaNa","MaLaNa","MaYaNa","MaMaNa","AhPaNa","YaNyaNa","AhThaYa","KaTaLa","NaTaYa","PaLaNa","KaTaNa","HaMaNa","AhTaNa","MaNaMa","MaNgaNa","TaMaNya","MaKaNa","MaHaYa","KhaYaHa","NaTaNa","TaTaNa","TaLaNa","KaLaNa","MaYaNa","MaKhaNa","MaPaNa"]},{stage:"14",township:["PaThaNa","HaThaTa","MaAhPa","MaMaNa","PhaPaNa","LaPaTa","KaKaHta","NgaPaTa","ThaPaNa","KaKaNa","KaPaNa","YaKaNa","ZaLaNa","LaMaNa","MaAhNa","KaKhaNa","AhGaPa","AhMaNa","WaKhaMa","PaTaNa","NyaTaNa","DaNaPha","BaKaLa","KaLaNa","DaDaYa","MaMaKa"]}];var e=n(83668),C=n(85378),N=n(57842),M=n(86019);function h(v,A){1&v&&(e.TgZ(0,"div",19),e._uU(1,"State No is required"),e.qZA())}function y(v,A){if(1&v&&(e.ynx(0),e.TgZ(1,"ng-option",10),e._uU(2),e.qZA(),e.BQk()),2&v){const p=A.$implicit;e.xp6(1),e.Q6J("value",p),e.xp6(1),e.Oqu(p)}}function f(v,A){1&v&&(e.TgZ(0,"div",19),e._uU(1,"District is required"),e.qZA())}function I(v,A){1&v&&(e.TgZ(0,"div",19),e._uU(1,"Type is required"),e.qZA())}function Z(v,A){1&v&&(e.TgZ(0,"div",19),e._uU(1,"NRC No is required"),e.qZA())}let x=(()=>{class v{constructor(p,c){this.modal=p,this.cdf=c,this.nrcStage=i,this.submited=!1,this.townShip=[]}ngOnInit(){this.setForm()}setForm(){this.nrcForm=new s.cw({stage:new s.NI(null,[s.kI.required]),township:new s.NI(null,[s.kI.required]),prefix:new s.NI("N",[s.kI.required]),nrc:new s.NI(null,[s.kI.required,s.kI.maxLength(6),s.kI.minLength(6)])})}save(){if(this.submited=!0,this.nrcForm.invalid)return!1;let p=this.nrcForm.value;this.group.controls[this.config.name].setValue(`${p.stage}/${p.township}(${p.prefix})${p.nrc}`),this.modal.dismiss("save")}dismiss(){this.modal.dismiss()}changeStage(){let p=this.nrcForm.value.stage;if(p){let c=this.nrcStage.findIndex(d=>d.stage==p);this.townShip=c>=0?this.nrcStage[c].township:[],this.nrcForm.controls.township.setValue(this.townShip[0]),this.cdf.detectChanges()}}isControlValid(p){const c=this.nrcForm.controls[p];return c.valid&&(c.dirty||c.touched)}isControlInvalid(p){const c=this.nrcForm.controls[p];return c.invalid&&(c.dirty||c.touched)}controlHasError(p,c){const d=this.nrcForm.controls[c];return d.hasError(p)&&(d.dirty||d.touched)}isControlTouched(p){const c=this.nrcForm.controls[p];return c.dirty||c.touched}}return v.\u0275fac=function(p){return new(p||v)(e.Y36(C.Kz),e.Y36(e.sBO))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-nrc-popup"]],inputs:{group:"group",config:"config"},decls:75,vars:35,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4","left-border-image"],[1,"overlay","overlay-block","cursor-default","modal-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-3"],[1,"form-group"],[1,"form-label"],["placeholder","State No","formControlName","stage",1,"ng-custom-select",3,"change"],[3,"value"],["class","invalid-feedback",4,"ngIf"],["placeholder","District","formControlName","township",1,"ng-custom-select"],[4,"ngFor","ngForOf"],["placeholder","Type","formControlName","prefix",1,"ng-custom-select"],["type","tel","name","nrc","autocomplete","off","formControlName","nrc","minLength","6","maxLength","6",1,"form-control","form-control-sm"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-primary","btn-elevate",3,"click"],[1,"invalid-feedback"]],template:function(p,c){1&p&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._uU(3," NRC ID "),e.qZA(),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"form",4),e.NdJ("ngSubmit",function(){return c.save()}),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"label",8),e._uU(10,"State No"),e.qZA(),e.TgZ(11,"ng-select",9),e.NdJ("change",function(){return c.changeStage()}),e.TgZ(12,"ng-option",10),e._uU(13,"01(Kachin)"),e.qZA(),e.TgZ(14,"ng-option",10),e._uU(15,"02(Kayar)"),e.qZA(),e.TgZ(16,"ng-option",10),e._uU(17,"03(Kayin)"),e.qZA(),e.TgZ(18,"ng-option",10),e._uU(19,"04(Chin)"),e.qZA(),e.TgZ(20,"ng-option",10),e._uU(21,"05(Sagaing)"),e.qZA(),e.TgZ(22,"ng-option",10),e._uU(23,"06(Tanintharyi)"),e.qZA(),e.TgZ(24,"ng-option",10),e._uU(25,"07(Bago)"),e.qZA(),e.TgZ(26,"ng-option",10),e._uU(27,"08(Magwe)"),e.qZA(),e.TgZ(28,"ng-option",10),e._uU(29,"09(Mandalay)"),e.qZA(),e.TgZ(30,"ng-option",10),e._uU(31,"10(Mon)"),e.qZA(),e.TgZ(32,"ng-option",10),e._uU(33,"11(Rakhine)"),e.qZA(),e.TgZ(34,"ng-option",10),e._uU(35,"12(Yangon)"),e.qZA(),e.TgZ(36,"ng-option",10),e._uU(37,"13(Shan)"),e.qZA(),e.TgZ(38,"ng-option",10),e._uU(39,"14(Ayarwaddy)"),e.qZA(),e.qZA(),e.YNc(40,h,2,0,"div",11),e.qZA(),e.qZA(),e.TgZ(41,"div",6),e.TgZ(42,"div",7),e.TgZ(43,"label",8),e._uU(44,"District"),e.qZA(),e.TgZ(45,"ng-select",12),e.YNc(46,y,3,2,"ng-container",13),e.qZA(),e.YNc(47,f,2,0,"div",11),e.qZA(),e.qZA(),e.TgZ(48,"div",6),e.TgZ(49,"div",7),e.TgZ(50,"label",8),e._uU(51,"Type"),e.qZA(),e.TgZ(52,"ng-select",14),e.TgZ(53,"ng-option",10),e._uU(54,"N"),e.qZA(),e.TgZ(55,"ng-option",10),e._uU(56,"P"),e.qZA(),e.TgZ(57,"ng-option",10),e._uU(58,"Y"),e.qZA(),e.TgZ(59,"ng-option",10),e._uU(60,"E"),e.qZA(),e.TgZ(61,"ng-option",10),e._uU(62,"T"),e.qZA(),e.qZA(),e.YNc(63,I,2,0,"div",11),e.qZA(),e.qZA(),e.TgZ(64,"div",6),e.TgZ(65,"div",7),e.TgZ(66,"label",8),e._uU(67,"NRC No"),e.qZA(),e._UZ(68,"input",15),e.YNc(69,Z,2,0,"div",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(70,"div",16),e.TgZ(71,"button",17),e.NdJ("click",function(){return c.modal.dismiss()}),e._uU(72,"Cancel"),e.qZA(),e.TgZ(73,"button",18),e.NdJ("click",function(){return c.save()}),e._uU(74,"Save"),e.qZA(),e.qZA(),e.qZA()),2&p&&(e.xp6(5),e.Q6J("formGroup",c.nrcForm),e.xp6(6),e.ekj("is-invalid",c.isControlInvalid("stage")),e.xp6(1),e.Q6J("value","01"),e.xp6(2),e.Q6J("value","02"),e.xp6(2),e.Q6J("value","03"),e.xp6(2),e.Q6J("value","04"),e.xp6(2),e.Q6J("value","05"),e.xp6(2),e.Q6J("value","06"),e.xp6(2),e.Q6J("value","07"),e.xp6(2),e.Q6J("value","08"),e.xp6(2),e.Q6J("value","09"),e.xp6(2),e.Q6J("value","10"),e.xp6(2),e.Q6J("value","11"),e.xp6(2),e.Q6J("value","12"),e.xp6(2),e.Q6J("value","13"),e.xp6(2),e.Q6J("value","14"),e.xp6(2),e.Q6J("ngIf",c.controlHasError("required","stage")),e.xp6(5),e.ekj("is-invalid",c.isControlInvalid("township")),e.xp6(1),e.Q6J("ngForOf",c.townShip),e.xp6(1),e.Q6J("ngIf",c.controlHasError("required","township")),e.xp6(5),e.ekj("is-invalid",c.isControlInvalid("prefix")),e.xp6(1),e.Q6J("value","N"),e.xp6(2),e.Q6J("value","P"),e.xp6(2),e.Q6J("value","Y"),e.xp6(2),e.Q6J("value","E"),e.xp6(2),e.Q6J("value","T"),e.xp6(2),e.Q6J("ngIf",c.controlHasError("required","prefix")),e.xp6(5),e.ekj("is-invalid",c.isControlInvalid("nrc"))("is-valid",c.isControlValid("nrc")),e.xp6(1),e.Q6J("ngIf",c.controlHasError("required","nrc")))},directives:[s._Y,s.JL,s.sg,N.w9,s.JJ,s.u,N.xv,M.O5,M.sg,s.Fj],styles:[".rowStyle[_ngcontent-%COMP%]{margin-top:10px;color:#000}.columnStyle[_ngcontent-%COMP%]{text-align:center;font-size:var(--label-size)}.input[_ngcontent-%COMP%]{border-bottom:1px #A1AAAD solid;width:100%;display:inline-block;text-align:center;font-size:8pt!important;color:gray}.input-box[_ngcontent-%COMP%]{border-bottom:1px #A1AAAD solid;width:100%;display:inline-block;margin:15px 0;text-align:center}.textColor[_ngcontent-%COMP%]{color:#2c66ff}.header-style[_ngcontent-%COMP%]{box-shadow:0 4px 5px #ccc;padding:15px 20px;margin-bottom:20px}.input-border[_ngcontent-%COMP%]{border:.5px solid #333;border-radius:2px;width:100%;margin:10px 0}"]}),v})()},73155:(b,T,n)=>{n.d(T,{ei:()=>i,MN:()=>e,uK:()=>C,A6:()=>N,Y6:()=>M,NP:()=>h,k5:()=>y});var s=n(18510);const i=[{title:"Date",type:s.Y.FEILD,field:"createdAt",isFromatDate:!0},{title:"Type",type:s.Y.FEILD,field:"fnaType"},{title:"Conducted By",type:s.Y.FEILD,field:"createdByName"},{title:"Actions",type:s.Y.ACTION,field:"actions",btn:{edit:!0,delete:!0}}],e=["createdAt","fnaType","createdByName","actions"],C=[{title:"Description",type:s.Y.FEILD,field:"description"},{title:"Document",type:s.Y.FEILD,field:"fileName"},{title:"Action",type:s.Y.ACTION,field:"action",btn:{download:!0,delete:!0}}],N=["description","fileName","action"],M=[{title:"Campaign Number",type:s.Y.FEILD,field:"cpmNumber"},{title:"Campaign Name",type:s.Y.FEILD,field:"cpmName"},{title:"Status",type:s.Y.FEILD,field:"cpmStatus"},{title:"Owner",type:s.Y.FEILD,field:"cpmOwnerName"}],h=["cpmNumber","cpmName","cpmStatus","cpmOwnerName"];let y=(()=>{class f{}return f.LEAD_ID="",f})()},76175:(b,T,n)=>{n.d(T,{j:()=>i,k:()=>e});var s=n(18510);const i=[{title:"Application ID",type:s.Y.FEILD,field:"id"},{title:"Product Name",type:s.Y.FEILD,field:"productName"},{title:"Product Code",type:s.Y.FEILD,field:"productCode"},{title:"Quotation ID",type:s.Y.FEILD,field:"quotationId"},{title:"Agent Name",type:s.Y.FEILD,field:"agentFirstName"},{title:"Premium",type:s.Y.FEILD,field:"premium",amtFormat:!0},{title:"Status",type:s.Y.FEILD,field:"status",isStatus:!0},{title:"Date",type:s.Y.FEILD,field:"createdAt",isDate:!0},{title:"Actions",type:s.Y.ACTION,field:"actions",btn:{view:!0,edit:!0}}],e=["id","productName","productCode","agentFirstName","premium","status","createdAt","actions"]},17318:(b,T,n)=>{n.d(T,{J:()=>i,L:()=>e});var s=n(18510);const i=[{title:"Quotation ID",type:s.Y.FEILD,field:"id"},{title:"Product Name",type:s.Y.FEILD,field:"productName"},{title:"Product Code",type:s.Y.FEILD,field:"productCode"},{title:"Agent Name",type:s.Y.FEILD,field:"agentFirstName"},{title:"Premium",type:s.Y.FEILD,field:"premium",amtFormat:!0},{title:"Status",type:s.Y.FEILD,field:"status",isStatus:!0},{title:"Date",type:s.Y.FEILD,field:"createdAt",isDate:!0},{title:"Application",type:s.Y.TEXT,field:"create application",isDate:!0},{title:"Actions",type:s.Y.ACTION,field:"actions",btn:{view:!0,edit:!0}}],e=["id","productName","productCode","agentFirstName","premium","status","createdAt","create application","actions"]}}]);