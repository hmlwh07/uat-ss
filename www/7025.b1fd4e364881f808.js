"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7025,7975],{92118:(A,M,s)=>{s.d(M,{t7:()=>D});var t=s(83668),l=s(44290),f=s(92070);const d=s.n(f)()||f,c=new t.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function v(r,m){const o=Array(r);for(let i=0;i<r;i++)o[i]=m(i);return o}let D=(()=>{class r extends l._A{constructor(o,i){super(),this._options=i,this.setLocale(o||d.locale())}setLocale(o){super.setLocale(o);let i=d.localeData(o);this._localeData={firstDayOfWeek:i.firstDayOfWeek(),longMonths:i.months(),shortMonths:i.monthsShort(),dates:v(31,C=>this.createDate(2017,0,C+1).format("D")),longDaysOfWeek:i.weekdays(),shortDaysOfWeek:i.weekdaysShort(),narrowDaysOfWeek:i.weekdaysMin()}}getYear(o){return this.clone(o).year()}getMonth(o){return this.clone(o).month()}getDate(o){return this.clone(o).date()}getDayOfWeek(o){return this.clone(o).day()}getMonthNames(o){return"long"==o?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(o){return"long"==o?this._localeData.longDaysOfWeek:"short"==o?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(o){return this.clone(o).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(o){return this.clone(o).daysInMonth()}clone(o){return o.clone().locale(this.locale)}createDate(o,i,C){const Z=this._createMoment({year:o,month:i,date:C}).locale(this.locale);return Z.isValid(),Z}today(){return this._createMoment().locale(this.locale)}parse(o,i){return o&&"string"==typeof o?this._createMoment(o,i,this.locale):o?this._createMoment(o).locale(this.locale):null}format(o,i){return o=this.clone(o),this.isValid(o),o.format(i)}addCalendarYears(o,i){return this.clone(o).add({years:i})}addCalendarMonths(o,i){return this.clone(o).add({months:i})}addCalendarDays(o,i){return this.clone(o).add({days:i})}toIso8601(o){return this.clone(o).format()}deserialize(o){let i;if(o instanceof Date)i=this._createMoment(o).locale(this.locale);else if(this.isDateInstance(o))return this.clone(o);if("string"==typeof o){if(!o)return null;i=this._createMoment(o,d.ISO_8601).locale(this.locale)}return i&&this.isValid(i)?this._createMoment(i).locale(this.locale):super.deserialize(o)}isDateInstance(o){return d.isMoment(o)}isValid(o){return this.clone(o).isValid()}invalid(){return d.invalid()}_createMoment(o,i,C){const{strict:Z,useUtc:I}=this._options||{};return I?d.utc(o,i,C,Z):d(o,i,C,Z)}}return r.\u0275fac=function(o){return new(o||r)(t.LFG(l.Ad,8),t.LFG(c,8))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})()},85472:(A,M,s)=>{s.d(M,{Z:()=>l});var t=s(83668);let l=(()=>{class f{constructor(d){this.el=d}ngOnInit(){for(var d=this.el.nativeElement,c=d.parentElement;d.firstChild;)c.insertBefore(d.firstChild,d);c.removeChild(d)}}return f.\u0275fac=function(d){return new(d||f)(t.Y36(t.SBq))},f.\u0275dir=t.lG2({type:f,selectors:[["","remove-host",""]]}),f})()},15470:(A,M,s)=>{s.d(M,{Q:()=>E});var t=s(92118),l=s(44290),f=s(47975),e=s(83668),d=s(86019),c=s(49133),h=s(78480),v=s(15346);function D(g,T){if(1&g){const r=e.EpF();e.TgZ(0,"div",2),e.TgZ(1,"div",3),e.TgZ(2,"label",4),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e._UZ(7,"input",7),e._UZ(8,"mat-datepicker-toggle",8),e._UZ(9,"mat-datepicker",9,10),e.TgZ(11,"span",11),e.NdJ("click",function(){return e.CHM(r),e.oxw().clearDate("startDate")}),e.TgZ(12,"span",12),e._uU(13,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&g){const r=e.MAs(10),m=e.oxw();e.Q6J("ngClass",m.colClass)("formGroup",m.formInput),e.xp6(3),e.Oqu(e.lcZ(4,5,"FORM.start_date")),e.xp6(4),e.Q6J("matDatepicker",r),e.xp6(1),e.Q6J("for",r)}}function O(g,T){if(1&g){const r=e.EpF();e.TgZ(0,"div",13),e.TgZ(1,"div",3),e.TgZ(2,"label",4),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e._UZ(7,"input",14),e._UZ(8,"mat-datepicker-toggle",8),e._UZ(9,"mat-datepicker",9,15),e.TgZ(11,"span",11),e.NdJ("click",function(){return e.CHM(r),e.oxw().clearDate("endDate")}),e.TgZ(12,"span",12),e._uU(13,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&g){const r=e.MAs(10),m=e.oxw();e.Q6J("ngClass",m.colClass)("formGroup",m.formInput),e.xp6(3),e.Oqu(e.lcZ(4,5,"FORM.end_date")),e.xp6(4),e.Q6J("matDatepicker",r),e.xp6(1),e.Q6J("for",r)}}let E=(()=>{class g{constructor(){}ngOnInit(){this.getoneMonth()}clearDate(r){this.formInput.controls[r].setValue(null)}getoneMonth(){let r=new Date,m=new Date(r.setMonth(r.getMonth()-1)),o=new Date(r.setMonth(r.getMonth()+1));this.formInput.controls.startDate.setValue(m.toISOString()),this.formInput.controls.endDate.setValue(o.toISOString())}}return g.\u0275fac=function(r){return new(r||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-start-end-date"]],inputs:{formInput:"formInput",colClass:"colClass"},features:[e._Bn([{provide:l._A,useClass:t.t7,deps:[l.Ad]},{provide:l.sG,useValue:f.Gs}])],decls:2,vars:2,consts:[["ng","",3,"ngClass","formGroup",4,"ngIf"],[3,"ngClass","formGroup",4,"ngIf"],["ng","",3,"ngClass","formGroup"],[1,"form-group","row"],[1,"col-sm-4","col-form-label"],[1,"col-sm-8"],[1,"input-group"],["matInput","","formControlName","startDate","readonly","",1,"form-control-sm","date-input",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["startDate",""],["title","Clear all",1,"ng-clear-wrapper",3,"click"],["aria-hidden","true",1,"ng-clear"],[3,"ngClass","formGroup"],["matInput","","formControlName","endDate","readonly","",1,"form-control-sm","date-input",3,"matDatepicker"],["endDate",""]],template:function(r,m){1&r&&(e.YNc(0,D,14,7,"div",0),e.YNc(1,O,14,7,"div",1)),2&r&&(e.Q6J("ngIf",m.formInput),e.xp6(1),e.Q6J("ngIf",m.formInput))},directives:[d.O5,d.mk,c.JL,c.sg,c.Fj,h.hl,c.JJ,c.u,h.nW,h.Mq],pipes:[v.X],styles:[".input-group[_ngcontent-%COMP%]   .form-control-sm[_ngcontent-%COMP%]{background-color:#fff;background-clip:padding-box;border:1px solid #E4E6EF;padding:0 .75rem;width:100%}.input-group[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;right:5px;top:-2px}.remove-p[_ngcontent-%COMP%]{margin-bottom:0}.col-form-label[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.form-group.row[_ngcontent-%COMP%]{align-items:center}.ng-clear-wrapper[_ngcontent-%COMP%]   .ng-clear[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:3rem;top:.3rem;font-size:1.2rem;color:#999}.ng-clear-wrapper[_ngcontent-%COMP%]   .ng-clear[_ngcontent-%COMP%]:hover{color:#d0021b}"]}),g})()},47975:(A,M,s)=>{function t(d){try{JSON.parse(d)}catch(c){return!1}return!0}s.d(M,{cU:()=>t,Gs:()=>l,Ny:()=>e});const l={parse:{dateInput:"DD-MM-YYYY"},display:{dateInput:"DD-MM-YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},e={parse:{dateInput:"MM-YYYY"},display:{dateInput:"MM-YYYY",monthYearLabel:"MM-YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MM-YYYY"}}},15346:(A,M,s)=>{s.d(M,{X:()=>f});var t=s(83668),l=s(59832);let f=(()=>{class e{constructor(c){this._languageService=c}transform(c){if(c){let h=this._languageService.getSelectedLanguage(),v=c.split(".");if(2==v.length)try{return this._languageService.langs[h][v[0]][v[1]]}catch(D){return"Can't Translate Data"}}return c}}return e.\u0275fac=function(c){return new(c||e)(t.Y36(l.K,16))},e.\u0275pipe=t.Yjl({name:"translate",type:e,pure:!1}),e})()},37025:(A,M,s)=>{s.d(M,{b:()=>b});var t=s(83668),l=s(49133),f=s(90949),e=s(62311),d=s(85993),c=s(21177),h=s(44290),v=s(92118),D=s(47975),O=s(4205),E=s(18260),g=s(44522);const T=`${E.N.apiUrl}/customer`;let r=(()=>{class _{constructor(n){this.httpClient=n}getCustomerList(n={},a,p){let u=T+"?";return n.name&&(u=u+"name="+n.name+"&"),n.partyCode&&(u=u+"partyCode="+n.partyCode+"&"),n.startDate&&(u=u+"startDate="+n.startDate+"&"),n.endDate&&(u=u+"endDate="+n.endDate+"&"),n.statusCode&&(u=u+"statusCode="+n.statusCode+"&"),n.identityType&&(u=u+"identityType="+n.identityType+"&"),n.identityNumber&&(u=u+"identityNumber="+n.identityNumber+"&"),p&&(u=u+"isPartyCode="+a),console.log(u),this.httpClient.get(u)}}return _.\u0275fac=function(n){return new(n||_)(t.LFG(g.eN))},_.\u0275prov=t.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();var m=s(86019),o=s(15470),i=s(85472),C=s(57842),Z=s(15346);function I(_,y){if(1&_){const n=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){return t.CHM(n),t.oxw().navigateToDetail("create")}),t._UZ(1,"span",27),t.qZA()}}function L(_,y){if(1&_){const n=t.EpF();t.TgZ(0,"div",28),t.TgZ(1,"app-material-table-view",29),t.NdJ("emitter",function(p){return t.CHM(n),t.oxw().actionBtn(p)})("rowselect",function(p){return t.CHM(n),t.oxw().rowSelected(p)}),t.qZA(),t.qZA()}if(2&_){const n=t.oxw();t.xp6(1),t.Q6J("data",n.customerList)("colum",n.ELEMENT_COL)("displayedColumns",n.displayedColumns)("selectable",n.isPopup)}}function Y(_,y){if(1&_){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",30),t.TgZ(2,"button",31),t.NdJ("click",function(){return t.CHM(n),t.oxw().closeModal()}),t._uU(3,"Cancel"),t.qZA(),t.TgZ(4,"button",32),t.NdJ("click",function(){return t.CHM(n),t.oxw().nextProd()}),t._uU(5,"Next"),t.qZA(),t.qZA(),t.BQk()}if(2&_){const n=t.oxw();t.xp6(4),t.Q6J("disabled",!n.selected.customerId)}}let b=(()=>{class _{constructor(n,a,p,u){this.router=n,this.cdf=a,this.customerListService=p,this.modalService=u,this.ELEMENT_COL=JSON.parse(JSON.stringify(e.Ks)),this.displayedColumns=JSON.parse(JSON.stringify(e.Q1)),this.customerList=[],this.statusOption=e.qb,this.identityTypeOption=e.Mf,this.selectedUser=new t.vpe,this.isPopup=!1,this.party=!1,this.isDynamic=!1,this.show=!1,this.loadForm()}ngOnInit(){this.isPopup&&(this.ELEMENT_COL.splice(9,1),this.displayedColumns.splice(9,1)),this.show=!0}ngAfterViewInit(){this.getList()}loadForm(){this.customerForm=new l.cw({name:new l.NI(null),identityType:new l.NI(null),identityNumber:new l.NI(null),statusCode:new l.NI(null),partyCode:new l.NI(null),startDate:new l.NI(null),endDate:new l.NI(null)})}navigateToDetail(n,a,p){this.router.navigate(["/customer/customer-detail"],{queryParams:{pageStatus:n,pageId:a,pageSecondaryId:p}})}getList(){this.customerListService.getCustomerList(this.customerForm.value,this.party,!(!this.isPopup||this.isDynamic)).toPromise().then(a=>{a&&(this.customerList=a,this.cdf.detectChanges(),this.matTable&&this.matTable.reChangeData())})}get selected(){let n;return this.matTable&&(n=this.matTable.selection.selected[0]),n||{customerId:0}}rowSelected(n){this.selectedUser.emit(n)}cancel(){this.customerForm.reset(),this.getList()}actionBtn(n){"edit"==n.cmd&&this.navigateToDetail("edit",n.data.customerId,n.data.individualId)}isControlValid(n){const a=this.customerForm.controls[n];return a.valid&&(a.dirty||a.touched)}isControlInvalid(n){const a=this.customerForm.controls[n];return a.invalid&&(a.dirty||a.touched)}controlHasError(n,a){const p=this.customerForm.controls[a];return p.hasError(n)&&(p.dirty||p.touched)}isControlTouched(n){const a=this.customerForm.controls[n];return a.dirty||a.touched}nextProd(){this.selected.customerId&&this.modalService.dismissAll({data:this.selected,type:"save"})}closeModal(){this.modalService.dismissAll()}}return _.\u0275fac=function(n){return new(n||_)(t.Y36(O.F0),t.Y36(t.sBO),t.Y36(r),t.Y36(d.FF))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-customer-list"]],viewQuery:function(n,a){if(1&n&&t.Gf(f.I,5),2&n){let p;t.iGM(p=t.CRH())&&(a.matTable=p.first)}},inputs:{isPopup:"isPopup",party:"party",isDynamic:"isDynamic"},outputs:{selectedUser:"selectedUser"},features:[t._Bn([{provide:d.DO,useClass:c.Wv},{provide:d.NG,useClass:c.ke},{provide:h._A,useClass:v.t7,deps:[h.Ad]},{provide:h.sG,useValue:D.Gs}])],decls:62,vars:53,consts:[[1,"row"],[1,"col-12"],[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label","left-border-image"],[1,"card-toolbar"],["type","button","class","btn btn-primary btn-circle","style","margin-right: 1rem;\n                    ",3,"click",4,"ngIf"],[1,"flaticon2-magnifier-tool","search-tool",3,"click"],["type","button",1,"btn","btn-primary","ml-2",2,"min-width","50px",3,"click"],[1,""],[1,"card-body","px-10","py-3"],["action","#",1,"form",3,"formGroup"],[1,"row",2,"align-items","center"],["remove-host","",3,"formInput","colClass"],[1,"col-md-6"],[1,"form-group","row"],[1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","name","name","autocomplete","off","formControlName","name",1,"form-control","form-control-sm"],["type","text","name","partyCode","autocomplete","off","formControlName","partyCode",1,"form-control","form-control-sm"],["bindLabel","value","bindValue","code","formControlName","identityType",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["type","text","name","identityNumber","autocomplete","off","formControlName","identityNumber",1,"form-control","form-control-sm"],["bindLabel","value","bindValue","code","formControlName","statusCode",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["class","card-body customer-card-body",4,"ngIf"],[4,"ngIf"],["type","button",1,"btn","btn-primary","btn-circle",2,"margin-right","1rem",3,"click"],[1,"flaticon2-plus"],[1,"card-body","customer-card-body"],[3,"data","colum","displayedColumns","selectable","emitter","rowselect"],[1,"card-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","button",1,"btn","btn-primary","btn-elevate",3,"disabled","click"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"h3",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.TgZ(8,"div",6),t.YNc(9,I,2,0,"button",7),t.TgZ(10,"span",8),t.NdJ("click",function(){return a.getList()}),t.qZA(),t.TgZ(11,"button",9),t.NdJ("click",function(){return a.cancel()}),t.TgZ(12,"span",10),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",11),t.TgZ(16,"form",12),t.TgZ(17,"div",13),t._UZ(18,"app-start-end-date",14),t.qZA(),t.TgZ(19,"div",13),t.TgZ(20,"div",15),t.TgZ(21,"div",16),t.TgZ(22,"label",17),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",18),t._UZ(26,"input",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",15),t.TgZ(28,"div",16),t.TgZ(29,"label",17),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"div",18),t._UZ(33,"input",20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"div",13),t.TgZ(35,"div",15),t.TgZ(36,"div",16),t.TgZ(37,"label",17),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"div",18),t._UZ(41,"ng-select",21),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",15),t.TgZ(43,"div",16),t.TgZ(44,"label",17),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"div",18),t._UZ(48,"input",22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"div",0),t.TgZ(50,"div",15),t.TgZ(51,"div",16),t.TgZ(52,"label",17),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"div",18),t._UZ(56,"ng-select",23),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",0),t.TgZ(58,"div",1),t.TgZ(59,"div",2),t.YNc(60,L,2,4,"div",24),t.YNc(61,Y,6,1,"ng-container",25),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.ekj("remove-p",a.isPopup),t.xp6(4),t.Oqu(t.lcZ(7,39,"FORM.customer_list")),t.xp6(3),t.Q6J("ngIf",!a.isPopup),t.xp6(4),t.Oqu(t.lcZ(14,41,"FORM.btn_cancel")),t.xp6(3),t.Q6J("formGroup",a.customerForm),t.xp6(2),t.Q6J("formInput",a.customerForm)("colClass","col-md-6"),t.xp6(5),t.Oqu(t.lcZ(24,43,"FORM.status")),t.xp6(3),t.ekj("is-invalid",a.isControlInvalid("name"))("is-valid",a.isControlValid("name")),t.xp6(4),t.Oqu(t.lcZ(31,45,"FORM.name")),t.xp6(3),t.ekj("is-invalid",a.isControlInvalid("partyCode"))("is-valid",a.isControlValid("partyCode")),t.xp6(5),t.Oqu(t.lcZ(39,47,"FORM.party_code")),t.xp6(3),t.ekj("is-invalid",a.isControlInvalid("identityType"))("is-valid",a.isControlValid("identityType")),t.Q6J("items",a.identityTypeOption),t.xp6(4),t.Oqu(t.lcZ(46,49,"FORM.id_type")),t.xp6(3),t.ekj("is-invalid",a.isControlInvalid("identityNumber"))("is-valid",a.isControlValid("identityNumber")),t.xp6(5),t.Oqu(t.lcZ(54,51,"FORM.id_no")),t.xp6(3),t.ekj("is-invalid",a.isControlInvalid("statusCode"))("is-valid",a.isControlValid("statusCode")),t.Q6J("items",a.statusOption),t.xp6(3),t.ekj("remove-p",a.isPopup),t.xp6(1),t.Q6J("ngIf",a.show),t.xp6(1),t.Q6J("ngIf",a.isPopup&&!a.isDynamic))},directives:[m.O5,l._Y,l.JL,l.sg,o.Q,i.Z,l.Fj,l.JJ,l.u,C.w9,f.I],pipes:[Z.X],styles:[".remove-p[_ngcontent-%COMP%]{margin-bottom:0}.col-form-label[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.form-group.row[_ngcontent-%COMP%]{align-items:center}"]}),_})()},62311:(A,M,s)=>{s.d(M,{Ks:()=>l,Q1:()=>f,qb:()=>e,Mf:()=>d});var t=s(18510);const l=[{title:"First Name",type:t.Y.FEILD,field:"firstName"},{title:"Middle Name",type:t.Y.FEILD,field:"middleName"},{title:"Last Name",type:t.Y.FEILD,field:"lastName"},{title:"Party Code",type:t.Y.FEILD,field:"partyCode"},{title:"ID Type",type:t.Y.FEILD,field:"identityType"},{title:"ID No.",type:t.Y.FEILD,field:"identityNumber"},{title:"Date of Birth",type:t.Y.FEILD,field:"dateOfBirth",isFromatDate:!0},{title:"Father Name",type:t.Y.FEILD,field:"fatherName"},{title:"Status",type:t.Y.FEILD,field:"statusCode",isCustomerStatus:!0},{title:"Actions",type:t.Y.ACTION,field:"actions",btn:{edit:!0}}],f=["firstName","middleName","lastName","partyCode","identityType","identityNumber","dateOfBirth","fatherName","statusCode","actions"],e=[{code:"A",value:"Active"},{code:"I",value:"Inactive"}],d=[{code:"NRC",value:"NRC"},{code:"FRC",value:"FRC"},{code:"PASSPORT",value:"Passport"},{code:"OTHER",value:"Others"}]}}]);