"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[617],{49875:(tt,F,c)=>{c.d(F,{Ys:()=>M,ou:()=>ot,p3:()=>I});var u=c(64762),A=c(18260),x=c(91691),D=c(91278),C=(()=>{return(l=C||(C={})).Documents="DOCUMENTS",l.Data="DATA",l.Library="LIBRARY",l.Cache="CACHE",l.External="EXTERNAL",l.ExternalStorage="EXTERNAL_STORAGE",C;var l})();const g=(0,D.fo)("Filesystem",{web:()=>c.e(2571).then(c.bind(c,52571)).then(l=>new l.FilesystemWeb)}),et=(0,D.fo)("BlobWriter");function $(l){const T=new Uint8Array(l);let h="",f=0;for(;!(f>=T.byteLength);)h+=String.fromCharCode(T[f]),f+=1;return window.btoa(h)}function j(l,T,h){if(0===h.size)return Promise.resolve();const f=393216,v=h.slice(0,f);return new window.Response(v).arrayBuffer().then(function(S){return g.appendFile({directory:l,path:T,data:$(S)})}).then(function(){return j(l,T,h.slice(f))})}function Q({path:l,directory:T,blob:h,recursive:f}){return g.writeFile({directory:T,path:l,recursive:f,data:""}).then(function({uri:v}){return j(T,l,h).then(function(){return v})})}const N=Object.freeze(function(l){const{path:T,directory:h,blob:f,recursive:v,on_fallback:R}=l;return"ios"!==D.dV.platform&&"android"!==D.dV.platform?Q(l):Promise.all([et.get_config(),g.getUri({path:T,directory:h})]).then(function([E,X]){const{base_url:ct,auth_token:at}=E,rt=X.uri.replace("file://","");return Promise.all([fetch(ct+rt+(v?"?recursive=true":""),{headers:{authorization:at},method:"put",body:f}),Promise.resolve(X)])}).then(function([S,E]){if(204!==S.status)throw new Error("Bad HTTP status: "+S.status);return E.uri}).catch(function(E){return void 0!==R&&R(E),Q(l)})});var w=c(83668),P=c(44522),it=c(96360),V=c(60807),J=c(18829),W=c(60940);const nt=`${A.N.apiUrl}/attachment-uploader`;let I=(()=>{class l extends x.i{constructor(h){super(h,nt),this.httpClient=h}}return l.\u0275fac=function(h){return new(h||l)(w.LFG(P.eN))},l.\u0275prov=w.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const z=`${A.N.apiUrl}/attachment-downloader`;let M=(()=>{class l extends x.i{constructor(h,f,v,R,S){super(h,z),this.httpClient=h,this.file=f,this.loadingService=v,this.toastService=R,this.alertService=S}getDownload(h,f){this.httpClient.get(z+"/"+h,{responseType:"blob"}).toPromise().then(v=>{v&&(D.dV.isNativePlatform()?this.mobileDownload(f,v):this.downloadFile(v,f))})}downloadFile(h,f){var v=document.createElement("a");v.href=URL.createObjectURL(h),v.download=f,v.click(),v.remove()}mobileDownload(h,f){return(0,u.mG)(this,void 0,void 0,function*(){try{yield g.mkdir({path:"kbzsale_downloads",directory:C.Documents,recursive:!1}),this.createFile(h,f)}catch(v){this.createFile(h,f)}})}createFile(h,f){return(0,u.mG)(this,void 0,void 0,function*(){try{yield N({path:"kbzsale_downloads/"+h,directory:C.Documents,blob:f}),yield this.loadingService.deactivate(),this.alertService.activate('"Download File',"Success Message")}catch(v){yield this.loadingService.deactivate(),this.alertService.activate('"Download Fail',"Error Message")}})}}return l.\u0275fac=function(h){return new(h||l)(w.LFG(P.eN),w.LFG(it.$),w.LFG(V.b),w.LFG(J.T),w.LFG(W.c))},l.\u0275prov=w.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const H=`${A.N.apiUrl}/attachment-ref`;let ot=(()=>{class l extends x.i{constructor(h){super(h,H),this.httpClient=h}getAttachmentListRef(h,f){return this.httpClient.get(H+"?refDocNo="+h+"&refDocType="+f)}}return l.\u0275fac=function(h){return new(h||l)(w.LFG(P.eN))},l.\u0275prov=w.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},87952:(tt,F,c)=>{c.d(F,{J:()=>A});var u=c(49133);function A(x,D){let C=D instanceof u.cw?D.getRawValue():D.value,t=C[x.parentName],U=C[x.parentName+"Code"];return x.show?x.isArray?x.value.includes(t)||x.value.includes(U):t==x.value||U==x.value:!!t}},1402:(tt,F,c)=>{c.d(F,{it:()=>A,eM:()=>x});var A=(()=>{return(D=A||(A={})).DYN="dyn",D.STATIC="static",A;var D})();const x={"01":"Draft","02":"Active"}},80617:(tt,F,c)=>{c.r(F),c.d(F,{ResourseDetailModule:()=>Fe});var u=c(86019),A=c(64762),x=c(87952),D=c(1402),C=c(77692),t=c(83668);function U(n,o,e){this.x=n,this.y=o,this.time=e||(new Date).getTime()}function B(n,o,e,i){this.startPoint=n,this.control1=o,this.control2=e,this.endPoint=i}function g(n,o){var e=this,i=o||{};this.velocityFilterWeight=i.velocityFilterWeight||.7,this.minWidth=i.minWidth||.5,this.maxWidth=i.maxWidth||2.5,this.dotSize=i.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=i.penColor||"black",this.backgroundColor=i.backgroundColor||"rgba(0,0,0,0)",this.onBegin=i.onBegin,this.onEnd=i.onEnd,this._canvas=n,this._ctx=n.getContext("2d"),this.clear(),this._handleMouseDown=function(a){1===a.which&&(e._mouseButtonDown=!0,e._strokeBegin(a))},this._handleMouseMove=function(a){e._mouseButtonDown&&e._strokeUpdate(a)},this._handleMouseUp=function(a){1===a.which&&e._mouseButtonDown&&(e._mouseButtonDown=!1,e._strokeEnd(a))},this._handleTouchStart=function(a){1===a.targetTouches.length&&e._strokeBegin(a.changedTouches[0])},this._handleTouchMove=function(a){a.preventDefault(),e._strokeUpdate(a.targetTouches[0])},this._handleTouchEnd=function(a){a.target===e._canvas&&(a.preventDefault(),e._strokeEnd(a))},this.on()}U.prototype.velocityFrom=function(n){return this.time!==n.time?this.distanceTo(n)/(this.time-n.time):1},U.prototype.distanceTo=function(n){return Math.sqrt(Math.pow(this.x-n.x,2)+Math.pow(this.y-n.y,2))},B.prototype.length=function(){for(var o=0,e=void 0,i=void 0,a=0;a<=10;a+=1){var s=a/10,r=this._point(s,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),d=this._point(s,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(a>0){var p=r-e,m=d-i;o+=Math.sqrt(p*p+m*m)}e=r,i=d}return o},B.prototype._point=function(n,o,e,i,a){return o*(1-n)*(1-n)*(1-n)+3*e*(1-n)*(1-n)*n+3*i*(1-n)*n*n+a*n*n*n},g.prototype.clear=function(){var n=this._ctx,o=this._canvas;n.fillStyle=this.backgroundColor,n.clearRect(0,0,o.width,o.height),n.fillRect(0,0,o.width,o.height),this._data=[],this._reset(),this._isEmpty=!0},g.prototype.fromDataURL=function(n){var o=this,e=new Image,i=window.devicePixelRatio||1,a=this._canvas.width/i,s=this._canvas.height/i;this._reset(),e.src=n,e.onload=function(){o._ctx.drawImage(e,0,0,a,s)},this._isEmpty=!1},g.prototype.toDataURL=function(n){var o;if("image/svg+xml"===n)return this._toSVG();for(var e=arguments.length,i=Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a];return(o=this._canvas).toDataURL.apply(o,[n].concat(i))},g.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},g.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},g.prototype.isEmpty=function(){return this._isEmpty},g.prototype._strokeBegin=function(n){this._data.push([]),this._reset(),this._strokeUpdate(n),"function"==typeof this.onBegin&&this.onBegin(n)},g.prototype._strokeUpdate=function(n){var i=this._createPoint(n.clientX,n.clientY),a=this._addPoint(i),s=a.curve,r=a.widths;s&&r&&this._drawCurve(s,r.start,r.end),this._data[this._data.length-1].push({x:i.x,y:i.y,time:i.time})},g.prototype._strokeEnd=function(n){var e=this.points[0];!(this.points.length>2)&&e&&this._drawDot(e),"function"==typeof this.onEnd&&this.onEnd(n)},g.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},g.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},g.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},g.prototype._createPoint=function(n,o,e){var i=this._canvas.getBoundingClientRect();return new U(n-i.left,o-i.top,e||(new Date).getTime())},g.prototype._addPoint=function(n){var o=this.points,e=void 0;if(o.push(n),o.length>2){3===o.length&&o.unshift(o[0]);var i=(e=this._calculateCurveControlPoints(o[0],o[1],o[2])).c2;e=this._calculateCurveControlPoints(o[1],o[2],o[3]);var s=new B(o[1],i,e.c1,o[2]),r=this._calculateCurveWidths(s);return o.shift(),{curve:s,widths:r}}return{}},g.prototype._calculateCurveControlPoints=function(n,o,e){var i=n.x-o.x,a=n.y-o.y,s=o.x-e.x,r=o.y-e.y,d_x=(n.x+o.x)/2,d_y=(n.y+o.y)/2,p_x=(o.x+e.x)/2,p_y=(o.y+e.y)/2,m=Math.sqrt(i*i+a*a),_=Math.sqrt(s*s+r*r),O=_/(m+_),k=o.x-(p_x+(d_x-p_x)*O),K=o.y-(p_y+(d_y-p_y)*O);return{c1:new U(d_x+k,d_y+K),c2:new U(p_x+k,p_y+K)}},g.prototype._calculateCurveWidths=function(n){var i={start:null,end:null},a=this.velocityFilterWeight*n.endPoint.velocityFrom(n.startPoint)+(1-this.velocityFilterWeight)*this._lastVelocity,s=this._strokeWidth(a);return i.start=this._lastWidth,i.end=s,this._lastVelocity=a,this._lastWidth=s,i},g.prototype._strokeWidth=function(n){return Math.max(this.maxWidth/(n+1),this.minWidth)},g.prototype._drawPoint=function(n,o,e){var i=this._ctx;i.moveTo(n,o),i.arc(n,o,e,0,2*Math.PI,!1),this._isEmpty=!1},g.prototype._drawCurve=function(n,o,e){var i=this._ctx,a=e-o,s=Math.floor(n.length());i.beginPath();for(var r=0;r<s;r+=1){var d=r/s,p=d*d,m=p*d,_=1-d,y=_*_,Z=y*_,O=Z*n.startPoint.x;O+=3*y*d*n.control1.x,O+=3*_*p*n.control2.x;var q=Z*n.startPoint.y;q+=3*y*d*n.control1.y,q+=3*_*p*n.control2.y,this._drawPoint(O+=m*n.endPoint.x,q+=m*n.endPoint.y,o+m*a)}i.closePath(),i.fill()},g.prototype._drawDot=function(n){var o=this._ctx,e="function"==typeof this.dotSize?this.dotSize():this.dotSize;o.beginPath(),this._drawPoint(n.x,n.y,e),o.closePath(),o.fill()},g.prototype._fromData=function(n,o,e){for(var i=0;i<n.length;i+=1){var a=n[i];if(a.length>1)for(var s=0;s<a.length;s+=1){var r=a[s],d=new U(r.x,r.y,r.time);if(0===s)this._reset(),this._addPoint(d);else if(s!==a.length-1){var p=this._addPoint(d),m=p.curve,_=p.widths;m&&_&&o(m,_)}}else this._reset(),e(a[0])}},g.prototype._toSVG=function(){var n=this,o=this._data,e=this._canvas,i=Math.max(window.devicePixelRatio||1,1),r=e.width/i,d=e.height/i,p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.setAttributeNS(null,"width",e.width),p.setAttributeNS(null,"height",e.height),this._fromData(o,function(b,L){var Y=document.createElement("path");if(!(isNaN(b.control1.x)||isNaN(b.control1.y)||isNaN(b.control2.x)||isNaN(b.control2.y))){var Ne="M "+b.startPoint.x.toFixed(3)+","+b.startPoint.y.toFixed(3)+" C "+b.control1.x.toFixed(3)+","+b.control1.y.toFixed(3)+" "+b.control2.x.toFixed(3)+","+b.control2.y.toFixed(3)+" "+b.endPoint.x.toFixed(3)+","+b.endPoint.y.toFixed(3);Y.setAttribute("d",Ne),Y.setAttribute("stroke-width",(2.25*L.end).toFixed(3)),Y.setAttribute("stroke",n.penColor),Y.setAttribute("fill","none"),Y.setAttribute("stroke-linecap","round"),p.appendChild(Y)}},function(b){var L=document.createElement("circle"),Y="function"==typeof n.dotSize?n.dotSize():n.dotSize;L.setAttribute("r",Y),L.setAttribute("cx",b.x),L.setAttribute("cy",b.y),L.setAttribute("fill",n.penColor),p.appendChild(L)});var _='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+r+" "+d+'" width="'+r+'" height="'+d+'">',y=p.innerHTML;if(void 0===y){var Z=document.createElement("dummy"),O=p.childNodes;Z.innerHTML="";for(var q=0;q<O.length;q+=1)Z.appendChild(O[q].cloneNode(!0));y=Z.innerHTML}return"data:image/svg+xml;base64,"+btoa(_+y+"</svg>")},g.prototype.fromData=function(n){var o=this;this.clear(),this._fromData(n,function(e,i){return o._drawCurve(e,i.start,i.end)},function(e){return o._drawDot(e)})},g.prototype.toData=function(){return this._data};const et=g;let $=(()=>{class n{constructor(e){this.elementRef=e,this.options=this.options||{},this.onBeginEvent=new t.vpe,this.onEndEvent=new t.vpe}ngAfterContentInit(){const e=this.elementRef.nativeElement.querySelector("canvas");this.options.canvasHeight&&(e.height=this.options.canvasHeight),this.options.canvasWidth&&(e.width=this.options.canvasWidth),this.signaturePad=new et(e,this.options),this.signaturePad.onBegin=this.onBegin.bind(this),this.signaturePad.onEnd=this.onEnd.bind(this)}ngOnDestroy(){const e=this.elementRef.nativeElement.querySelector("canvas");e.width=0,e.height=0}resizeCanvas(){const e=Math.max(window.devicePixelRatio||1,1),i=this.signaturePad.canvas;i.width=i.offsetWidth*e,i.height=i.offsetHeight*e,i.getContext("2d").scale(e,e),this.signaturePad.clear()}toData(){return this.signaturePad?this.signaturePad.toData():[]}fromData(e){this.signaturePad.fromData(e)}toDataURL(e,i){return this.signaturePad.toDataURL(e,i)}fromDataURL(e,i={}){!i.hasOwnProperty("height")&&this.options.canvasHeight&&(i.height=this.options.canvasHeight),!i.hasOwnProperty("width")&&this.options.canvasWidth&&(i.width=this.options.canvasWidth),this.signaturePad.fromDataURL(e,i)}clear(){this.signaturePad.clear()}isEmpty(){return this.signaturePad.isEmpty()}off(){this.signaturePad.off()}on(){this.signaturePad.on()}set(e,i){switch(e){case"canvasHeight":this.signaturePad.canvas.height=i;break;case"canvasWidth":this.signaturePad.canvas.width=i;break;default:this.signaturePad[e]=i}}onBegin(){this.onBeginEvent.emit(!0)}onEnd(){this.onEndEvent.emit(!0)}queryPad(){return this.signaturePad}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq))},n.\u0275cmp=t.Xpm({type:n,selectors:[["signature-pad"]],inputs:{options:"options"},outputs:{onBeginEvent:"onBeginEvent",onEndEvent:"onEndEvent"},decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"canvas")},encapsulation:2}),n})(),j=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[]]}),n})();var Q=c(85993),G=c(49875),N=c(60940);let w=(()=>{class n{constructor(e,i,a){this.modal=e,this.fileUpload=i,this.alertService=a,this.signaturePadOptions={minWidth:5,canvasWidth:500,canvasHeight:300}}ngOnInit(){}ngAfterViewInit(){this.signaturePad.set("minWidth",5),this.signaturePad.clear()}clearSign(){this.signaturePad.clear()}saveSign(){let e=this.signaturePad.toDataURL().toString().split(",")[1];var i=4*Math.ceil(e.length/3)*.5624896334383812;let a={fileStr:e,fileName:(new Date).getTime(),fileType:"png",fileSize:i,contentType:"png",fileExtension:"png"};this.fileUpload.save(a).toPromise().then(s=>{s&&this.modal.dismiss({data:s,type:"save"})})}deleteEditModal(){this.alertService.activate("Are you sure want to delete?","Warning Message").then(e=>{e&&this.modal.dismiss({type:"delete"})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Q.Kz),t.Y36(G.p3),t.Y36(N.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-resourse-detail"]],viewQuery:function(e,i){if(1&e&&t.Gf($,5),2&e){let a;t.iGM(a=t.CRH())&&(i.signaturePad=a.first)}},decls:13,vars:1,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4","left-border-image"],[1,"overlay","overlay-block","cursor-default","modal-body"],[3,"options"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-secondary","btn-elevate",3,"click"],["type","submit",1,"btn","btn-primary","btn-elevate",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._uU(3," Sign here ...! "),t.qZA(),t.qZA(),t.TgZ(4,"div",3),t._UZ(5,"signature-pad",4),t.qZA(),t.TgZ(6,"div",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return i.modal.dismiss()}),t._uU(8,"Cancel"),t.qZA(),t.TgZ(9,"button",7),t.NdJ("click",function(){return i.clearSign()}),t._uU(10,"Clear"),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return i.saveSign()}),t._uU(12,"Save"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(5),t.Q6J("options",i.signaturePadOptions))},directives:[$],styles:[""]}),n})();var P=c(35618),it=c(552),V=c(43329),J=c(45570),W=c(4205),nt=c(46045),I=c(23449),z=c(57842),M=c(49133);function H(n,o){1&n&&(t.TgZ(0,"th"),t._uU(1," Option "),t.qZA())}function ot(n,o){1&n&&(t.TgZ(0,"th",12),t._uU(1," Sum Insured "),t.qZA())}function l(n,o){1&n&&(t.TgZ(0,"th",12),t._uU(1," Unit "),t.qZA())}function T(n,o){1&n&&(t.TgZ(0,"th",12),t._uU(1," Premium "),t.qZA())}function h(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"ng-select",13),t.NdJ("ngModelChange",function(a){t.CHM(e);const s=t.oxw(3).$implicit;return t.oxw().addOnData[s.id].option=a}),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3).$implicit,i=t.oxw();t.xp6(1),t.Q6J("items",i.fireOptionData[e.code])("ngModel",i.addOnData[e.id].option)("clearable",!1)}}function f(n,o){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,h,2,3,"ng-container",8),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf","FRAD010"==e.code||"FRAD008"==e.code)}}function v(n,o){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(1),t.hij(" ",i.addOnData[e.id].sum>0?t.lcZ(2,1,i.addOnData[e.id].sum):i.addOnData[e.id].sum," ")}}function R(n,o){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(1),t.hij(" ",i.addOnData[e.id]?i.addOnData[e.id].unit:0," ")}}function S(n,o){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(1),t.hij(" ",i.addOnData[e.id].premium>0?t.lcZ(2,1,i.addOnData[e.id].premium):i.addOnData[e.id].premium," ")}}function E(n,o){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",7),t._uU(2),t.qZA(),t.YNc(3,f,2,1,"td",8),t.YNc(4,v,3,3,"td",8),t.YNc(5,R,2,1,"td",8),t.YNc(6,S,3,3,"td",8),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(2),t.Oqu(e.description),t.xp6(1),t.Q6J("ngIf","CLFR01"==i.product.code),t.xp6(1),t.Q6J("ngIf",e.sumInsured),t.xp6(1),t.Q6J("ngIf",e.unit),t.xp6(1),t.Q6J("ngIf",e.premium)}}function X(n,o){if(1&n&&(t.ynx(0),t.YNc(1,E,7,5,"tr",8),t.BQk()),2&n){const e=o.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.addOnData[e.id])}}let at=(()=>{class n{constructor(e,i){this.addonQuo=e,this.globalFun=i,this.addOnData={},this.addon={sumInsured:!1,unit:!1,premium:!1},this.fireOptionData={FRAD008:[{code:"T-001",value:"Building"},{code:"T-002",value:"Furniture"},{code:"T-003",value:"Machine"},{code:"T-004",value:"Goods/Stocks"},{code:"T-005",value:"Water Damage for Goods/Stocks"}],FRAD010:[{code:"T-001",value:"First Class Building"},{code:"T-002",value:"Second Class Building"},{code:"T-003",value:"Third Class Building"},{code:"T-004",value:"Fourth Class Building"}]}}ngOnInit(){if(this.optionId=this.optionId?this.optionId:this.resourcesId,this.product.addOns&&this.product.addOns.length>0){this.addon={sumInsured:this.product.addOns[0].sumInsured,unit:this.product.addOns[0].unit,premium:this.product.addOns[0].premium};for(const e of this.product.addOns)try{this.resourcesId&&this.addonQuo.getOne(e.id,this.resourcesId,this.optionId).toPromise().then(i=>{i&&(this.addOnData[e.id]={sum:i&&i.sumInsured||0,unit:i&&i.unit||0,premium:i&&i.premium||0,option:i&&i.option||"T-001"})})}catch(i){}}}getDetail(){return(0,A.mG)(this,void 0,void 0,function*(){if(this.product.addOns&&this.product.addOns.length>0){this.addon={sumInsured:this.product.addOns[0].sumInsured,unit:this.product.addOns[0].unit,premium:this.product.addOns[0].premium};for(const e of this.product.addOns){let i={};try{this.resourcesId&&(i=yield this.addonQuo.getOne(e.id,this.resourcesId,this.optionId).toPromise())}catch(a){}this.addOnData[e.id]={sum:i&&i.sumInsured||0,unit:i&&i.unit||0,premium:i&&i.premium||0}}}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(V.D),t.Y36(I.Q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-addon-view"]],inputs:{product:"product",resourcesId:"resourcesId",optionId:"optionId"},decls:18,vars:5,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center"],[2,"text-align","left"],[4,"ngIf"],["style","text-align: right;",4,"ngIf"],[1,"tbody-align"],[4,"ngFor","ngForOf"],[2,"text-align","right"],["bindLabel","value","bindValue","code","disabled","",1,"ng-custom-select",3,"items","ngModel","clearable","ngModelChange"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Addons Coverage :"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"table",6),t.TgZ(8,"thead"),t.TgZ(9,"tr"),t.TgZ(10,"th",7),t._uU(11," Addons Coverage "),t.qZA(),t.YNc(12,H,2,0,"th",8),t.YNc(13,ot,2,0,"th",9),t.YNc(14,l,2,0,"th",9),t.YNc(15,T,2,0,"th",9),t.qZA(),t.qZA(),t.TgZ(16,"tbody",10),t.YNc(17,X,2,1,"ng-container",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(12),t.Q6J("ngIf","CLFR01"==i.product.code),t.xp6(1),t.Q6J("ngIf",i.addon.sumInsured),t.xp6(1),t.Q6J("ngIf",i.addon.unit),t.xp6(1),t.Q6J("ngIf",i.addon.premium),t.xp6(2),t.Q6J("ngForOf",i.product.addOns))},directives:[u.O5,u.sg,z.w9,M.JJ,M.On],pipes:[u.JJ],styles:[""]}),n})();function rt(n,o){1&n&&(t.TgZ(0,"th",11),t._uU(1," Sum Insured "),t.qZA())}function Zt(n,o){1&n&&(t.TgZ(0,"th",11),t._uU(1," Unit "),t.qZA())}function Tt(n,o){1&n&&(t.TgZ(0,"th",11),t._uU(1," Premium "),t.qZA())}function yt(n,o){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(1),t.hij(" ",i.coverageData[e.id].sum>0?t.lcZ(2,1,i.coverageData[e.id].sum):i.coverageData[e.id].sum," ")}}function At(n,o){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(1),t.hij(" ",i.coverageData[e.id]?i.coverageData[e.id].unit:0," ")}}function xt(n,o){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(1),t.hij(" ",i.coverageData[e.id].premium>0?t.lcZ(2,1,i.coverageData[e.id].premium):i.coverageData[e.id].premium," ")}}function Dt(n,o){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",7),t._uU(2),t.qZA(),t.YNc(3,yt,3,3,"td",12),t.YNc(4,At,2,1,"td",12),t.YNc(5,xt,3,3,"td",12),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.description),t.xp6(1),t.Q6J("ngIf",e.sumInsured),t.xp6(1),t.Q6J("ngIf",e.unit),t.xp6(1),t.Q6J("ngIf",e.premium)}}function bt(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Dt,6,4,"tr",12),t.BQk()),2&n){const e=o.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.coverageData[e.id])}}let qt=(()=>{class n{constructor(e,i){this.coverageQuo=e,this.globalFun=i,this.coverage={sumInsured:!1,unit:!1,premium:!1},this.coverageData={}}ngOnInit(){if(this.optionId=this.optionId?this.optionId:this.resourcesId,this.product.coverages&&this.product.coverages.length>0){this.coverage={sumInsured:this.product.coverages[0].sumInsured,unit:this.product.coverages[0].unit,premium:this.product.coverages[0].premium};for(const e of this.product.coverages)this.resourcesId&&this.coverageQuo.getOne(e.id,this.resourcesId,this.optionId).toPromise().then(a=>{a&&(this.coverageData[e.id]={sum:a&&a.sumInsured||0,unit:a&&a.unit||0,premium:a&&a.premium||0})})}}getDetail(){return(0,A.mG)(this,void 0,void 0,function*(){if(this.product.coverages&&this.product.coverages.length>0){this.coverage={sumInsured:this.product.coverages[0].sumInsured,unit:this.product.coverages[0].unit,premium:this.product.coverages[0].premium};for(const e of this.product.coverages){let i={};try{this.resourcesId&&(i=yield this.coverageQuo.getOne(e.id,this.resourcesId,this.optionId).toPromise().catch(a=>a))}catch(a){}this.coverageData[e.id]={sum:i&&i.sumInsured||0,unit:i&&i.unit||0,premium:i&&i.premium||0}}}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(J.a),t.Y36(I.Q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coverage-view"]],inputs:{product:"product",resourcesId:"resourcesId",optionId:"optionId"},decls:17,vars:4,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center"],[2,"text-align","left"],["style","text-align: right;",4,"ngIf"],[1,"tbody-align"],[4,"ngFor","ngForOf"],[2,"text-align","right"],[4,"ngIf"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Basic Coverage :"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"table",6),t.TgZ(8,"thead"),t.TgZ(9,"tr"),t.TgZ(10,"th",7),t._uU(11," Basic Coverage "),t.qZA(),t.YNc(12,rt,2,0,"th",8),t.YNc(13,Zt,2,0,"th",8),t.YNc(14,Tt,2,0,"th",8),t.qZA(),t.qZA(),t.TgZ(15,"tbody",9),t.YNc(16,bt,2,1,"ng-container",10),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(12),t.Q6J("ngIf",i.coverage.sumInsured),t.xp6(1),t.Q6J("ngIf",i.coverage.unit),t.xp6(1),t.Q6J("ngIf",i.coverage.premium),t.xp6(2),t.Q6J("ngForOf",i.product.coverages))},directives:[u.O5,u.sg],pipes:[u.JJ],styles:[""]}),n})();var dt=c(27673),lt=c(65937),ut=c(75396);const wt=["chart"];function Ot(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"apx-chart",1),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("series",e.chartOptions.series)("chart",e.chartOptions.chart)("xaxis",e.chartOptions.xaxis)("yaxis",e.chartOptions.yaxis)("title",e.chartOptions.title)("legend",e.chartOptions.legend)("dataLabels",e.chartOptions.dataLabels)("markers",e.chartOptions.markers)}}let It=(()=>{class n{constructor(e,i,a,s){this.alertService=e,this.globalFun=i,this.eduPayment=a,this.cdf=s,this.actionEvent=new t.vpe,this.showDatas=[],this.show=!1,this.chartOptions={series:[{name:"Premium Amount",data:[],color:"#005f99"}],chart:{height:450,type:"line",toolbar:{show:!1}},title:{text:"Basic Benefit Illustration",offsetX:0,offsetY:10,floating:!1,style:{fontSize:"1.1rem",fontFamily:"Roboto"}},xaxis:{type:"category",categories:["0","1 year","2 years","3 years","4 years","5 years","6 years","7 years","8 years","9 years","10 years","11 years","12 years","13 years","14 years"],labels:{style:{fontSize:"1rem",fontFamily:"Roboto"}}},yaxis:{min:0,max:5e6,tickAmount:5,labels:{style:{fontSize:"1rem",fontFamily:"Roboto"}}},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5},dataLabels:{enabled:!0,textAnchor:"middle",offsetX:-10,offsetY:-5,enabledOnSeries:[0]},markers:{size:[5,0,0]}}}ngOnInit(){let e=this.parentData.map(i=>i.premiumPaid&&i.premiumPaid>0?i.premiumPaid:null);e.unshift(null),this.chartOptions.series[0].data=e,this.parentData.length>0&&"002"==this.parentData[0].benefitPlan&&(this.chartOptions.title.text="Double Benefit Illustration",this.chartOptions.yaxis.max=1e7,this.chartOptions.series[1]={data:[],name:"Goal"},this.chartOptions.series[2]={data:[],name:"2X Goal"},this.chartOptions.series[1].data=[5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6],this.chartOptions.series[2].data=[1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7])}createListData(){this.eduPayment.getMany(this.resourcesId).toPromise().then(e=>{if(e){let i=e.map(a=>{if(a.premiumPaid)return a.premiumPaid});i.unshift(0),e.length>0&&"002"==e[0].benefitPlan&&(this.chartOptions.title.text="Double Benefit Illustration",this.chartOptions.yaxis.max=1e7),this.chartOptions.series[0].data=i.filter(a=>a>=0),this.show=!0,this.cdf.detectChanges()}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(N.c),t.Y36(I.Q),t.Y36(lt.D),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-education-life-grip-view"]],viewQuery:function(e,i){if(1&e&&t.Gf(wt,5),2&e){let a;t.iGM(a=t.CRH())&&(i.chart=a.first)}},inputs:{product:"product",editData:"editData",resourcesId:"resourcesId",parentData:"parentData"},outputs:{actionEvent:"actionEvent"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"series","chart","xaxis","yaxis","title","legend","dataLabels","markers"]],template:function(e,i){1&e&&t.YNc(0,Ot,2,8,"ng-container",0),2&e&&t.Q6J("ngIf",i.parentData)},directives:[u.O5,ut.x],styles:[""]}),n})();function Ct(n,o){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",6),t._uU(6),t.ALo(7,"number"),t.qZA(),t.TgZ(8,"td",6),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"td",6),t._uU(12),t.ALo(13,"number"),t.qZA(),t.TgZ(14,"td",6),t._uU(15),t.ALo(16,"number"),t.qZA(),t.qZA()),2&n){const e=o.$implicit;t.xp6(2),t.Oqu(e.endOfPolicyYear),t.xp6(2),t.Oqu(e.age),t.xp6(2),t.Oqu(t.lcZ(7,6,e.premiumPaid)||"-"),t.xp6(3),t.Oqu(t.lcZ(10,8,e.deathBenefit)),t.xp6(3),t.Oqu(t.lcZ(13,10,e.surrenderValue)||"-"),t.xp6(3),t.Oqu(t.lcZ(16,12,e.maturityBenefit)||"-")}}function Ut(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"app-education-life-grip-view",10),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("parentData",e.showDatas)}}let Pt=(()=>{class n{constructor(e,i,a,s,r,d,p){this.globalFun=e,this.alertService=i,this.prodService=a,this.eduPreService=s,this.eduSurrService=r,this.eduPayment=d,this.cdf=p,this.actionEvent=new t.vpe,this.premimuRate={"9opt":5,"11opt":7,"14opt":10},this.frequency={monthly:1,quatarly:4,semi_annually:6,annually:12},this.lists=[],this.premiumRate=[],this.surrendRate=[],this.showDatas=[]}ngOnInit(){this.createListData()}createListData(){this.eduPayment.getMany(this.resourcesId).toPromise().then(e=>{e&&(this.showDatas=e,this.cdf.detectChanges())})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I.Q),t.Y36(N.c),t.Y36(P.f),t.Y36(dt.H),t.Y36(dt.D),t.Y36(lt.D),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-education-life-view"]],inputs:{product:"product",editData:"editData",resourcesId:"resourcesId"},outputs:{actionEvent:"actionEvent"},decls:25,vars:2,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"table","table-bordered"],[2,"text-align","right"],[4,"ngFor","ngForOf"],[1,"mb-5"],[4,"ngIf"],[3,"parentData"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Benefit Illustration"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"table",5),t.TgZ(7,"thead"),t.TgZ(8,"tr"),t.TgZ(9,"th"),t._uU(10,"End of Policy Year"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Age"),t.qZA(),t.TgZ(13,"th",6),t._uU(14,"Premium Paid"),t.qZA(),t.TgZ(15,"th",6),t._uU(16,"Death/PTD Benefit"),t.qZA(),t.TgZ(17,"th",6),t._uU(18,"Surrender Value"),t.qZA(),t.TgZ(19,"th",6),t._uU(20,"Maturity Benefit"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"tbody"),t.YNc(22,Ct,17,14,"tr",7),t.qZA(),t.qZA(),t._UZ(23,"hr",8),t.YNc(24,Ut,2,1,"ng-container",9),t.qZA(),t.qZA()),2&e&&(t.xp6(22),t.Q6J("ngForOf",i.showDatas),t.xp6(2),t.Q6J("ngIf",i.showDatas.length>0))},directives:[u.sg,u.O5,It],pipes:[u.JJ],styles:[""]}),n})();var pt=c(61438);const St=["chart"];function Ft(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"apx-chart",1),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("series",e.chartOptions.series)("chart",e.chartOptions.chart)("xaxis",e.chartOptions.xaxis)("yaxis",e.chartOptions.yaxis)("title",e.chartOptions.title)("legend",e.chartOptions.legend)("dataLabels",e.chartOptions.dataLabels)("markers",e.chartOptions.markers)}}let ht=(()=>{class n{constructor(e,i,a,s){this.alertService=e,this.globalFun=i,this.endoPayment=a,this.cdf=s,this.actionEvent=new t.vpe,this.showDatas=[],this.show=!1,this.chartOptions={series:[{name:"Premium Amount",data:[],color:"#005f99"}],chart:{height:450,type:"line",toolbar:{show:!1}},title:{text:"Basic Benefit Illustration",offsetX:0,offsetY:10,floating:!1,style:{fontSize:"1.1rem",fontFamily:"Roboto"}},xaxis:{type:"category",categories:["0","1 year","2 years","3 years","4 years","5 years","6 years","7 years","8 years","9 years","10 years","11 years","12 years","13 years","14 years"],labels:{style:{fontSize:"1rem",fontFamily:"Roboto"}}},yaxis:{min:0,max:5e6,tickAmount:5,labels:{style:{fontSize:"1rem",fontFamily:"Roboto"}}},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5},dataLabels:{enabled:!0,textAnchor:"middle",offsetX:-10,offsetY:-5,enabledOnSeries:[0]},markers:{size:[5,0,0]}}}ngOnInit(){let e=this.parentData.map(i=>i.premiumPaid&&i.premiumPaid>0?i.premiumPaid:null);e.unshift(null),this.chartOptions.series[0].data=e,this.parentData.length>0&&(this.chartOptions.yaxis.max=parseInt(this.parentData[0].benefit))}createListData(){this.endoPayment.getMany(this.resourcesId).toPromise().then(e=>{if(e){let i=e.map(a=>{if(a.premiumPaid)return a.premiumPaid});i.unshift(0),this.chartOptions.series[0].data=i.filter(a=>a>=0),this.show=!0,this.cdf.detectChanges()}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(N.c),t.Y36(I.Q),t.Y36(pt.F),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-endo-grip-view"]],viewQuery:function(e,i){if(1&e&&t.Gf(St,5),2&e){let a;t.iGM(a=t.CRH())&&(i.chart=a.first)}},inputs:{product:"product",editData:"editData",resourcesId:"resourcesId",parentData:"parentData"},outputs:{actionEvent:"actionEvent"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"series","chart","xaxis","yaxis","title","legend","dataLabels","markers"]],template:function(e,i){1&e&&t.YNc(0,Ft,2,8,"ng-container",0),2&e&&t.Q6J("ngIf",i.parentData)},directives:[u.O5,ut.x],styles:[""]}),n})();function Nt(n,o){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",6),t._uU(6),t.ALo(7,"number"),t.qZA(),t.TgZ(8,"td",6),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"td",6),t._uU(12),t.ALo(13,"number"),t.qZA(),t.TgZ(14,"td",6),t._uU(15),t.ALo(16,"number"),t.qZA(),t.qZA()),2&n){const e=o.$implicit;t.xp6(2),t.Oqu(e.endOfPolicyYear),t.xp6(2),t.Oqu(e.age),t.xp6(2),t.Oqu(t.lcZ(7,6,e.premiumPaid)||"-"),t.xp6(3),t.Oqu(t.lcZ(10,8,e.benefit)),t.xp6(3),t.Oqu(t.lcZ(13,10,e.surrenderValue)||"-"),t.xp6(3),t.Oqu(t.lcZ(16,12,e.policyLoan)||"-")}}function Rt(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"app-endo-grip-view",10),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("parentData",e.showDatas)}}let Yt=(()=>{class n{constructor(e,i){this.eduPayment=e,this.cdf=i,this.actionEvent=new t.vpe,this.premimuRate={"9opt":5,"11opt":7,"14opt":10},this.frequency={monthly:1,quatarly:4,semi_annually:6,annually:12},this.lists=[],this.premiumRate=[],this.surrendRate=[],this.showDatas=[]}ngOnInit(){this.createListData()}createListData(){this.eduPayment.getMany(this.resourcesId).toPromise().then(e=>{e&&(this.showDatas=e,this.cdf.detectChanges())})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(pt.F),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-endo-view"]],inputs:{product:"product",editData:"editData",resourcesId:"resourcesId"},outputs:{actionEvent:"actionEvent"},decls:25,vars:2,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"table","table-bordered"],[2,"text-align","right"],[4,"ngFor","ngForOf"],[1,"mb-5"],[4,"ngIf"],[3,"parentData"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Benefit Illustration"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"table",5),t.TgZ(7,"thead"),t.TgZ(8,"tr"),t.TgZ(9,"th"),t._uU(10,"End of Policy Year"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Age"),t.qZA(),t.TgZ(13,"th",6),t._uU(14,"Premium Paid"),t.qZA(),t.TgZ(15,"th",6),t._uU(16,"Death/PTD Benefit"),t.qZA(),t.TgZ(17,"th",6),t._uU(18,"Surrender Value"),t.qZA(),t.TgZ(19,"th",6),t._uU(20,"Policy Loan"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"tbody"),t.YNc(22,Nt,17,14,"tr",7),t.qZA(),t.qZA(),t._UZ(23,"hr",8),t.YNc(24,Rt,2,1,"ng-container",9),t.qZA(),t.qZA()),2&e&&(t.xp6(22),t.Q6J("ngForOf",i.showDatas),t.xp6(2),t.Q6J("ngIf",i.showDatas.length>0))},directives:[u.sg,u.O5,ht],pipes:[u.JJ],styles:[""]}),n})();var Et=c(75103);const gt="static_1642920843499";let Lt=(()=>{class n{constructor(e,i,a){this.fireService=e,this.globalFun=i,this.prodService=a,this.showData={}}ngOnInit(){this.refID=this.prodService.referenceID,this.tempResourcesId=this.resourcesId,this.globalFun.tempFormData[gt]?this.showData=this.globalFun.tempFormData[gt]:this.getDataAPI()}getDataAPI(){this.fireService.getOne(this.tempResourcesId).toPromise().then(e=>{e&&(this.showData=e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Et.V),t.Y36(I.Q),t.Y36(P.f))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-fire-page-view"]],inputs:{product:"product",resourcesId:"resourcesId"},decls:29,vars:11,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"list-group"],[1,"list-group-item"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Fire Product Details :"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"ul",5),t.TgZ(7,"li",6),t._uU(8," Policy Effective Date (From) : "),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.qZA(),t.TgZ(12,"li",6),t._uU(13," Policy Effective Date (To) : "),t.TgZ(14,"span"),t._uU(15),t.ALo(16,"date"),t.qZA(),t.qZA(),t.TgZ(17,"li",6),t._uU(18," Policy Duration : "),t.TgZ(19,"span"),t._uU(20),t.qZA(),t.qZA(),t.TgZ(21,"li",6),t._uU(22," Policy Type : "),t.TgZ(23,"span"),t._uU(24),t.qZA(),t.qZA(),t.TgZ(25,"li",6),t._uU(26," Currency : "),t.TgZ(27,"span"),t._uU(28),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(10),t.hij(" ",t.xi3(11,5,i.showData.startDate,"dd/MM/yyyy"),""),t.xp6(5),t.hij(" ",t.xi3(16,8,i.showData.endDate,"dd/MM/yyyy"),""),t.xp6(5),t.hij(" ",i.showData.policyDuration," Days"),t.xp6(4),t.hij(" ","T-001"==i.showData.policyType?"Normal":"Declaration",""),t.xp6(4),t.hij(" ","T-001"==i.showData.policyDuration?"MMK":"USD",""))},pipes:[u.uU],styles:[""]}),n})();var mt=c(66977);function Qt(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td",7),t._uU(5),t.ALo(6,"number"),t.qZA(),t.TgZ(7,"td",7),t._uU(8),t.ALo(9,"number"),t.qZA(),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(3),t.Oqu(e.buildingDescription),t.xp6(2),t.Oqu(t.lcZ(6,3,e.riskSi)),t.xp6(3),t.Oqu(t.lcZ(9,5,e.premium))}}function Vt(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.ALo(24,"number"),t.qZA(),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(3),t.Oqu(e.buildingDescription),t.xp6(2),t.Oqu(e.typeOfBuildingValue),t.xp6(2),t.Oqu(e.occupationOfBuildingValue),t.xp6(2),t.Oqu(e.buildingClassValue),t.xp6(2),t.Oqu(e.totalSquareFoot),t.xp6(2),t.Oqu(e.yearOfConstruction),t.xp6(2),t.Oqu(e.buildingSi),t.xp6(2),t.Oqu(e.proposedFurniture),t.xp6(2),t.Oqu(e.proposedMachinerySI),t.xp6(2),t.Oqu(e.proposeStockValue),t.xp6(2),t.Oqu(t.lcZ(24,11,e.riskSi))}}function Mt(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.qZA(),t.TgZ(24,"td"),t._uU(25),t.qZA(),t.TgZ(26,"td"),t._uU(27),t.qZA(),t.TgZ(28,"td"),t._uU(29),t.qZA(),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(3),t.Oqu(e.description),t.xp6(2),t.Oqu(e.firepremium||0),t.xp6(2),t.Oqu(e.STHTC),t.xp6(2),t.Oqu(e.IMPD),t.xp6(2),t.Oqu(e.RSMD),t.xp6(2),t.Oqu(e.BURGLARY),t.xp6(2),t.Oqu(e.ACD),t.xp6(2),t.Oqu(e.EQ),t.xp6(2),t.Oqu(e.SPONTCOMB),t.xp6(2),t.Oqu(e.SUBLSLD),t.xp6(2),t.Oqu(e.WARRISK),t.xp6(2),t.Oqu(e.EXPLOSION),t.xp6(2),t.Oqu(e.FLOOD),t.xp6(2),t.Oqu(e.premium)}}function kt(n,o){if(1&n&&(t.TgZ(0,"tbody"),t.YNc(1,Mt,30,14,"ng-container",8),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.addOnData)}}let Jt=(()=>{class n{constructor(e,i,a,s,r){this.fireRiskService=e,this.fireRsikService=i,this.productSerice=a,this.addonQuo=s,this.cdf=r,this.premiumAmt="",this.listData=[],this.totalPremium=0,this.totalSi=0,this.riskData=[],this.addOnData=[]=[]}ngOnInit(){this.getRiskList(),this.getRiskDetail()}getRiskList(){this.fireRiskService.getMany(this.resourcesId).toPromise().then(e=>{e&&(this.listData=e)})}getRiskDetail(){this.fireRsikService.getMany(this.resourcesId).toPromise().then(e=>{if(e){this.riskData=e,console.log("riskDetail",this.listData);for(let i of this.listData)this.totalPremium+=parseInt(i.premium),this.totalSi+=parseInt(i.riskSi);console.log(this.totalPremium,this.totalSi),this.getAddonCover()}})}getAddonCover(){return(0,A.mG)(this,void 0,void 0,function*(){this.product=this.productSerice.createingProd||this.productSerice.selectedProd,console.log(this.product,this.listData);let e=0;for(let i of this.listData){e+=1;let a={description:i.buildingDescription,premium:0};for(const s of this.product.addOns){this.optionId=i.id;try{this.resourcesId&&(this.additionalData=yield this.addonQuo.getOne(s.id,this.resourcesId,this.optionId).toPromise(),console.log("response",this.additionalData),this.additionalData?(a[s.code]=this.additionalData.premium||0,a.premium+=parseInt(this.additionalData.premium)):a[s.code]=0)}catch(r){}}console.log("ADDON",a),this.addOnData.push(a),console.log("ADDONDATA",this.addOnData),e==this.listData.length&&this.cdf.detectChanges()}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(mt.U),t.Y36(mt.U),t.Y36(P.f),t.Y36(V.D),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-fire-risk-view"]],inputs:{product:"product",editData:"editData",resourcesId:"resourcesId"},decls:91,vars:3,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center","fire-table"],[2,"text-align","right"],[4,"ngFor","ngForOf"],[1,"field-col"],[4,"ngIf"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Fire Risk"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"table",6),t.TgZ(8,"thead"),t.TgZ(9,"tr"),t.TgZ(10,"th"),t._uU(11,"Building Description"),t.qZA(),t.TgZ(12,"th",7),t._uU(13,"Sum Insured"),t.qZA(),t.TgZ(14,"th",7),t._uU(15,"Premium "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"tbody"),t.YNc(17,Qt,10,7,"ng-container",8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",0),t.TgZ(19,"div",1),t.TgZ(20,"div",2),t.TgZ(21,"h3",3),t._uU(22,"Risk Detail Information"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",4),t.TgZ(24,"div",5),t.TgZ(25,"table",6),t.TgZ(26,"thead"),t.TgZ(27,"tr"),t.TgZ(28,"th"),t._uU(29," Building Description "),t.qZA(),t.TgZ(30,"th"),t._uU(31," Type of Building "),t.qZA(),t.TgZ(32,"th"),t._uU(33," Occupation of Building "),t.qZA(),t.TgZ(34,"th"),t._uU(35," Building Class "),t.qZA(),t.TgZ(36,"th"),t._uU(37," Total Square Feet "),t.qZA(),t.TgZ(38,"th"),t._uU(39," Year of Construction "),t.qZA(),t.TgZ(40,"th"),t._uU(41," Proposed Building SI "),t.qZA(),t.TgZ(42,"th"),t._uU(43," Proposed Furniture "),t.qZA(),t.TgZ(44,"th"),t._uU(45," Proposed Machinery SI "),t.qZA(),t.TgZ(46,"th"),t._uU(47," Proposed Stock SI "),t.qZA(),t.TgZ(48,"th"),t._uU(49," Total SI "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(50,"tbody"),t.YNc(51,Vt,25,13,"ng-container",8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(52,"div",0),t.TgZ(53,"div",1),t.TgZ(54,"div",2),t.TgZ(55,"h3",3),t._uU(56,"Additional Cover Information"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",4),t.TgZ(58,"div",5),t.TgZ(59,"table",6),t.TgZ(60,"thead"),t.TgZ(61,"tr"),t.TgZ(62,"th",9),t._uU(63," Building Description "),t.qZA(),t.TgZ(64,"th",9),t._uU(65," Fire Premium "),t.qZA(),t.TgZ(66,"th",9),t._uU(67," STHTC "),t.qZA(),t.TgZ(68,"th",9),t._uU(69," Impact Damage "),t.qZA(),t.TgZ(70,"th",9),t._uU(71," RSMD "),t.qZA(),t.TgZ(72,"th",9),t._uU(73," Burglary "),t.qZA(),t.TgZ(74,"th",9),t._uU(75," Air Craft Damage "),t.qZA(),t.TgZ(76,"th",9),t._uU(77," EQ "),t.qZA(),t.TgZ(78,"th",9),t._uU(79," Spontaneous Combus "),t.qZA(),t.TgZ(80,"th",9),t._uU(81," Subsidence and Landslid "),t.qZA(),t.TgZ(82,"th",9),t._uU(83," War Risk "),t.qZA(),t.TgZ(84,"th",9),t._uU(85," Explosion "),t.qZA(),t.TgZ(86,"th",9),t._uU(87," Flood and Inundati "),t.qZA(),t.TgZ(88,"th",9),t._uU(89," Total Premium "),t.qZA(),t.qZA(),t.qZA(),t.YNc(90,kt,2,1,"tbody",10),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(17),t.Q6J("ngForOf",i.listData),t.xp6(34),t.Q6J("ngForOf",i.listData),t.xp6(39),t.Q6J("ngIf",i.addOnData.length>0))},directives:[u.sg,u.O5],pipes:[u.JJ],styles:[".fire-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .fire-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left}"]}),n})();var Bt=c(93931);function $t(n,o){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.qZA()),2&n){const e=o.$implicit;t.xp6(2),t.Oqu(e.keyName),t.xp6(2),t.hij("",e.value," Units")}}function jt(n,o){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"number"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"number"),t.qZA(),t.qZA()),2&n){const e=o.$implicit,i=o.index;t.xp6(2),t.Oqu(i+1),t.xp6(2),t.Oqu(t.lcZ(5,4,e.premium)),t.xp6(3),t.Oqu(t.lcZ(8,6,e.levy)),t.xp6(3),t.Oqu(t.lcZ(11,8,e.premium+e.levy))}}let Gt=(()=>{class n{constructor(e,i,a,s,r,d,p){this.globalFun=e,this.alertService=i,this.addOnQuoService=a,this.coverageQuoService=s,this.healthPayService=r,this.cdf=d,this.prodService=p,this.refID="",this.showData=[],this.schedule=[],this.totalP=0,this.totalL=0,this.tempResourcesId="",this.tempSchedule=[]}ngOnInit(){this.refID=this.prodService.referenceID,this.tempResourcesId=this.resourcesId,this.getCoverage(),this.getAddon(),this.getSchedule()}getAddon(){this.product.addOns.forEach(e=>(0,A.mG)(this,void 0,void 0,function*(){let i={};try{i=yield this.addOnQuoService.getOne(e.id,this.tempResourcesId,this.tempResourcesId).toPromise(),i&&this.showData.push({keyName:e.description,value:i.sumInsured})}catch(a){}}))}getCoverage(){this.product.coverages.forEach(e=>(0,A.mG)(this,void 0,void 0,function*(){let i={};try{i=yield this.coverageQuoService.getOne(e.id,this.tempResourcesId,this.tempResourcesId).toPromise(),i&&this.showData.unshift({keyName:e.description,value:i.sumInsured})}catch(a){}}))}getSchedule(){this.healthPayService.getMany(this.tempResourcesId).toPromise().then(e=>{if(e&&e.length>0){if(this.totalP=0,this.totalL=0,e.map(i=>{this.totalP+=i.premium,this.totalL+=i.levy}),this.schedule=e,"L"==e[0].paymentTerm)this.tempSchedule=[{premium:this.totalP,levy:this.totalL,total:this.totalP+this.totalL}];else{let i=this.totalP/2;this.tempSchedule=[{premium:i,levy:this.totalL,total:i+this.totalL},{premium:i,levy:0,total:i}]}this.cdf.detectChanges()}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I.Q),t.Y36(N.c),t.Y36(V.D),t.Y36(J.a),t.Y36(Bt.q),t.Y36(t.sBO),t.Y36(P.f))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-health-quo-view"]],inputs:{product:"product",editData:"editData",resourcesId:"resourcesId"},decls:44,vars:11,consts:[[1,"card","card-custom","gutter-b"],[1,"card-body","customer-card-body"],[1,"table","table-bordered","mt-5"],[1,"tbody-align"],[4,"ngFor","ngForOf"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"table","table-bordered"],[2,"text-align","right"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.TgZ(3,"thead",3),t.TgZ(4,"tr"),t.TgZ(5,"th"),t._uU(6," Coverages/Benefit "),t.qZA(),t.TgZ(7,"th"),t._uU(8," Sum Insured "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"tbody",3),t.YNc(10,$t,5,2,"tr",4),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",0),t.TgZ(12,"div",5),t.TgZ(13,"div",6),t.TgZ(14,"h3",7),t._uU(15,"Payment Schedules :"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",1),t.TgZ(17,"table",8),t.TgZ(18,"thead"),t.TgZ(19,"tr"),t.TgZ(20,"th"),t._uU(21," No. of Installment "),t.qZA(),t.TgZ(22,"th",9),t._uU(23," Premium "),t.qZA(),t.TgZ(24,"th",9),t._uU(25," Levy "),t.qZA(),t.TgZ(26,"th",9),t._uU(27," Total "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"tbody",3),t.YNc(29,jt,12,10,"tr",4),t.qZA(),t.TgZ(30,"tfoot",3),t.TgZ(31,"tr"),t.TgZ(32,"td"),t.TgZ(33,"b"),t._uU(34,"Total"),t.qZA(),t.qZA(),t.TgZ(35,"td"),t._uU(36),t.ALo(37,"number"),t.qZA(),t.TgZ(38,"td"),t._uU(39),t.ALo(40,"number"),t.qZA(),t.TgZ(41,"td"),t._uU(42),t.ALo(43,"number"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(10),t.Q6J("ngForOf",i.showData),t.xp6(19),t.Q6J("ngForOf",i.tempSchedule),t.xp6(7),t.Oqu(t.lcZ(37,5,i.totalP)),t.xp6(3),t.Oqu(t.lcZ(40,7,i.totalL)),t.xp6(3),t.Oqu(t.lcZ(43,9,i.totalP+i.totalL)))},directives:[u.sg],pipes:[u.JJ],styles:[""]}),n})();var Wt=c(75291);const _t="static_1634018514043";let ft=(()=>{class n{constructor(e,i,a){this.healthService=e,this.globalFun=i,this.prodService=a,this.showData={}}ngOnInit(){this.refID=this.prodService.referenceID,this.tempResourcesId=this.resourcesId,this.globalFun.tempFormData[_t]?this.showData=this.globalFun.tempFormData[_t]:this.getDataAPI()}getDataAPI(){this.healthService.getOne(this.tempResourcesId).toPromise().then(e=>{e&&(this.showData=e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Wt.e),t.Y36(I.Q),t.Y36(P.f))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-simple-page-view"]],inputs:{product:"product",resourcesId:"resourcesId"},decls:38,vars:17,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"list-group"],[1,"list-group-item"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Health Product Details :"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"ul",5),t.TgZ(7,"li",6),t._uU(8," Period of Insurance (From) : "),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.qZA(),t.TgZ(12,"li",6),t._uU(13," Period of Insurance (To) : "),t.TgZ(14,"span"),t._uU(15),t.ALo(16,"date"),t.qZA(),t.qZA(),t.TgZ(17,"li",6),t._uU(18," Basic Cover : "),t.TgZ(19,"span"),t._uU(20),t.qZA(),t.qZA(),t.TgZ(21,"li",6),t._uU(22," Date of Birth : "),t.TgZ(23,"span"),t._uU(24),t.ALo(25,"date"),t.qZA(),t.qZA(),t.TgZ(26,"li",6),t._uU(27," Payment Frequency : "),t.TgZ(28,"span"),t._uU(29),t.qZA(),t.qZA(),t.TgZ(30,"li",6),t._uU(31," Sum Insured of Main Cover : "),t.TgZ(32,"span"),t._uU(33),t.qZA(),t.qZA(),t.TgZ(34,"li",6),t._uU(35," Medical Card No : "),t.TgZ(36,"span"),t._uU(37),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(10),t.hij(" ",t.xi3(11,8,i.showData.insuranceStartDate,"dd/MM/yyyy"),""),t.xp6(5),t.hij(" ",t.xi3(16,11,i.showData.insuranceEndDate,"dd/MM/yyyy"),""),t.xp6(5),t.hij(" ","HEALTH"==i.showData.basicCoverId?"Health Insurance":"Critical Illness",""),t.xp6(4),t.hij(" ",t.xi3(25,14,i.showData.dateOfBirth,"dd/MM/yyyy"),""),t.xp6(5),t.hij(" ","L"==i.showData.paymentFrequency?"Lump Sum":"Semi-Annually",""),t.xp6(4),t.AsE(" ",i.showData.sumInsuredMainCover," Unit",i.showData.sumInsuredMainCover>1?"s":"",""),t.xp6(4),t.hij(" ",i.showData.medicalCardNo,""))},pipes:[u.uU],styles:[""]}),n})();var zt=c(6920),Ht=c(37780);function Xt(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"titlecase"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"titlecase"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"titlecase"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.ALo(21,"number"),t.qZA(),t.qZA(),t.BQk()),2&n){const e=o.$implicit,i=o.index,a=t.oxw();t.xp6(3),t.Oqu(i+1),t.xp6(2),t.Oqu(t.lcZ(6,8,a.replaceT(e.travelPlan))),t.xp6(3),t.Oqu(t.lcZ(9,10,a.replaceT(e.insuredUnit))),t.xp6(3),t.Oqu(t.lcZ(12,12,a.replaceT(e.travelDuration))),t.xp6(3),t.Oqu(e.noOfTraveller),t.xp6(2),t.Oqu(e.totalUnit),t.xp6(2),t.Oqu(e.travellerName),t.xp6(2),t.Oqu(t.lcZ(21,14,e.premium))}}const st={static_1634018514043:ft,addon_1634010770155:at,coverage_1634010995936:qt,static_1635218894755:Gt,static_1635309151504:Pt,static_1635747288508:ft,static_1642920843499:Lt,static_1643116155828:Jt,static_1644896661652:Yt,static_1644896804675:ht,static_1648784270356:(()=>{class n{constructor(e,i,a){this.travelRikService=e,this.cdf=i,this.globalFun=a,this.travelForm=[],this.listData=[]}ngOnInit(){this.getRiskList()}getRiskList(){this.travelRikService.getMany(this.resourcesId).toPromise().then(e=>{e&&(this.globalFun.tempFormData[zt.rf]=e,this.listData=e||[],this.cdf.detectChanges())})}replaceT(e){return e.replace("T-","").replace("TU-","")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ht.G),t.Y36(t.sBO),t.Y36(I.Q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-travel-risk-view"]],inputs:{product:"product",editData:"editData",resourcesId:"resourcesId",referenceID:"referenceID",premiumAmt:"premiumAmt",travelForm:"travelForm"},decls:24,vars:1,consts:[[1,"card","card-custom","gutter-b"],[1,"card-body","customer-card-body"],[1,"table-responsive","angular-bootstrap-table","mt-5"],[1,"table","table-head-custom","table-vertical-center"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"table",3),t.TgZ(4,"thead"),t.TgZ(5,"tr"),t.TgZ(6,"th"),t._uU(7,"Risk No"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Travel Plan"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Insured Unit"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Travel Duration"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"No. Of Traveller"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Total Unit"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Traveller Name"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Premium"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"tbody"),t.YNc(23,Xt,22,16,"ng-container",4),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(23),t.Q6J("ngForOf",i.listData))},directives:[u.sg],pipes:[u.rS,u.JJ],encapsulation:2}),n})()};let Kt=(()=>{class n{constructor(e,i){this.resolver=e,this.container=i}ngOnInit(){if(st[this.compId]){const e=this.resolver.resolveComponentFactory(st[this.compId]);if(this.component=this.container.createComponent(e),this.component.instance.product=this.product,this.component.instance.resourcesId=this.resourcesId,"static_1635747288508"==this.compId){const i=this.resolver.resolveComponentFactory(st.static_1635218894755);this.component2=this.container.createComponent(i),this.component2.instance.product=this.product,this.component2.instance.resourcesId=this.resourcesId}}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t._Vd),t.Y36(t.s_b))},n.\u0275dir=t.lG2({type:n,selectors:[["","staticPageView",""]],inputs:{compId:"compId",product:"product",resourcesId:"resourcesId"}}),n})();function te(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.item.name)}}function ee(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.resourceDetail.premiumView||0)}}function ie(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,"in_progress"==e.resourceDetail.status?"In Progress":e.resourceDetail.status))}}function ne(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,e.resourceDetail.apiStatus))}}function oe(n,o){if(1&n&&(t.TgZ(0,"div",7),t._uU(1," Bancs Quotation No. "),t._UZ(2,"br"),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Oqu(e.resourceDetail.submittedCode)}}function ae(n,o){if(1&n&&(t.TgZ(0,"div",7),t._uU(1," Bancs Policy No. "),t._UZ(2,"br"),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Oqu(e.resourceDetail.policyNumber)}}function re(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().viewPrint()}),t._UZ(1,"i",11),t._uU(2," Print "),t.qZA()}}function se(n,o){if(1&n&&(t.ynx(0),t.GkF(1,20),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("compId",e.id)("product",i.item)("resourcesId",i.resourceDetail.id)}}function ce(n,o){if(1&n&&(t.TgZ(0,"li",29),t.TgZ(1,"h5",30),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.hij("",e.name," ")}}function de(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw(3).$implicit,i=t.oxw(4).$implicit,a=t.oxw(2);t.xp6(2),t.hij(" ",a.getOptionValue(a.resultObj[i.tableName+i.id][e.name],e.options,i.tableName+i.id,e.name),"")}}function le(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw(4).$implicit,i=t.oxw(4).$implicit,a=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,a.resultObj[i.tableName+i.id][e.name]||0)," ")}}function ue(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw(4).$implicit,i=t.oxw(4).$implicit,a=t.oxw(2);t.xp6(1),t.hij(" ",a.resultObj[i.tableName+i.id][e.name]&&"null"!=a.resultObj[i.tableName+i.id][e.name]?t.xi3(2,1,a.resultObj[i.tableName+i.id][e.name],"dd/MM/yyyy"):""," ")}}function pe(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(4).$implicit,i=t.oxw(4).$implicit,a=t.oxw(2);t.xp6(1),t.hij(" ",a.resultObj[i.tableName+i.id][e.name]," ")}}function he(n,o){if(1&n&&(t.ynx(0),t._uU(1),t.ALo(2,"date"),t.BQk()),2&n){const e=t.oxw(4).$implicit,i=t.oxw(4).$implicit,a=t.oxw(2);t.xp6(1),t.hij(" - ",t.xi3(2,1,a.resultObj[i.tableName+i.id][e.endName],"dd/MM/yyyy")," ")}}function ge(n,o){if(1&n&&(t.YNc(0,le,3,3,"span",6),t.YNc(1,ue,3,4,"span",6),t.YNc(2,pe,2,1,"span",6),t.YNc(3,he,3,4,"ng-container",6)),2&n){const e=t.oxw(3).$implicit;t.Q6J("ngIf","input"==e.input&&"currency"==e.type),t.xp6(1),t.Q6J("ngIf","date"==e.input),t.xp6(1),t.Q6J("ngIf","currency"!=e.type&&"date"!=e.input),t.xp6(1),t.Q6J("ngIf","date"==e.input&&"policy"==e.type)}}function me(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"li",31),t._uU(2),t.YNc(3,de,3,1,"ng-container",18),t.YNc(4,ge,4,4,"ng-template",null,32,t.W1O),t._UZ(6,"div",33),t.qZA(),t.BQk()),2&n){const e=t.MAs(5),i=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",i.label||i.name," : "),t.xp6(1),t.Q6J("ngIf",("false"==i.master||0==i.master)&&i.options&&i.options.length>0)("ngIfElse",e)}}function _e(n,o){if(1&n&&(t.ynx(0),t.YNc(1,ce,3,1,"li",28),t.YNc(2,me,7,3,"ng-container",6),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw(4).$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("ngIf","label"==e.input),t.xp6(1),t.Q6J("ngIf",!e.isHideView&&a.checkDep(e.dependency,a.resultObj[i.tableName+i.id])&&"underline"!=e.input&&"label"!=e.input)}}function fe(n,o){if(1&n&&(t.ynx(0),t.YNc(1,_e,3,2,"ng-container",6),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.show)}}function ve(n,o){if(1&n&&(t.TgZ(0,"ul",27),t.YNc(1,fe,2,1,"ng-container",12),t.qZA()),2&n){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngForOf",e.controls)}}const vt=function(n){return{"text-align":n}};function Ze(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"th",36),t._uU(2),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngStyle",t.VKq(2,vt,"currency"==e.subType?"right":"left")),t.xp6(1),t.hij("",e.title," ")}}function Te(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"td",36),t._uU(2),t.qZA(),t.BQk()),2&n){const e=o.$implicit,i=t.oxw().$implicit,a=t.oxw(7);t.xp6(1),t.Q6J("ngStyle",t.VKq(2,vt,"currency"==e.subType?"right":"left")),t.xp6(1),t.hij(" ",a.getOtherData(e.cols,i),"")}}function ye(n,o){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.YNc(3,Te,3,4,"ng-container",12),t.qZA()),2&n){const e=o.index,i=t.oxw(5).$implicit,a=t.oxw(2);t.xp6(2),t.Oqu(e+1),t.xp6(1),t.Q6J("ngForOf",a.getFormatTable(i.controls))}}function Ae(n,o){if(1&n&&(t.ynx(0),t.YNc(1,ye,4,2,"tr",12),t.BQk()),2&n){const e=t.oxw(4).$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",i.resultObj[e.tableName+e.id])}}function xe(n,o){if(1&n&&(t.TgZ(0,"div",34),t.TgZ(1,"table",35),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5,"NO"),t.qZA(),t.YNc(6,Ze,3,4,"ng-container",12),t.qZA(),t.qZA(),t.TgZ(7,"tbody"),t.YNc(8,Ae,2,1,"ng-container",6),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(3).$implicit,i=t.oxw(2);t.xp6(6),t.Q6J("ngForOf",i.getFormatTable(e.controls)),t.xp6(2),t.Q6J("ngIf",i.resultObj[e.tableName+e.id])}}function De(n,o){if(1&n&&(t.ynx(0),t.YNc(1,ve,2,1,"ul",25),t.YNc(2,xe,9,2,"div",26),t.BQk()),2&n){const e=t.oxw(2).$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!i.Array.isArray(i.resultObj[e.tableName+e.id])),t.xp6(1),t.Q6J("ngIf",i.Array.isArray(i.resultObj[e.tableName+e.id]))}}function be(n,o){if(1&n&&(t.TgZ(0,"div",2),t.TgZ(1,"div",21),t.TgZ(2,"div",22),t.TgZ(3,"h3",23),t._uU(4),t.ALo(5,"titlecase"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",24),t.ynx(7),t.YNc(8,De,3,2,"ng-container",6),t.BQk(),t.qZA(),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.hij("",t.lcZ(5,2,e.pageTitle)," :"),t.xp6(4),t.Q6J("ngIf",i.resultObj[e.tableName+e.id])}}function qe(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",17),t.YNc(2,se,2,3,"ng-container",18),t.YNc(3,be,9,4,"ng-template",null,19,t.W1O),t.qZA(),t.BQk()),2&n){const e=o.$implicit,i=t.MAs(4);t.xp6(2),t.Q6J("ngIf","static"===e.type)("ngIfElse",i)}}function we(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",37),t.TgZ(1,"button",14),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).createPolicy()}),t._uU(2," Create New Application "),t.qZA(),t.qZA()}}function Oe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",38),t.TgZ(1,"button",14),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).createSign()}),t._uU(2," Create Signature "),t.qZA(),t.qZA()}}function Ie(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",38),t.TgZ(1,"button",39),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).submitPolicy()}),t._uU(2," Submit Application "),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled","sending"==e.resourceDetail.apiStatus||"success"==e.resourceDetail.apiStatus)}}function Ce(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",0),t.YNc(2,qe,5,2,"ng-container",12),t.qZA(),t.TgZ(3,"div",0),t.TgZ(4,"div",1),t.TgZ(5,"div",2),t.TgZ(6,"div",13),t.TgZ(7,"div",0),t.TgZ(8,"div"),t.TgZ(9,"button",14),t.NdJ("click",function(){return t.CHM(e),t.oxw().goToList()}),t._uU(10," Go Back "),t.qZA(),t.qZA(),t.YNc(11,we,3,0,"div",15),t.YNc(12,Oe,3,0,"div",16),t.YNc(13,Ie,3,1,"div",16),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.pageOrder),t.xp6(6),t.Tol("quotation"==e.type?"col-sm-6":"col-sm-4"),t.xp6(3),t.Q6J("ngIf","quotation"==e.type&&"complete"!=e.resourceDetail.status),t.xp6(1),t.Q6J("ngIf","policy"==e.type),t.xp6(1),t.Q6J("ngIf","policy"==e.type)}}let Ue=(()=>{class n{constructor(e,i,a,s,r,d,p,m,_,y,Z,O,q){this.productService=e,this.location=i,this.pageDataService=a,this.addonQuo=s,this.coverageQuo=r,this.router=d,this.cdf=p,this.downloadService=m,this.numberPipe=_,this.datePipe=y,this.modalService=Z,this.policyService=O,this.alertService=q,this.resultObj={},this.Object=Object,this.Array=Array,this.coverage={sumInsured:!1,unit:!1,premium:!1},this.addon={sumInsured:!1,unit:!1,premium:!1},this.coverageData={},this.addOnData={},this.resourceDetail={},this.detailInput={},this.formatedData={},this.printConfig={},this.signFileId=""}ngOnInit(){return(0,A.mG)(this,void 0,void 0,function*(){if(this.productService.createingProd&&this.productService.createingProd.id){if(this.item=this.productService.createingProd,this.type=this.productService.previewType,this.resourceDetail=this.productService.editData,this.resourceDetail.status=this.resourceDetail.status?this.resourceDetail.status:"in_progress",this.signFileId=this.resourceDetail.attachmentId,!this.resourceDetail)return void this.location.back();let e=JSON.parse(this.item.config);"quotation"==this.productService.previewType?(this.pageOrder=e.quotation||[],this.detailInput=e.quotation_input||{}):(this.pageOrder=e.application||[],this.detailInput=e.application_input||{});let i="policy"==this.type?"application":this.type,a=this.item.productUIs.map(r=>{if(r.type==i)return JSON.parse(r.dynamicProduct.config)});if(this.printConfig=JSON.parse(this.item.pdfConfig),this.item=this.productService.createingProd,this.getDetail(a),this.pageOrder.findIndex(r=>"static_1648784270356"==r.id)>=0){let r=this.pageOrder.findIndex(_=>"travel_detail"==_.tableName);r>=0&&this.pageOrder.splice(r,1);let d=this.pageOrder.findIndex(_=>"traveler_detail"==_.tableName);d>=0&&this.pageOrder.splice(d,1);let p=this.pageOrder.findIndex(_=>"trave_beneficiary"==_.tableName);p>=0&&this.pageOrder.splice(p,1);let m=this.pageOrder.findIndex(_=>"coverage_1634010995936"==_.id);m>=0&&this.pageOrder.splice(m,1)}console.log("resourceDetail",this.resourceDetail),this.cdf.detectChanges()}else this.location.back()})}ngOnDestroy(){this.productService.createingProd=null,this.productService.editData=null}getDetail(e){this.getOldData(this.resourceDetail,e)}getOldData(e,i){let a=0,s=this.pageOrder.length;for(let r of this.pageOrder){if(r.type==D.it.DYN){let d=this.findPageValue(i,r.id);this.pageOrder[a].tableName=d.tableName,this.pageOrder[a].id=d.id,this.pageOrder[a].controls=d.controls,this.pageDataService.getDetail(d.tableName,e.id,d.id,!0,d.controls).toPromise().then(p=>{if(p){let m="form"==d.pageType?{}:[];for(const _ of p){let y={};for(const Z of _.data)"id"!=Z.column&&"created_at"!=Z.column&&"updated_at"!=Z.column&&(y[Z.column]=Z.value),Z.valueCode&&(y[Z.column+"Code"]=Z.valueCode);Array.isArray(m)?m.push(y):m=y}this.resultObj[d.tableName+d.id]=m,this.formatedData=JSON.parse(JSON.stringify(this.resultObj)),s==a&&this.cdf.detectChanges()}})}a+=1}this.cdf.detectChanges()}download(e,i){let a=this.getOtherData(e,i);if(a){let s=a.split("].")[0].replace("[","");this.downloadService.getDownload(s,a)}}getFormatTable(e){let i=[],a=[],s=JSON.parse(JSON.stringify(e));for(let r of s){r.options=r.options?r.options:[];let d=!1;if(!r.isHideView)if(r.tableTitle&&(a.findIndex(m=>m==r.tableTitle)<0?a.push(r.tableTitle):d=!0),d){let p=i.findIndex(m=>m.parent==r.dependency.parentName);p>=0&&i[p].cols.push({name:r.name,type:r.input,subType:r.type,options:("false"==r.master||0==r.master)&&r.options.length>0?r.options:[]})}else i.push({title:r.tableTitle||r.label||r.name,cols:[{name:r.name,type:r.input,subType:r.type,options:("false"==r.master||0==r.master)&&r.options.length>0?r.options:[]}],type:r.input,subType:r.type,parent:r.dependency?r.dependency.parentName:"",options:("false"==r.master||0==r.master)&&r.options.length>0?r.options:[]})}return i}getOtherData(e,i){for(let a of e)if(i[a.name]&&(i[a.name]+"").length>0){if("input"==a.type&&"currency"==a.subType)return this.numberPipe.transform(i[a.name]);if("date"==a.type)return this.datePipe.transform(i[a.name],"dd/MM/yyyy");if("file"==a.type)return i[a.name].split("].")[1];if(a.options.length>0){let r=a.options.find(d=>d.value==i[a.name]);if(r)return r.text}return i[a.name]}}findPageValue(e,i){let a;for(let s=0;s<e.length;s++)if(e[s]&&(a=e[s].fromGroup.find(r=>r.id==i),a)){a.controls.map(r=>(this.detailInput[i]&&"underline"!=r.input&&"label"!=r.input?(r.show=this.detailInput[i][r.name]>=0?this.detailInput[i][r.name]>0:r.show,r.disabled=this.detailInput[i][r.name]>=0&&2==this.detailInput[i][r.name]||r.disabled):this.detailInput[i]&&"label"==r.input&&(r.show=this.detailInput[i][r.placeholder]>=0?this.detailInput[i][r.placeholder]>0:r.show),r));break}return a}rechangePageData(e){for(let i=0;i<this.pageOrder.length;i++){const a=this.pageOrder[i];if("coverage"!=a.id&&"addon"!=a.id){let s=this.findPageValue(e,a.id);this.pageOrder[i].tableName=s.tableName,this.pageOrder[i].id=s.id,this.pageOrder[i].controls=s.controls}}}goToList(){this.location.back()}createPolicy(){this.productService.createingProdRef=this.item,this.productService.viewType="policy",this.productService.type="policy",this.productService.referenceID=this.resourceDetail.id,this.productService.referenceStatus=this.resourceDetail.status,this.productService.creatingLeadId=this.resourceDetail.leadId,this.productService.editData=null,this.router.navigateByUrl("/product-form")}checkDep(e,i){return!e||(0,x.J)(e,{value:i})}getOptionValue(e,i,a,s){let r=i.find(d=>d.value==e);return r?(this.formatedData&&(this.formatedData[a][s]=r.text),r.text):e}viewPrint(){const e=this.modalService.open(C.s,{size:"xl",backdrop:!1});e.componentInstance.configData=this.printConfig.printFormat,e.componentInstance.configOrder=this.printConfig.prinitUI,e.componentInstance.product=this.item,e.componentInstance.tempData=this.formatedData,e.componentInstance.resourcesId=this.resourceDetail.id,e.result.then(()=>{},i=>{})}createSign(){this.modalService.open(w,{size:"md",backdrop:!1}).result.then(()=>{},i=>{i&&"save"==i.type&&this.policyService.updateAttachment(this.resourceDetail.id,i.data).toPromise().then(a=>{a&&(this.alertService.activate("This record was created","Success Message"),this.signFileId=i.data,this.productService.editData.attachmentId=i.data)})})}submitPolicy(){this.policyService.submitPolicy(this.resourceDetail.id).toPromise().then(e=>{e&&(this.alertService.activate("This record was submitted","Success Message"),this.resourceDetail.apiStatus="sending",this.resourceDetail.status="submitted",this.cdf.detectChanges())})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(P.f),t.Y36(u.Ye),t.Y36(it.Q),t.Y36(V.D),t.Y36(J.a),t.Y36(W.F0),t.Y36(t.sBO),t.Y36(G.Ys),t.Y36(u.JJ),t.Y36(u.uU),t.Y36(Q.FF),t.Y36(nt.d),t.Y36(N.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-resourse-detail"]],decls:25,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"card","card-custom","gutter-b"],[1,"card-body"],[2,"display","flex"],[1,"top-box",2,"margin-left","0px"],[4,"ngIf"],[1,"top-box"],["class","top-box",4,"ngIf"],["class","btn btn-outline-primary","style","margin-left: auto;",3,"click",4,"ngIf"],[1,"btn","btn-outline-primary",2,"margin-left","auto",3,"click"],[1,"flaticon2-print"],[4,"ngFor","ngForOf"],[1,"card-footer"],["type","submit",1,"btn","btn-primary","btn-block",3,"click"],["class","col-sm-6",4,"ngIf"],["class","col-sm-4",4,"ngIf"],[1,"col-md-12","mx-auto"],[4,"ngIf","ngIfElse"],["dynView",""],["staticPageView","",3,"compId","product","resourcesId"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],["class","list-group",4,"ngIf"],["class","table-responsive angular-bootstrap-table",4,"ngIf"],[1,"list-group"],["class","list-group-item","style","border-top: 0.5px solid #dad9d9 !important;",4,"ngIf"],[1,"list-group-item",2,"border-top","0.5px solid #dad9d9 !important"],[2,"margin-bottom","0px"],[1,"list-group-item"],["nomalValue",""],[2,"clear","both"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center"],[3,"ngStyle"],[1,"col-sm-6"],[1,"col-sm-4"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._uU(6," PRODUCT "),t._UZ(7,"br"),t.YNc(8,te,2,1,"span",6),t.qZA(),t.TgZ(9,"div",7),t._uU(10," PREMIUM "),t._UZ(11,"br"),t.YNc(12,ee,2,1,"span",6),t.qZA(),t.TgZ(13,"div",7),t._uU(14," Application Status "),t._UZ(15,"br"),t.YNc(16,ie,3,3,"span",6),t.qZA(),t.TgZ(17,"div",7),t._uU(18," TCS Status "),t._UZ(19,"br"),t.YNc(20,ne,3,3,"span",6),t.qZA(),t.YNc(21,oe,5,1,"div",8),t.YNc(22,ae,5,1,"div",8),t.YNc(23,re,3,0,"button",9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(24,Ce,14,7,"ng-container",6)),2&e&&(t.xp6(8),t.Q6J("ngIf",i.item),t.xp6(4),t.Q6J("ngIf",i.resourceDetail),t.xp6(4),t.Q6J("ngIf",i.resourceDetail),t.xp6(4),t.Q6J("ngIf",i.resourceDetail),t.xp6(1),t.Q6J("ngIf",i.resourceDetail.submittedCode),t.xp6(1),t.Q6J("ngIf",i.resourceDetail.policyNumber),t.xp6(1),t.Q6J("ngIf","policy"==i.type),t.xp6(1),t.Q6J("ngIf",i.resourceDetail))},directives:[u.O5,u.sg,Kt,u.PC],pipes:[u.rS,u.JJ,u.uU],styles:[".top-box[_ngcontent-%COMP%]{color:#b5b5c3;margin-left:50px}.top-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}"]}),n})();var Pe=c(70933),Se=c(18410);let Fe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[u.uU,u.JJ],imports:[[u.ez,M.u5,M.UX,Q.bz,Pe.Q,Se.J,j,W.Bz.forChild([{path:"",component:Ue}])]]}),n})()}}]);