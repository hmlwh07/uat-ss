"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5152],{50858:(J,D,p)=>{p.d(D,{Z:()=>y});var t,c=new Uint8Array(16);function _(){if(!t&&!(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(c)}const f=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,m=function(r){return"string"==typeof r&&f.test(r)};for(var u=[],C=0;C<256;++C)u.push((C+256).toString(16).substr(1));const y=function(r,x,N){var I=(r=r||{}).random||(r.rng||_)();if(I[6]=15&I[6]|64,I[8]=63&I[8]|128,x){N=N||0;for(var O=0;O<16;++O)x[N+O]=I[O];return x}return function(r){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,N=(u[r[x+0]]+u[r[x+1]]+u[r[x+2]]+u[r[x+3]]+"-"+u[r[x+4]]+u[r[x+5]]+"-"+u[r[x+6]]+u[r[x+7]]+"-"+u[r[x+8]]+u[r[x+9]]+"-"+u[r[x+10]]+u[r[x+11]]+u[r[x+12]]+u[r[x+13]]+u[r[x+14]]+u[r[x+15]]).toLowerCase();if(!m(N))throw TypeError("Stringified UUID is invalid");return N}(I)}},94115:(J,D,p)=>{p.d(D,{n:()=>s});var t=p(83668),c=p(86019);function _(h,y){if(1&h&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t._uU(2),t.qZA(),t.qZA()),2&h){const r=t.oxw(2);t.xp6(2),t.Oqu(r.getMsg("required"))}}function f(h,y){if(1&h&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t._uU(2),t.qZA(),t.qZA()),2&h){const r=t.oxw(2);t.xp6(2),t.Oqu(r.getMsg("min"))}}function v(h,y){if(1&h&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t._uU(2),t.qZA(),t.qZA()),2&h){const r=t.oxw(2);t.xp6(2),t.Oqu(r.getMsg("max"))}}function m(h,y){if(1&h&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t._uU(2),t.qZA(),t.qZA()),2&h){const r=t.oxw(2);t.xp6(2),t.Oqu(r.getMsg("min"))}}function u(h,y){if(1&h&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t._uU(2),t.qZA(),t.qZA()),2&h){const r=t.oxw(2);t.xp6(2),t.Oqu(r.getMsg("max"))}}function C(h,y){1&h&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t._uU(2,"Email format is invalid"),t.qZA(),t.qZA())}function Z(h,y){if(1&h&&(t.TgZ(0,"div",1),t.YNc(1,_,3,1,"div",2),t.YNc(2,f,3,1,"div",2),t.YNc(3,v,3,1,"div",2),t.YNc(4,m,3,1,"div",2),t.YNc(5,u,3,1,"div",2),t.YNc(6,C,3,0,"div",2),t.qZA()),2&h){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.control.errors.required),t.xp6(1),t.Q6J("ngIf",r.control.errors.minlength),t.xp6(1),t.Q6J("ngIf",r.control.errors.maxlength),t.xp6(1),t.Q6J("ngIf",r.control.errors.min),t.xp6(1),t.Q6J("ngIf",r.control.errors.max),t.xp6(1),t.Q6J("ngIf",r.control.errors.email)}}let s=(()=>{class h{constructor(){this.valid=[]}getMsg(r){return"max"==r?`"Max ${this.validValue} is allowed"`:this.valid.length>0?this.valid.find(x=>x.type==r).message:"This input box is required!"}}return h.\u0275fac=function(r){return new(r||h)},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-print-error"]],inputs:{control:"control",valid:"valid",validValue:"validValue"},features:[t._Bn([])],decls:1,vars:1,consts:[["class","text-danger error-message help-text-message",4,"ngIf"],[1,"text-danger","error-message","help-text-message"],[4,"ngIf"]],template:function(r,x){1&r&&t.YNc(0,Z,7,6,"div",0),2&r&&t.Q6J("ngIf",x.control&&x.control.errors&&x.control.invalid)},directives:[c.O5],encapsulation:2}),h})()},87952:(J,D,p)=>{p.d(D,{J:()=>c});var t=p(49133);function c(_,f){let v=f instanceof t.cw?f.getRawValue():f.value,m=v[_.parentName],u=v[_.parentName+"Code"];return _.show?_.isArray?_.value.includes(m)||_.value.includes(u):m==_.value||u==_.value:!!m}},77720:(J,D,p)=>{p.d(D,{P:()=>f});var t=p(83668),c=p(34345);const _=["app-button-box",""];let f=(()=>{class v{constructor(u){this.el=u,this.editStage=!0,this.eventE=new t.vpe}ngOnInit(){}onClick(){this.eventE.emit(this.editStage?this.index+"":this.config.type)}}return v.\u0275fac=function(u){return new(u||v)(t.Y36(t.SBq))},v.\u0275cmp=t.Xpm({type:v,selectors:[["","app-button-box",""]],inputs:{config:"config",index:"index",editStage:"editStage"},outputs:{eventE:"eventE"},attrs:_,decls:3,vars:8,consts:[["type","button",3,"click"]],template:function(u,C){1&u&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return C.onClick()}),t._uU(1),t.ALo(2,"dyn_translate"),t.qZA()),2&u&&(t.MT6("btn btn-block btn-",!0===C.config.fill?"":"outline-","",C.config.color,""),t.xp6(1),t.Oqu(t.xi3(2,5,C.config.label,C.config.labelMM)))},pipes:[c.F],styles:[""]}),v})()},14246:(J,D,p)=>{p.d(D,{r:()=>In});var t=p(83668),c=p(49133),_=p(92070),f=p(21558),v=p(23449),m=p(86019),u=p(87952),C=p(54753),Z=p(26697),s=p(94115),h=p(12053),y=p(34345);function r(i,a){if(1&i&&(t.TgZ(0,"label",5),t._uU(1),t.ALo(2,"dyn_translate"),t.qZA()),2&i){const n=t.oxw(2);t.Gre("col-",n.config.inlineStyle?n.config.labelSize:"12",""),t.xp6(1),t.hij("",t.xi3(2,4,n.config.label,n.config.labelMM),":")}}const x=function(){return{standalone:!0}};function N(i,a){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"mat-checkbox",6),t.NdJ("change",function(o){return t.CHM(n),t.oxw(2).checkData(o)})("ngModelChange",function(o){const g=t.CHM(n).$implicit;return t.oxw(2).data["v"+g.value]=o}),t._uU(2),t.qZA(),t.BQk()}if(2&i){const n=a.$implicit,e=t.oxw(2);t.xp6(1),t.s9C("name",n.value),t.Q6J("ngModel",e.data["v"+n.value])("ngModelOptions",t.DdM(5,x))("disabled",e.isDisabled),t.xp6(1),t.hij(" ",n.text," ")}}function I(i,a){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"div",1),t.YNc(2,r,3,7,"label",2),t.TgZ(3,"div"),t.YNc(4,N,3,6,"ng-container",3),t.TgZ(5,"div"),t._UZ(6,"app-print-error",4),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.config.isLabel),t.xp6(1),t.Gre("col-",n.config.inlineStyle?n.config.inputSize:"12",""),t.xp6(1),t.Q6J("ngForOf",n.config.options),t.xp6(2),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}let O=(()=>{class i{constructor(n,e,o){this.globalFun=n,this.masterData=e,this.cdf=o,this.data={},this.unSub=[],this.masterOption=[],this.oldValue=""}ngOnDestroy(){this.unSub.forEach(n=>n.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==f.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue())}listenFunData(){this.config.isFun&&this.config.inpFunction.type==f.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(n=>{this.group.controls[this.config.name].setValue(n)}))}loadData(){"true"==this.config.master?this.config.dependency||this.getOptions():(this.masterOption=this.config.options,this.masterOption.forEach(n=>{if(this.config.multi){let e=this.config.value,l=(Array.isArray(e)?e:[]).findIndex(g=>g==n.value);this.data["v"+n.value]=!(l<0)}else this.data["v"+n.value]=this.config.value==n.value}))}ngOnInit(){this.loadData(),this.unSub[1]=this.globalFun.optionResultChange.subscribe(n=>{n&&this.loadData()}),this.listenFunData()}checkData(n){let e=n.source.name,o=this.group.value[this.config.name];if(this.config.multi)if(o=Array.isArray(o)?o:[],n.checked)o.push(e);else{let l=o.findIndex(g=>g==e);o.splice(l,1)}else n.checked?(this.masterOption.forEach(l=>{l.value!=e&&(this.data["v"+l.value]=!1)}),o=e):o=null;this.group.controls[this.config.name].setValue(o),this.doFunction()}get isDisabled(){return this.group.controls[this.config.name].disabled}getOptions(){let n=this.config.valueField,e=this.config.showField;this.masterData.getDataByType(this.config.masterData).toPromise().then(o=>{o&&(this.masterOption=o.map(l=>Object.assign({value:l[n],text:l[e]},l)),this.masterOption.forEach(l=>{if(this.config.multi){let g=this.config.value,T=(Array.isArray(g)?g:[]).findIndex(d=>d==l.value);this.data["v"+l.value]=!(T<0)}else this.data["v"+l.value]=this.config.value==l.value}),this.cdf.detectChanges(),this.doFunction())})}reGetOption(n){if(n==this.oldValue)return!1;let e=this.config.dependency,o=this.config.valueField,l=this.config.showField,g=this.group.getRawValue()[this.config.name]||this.config.value,b=!1;this.oldValue=n,this.masterData.getDataByType(this.config.masterData).pipe((0,C.U)(T=>T.filter(d=>d[e.relatedField]==n))).toPromise().then(T=>{T&&(this.masterOption=T.map(d=>(d[o]==g&&(b=!0),Object.assign({value:d[o],text:d[l]},d))),this.masterOption.forEach(d=>{if(this.config.multi){let F=this.config.value,A=(Array.isArray(F)?F:[]).findIndex(E=>E==d.value);this.data["v"+d.value]=!(A<0)}else this.data["v"+d.value]=this.config.value==d.value}),b?this.group.controls[this.config.name].setValue(g):this.masterOption.length>0&&this.group.controls[this.config.name].setValue(this.masterOption[0].value),this.cdf.detectChanges(),this.doFunction())})}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(v.Q),t.Y36(Z.D),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-checkbox-box"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"form-group","row"],["style","padding-top: 10px;",3,"class",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"control","valid"],[2,"padding-top","10px"],[1,"example-margin",3,"ngModel","ngModelOptions","name","disabled","change","ngModelChange"]],template:function(n,e){1&n&&t.YNc(0,I,7,7,"div",0),2&n&&t.Q6J("ngIf",e.config)},directives:[m.O5,m.sg,s.n,h.oG,c.JJ,c.On],pipes:[y.F],styles:[""]}),i})();var S=p(85993),k=p(21177),B=p(44290),P=p(92118),z=p(47975),q=p(35618),U=p(60940),H=p(57730),w=p(78480),K=p(86031);function W(i,a){if(1&i&&(t.TgZ(0,"label"),t._uU(1),t.ALo(2,"dyn_translate"),t.qZA()),2&i){const n=t.oxw(3);t.Tol(n.config.inlineStyle?"col-"+n.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(t.xi3(2,4,n.config.label,n.config.labelMM))}}function X(i,a){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"div",7),t._UZ(2,"input",8),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",10,11),t._UZ(6,"app-print-error",12),t.qZA(),t.qZA()),2&i){const n=t.MAs(5),e=t.oxw(3);t.xp6(2),t.Q6J("formControlName",e.config.name)("min",e.fromMinDate)("max",e.fromMaxDate)("matDatepicker",n),t.xp6(1),t.Q6J("for",n),t.xp6(1),t.s9C("disabled",e.isDisabled),t.xp6(2),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}function $(i,a){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"div",7),t._UZ(2,"input",8),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",10,11),t._UZ(6,"app-print-error",12),t.qZA(),t.qZA()),2&i){const n=t.MAs(5),e=t.oxw(3);t.Gre("col-",e.config.inputSize,""),t.xp6(2),t.Q6J("formControlName",e.config.name)("min",e.fromMinDate)("max",e.fromMaxDate)("matDatepicker",n),t.xp6(1),t.Q6J("for",n),t.xp6(1),t.s9C("disabled",e.isDisabled),t.xp6(2),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}const Q=function(i){return{row:i}};function j(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",4),t.YNc(2,W,3,7,"label",5),t.YNc(3,X,7,8,"div",2),t.YNc(4,$,7,11,"ng-template",null,6,t.W1O),t.qZA(),t.BQk()),2&i){const n=t.MAs(5),e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(4,Q,e.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",e.config.isLabel),t.xp6(1),t.Q6J("ngIf",!e.config.inlineStyle)("ngIfElse",n)}}function tt(i,a){if(1&i&&(t.TgZ(0,"label"),t._uU(1),t.ALo(2,"dyn_translate"),t.qZA()),2&i){const n=t.oxw(3);t.Tol(n.config.inlineStyle?"col-"+n.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(t.xi3(2,4,n.config.label,n.config.labelMM))}}function nt(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",7),t.TgZ(2,"input",16),t.NdJ("dateChange",function(){return t.CHM(n),t.oxw(3).doValid()}),t.qZA(),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",10,11),t._UZ(6,"app-print-error",12),t.qZA(),t.qZA()}if(2&i){const n=t.MAs(5),e=t.oxw(3);t.xp6(2),t.Q6J("formControlName",e.config.name)("min",e.fromMinDate)("max",e.fromMaxDate)("matDatepicker",n),t.xp6(1),t.Q6J("for",n),t.xp6(1),t.s9C("disabled",e.isDisabled),t.xp6(2),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}function et(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",7),t.TgZ(2,"input",16),t.NdJ("dateChange",function(){return t.CHM(n),t.oxw(3).doValid()}),t.qZA(),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",10,11),t._UZ(6,"app-print-error",12),t.qZA(),t.qZA()}if(2&i){const n=t.MAs(5),e=t.oxw(3);t.Gre("col-",e.config.inputSize,""),t.xp6(2),t.Q6J("formControlName",e.config.name)("min",e.fromMinDate)("max",e.fromMaxDate)("matDatepicker",n),t.xp6(1),t.Q6J("for",n),t.xp6(1),t.s9C("disabled",e.isDisabled),t.xp6(2),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}function it(i,a){if(1&i&&(t.TgZ(0,"label"),t._uU(1),t.ALo(2,"dyn_translate"),t.qZA()),2&i){const n=t.oxw(3);t.Tol(n.config.inlineStyle?"col-"+n.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(t.xi3(2,4,n.config.endLabel,n.config.endLabelMM))}}function ot(i,a){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"div",7),t._UZ(2,"input",8),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",17,18),t.qZA(),t.qZA()),2&i){const n=t.MAs(5),e=t.oxw(3);t.xp6(2),t.Q6J("formControlName",e.config.endName)("min",e.toMinDate)("max",e.toMaxDate)("matDatepicker",n),t.xp6(1),t.Q6J("for",n)}}function at(i,a){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"div",7),t._UZ(2,"input",8),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",17,18),t.qZA(),t.qZA()),2&i){const n=t.MAs(5),e=t.oxw(3);t.Gre("col-",e.config.inputSize,""),t.xp6(2),t.Q6J("formControlName",e.config.endName)("min",e.toMinDate)("max",e.toMaxDate)("matDatepicker",n),t.xp6(1),t.Q6J("for",n)}}function lt(i,a){if(1&i&&(t.TgZ(0,"div",13),t.TgZ(1,"div",14),t.TgZ(2,"div",4),t.YNc(3,tt,3,7,"label",5),t.YNc(4,nt,7,8,"div",2),t.YNc(5,et,7,11,"ng-template",null,6,t.W1O),t.qZA(),t.qZA(),t.TgZ(7,"div",14),t.TgZ(8,"div",4),t.YNc(9,it,3,7,"label",5),t.YNc(10,ot,6,5,"div",2),t.YNc(11,at,6,8,"ng-template",null,15,t.W1O),t.qZA(),t.qZA(),t.qZA()),2&i){const n=t.MAs(6),e=t.MAs(12),o=t.oxw(2);t.xp6(2),t.Q6J("ngClass",t.VKq(8,Q,o.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",o.config.isLabel),t.xp6(1),t.Q6J("ngIf",!o.config.inlineStyle)("ngIfElse",n),t.xp6(4),t.Q6J("ngClass",t.VKq(10,Q,o.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",o.config.isLabel),t.xp6(1),t.Q6J("ngIf",!o.config.inlineStyle)("ngIfElse",e)}}function ct(i,a){if(1&i&&(t.TgZ(0,"div",1),t.YNc(1,j,6,6,"ng-container",2),t.YNc(2,lt,13,12,"ng-template",null,3,t.W1O),t.qZA()),2&i){const n=t.MAs(3),e=t.oxw();t.Q6J("formGroup",e.group),t.xp6(1),t.Q6J("ngIf","date"==e.config.type)("ngIfElse",n)}}let st=(()=>{class i{constructor(n,e,o){this.globalFun=n,this.prodService=e,this.alert=o,this.unSub=[],this.toMinDate=null,this.fromMinDate=null,this.toMaxDate=null,this.fromMaxDate=null,this.valid={value:"",type:""},this.isDisabled=!1}ngOnInit(){this.isDisabled=this.config.disabled,this.listenFunData();let n=this.config.validation;if("policy"!=this.config.type){for(const e of n)if(e.type==f.xT.DATE){let o;if(o=e.dateType==f.Uv.DAY?"days":e.dateType==f.Uv.MONTH?"months":"years",e.from){let l=_().subtract(e.from,o);this.fromMinDate=l.format("YYYY-MM-DD")}else this.fromMinDate=null;if(e.to){let l=_().add(e.to,o);this.fromMaxDate=l.format("YYYY-MM-DD")}else this.fromMaxDate=null}else if(e.type==f.xT.MAX&&e.isAge){let o=_().subtract(e.value,"years");this.fromMinDate=o.format("YYYY-MM-DD")}else if(e.type==f.xT.MIN&&e.isAge){let o=_().subtract(e.value,"years");this.fromMaxDate=o.format("YYYY-MM-DD")}}else{let e=this.prodService.createingProd;if(e){if("no"==e.isAllowBackDate){let o=_();this.fromMinDate=o.format("YYYY-MM-DD"),this.toMinDate=o.format("YYYY-MM-DD")}else if("yes"==e.isAllowBackDate&&e.allowDays>0){let o=_().subtract(e.allowDays,"days");this.fromMinDate=o.format("YYYY-MM-DD"),this.toMinDate=o.format("YYYY-MM-DD")}this.listenValid()}}}ngOnDestroy(){this.unSub.forEach(n=>n.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==f.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue())}listenFunData(){this.config.isFun&&this.config.inpFunction.type==f.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(n=>{this.group.controls[this.config.name].setValue(n)}))}listenValid(){this.unSub[1]=this.globalFun.paPolicyValidationResult.subscribe(n=>{if(n){let e,o;this.valid.value=n.validationValue,e="DAY"==n.validationType?"days":"MONTH"==n.validationType?"months":"years",this.valid.type=e,this.group.controls[this.config.name].value?o=_(this.group.controls[this.config.name].value).add(n.validationValue,e).subtract(1,"days"):(o=_().add(n.validationValue,e).subtract(1,"days"),this.group.controls[this.config.name].setValue(_())),this.toMaxDate=o.format("YYYY-MM-DD"),this.group.controls[this.config.endName].setValue(o)}})}doValid(){if(this.group.controls[this.config.name].value&&this.valid.value){let e=_(this.group.controls[this.config.name].value).add(this.valid.value,this.valid.type).subtract(1,"days");this.toMaxDate=e.format("YYYY-MM-DD"),this.group.controls[this.config.endName].setValue(e)}}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(v.Q),t.Y36(q.f),t.Y36(U.c))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-date-box"]],features:[t._Bn([{provide:S.DO,useClass:k.Wv},{provide:S.NG,useClass:k.ke},{provide:B._A,useClass:P.t7,deps:[B.Ad]},{provide:B.sG,useValue:z.Gs}])],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[4,"ngIf","ngIfElse"],["policyDate",""],[1,"form-group",3,"ngClass"],[3,"class",4,"ngIf"],["InlineForm",""],[1,"input-group"],["matInput","","readonly","",1,"form-control-sm","date-input",3,"formControlName","min","max","matDatepicker"],["matSuffix","",3,"for"],[3,"disabled"],["picker",""],[3,"control","valid"],[1,"row"],[1,"col-sm-6"],["InlineForm2",""],["matInput","","readonly","",1,"form-control-sm","date-input",3,"formControlName","min","max","matDatepicker","dateChange"],["disabled","true"],["picker2",""]],template:function(n,e){1&n&&t.YNc(0,ct,4,3,"div",0),2&n&&t.Q6J("ngIf",e.config)},directives:[m.O5,c.JL,c.sg,m.mk,H.Nt,c.Fj,w.hl,c.JJ,c.u,w.nW,K.R9,w.Mq,s.n],pipes:[y.F],styles:[".input-group[_ngcontent-%COMP%]   .form-control-sm[_ngcontent-%COMP%]{background-color:#fff;background-clip:padding-box;border:1px solid #E4E6EF;padding:0 .75rem}.input-group[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;right:5px}"]}),i})();var rt=p(68424),pt=p(11918),gt=p(15346);function ft(i,a){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-customer-list",9),t.NdJ("selectedUser",function(o){return t.CHM(n),t.oxw().selectedUser(o)}),t.qZA(),t.BQk()}if(2&i){const n=t.oxw();t.xp6(1),t.Q6J("isCustom",n.customForm)("isPopup",!0)("isDynamic",!0)}}let ut=(()=>{class i{constructor(n,e,o,l,g){this.fb=n,this.modal=e,this.prodService=o,this.globalService=l,this.alertService=g,this.internalConfig=[],this.subscriptions=[]}ngOnInit(){console.log(this.config,this.internalConfig)}ngOnDestroy(){}save(){if(this.selectedData){let e=this.globalService.getParnet(this.prodService.createingProd,this.prodService.viewType,"drivers_page")||[];this.selectedData[this.config.valueField]&&(e.length>0&&e.find(l=>l[this.config.valueField]==this.selectedData[this.config.valueField])?this.alertService.activate(`This ${this.config.label} is already exist`,"Warning Message"):this.doDataBind())}this.modal.dismiss()}selectedUser(n){this.selectedData=n}doDataBind(){this.group.controls[this.config.name].setValue(this.selectedData[this.config.valueField]);for(let n of this.config.autoFields){const e=this.group.get(n.value);let o=this.internalConfig.find(l=>l.name==n.value);if(e)if(o){let l="date"==o.input?_(this.selectedData[n.field]):this.selectedData[n.field];e.setValue(l)}else e.setValue(this.selectedData[n.field])}}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(c.qu),t.Y36(S.Kz),t.Y36(q.f),t.Y36(v.Q),t.Y36(U.c))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-custom-dialog"]],inputs:{group:"group",config:"config",internalConfig:"internalConfig",customForm:"customForm"},decls:16,vars:11,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4","left-border-image"],[1,"text-muted","font-weight-bold","font-size-sm","mt-1"],[1,"overlay","overlay-block","cursor-default","modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-primary","btn-elevate",3,"click"],[3,"isCustom","isPopup","isDynamic","selectedUser"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._uU(3),t.ALo(4,"dyn_translate"),t.TgZ(5,"span",3),t._uU(6,"Please select in table list"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",4),t.YNc(8,ft,2,3,"ng-container",5),t.qZA(),t.TgZ(9,"div",6),t.TgZ(10,"button",7),t.NdJ("click",function(){return e.modal.dismiss()}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){return e.save()}),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(3),t.hij(" ","Customer ID"==e.config.label?"Customer List":t.xi3(4,4,e.config.label,e.config.labelMM)," "),t.xp6(5),t.Q6J("ngIf","user"==e.config.type),t.xp6(3),t.Oqu(t.lcZ(12,7,"FORM.btn_cancel")),t.xp6(3),t.Oqu(t.lcZ(15,9,"FORM.btn_save")))},directives:[m.O5,pt.b],pipes:[y.F,gt.X],styles:[".active[_ngcontent-%COMP%]{background-color:#3699ff!important;color:#fff}"]}),i})();var mt=p(22030);function _t(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"div",10),t.TgZ(1,"button",11),t.NdJ("click",function(){return t.CHM(n),t.oxw(3).onCreate()}),t._UZ(2,"span",12),t.qZA(),t.qZA()}if(2&i){const n=t.oxw(3);t.xp6(1),t.Q6J("disabled",n.config.disabled)}}function dt(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",5),t.TgZ(2,"div",6),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).openModal()}),t._UZ(3,"input",7),t.qZA(),t.YNc(4,_t,3,1,"div",8),t.qZA(),t._UZ(5,"app-print-error",9),t.qZA()}if(2&i){const n=t.oxw(2);t.xp6(2),t.Tol(n.isNrc?"col-12":"col-10"),t.xp6(1),t.s9C("name",n.config.name),t.s9C("placeholder",n.config.placeholder),t.Q6J("formControlName",n.config.name),t.xp6(1),t.Q6J("ngIf",!n.isNrc),t.xp6(1),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}function ht(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"div",10),t.TgZ(1,"button",11),t.NdJ("click",function(){return t.CHM(n),t.oxw(3).onCreate()}),t._UZ(2,"span",12),t.qZA(),t.qZA()}if(2&i){const n=t.oxw(3);t.xp6(1),t.Q6J("disabled",n.config.disabled)}}function xt(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"div",6),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).openModal()}),t._UZ(1,"input",13),t._UZ(2,"app-print-error",9),t.qZA(),t.YNc(3,ht,3,1,"div",8)}if(2&i){const n=t.oxw(2);t.Gre("col-",n.isNrc?n.config.inputSize:n.config.inputSize-2,""),t.xp6(1),t.s9C("type",n.config.type),t.s9C("name",n.config.name),t.s9C("placeholder",n.config.placeholder),t.Q6J("formControlName",n.config.name),t.xp6(1),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation),t.xp6(1),t.Q6J("ngIf",!n.isNrc)}}const vt=function(i){return{row:i}};function Ct(i,a){if(1&i&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"label"),t._uU(3),t.ALo(4,"dyn_translate"),t.qZA(),t.YNc(5,dt,6,9,"div",3),t.YNc(6,xt,4,10,"ng-template",null,4,t.W1O),t.qZA(),t.qZA()),2&i){const n=t.MAs(7),e=t.oxw();t.Q6J("formGroup",e.group),t.xp6(1),t.Q6J("ngClass",t.VKq(11,vt,e.config.inlineStyle)),t.xp6(1),t.Tol(e.config.inlineStyle?"col-"+e.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(t.xi3(4,8,e.config.label,e.config.labelMM)),t.xp6(2),t.Q6J("ngIf",!e.config.inlineStyle)("ngIfElse",n)}}let yt=(()=>{class i{constructor(n,e){this.globalFun=n,this.modalService=e,this.unSub=[],this.isNrc=!1,this.internalConfig=[]}ngOnInit(){this.listenFunData()}ngOnDestroy(){this.unSub.forEach(n=>n.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==f.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue())}listenFunData(){this.config.isFun&&this.config.inpFunction.type==f.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(n=>{this.group.controls[this.config.name].setValue(n)}))}openModal(){if(this.editStage||this.config.disabled)return!1;let n;this.isNrc?n=this.modalService.open(mt.V,{size:"xl",backdrop:!1}):(n=this.modalService.open(ut,{size:"xl",backdrop:!1}),n.componentInstance.customForm=!0),n.componentInstance.config=this.config,n.componentInstance.group=this.group,n.componentInstance.internalConfig=this.internalConfig,n.result.then(()=>{},e=>{"save"==e&&this.doFunction()})}onCreate(){let n;n=this.modalService.open(rt.h,{size:"xl",backdrop:!1}),n.componentInstance.isPopup=!0,n.componentInstance.pageStatus="create",n.componentInstance.isLead=!0,n.result.then(()=>{},e=>{e&&(console.log("Detail",e),"save"==e.type)&&this.doDataBind(e.data)})}doDataBind(n){this.group.controls[this.config.name].setValue(n[this.config.valueField]);for(let e of this.config.autoFields){const o=this.group.get(e.value);let l=this.internalConfig.find(g=>g.name==e.value);if(o)if(l){let g="date"==l.input?_(n[e.field]):n[e.field];o.setValue(g)}else o.setValue(n[e.field])}}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(v.Q),t.Y36(S.FF))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-dialog-box"]],inputs:{internalConfig:"internalConfig"},decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group",3,"ngClass"],[4,"ngIf","ngIfElse"],["InlineForm",""],[1,"row"],[3,"click"],["type","text",1,"form-control","form-control-sm",3,"name","placeholder","formControlName"],["class","col-2",4,"ngIf"],[3,"control","valid"],[1,"col-2"],["type","button",1,"btn","btn-primary","btn-cus","btn-sm",3,"disabled","click"],[1,"flaticon2-plus"],[1,"form-control","form-control-sm",3,"type","name","placeholder","formControlName"]],template:function(n,e){1&n&&t.YNc(0,Ct,8,13,"div",0),2&n&&t.Q6J("ngIf",e.config)},directives:[m.O5,c.JL,c.sg,m.mk,c.Fj,c.JJ,c.u,s.n],pipes:[y.F],styles:[""]}),i})();var bt=p(31248),Tt=p(49875),Zt=p(60807);const Ft=["selectedFile"];function Dt(i,a){if(1&i&&(t.TgZ(0,"label"),t._uU(1),t.ALo(2,"dyn_translate"),t.qZA()),2&i){const n=t.oxw(2);t.Tol(n.config.inlineStyle?"col-"+n.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(t.xi3(2,4,n.config.label,n.config.labelMM))}}function At(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"input",6,7),t.NdJ("change",function(o){return t.CHM(n),t.oxw(2).doFunction(o)}),t.qZA(),t.TgZ(3,"div",8),t._UZ(4,"input",9),t.TgZ(5,"div",10),t.TgZ(6,"button",11),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).openFile()}),t._uU(7,"Browse"),t.qZA(),t.qZA(),t.qZA(),t._UZ(8,"app-print-error",12),t.qZA()}if(2&i){const n=t.oxw(2);t.xp6(1),t.s9C("accept","all"==n.config.type||n.config.value?n.config.value:n.config.type),t.s9C("placeholder",n.config.placeholder),t.xp6(3),t.Q6J("formControlName",n.config.name),t.xp6(4),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}function Nt(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"input",13,7),t.NdJ("change",function(o){return t.CHM(n),t.oxw(2).doFunction(o)}),t.qZA(),t.TgZ(3,"div",8),t._UZ(4,"input",9),t.TgZ(5,"div",10),t.TgZ(6,"button",11),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).openFile()}),t._uU(7,"Browse"),t.qZA(),t.qZA(),t.qZA(),t._UZ(8,"app-print-error",12),t.qZA()}if(2&i){const n=t.oxw(2);t.Gre("col-",n.config.inputSize,""),t.xp6(1),t.s9C("name",n.config.name),t.s9C("placeholder",n.config.placeholder),t.xp6(3),t.Q6J("formControlName",n.config.name),t.xp6(4),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}const It=function(i){return{row:i}};function Mt(i,a){if(1&i&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.YNc(2,Dt,3,7,"label",3),t.YNc(3,At,9,5,"div",4),t.YNc(4,Nt,9,8,"ng-template",null,5,t.W1O),t.qZA(),t.qZA()),2&i){const n=t.MAs(5),e=t.oxw();t.Q6J("formGroup",e.group),t.xp6(1),t.Q6J("ngClass",t.VKq(5,It,e.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",e.config.isLabel),t.xp6(1),t.Q6J("ngIf",!e.config.inlineStyle)("ngIfElse",n)}}let Ot=(()=>{class i{constructor(n,e,o){this.globalFun=n,this.fileUpload=e,this.loading=o,this.unSub=[]}ngOnInit(){this.listenFunData()}ngOnDestroy(){this.unSub.forEach(n=>n.unsubscribe())}doFunction(n){this.config.isFun&&this.config.inpFunction.type==f.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue()),this.handleUpload(n)}handleUpload(n){if(n){const e=n.target.files[0],o=(0,bt.y)();o.readAsDataURL(e),o.onload=()=>{if(o.result){let g={fileStr:o.result.toString().split(",")[1],fileName:e.name,fileType:e.type,fileSize:e.size,contentType:e.type,fileExtension:e.name.split(".").pop()};this.loading.activate(),this.fileUpload.save(g).toPromise().then(b=>{b&&this.group.controls[this.config.name].setValue(`[${b}].${g.fileName}`),this.loading.deactivate()}).catch(b=>{this.loading.deactivate()})}}}}listenFunData(){this.config.isFun&&this.config.inpFunction.type==f.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(n=>{this.group.controls[this.config.name].setValue(n)}))}openFile(){if(this.editStage)return!1;this.selectedFileEl.nativeElement.click()}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(v.Q),t.Y36(Tt.p3),t.Y36(Zt.b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-file-box"]],viewQuery:function(n,e){if(1&n&&t.Gf(Ft,5),2&n){let o;t.iGM(o=t.CRH())&&(e.selectedFileEl=o.first)}},decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group",3,"ngClass"],[3,"class",4,"ngIf"],[4,"ngIf","ngIfElse"],["InlineForm",""],["type","file","name","phone","accept",".doc,.docx,.pdf",1,"form-control","form-control-sm",2,"display","none",3,"accept","placeholder","change"],["selectedFile",""],[1,"input-group"],["type","text",1,"form-control","form-control-sm",3,"formControlName"],[1,"input-group-append"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[3,"control","valid"],["type","file","accept",".doc,.docx,.pdf",1,"form-control","form-control-sm",2,"display","none",3,"name","placeholder","change"]],template:function(n,e){1&n&&t.YNc(0,Mt,6,7,"div",0),2&n&&t.Q6J("ngIf",e.config)},directives:[m.O5,c.JL,c.sg,m.mk,c.Fj,c.JJ,c.u,s.n],pipes:[y.F],styles:[""]}),i})();var Jt=p(99765);function Et(i,a){if(1&i&&(t.TgZ(0,"label"),t._uU(1),t.ALo(2,"dyn_translate"),t.qZA()),2&i){const n=t.oxw(2);t.Tol(n.config.inlineStyle?"col-"+n.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(t.xi3(2,4,n.config.label,n.config.labelMM))}}function St(i,a){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"textarea",8),t.NdJ("change",function(){return t.CHM(n),t.oxw(3).doFunction()}),t.qZA(),t.BQk()}if(2&i){const n=t.oxw(3);t.xp6(1),t.s9C("name",n.config.name),t.s9C("placeholder",n.config.placeholder),t.Q6J("formControlName",n.config.name)}}const V=function(){return{prefix:"",thousands:",",precision:0,allowNegative:!1,align:"left"}};function Bt(i,a){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"input",10),t.NdJ("focusout",function(){return t.CHM(n),t.oxw(4).doFunction()}),t.qZA(),t.TgZ(2,"span",11),t._uU(3),t.qZA(),t.BQk()}if(2&i){const n=t.oxw(4);t.xp6(1),t.s9C("name",n.config.name),t.s9C("placeholder",n.config.placeholder),t.Q6J("options",t.DdM(5,V))("formControlName",n.config.name),t.xp6(2),t.Oqu(n.currencyType)}}function wt(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"input",12),t.NdJ("change",function(){return t.CHM(n),t.oxw(4).doFunction()}),t.qZA()}if(2&i){const n=t.oxw(4);t.s9C("type",n.config.type),t.s9C("name",n.config.name),t.s9C("placeholder",n.config.placeholder),t.Q6J("formControlName",n.config.name)}}function Qt(i,a){if(1&i&&(t.YNc(0,Bt,4,6,"ng-container",4),t.YNc(1,wt,1,4,"ng-template",null,9,t.W1O)),2&i){const n=t.MAs(2),e=t.oxw(3);t.Q6J("ngIf","currency"==e.config.type)("ngIfElse",n)}}function Yt(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,St,2,3,"ng-container",4),t.YNc(2,Qt,3,2,"ng-template",null,6,t.W1O),t._UZ(4,"app-print-error",7),t.qZA()),2&i){const n=t.MAs(3),e=t.oxw(2);t.xp6(1),t.Q6J("ngIf","textarea"===e.config.type)("ngIfElse",n),t.xp6(3),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}function kt(i,a){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"textarea",8),t.NdJ("change",function(){return t.CHM(n),t.oxw(3).doFunction()}),t.qZA(),t.BQk()}if(2&i){const n=t.oxw(3);t.xp6(1),t.s9C("name",n.config.name),t.s9C("placeholder",n.config.placeholder),t.Q6J("formControlName",n.config.name)}}function qt(i,a){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"input",10),t.NdJ("focusout",function(){return t.CHM(n),t.oxw(4).doFunction()}),t.qZA(),t.TgZ(2,"span",11),t._uU(3),t.qZA(),t.BQk()}if(2&i){const n=t.oxw(4);t.xp6(1),t.s9C("name",n.config.name),t.s9C("placeholder",n.config.placeholder),t.Q6J("options",t.DdM(5,V))("formControlName",n.config.name),t.xp6(2),t.Oqu(n.currencyType)}}function Ut(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"input",12),t.NdJ("change",function(){return t.CHM(n),t.oxw(4).doFunction()}),t.qZA()}if(2&i){const n=t.oxw(4);t.s9C("type",n.config.type),t.s9C("name",n.config.name),t.s9C("placeholder",n.config.placeholder),t.Q6J("formControlName",n.config.name)}}function Vt(i,a){if(1&i&&(t.YNc(0,qt,4,6,"ng-container",4),t.YNc(1,Ut,1,4,"ng-template",null,14,t.W1O)),2&i){const n=t.MAs(2),e=t.oxw(3);t.Q6J("ngIf","currency"==e.config.type)("ngIfElse",n)}}function Rt(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,kt,2,3,"ng-container",4),t.YNc(2,Vt,3,2,"ng-template",null,13,t.W1O),t._UZ(4,"app-print-error",7),t.qZA()),2&i){const n=t.MAs(3),e=t.oxw(2);t.Gre("col-",e.config.inputSize," currency-group"),t.xp6(1),t.Q6J("ngIf","textarea"===e.config.type)("ngIfElse",n),t.xp6(3),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}const Gt=function(i){return{row:i}};function Lt(i,a){if(1&i&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.YNc(2,Et,3,7,"label",3),t.YNc(3,Yt,5,4,"div",4),t.YNc(4,Rt,5,7,"ng-template",null,5,t.W1O),t.qZA(),t.qZA()),2&i){const n=t.MAs(5),e=t.oxw();t.Q6J("formGroup",e.group),t.xp6(1),t.Q6J("ngClass",t.VKq(5,Gt,e.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",e.config.isLabel),t.xp6(1),t.Q6J("ngIf",!e.config.inlineStyle)("ngIfElse",n)}}let Pt=(()=>{class i{constructor(n){this.globalFun=n,this.unSub=[],this.currencyType="MMK"}ngOnInit(){this.listenFunData(),"currency"==this.config.type&&(this.unSub[1]=this.globalFun.currenyValueObs.subscribe(n=>{this.currencyType!=n&&(this.currencyType=n)}))}ngOnDestroy(){this.unSub.forEach(n=>n.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==f.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue())}listenFunData(){this.config.isFun&&this.config.inpFunction.type==f.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(n=>{this.group.controls[this.config.name].setValue(n)}))}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(v.Q))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-input-box"]],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group","currency-group",3,"ngClass"],[3,"class",4,"ngIf"],[4,"ngIf","ngIfElse"],["InlineForm",""],["inputNoraml",""],[3,"control","valid"],[1,"form-control","form-control-sm",3,"name","placeholder","formControlName","change"],["inputText",""],["type","tel","currencyMask","",1,"form-control","form-control-sm","currency-input-tag",3,"options","name","placeholder","formControlName","focusout"],[1,"currency-tag"],[1,"form-control","form-control-sm",3,"type","name","placeholder","formControlName","change"],["inputNoraml2",""],["inputText2",""]],template:function(n,e){1&n&&t.YNc(0,Lt,6,7,"div",0),2&n&&t.Q6J("ngIf",e.config)},directives:[m.O5,c.JL,c.sg,m.mk,s.n,c.Fj,c.JJ,c.u,Jt.g1],pipes:[y.F],styles:[".currency-tag[_ngcontent-%COMP%]{position:absolute;right:5px;font-size:.9rem;text-transform:uppercase;top:50%;transform:translateY(-50%)}[class*=col-][_ngcontent-%COMP%]   .currency-tag[_ngcontent-%COMP%]{right:20px}.currency-input-tag[_ngcontent-%COMP%]{padding-right:35px}.currency-group[_ngcontent-%COMP%]{position:relative}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:1}[_ngcontent-%COMP%]:-ms-input-placeholder{color:gray}[_ngcontent-%COMP%]::-ms-input-placeholder{color:gray}"]}),i})();const zt=["app-label-box",""];let Ht=(()=>{class i{constructor(){}ngOnInit(){this.config.labelSize=this.config.labelSize||1,this.config.endLabel=this.config.endLabel||"rem",this.config.endLabelMM=this.config.endLabelMM||"normal"}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["","app-label-box",""]],attrs:zt,decls:2,vars:17,consts:[[1,"default"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t._uU(1),t.qZA()),2&n&&(t.Udp("background-color",e.config.label)("color",e.config.coreName)("font-size",e.config.labelSize+e.config.endLabel)("font-weight",e.config.endLabelMM)("border-top",e.config.multi?"1px solid rgba(0, 0, 0, 0.1)":"none")("border-right",e.config.inlineStyle?"1px solid rgba(0, 0, 0, 0.1)":"none")("border-bottom",e.config.readonly?"1px solid rgba(0, 0, 0, 0.1)":"none")("border-left",e.config.disabled?"1px solid rgba(0, 0, 0, 0.1)":"none"),t.xp6(1),t.hij(" ",e.config.name,"\n"))},styles:[".default[_ngcontent-%COMP%]{padding:20px 10px;margin-left:-10px;margin-right:-10px}"]}),i})();var R=p(55167);function Kt(i,a){if(1&i&&(t.TgZ(0,"label"),t._uU(1),t.ALo(2,"dyn_translate"),t.qZA()),2&i){const n=t.oxw(2);t.Gre("col-form-label col-",n.config.inlineStyle?n.config.labelSize:"12",""),t.xp6(1),t.Oqu(t.xi3(2,4,n.config.label,n.config.labelMM))}}function Wt(i,a){if(1&i&&(t.TgZ(0,"mat-radio-button",7),t._uU(1),t.qZA()),2&i){const n=a.$implicit;t.s9C("value",n.value),t.xp6(1),t.hij("",n.text," ")}}function Xt(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"section",1),t.TgZ(1,"div",2),t.YNc(2,Kt,3,7,"label",3),t.TgZ(3,"mat-radio-group",4),t.NdJ("change",function(){return t.CHM(n),t.oxw().doFunction()}),t.YNc(4,Wt,2,2,"mat-radio-button",5),t.qZA(),t.qZA(),t.TgZ(5,"div"),t._UZ(6,"app-print-error",6),t.qZA(),t.qZA()}if(2&i){const n=t.oxw();t.Q6J("formGroup",n.group),t.xp6(2),t.Q6J("ngIf",n.config.isLabel),t.xp6(1),t.Gre("col-",n.config.inlineStyle?n.config.inputSize:"12",""),t.Q6J("formControlName",n.config.name),t.xp6(1),t.Q6J("ngForOf",n.masterOption),t.xp6(2),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}let $t=(()=>{class i{constructor(n,e,o){this.globalFun=n,this.masterData=e,this.cdf=o,this.unSub=[],this.masterOption=[],this.oldValue=""}ngOnInit(){"true"==this.config.master?this.config.dependency||this.getOptions():this.masterOption=this.config.options,this.listenFunData()}ngOnDestroy(){this.unSub.forEach(n=>n.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==f.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue()),this.config.isCurrency&&this.globalFun.currenyValueObs.next(this.group.getRawValue()[this.config.name])}listenFunData(){this.config.isFun&&this.config.inpFunction.type==f.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(n=>{this.group.controls[this.config.name].setValue(n)}))}getOptions(){let n=this.config.valueField,e=this.config.showField;this.masterData.getDataByType(this.config.masterData).toPromise().then(o=>{o&&(this.masterOption=o.map(l=>Object.assign({value:l[n],text:l[e]},l)),this.cdf.detectChanges(),this.doFunction())})}reGetOption(n){if(n==this.oldValue)return!1;let e=this.config.dependency,o=this.config.valueField,l=this.config.showField,g=this.group.getRawValue()[this.config.name]||this.config.value,b=!1;this.oldValue=n,this.masterData.getDataByType(this.config.masterData).pipe((0,C.U)(T=>T.filter(d=>d[e.relatedField]==n))).toPromise().then(T=>{T&&(this.masterOption=T.map(d=>(d[o]==g&&(b=!0),Object.assign({value:d[o],text:d[l]},d))),b?this.group.controls[this.config.name].setValue(g):this.masterOption.length>0&&this.group.controls[this.config.name].setValue(this.masterOption[0].value),this.cdf.detectChanges(),this.doFunction())})}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(v.Q),t.Y36(Z.D),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-radio-box"]],decls:1,vars:1,consts:[["class","example-section",3,"formGroup",4,"ngIf"],[1,"example-section",3,"formGroup"],[1,"form-group","row"],[3,"class",4,"ngIf"],[3,"formControlName","change"],["class","mx-1",3,"value",4,"ngFor","ngForOf"],[3,"control","valid"],[1,"mx-1",3,"value"]],template:function(n,e){1&n&&t.YNc(0,Xt,7,9,"section",0),2&n&&t.Q6J("ngIf",e.config)},directives:[m.O5,c.JL,c.sg,R.VQ,c.JJ,c.u,m.sg,s.n,R.U0],pipes:[y.F],styles:[""]}),i})();var G=p(57842),jt=p(76475);function tn(i,a){if(1&i&&(t.TgZ(0,"label"),t._uU(1),t.ALo(2,"dyn_translate"),t.qZA()),2&i){const n=t.oxw(2);t.Tol(n.config.inlineStyle?"col-"+n.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(t.xi3(2,4,n.config.label,n.config.labelMM))}}function nn(i,a){if(1&i&&(t.TgZ(0,"ng-option",10),t._uU(1),t.qZA()),2&i){const n=a.$implicit;t.Q6J("value",n.value),t.xp6(1),t.Oqu(n.text)}}function en(i,a){if(1&i&&(t.ynx(0),t.YNc(1,nn,2,2,"ng-option",9),t.BQk()),2&i){const n=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",n.masterOption)}}function on(i,a){if(1&i&&(t.TgZ(0,"ng-option",10),t._uU(1),t.qZA()),2&i){const n=a.$implicit;t.Q6J("value",n.value),t.xp6(1),t.Oqu(n.text)}}function an(i,a){if(1&i&&t.YNc(0,on,2,2,"ng-option",9),2&i){const n=t.oxw(3);t.Q6J("ngForOf",n.config.options)}}function ln(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"ng-select",6),t.NdJ("change",function(){return t.CHM(n),t.oxw(2).doFunction()}),t.YNc(2,en,2,1,"ng-container",4),t.YNc(3,an,1,1,"ng-template",null,7,t.W1O),t.qZA(),t._UZ(5,"app-print-error",8),t.qZA()}if(2&i){const n=t.MAs(4),e=t.oxw(2);t.xp6(1),t.s9C("placeholder",e.config.placeholder),t.Q6J("formControlName",e.config.name),t.xp6(1),t.Q6J("ngIf","true"==e.config.master)("ngIfElse",n),t.xp6(3),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}function cn(i,a){if(1&i&&(t.TgZ(0,"ng-option",10),t._uU(1),t.qZA()),2&i){const n=a.$implicit;t.Q6J("value",n.value),t.xp6(1),t.Oqu(n.text)}}function sn(i,a){if(1&i&&(t.ynx(0),t.YNc(1,cn,2,2,"ng-option",9),t.BQk()),2&i){const n=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",n.masterOption)}}function rn(i,a){if(1&i&&(t.TgZ(0,"ng-option",10),t._uU(1),t.qZA()),2&i){const n=a.$implicit;t.Q6J("value",n.value),t.xp6(1),t.Oqu(n.text)}}function pn(i,a){if(1&i&&t.YNc(0,rn,2,2,"ng-option",9),2&i){const n=t.oxw(3);t.Q6J("ngForOf",n.config.options)}}function gn(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"ng-select",6),t.NdJ("change",function(){return t.CHM(n),t.oxw(2).doFunction()}),t.YNc(2,sn,2,1,"ng-container",4),t.YNc(3,pn,1,1,"ng-template",null,11,t.W1O),t.qZA(),t._UZ(5,"app-print-error",8),t.qZA()}if(2&i){const n=t.MAs(4),e=t.oxw(2);t.Gre("col-",e.config.inputSize,""),t.xp6(1),t.s9C("placeholder",e.config.placeholder),t.Q6J("formControlName",e.config.name),t.xp6(1),t.Q6J("ngIf","true"==e.config.master)("ngIfElse",n),t.xp6(3),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}const L=function(i){return{row:i}};function fn(i,a){if(1&i&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.YNc(2,tn,3,7,"label",3),t.YNc(3,ln,6,6,"div",4),t.YNc(4,gn,6,9,"ng-template",null,5,t.W1O),t.qZA(),t.qZA()),2&i){const n=t.MAs(5),e=t.oxw();t.Q6J("formGroup",e.group),t.xp6(1),t.Q6J("ngClass",t.VKq(5,L,e.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",e.config.isLabel),t.xp6(1),t.Q6J("ngIf",!e.config.inlineStyle)("ngIfElse",n)}}function un(i,a){if(1&i&&(t.TgZ(0,"label"),t._uU(1),t.ALo(2,"dyn_translate"),t.qZA()),2&i){const n=t.oxw(2);t.Tol(n.config.inlineStyle?"col-"+n.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(t.xi3(2,4,n.config.label,n.config.labelMM))}}function mn(i,a){if(1&i&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&i){const n=a.$implicit;t.s9C("value",n.value),t.xp6(1),t.Oqu(n.text)}}function _n(i,a){if(1&i&&(t.ynx(0),t.YNc(1,mn,2,2,"mat-option",9),t.BQk()),2&i){const n=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",n.masterOption)}}function dn(i,a){if(1&i&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&i){const n=a.$implicit;t.s9C("value",n.value),t.xp6(1),t.Oqu(n.text)}}function hn(i,a){if(1&i&&t.YNc(0,dn,2,2,"mat-option",9),2&i){const n=t.oxw(3);t.Q6J("ngForOf",n.config.options)}}function xn(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"mat-select",12),t.NdJ("change",function(){return t.CHM(n),t.oxw(2).doFunction()}),t.YNc(2,_n,2,1,"ng-container",4),t.YNc(3,hn,1,1,"ng-template",null,13,t.W1O),t.qZA(),t._UZ(5,"app-print-error",8),t.qZA()}if(2&i){const n=t.MAs(4),e=t.oxw(2);t.xp6(1),t.Q6J("formControlName",e.config.name),t.xp6(1),t.Q6J("ngIf","true"==e.config.master)("ngIfElse",n),t.xp6(3),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}function vn(i,a){if(1&i&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&i){const n=a.$implicit;t.s9C("value",n.value),t.xp6(1),t.Oqu(n.text)}}function Cn(i,a){if(1&i&&(t.ynx(0),t.YNc(1,vn,2,2,"mat-option",9),t.BQk()),2&i){const n=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",n.masterOption)}}function yn(i,a){if(1&i&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&i){const n=a.$implicit;t.s9C("value",n.value),t.xp6(1),t.Oqu(n.text)}}function bn(i,a){if(1&i&&t.YNc(0,yn,2,2,"mat-option",9),2&i){const n=t.oxw(3);t.Q6J("ngForOf",n.config.options)}}function Tn(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"mat-select",12),t.NdJ("change",function(){return t.CHM(n),t.oxw(2).doFunction()}),t.YNc(2,Cn,2,1,"ng-container",4),t.YNc(3,bn,1,1,"ng-template",null,14,t.W1O),t.qZA(),t._UZ(5,"app-print-error",8),t.qZA()}if(2&i){const n=t.MAs(4),e=t.oxw(2);t.Gre("col-",e.config.inputSize,""),t.xp6(1),t.Q6J("formControlName",e.config.name),t.xp6(1),t.Q6J("ngIf","true"==e.config.master)("ngIfElse",n),t.xp6(3),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}function Zn(i,a){if(1&i&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.YNc(2,un,3,7,"label",3),t.YNc(3,xn,6,5,"div",4),t.YNc(4,Tn,6,8,"ng-template",null,5,t.W1O),t.qZA(),t.qZA()),2&i){const n=t.MAs(5),e=t.oxw();t.Q6J("formGroup",e.group),t.xp6(1),t.Q6J("ngClass",t.VKq(5,L,e.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",e.config.isLabel),t.xp6(1),t.Q6J("ngIf",!e.config.inlineStyle)("ngIfElse",n)}}const Y={date:st,input:Pt,select:(()=>{class i{constructor(n,e,o){this.masterData=n,this.cdf=e,this.globalFun=o,this.config={},this.masterOption=[],this.unSub=[],this.oldValue=""}ngOnInit(){"true"==this.config.master&&(this.config.dependency||this.getOptions()),this.listenFunData()}ngOnDestroy(){this.unSub.forEach(n=>n.unsubscribe())}doFunction(){if(this.config.isFun&&this.config.inpFunction.type==f.Ck.TRIGGER){if("paPolicyValidation"==this.config.inpFunction.funName)return!1;this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue(),this.masterOption)}if(this.config.policyterm){let n=this.group.getRawValue()[this.config.name]||this.config.value;this.globalFun.paPolicyValidation(n,this.masterOption)}}listenFunData(){this.config.isFun&&this.config.inpFunction.type==f.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(n=>{this.group.controls[this.config.name].setValue(n)}))}getOptions(){let n=this.config.valueField,e=this.config.showField;this.masterData.getDataByType(this.config.masterData,"address"==this.config.type).toPromise().then(l=>{l&&(this.masterOption=l.map(g=>Object.assign({value:g[n],text:g[e]},g)),this.cdf.detectChanges(),this.doFunction())})}reGetOption(n){if(n==this.oldValue)return!1;let e=this.config.dependency,o=this.config.valueField,l=this.config.showField,g=this.group.getRawValue()[this.config.name]||this.config.value,b=!1;this.oldValue=n,this.masterData.getDataByType(this.config.masterData,"address"==this.config.type).pipe((0,C.U)(d=>d.filter(F=>F[e.relatedField]==n))).toPromise().then(d=>{d&&(this.masterOption=d.map(F=>(F[o]==g&&(b=!0),Object.assign({value:F[o],text:F[l]},F))),b?this.group.controls[this.config.name].setValue(g):this.masterOption.length>0&&this.group.controls[this.config.name].setValue(this.masterOption[0].value),this.cdf.detectChanges(),this.doFunction())})}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(Z.D),t.Y36(t.sBO),t.Y36(v.Q))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-select-box"]],decls:2,vars:2,consts:[["class","config.size",3,"formGroup",4,"ngIf"],[1,"config.size",3,"formGroup"],[1,"form-group",3,"ngClass"],[3,"class",4,"ngIf"],[4,"ngIf","ngIfElse"],["InlineForm",""],[1,"ng-custom-select",3,"formControlName","placeholder","change"],["Otheroption",""],[3,"control","valid"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["Otheroption2",""],["multiple","",1,"form-control","form-control-sm",3,"formControlName","change"],["Otheroption3",""],["Otheroption4",""]],template:function(n,e){1&n&&(t.YNc(0,fn,6,7,"div",0),t.YNc(1,Zn,6,7,"div",0)),2&n&&(t.Q6J("ngIf",e.config&&(!e.config.multi||"false"==e.config.multi)),t.xp6(1),t.Q6J("ngIf",e.config&&e.config.multi&&"true"==e.config.multi))},directives:[m.O5,c.JL,c.sg,m.mk,G.w9,c.JJ,c.u,s.n,m.sg,G.xv,jt.gD,B.ey],pipes:[y.F],styles:[""]}),i})(),radio:$t,checkbox:O,file:Ot,dialog:yt,label:Ht};let Fn=(()=>{class i{constructor(n,e,o,l){this.resolver=n,this.container=e,this.renderer=o,this.cd=l,this.editStage=!1,this.i=0,this.onEdit=new t.vpe,this.divBreaked=[],this.internalConfig=[]}ngAfterViewInit(){this.cd.detectChanges()}ngOnChanges(){if(this.component&&(this.component.instance.config=this.config,this.component.instance.group=this.group,this.component.instance.internalConfig=this.internalConfig,this.editStage&&"true"===this.config.break)){let n=this.component.location.nativeElement,e=n.parentElement.getElementsByClassName("custom"+this.config.name);if(e.length>0)for(let o=0;o<e.length;o++)n.parentNode.removeChild(e[o]);n.insertAdjacentHTML("beforebegin","<div class='w-100 custom"+this.config.name+"'></div>")}}ngOnDestroy(){this.component&&this.divBreaked.forEach(n=>{let e=this.component.location.nativeElement;if("true"===n.break){let o=e.parentElement.getElementsByClassName("custom"+n.name);for(let l=0;l<o.length;l++)e.parentNode.removeChild(o[l])}})}ngOnInit(){if(this.config.show||this.editStage){if(!Y[this.config.input]){const l=Object.keys(Y).join(", ");throw new Error(`Trying to use an unsupported type (${this.config.input}).\n        Supported types: ${l}`)}const e=this.resolver.resolveComponentFactory(Y["input"==this.config.input&&"nrc"==this.config.type?"dialog":this.config.input]);this.component=this.container.createComponent(e),this.component.instance.config=this.config,this.component.instance.group=this.group,this.component.instance.internalConfig=this.internalConfig,"input"==this.config.input&&"nrc"==this.config.type&&(this.component.instance.isNrc=!0,this.component.instance.editStage=this.editStage),("dialog"==this.config.input||"file"==this.config.input)&&(this.component.instance.editStage=this.editStage);let o=this.component.location.nativeElement;if(o.classList.toggle(`col-xs-${this.config.size}`),o.classList.toggle(`col-sm-${this.config.mdSize}`),o.classList.toggle(`col-lg-${this.config.mdSize}`),!this.editStage&&"label"!=this.config.input&&(this.component.instance.doFunction(),this.config.dependency&&(this.checkDep(this.config.dependency)||o.classList.add("show-off"))),!0===this.editStage&&this.renderer.listen(this.component.location.nativeElement,"click",l=>{this.clickedEvent()}),"true"===this.config.break)0===o.parentElement.getElementsByClassName("custom"+this.config.name).length&&o.insertAdjacentHTML("beforebegin","<div class='w-100 custom"+this.config.name+"'></div>");else{let l=o.parentElement.getElementsByClassName("custom"+this.config.name);l.length>0&&o.parentNode.removeChild(l[0])}}}checkDep(n){return(0,u.J)(n,this.group)}clickedEvent(){!0===this.editStage&&this.onEdit.emit(this.index)}ngAfterContentChecked(){if(!this.editStage&&this.config.show&&"label"!=this.config.input&&this.config.dependency){let n=this.component.location.nativeElement;if(this.checkDep(this.config.dependency)){if("true"==this.config.master){let e=this.config.dependency;this.component.instance.reGetOption(this.group.getRawValue()[e.parentName])}if(n.classList.remove("show-off"),this.component.instance.group){this.component.instance.group.controls[this.config.name].setValidators(null);let e=[];if(this.config.validation){let o=this.config.validation;for(let l of o)if(l.type==f.xT.REQUIRED)e.push(c.kI.required);else if(l.type==f.xT.MAX&&"date"!=this.config.type){let g="number"==this.config.type?c.kI.max(l.value):c.kI.maxLength(l.value);e.push(g)}else if(l.type==f.xT.MIN&&"date"!=this.config.type){let g="number"==this.config.type?c.kI.max(l.value):c.kI.maxLength(l.value);e.push(g)}}"input"==this.config.input&&"email"==this.config.type&&e.push(c.kI.email),this.component.instance.group.controls[this.config.name].setValidators(e),this.component.instance.group.controls[this.config.name].updateValueAndValidity()}}else this.component.instance.group&&(this.component.instance.group.controls[this.config.name].setValue(""),this.component.instance.group.controls[this.config.name].setValidators(null),this.component.instance.group.controls[this.config.name].updateValueAndValidity()),n.classList.add("show-off")}}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(t._Vd),t.Y36(t.s_b),t.Y36(t.Qsj),t.Y36(t.sBO))},i.\u0275dir=t.lG2({type:i,selectors:[["","dynamicField",""]],inputs:{config:"config",group:"group",index:"index",editStage:"editStage",divBreaked:"divBreaked",internalConfig:"internalConfig"},outputs:{onEdit:"onEdit"},features:[t.TTD]}),i})();function Dn(i,a){if(1&i){const n=t.EpF();t.ynx(0,4),t.NdJ("onEdit",function(o){return t.CHM(n),t.oxw(2).Edited(o)}),t.BQk()}if(2&i){const n=t.oxw(),e=n.$implicit,o=n.index,l=t.oxw();t.Q6J("config",e)("internalConfig",l.internalConfig)("index",o)("group",l.form)("editStage",l.editStage)("divBreaked",l.getBreaked())}}function An(i,a){if(1&i){const n=t.EpF();t.ynx(0),t._UZ(1,"div",5),t.TgZ(2,"div",6),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().index;return t.oxw().Edited(o)}),t._UZ(3,"hr"),t.qZA(),t.BQk()}}function Nn(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Dn,1,6,"ng-container",2),t.YNc(2,An,4,0,"ng-container",3),t.BQk()),2&i){const n=a.$implicit;t.xp6(1),t.Q6J("ngIf","underline"!==n.input),t.xp6(1),t.Q6J("ngIf","underline"==n.input)}}let In=(()=>{class i{constructor(n,e){this.fb=n,this.globalFun=e,this.config=[],this.tempData={},this.submit=new t.vpe,this.onEdit=new t.vpe,this.internalConfig=[]}get controls(){return this.internalConfig.filter(({type:n})=>"button"!==n)}get valid(){return this.form.valid}get value(){return this.form.value}ngOnInit(){this.internalConfig=JSON.parse(JSON.stringify(this.config)),this.form=this.createGroup()}createGroup(n=!1){const e=this.fb.group({});let o=0;return this.controls.forEach(l=>{o+=1,"label"!=l.input&&"underline"!=l.input&&(e.addControl(l.name,this.createControl(l)),"date"==l.input&&"policy"==l.type&&e.addControl(l.endName,this.createControl(l,"policy")))}),e}createControl(n,e){let{disabled:o,value:l,name:g,validation:b,endName:T}=n,d=[];if((this.editStage||n.input==f.Xu.DIALOG||n.input==f.Xu.INPUT&&"nrc"==n.type)&&(o=!0),b&&n.show)for(let A of b)if(A.type==f.xT.REQUIRED)d.push(c.kI.required);else if(A.type==f.xT.MAX&&"date"!=n.type){let E="number"==n.type||"currency"==n.type?c.kI.max(A.value):c.kI.maxLength(A.value);d.push(E)}else if(A.type==f.xT.MIN&&"date"!=n.type){let E="number"==n.type||"currency"==n.type?c.kI.min(A.value):c.kI.minLength(A.value);d.push(E)}"input"==n.input&&"email"==n.type&&n.show&&d.push(c.kI.email);let F=e?T:g;if("file"==n.input)return this.fb.control({disabled:!0,value:this.tempData[g]&&this.tempData[g]||null},[...d]);let M=this.tempData[F]?this.tempData[F]:l;return n.value=M,"date"==n.input&&(M=M&&_(M)),this.fb.control({disabled:o,value:M||null},[...d])}handleSubmit(){return!this.form.invalid&&(this.submit.emit(this.form.getRawValue()),!0)}reCreateFrom(){this.internalConfig=JSON.parse(JSON.stringify(this.config)),this.form=this.createGroup(!0),this.globalFun.optionResultChange.next(!0)}newFormCreate(n,e){let o=JSON.parse(JSON.stringify(n));this.internalConfig=o;const l=this.fb.group({});this.tempData=e||{},o.forEach(g=>{"label"!=g.input&&"underline"!=g.input&&(l.addControl(g.name,this.createControl(g)),"date"==g.input&&"policy"==g.type&&l.addControl(g.endName,this.createControl(g,"policy")))}),this.form=l}Edited(n){this.onEdit.emit(n)}getBreaked(){return this.config.filter(n=>"true"===n.break)}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(c.qu),t.Y36(v.Q))},i.\u0275cmp=t.Xpm({type:i,selectors:[["dynamic-form"]],inputs:{config:"config",tempData:"tempData",editStage:"editStage"},outputs:{submit:"submit",onEdit:"onEdit"},exportAs:["dynamicForm"],decls:2,vars:2,consts:[[1,"dynamic-form","row",2,"align-items","center",3,"formGroup"],[4,"ngFor","ngForOf"],["dynamicField","",3,"config","internalConfig","index","group","editStage","divBreaked","onEdit",4,"ngIf"],[4,"ngIf"],["dynamicField","",3,"config","internalConfig","index","group","editStage","divBreaked","onEdit"],[1,"w-100"],[1,"col-12",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"form",0),t.YNc(1,Nn,3,2,"ng-container",1),t.qZA()),2&n&&(t.Q6J("formGroup",e.form),t.xp6(1),t.Q6J("ngForOf",e.internalConfig))},directives:[c._Y,c.JL,c.sg,m.sg,m.O5,Fn],encapsulation:2}),i})()},21558:(J,D,p)=>{p.d(D,{Ck:()=>t,xT:()=>_,Uv:()=>f,Us:()=>m,M:()=>u,m0:()=>C,Xu:()=>Z});var t=(()=>{return(s=t||(t={})).TRIGGER="trigger",s.GETDATA="getdata",t;var s})(),_=(()=>{return(s=_||(_={})).REQUIRED="required",s.MIN="min",s.MAX="max",s.DATE="date",_;var s})(),f=(()=>{return(s=f||(f={})).WEEK="week",s.MONTH="month",s.DAY="day",s.YEAR="year",f;var s})(),m=(()=>{return(s=m||(m={})).SUBMIT="submit",s.NEXT="next",s.PREVIOUS="previous",s.RESET="reset",m;var s})(),u=(()=>{return(s=u||(u={})).NONE="",s.CENTER="mx-auto",s.LEFT="ml-auto",s.RIGHT="mr-auto",u;var s})(),C=(()=>{return(s=C||(C={})).PRIMARY="primary",s.SECONDARY="secondary",s.SUCCESS="success",s.WARNING="warning",s.DANGER="danger",s.INFO="info",s.DARK="dark",s.LIGHT="light",C;var s})(),Z=(()=>{return(s=Z||(Z={})).INPUT="input",s.CHECKBOX="checkbox",s.DIALOG="dialog",s.FILE="file",s.RADIO="radio",s.SELECT="select",s.DATE="date",Z;var s})()}}]);