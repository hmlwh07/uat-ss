{"version":3,"file":"src_app_pages_senior-lp-dashboard_senior-lp-dashboard_module_ts.js","mappings":"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","sources":["./src/app/pages/senior-lp-dashboard/senior-lp-dashboard.component.ts","./src/app/pages/senior-lp-dashboard/senior-lp-dashboard.module.ts","./src/app/pages/senior-lp-dashboard/senior-lp-dashboard.component.html"],"sourcesContent":["import { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\n\r\nimport {\r\n  ChartComponent,\r\n  ApexAxisChartSeries,\r\n  ApexChart,\r\n  ApexYAxis,\r\n  ApexLegend,\r\n  ApexDataLabels,\r\n  ApexPlotOptions,\r\n  ApexGrid\r\n} from 'ng-apexcharts';\r\n\r\nimport { DashboardService } from './senior-lp-dashboard.service';\r\nimport { AuthService } from 'src/app/modules/auth/_services/auth.service';\r\ntype ApexXAxis = {\r\n  type?: \"category\" | \"datetime\" | \"numeric\";\r\n  categories?: any;\r\n  labels?: {\r\n    style?: {\r\n      colors?: string | string[];\r\n      fontSize?: string;\r\n    };\r\n  };\r\n};\r\n\r\nexport type ChartOptions = {\r\n  series: ApexAxisChartSeries;\r\n  chart: ApexChart;\r\n  dataLabels: ApexDataLabels;\r\n  plotOptions: ApexPlotOptions;\r\n  yaxis: ApexYAxis;\r\n  xaxis: ApexXAxis;\r\n  grid: ApexGrid;\r\n  colors: string[];\r\n  legend: ApexLegend;\r\n};\r\n\r\n@Component({\r\n  selector: 'app-senior-lp-dashboard',\r\n  templateUrl: './senior-lp-dashboard.component.html',\r\n  styleUrls: ['./senior-lp-dashboard.component.scss']\r\n})\r\nexport class SeniorLpDashboardComponent implements OnInit, OnDestroy {\r\n  @ViewChild(\"chart\") chart: ChartComponent;\r\n  public chartOptions: Partial<ChartOptions>;\r\n  data: any;\r\n  authObj: any;\r\n  actForm: FormGroup;\r\n  // leadObj = {\r\n  //   leadWinRate: 56,\r\n  //   leadWinCount : 100,\r\n  //   taskToday: 15,\r\n  //   todayActiveAgent: 4,\r\n  //   leadAssignCount: 100,\r\n  //   leadToday: 58\r\n  // };\r\n  leadObj : any;\r\n\r\n  unsub: any;\r\n\r\n  constructor(public auth: AuthService, private dashboardService: DashboardService,private router : Router\r\n  ) {\r\n    this.unsub = this.auth.currentUserSubject.subscribe((res) => {\r\n      if (res) {\r\n        this.authObj = res;\r\n      }\r\n    })\r\n\r\n    this.loadForm();\r\n  }\r\n\r\n\r\n  async ngOnInit() {\r\n    this.getList();\r\n    this.getLeadList();\r\n  }\r\n\r\n  loadForm() {\r\n    this.actForm = new FormGroup({\r\n      \"empId\": new FormControl(this.authObj.id)\r\n    })\r\n  }\r\n\r\n  getList() {\r\n    this.dashboardService.getList(this.actForm.value).toPromise().then((res) => {\r\n      if (res) {\r\n        this.data = res\r\n      }\r\n    })\r\n  }\r\n\r\n  getLeadList() {\r\n    this.dashboardService.getLeadList(this.actForm.value).toPromise().then((res) => {\r\n      if (res) {\r\n        this.leadObj = res\r\n        this.setChartOptions();\r\n      }\r\n    })\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.unsub.unsubscribe();\r\n  }\r\n\r\n  goToLPManager(agent: any) {\r\n    this.router.navigate(['/dashboard/lp-manager-dashboard'], { queryParams: { empId : agent.empId } })\r\n  }\r\n\r\n  setChartOptions(){\r\n    this.chartOptions = {\r\n      series: [\r\n        {\r\n          name: \"\",\r\n          data: [this.leadObj.leadWinCount,this.leadObj.leadAssignCount]\r\n        }\r\n      ],\r\n      chart: {\r\n        height: 200,\r\n        type: \"bar\",\r\n        events: {\r\n          click: function(chart, w, e) {\r\n            // console.log(chart, w, e)\r\n          }\r\n        }\r\n      },\r\n      colors: [\r\n        \"#008FFB\",\r\n        \"#00E396\",\r\n        \"#FEB019\",\r\n        \"#FF4560\",\r\n        \"#775DD0\",\r\n        \"#546E7A\",\r\n        \"#26a69a\",\r\n        \"#D10CE8\"\r\n      ],\r\n      plotOptions: {\r\n        bar: {\r\n          columnWidth: \"45%\",\r\n          distributed: true\r\n        }\r\n      },\r\n      dataLabels: {\r\n        enabled: false\r\n      },\r\n      legend: {\r\n        show: false\r\n      },\r\n      grid: {\r\n        show: false\r\n      },\r\n      xaxis: {\r\n        categories: [\r\n          [\"Converted\", this.leadObj.leadWinCount],\r\n          [\"Assigned\", this.leadObj.leadAssignCount],\r\n        ],\r\n        labels: {\r\n          style: {\r\n            colors: [\r\n              \"#008FFB\",\r\n              \"#00E396\",\r\n              \"#FEB019\",\r\n              \"#FF4560\",\r\n              \"#775DD0\",\r\n              \"#546E7A\",\r\n              \"#26a69a\",\r\n              \"#D10CE8\"\r\n            ],\r\n            fontSize: \"12px\"\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule, DatePipe, DecimalPipe } from '@angular/common';\r\nimport { SeniorLpDashboardComponent } from './senior-lp-dashboard.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgbModalModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { FormComponentModule } from '../form-component/form-component.module';\r\nimport { RouterModule } from '@angular/router';\r\nimport { StaticPagesViewModule } from '../static-page-review/static-pages-reivew.module';\r\nimport { ColumnChartModule } from './../_column-chart/column-chart.component.module';\r\nimport { NgApexchartsModule } from \"ng-apexcharts\";\r\n\r\n@NgModule({\r\n  declarations: [SeniorLpDashboardComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NgbModalModule,\r\n    FormComponentModule,\r\n    StaticPagesViewModule,\r\n    ColumnChartModule,\r\n    NgApexchartsModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: SeniorLpDashboardComponent,\r\n      },\r\n    ]),\r\n  ],\r\n  providers: [DatePipe, DecimalPipe]\r\n})\r\nexport class SeniorLpDashboardModule { }\r\n","export default \"<div class=\\\"row my-row\\\">\\r\\n  <div class=\\\"col-lg-4 col-md-4 col-sm-6 col-xs-12 my-mt-5\\\">\\r\\n    <div class=\\\"card card-custom my-card\\\">\\r\\n      <div class=\\\"card-header card-50\\\">\\r\\n        <div class=\\\"card-title my-card-title\\\">\\r\\n          <div class=\\\"my-center\\\">\\r\\n            <img src=\\\"./assets/images/dashboard-user.png\\\" class=\\\"user-image\\\" alt=\\\"\\\" />\\r\\n            <br>\\r\\n            <label class=\\\"text-dark center\\\">{{ data.agentInfo.employeeName }}</label><br>\\r\\n            <label class=\\\"text-dark center\\\">Senior LP Manager</label>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"card-body customer-card-body card-50\\\" style=\\\"margin-top: 10px;\\\">\\r\\n        <div class=\\\"row my-row mb-5\\\">\\r\\n          <div class=\\\"col-10\\\">\\r\\n            <label>Premium {{ data?.yearlyTotalPremium?.year }} {{ data.agentInfo.branchName }}</label>\\r\\n          </div>\\r\\n          <div class=\\\"col-2\\\">\\r\\n            <img src=\\\"./assets/images/alert.png\\\" class=\\\"icon-image\\\" alt=\\\"\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"mb-5\\\">\\r\\n          <label style=\\\"padding-left: 50px;\\\"><span class=\\\"font-weight-bolder text-dark center font-24\\\">\\r\\n            {{ data.agentInfo.totalPremium }}\\r\\n          </span>\\r\\n            <span><sup>MMk</sup></span></label>\\r\\n        </div>\\r\\n        <div>\\r\\n          <div class=\\\"row my-row\\\">\\r\\n            <div class=\\\"col-12\\\">\\r\\n              <label class=\\\"font-weight-bolder text-dark underline\\\">Products</label>\\r\\n            </div>\\r\\n          </div>\\r\\n          <ng-container *ngFor=\\\"let product of data?.yearlyProductPremium\\\">\\r\\n          <div class=\\\"row my-row\\\" >\\r\\n            <div class=\\\"col-6\\\">{{ product.productName }}</div>\\r\\n            <div class=\\\"col-6\\\">: {{ product.premium }} MMK</div>\\r\\n          </div>\\r\\n          </ng-container>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"col-lg-4 col-md-4 col-sm-6 col-xs-12 my-mt-5\\\">\\r\\n    <div class=\\\"card card-custom my-card\\\">\\r\\n      <div class=\\\"my-p-10\\\">\\r\\n        <div><span>SALES PERFORMANCE</span></div>\\r\\n        <div class=\\\"width-100\\\">\\r\\n          <span>JAN | Y2021 |</span>\\r\\n          <span class=\\\"float-right\\\">View All</span>\\r\\n        </div>\\r\\n      </div>\\r\\n     \\r\\n      <div style=\\\"margin-top: 10px;\\\">\\r\\n        <ng-container *ngFor=\\\"let agent of data?.subAgentMonthlySale\\\">\\r\\n          <div class=\\\"my-profile-card\\\" (click)=\\\"goToLPManager(agent)\\\">\\r\\n            <div class=\\\"flex\\\">\\r\\n              <div>\\r\\n                <img src=\\\"./assets/images/dashboard-user.png\\\" class=\\\"user-icon\\\" alt=\\\"\\\" />\\r\\n              </div>\\r\\n              <div class=\\\"pl-5\\\">\\r\\n                <div>\\r\\n                  <span>{{ agent.name }}</span>\\r\\n                </div>\\r\\n                <div>\\r\\n                  <span>{{ agent.premium }} MMK</span>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"my-border-left ml-4 pl-2\\\">\\r\\n                <div>\\r\\n                  <span>Team</span>\\r\\n                </div>\\r\\n                <div>\\r\\n                  <span>{{ agent.teamPremium }} MMK</span>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          </ng-container>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col-lg-4 col-md-4 col-sm-6 col-xs-12 my-mt-5\\\" *ngIf=\\\"leadObj\\\">\\r\\n    <div class=\\\"card card-custom my-card\\\">\\r\\n    <div class=\\\"my-p-10\\\">\\r\\n      <span>LEADS CONVERSION - Yangon Branch</span>\\r\\n      <h5>{{ leadObj.leadWinRate }} %</h5>\\r\\n      <div id=\\\"chart\\\">\\r\\n        <apx-chart\\r\\n          [series]=\\\"chartOptions.series\\\"\\r\\n          [chart]=\\\"chartOptions.chart\\\"\\r\\n          [dataLabels]=\\\"chartOptions.dataLabels\\\"\\r\\n          [plotOptions]=\\\"chartOptions.plotOptions\\\"\\r\\n          [yaxis]=\\\"chartOptions.yaxis\\\"\\r\\n          [xaxis]=\\\"chartOptions.xaxis\\\"\\r\\n          [legend]=\\\"chartOptions.legend\\\"\\r\\n          [colors]=\\\"chartOptions.colors\\\"\\r\\n          [grid]=\\\"chartOptions.grid\\\"\\r\\n        ></apx-chart>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n\\r\\n    <div class=\\\"container\\\">\\r\\n      <span>ACTIVE AGENTS TODAY</span>\\r\\n      <h5>{{ leadObj.todayActiveAgent }} </h5>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"container\\\">\\r\\n      <span>THINGS TO FOLLOW UP TODAY</span>\\r\\n      <div class=\\\"row my-row\\\">\\r\\n        <div class=\\\"col-6\\\">\\r\\n          <div class=\\\"box-1\\\">\\r\\n            <div><span>TASKS TODAY</span></div>\\r\\n            <br>\\r\\n            <div class=\\\"my-center\\\">\\r\\n              <h5>{{ leadObj.taskToday }}</h5>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-6\\\">\\r\\n          <div class=\\\"box-2\\\">\\r\\n            <div><span>LEADS TODAY</span></div>\\r\\n            <br>\\r\\n            <div class=\\\"my-center\\\">\\r\\n              <h5>{{ leadObj.leadToday }}</h5>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\";"],"names":[],"sourceRoot":"webpack:///"}