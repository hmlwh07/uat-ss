{"version":3,"file":"default-src_app_pages_static-pages_static-pages_module_ts.js","mappings":"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","sources":["./src/app/core/master-data-map.ts","./src/app/pages/product-form/page-data.service.ts","./src/app/pages/static-pages/addon-page/addon-page.component.ts","./src/app/pages/static-pages/calculated-building/add-calculated-building/add-calculated-building.component.ts","./src/app/pages/static-pages/calculated-building/calculated-building.component.ts","./src/app/pages/static-pages/coverage-page/coverage-page.component.ts","./src/app/pages/static-pages/education-life-griph/education-life-griph.component.ts","./src/app/pages/static-pages/education-life/education-life.component.ts","./src/app/pages/static-pages/endo-griph/endo-griph.component.ts","./src/app/pages/static-pages/endo/endo.component.ts","./src/app/pages/static-pages/endo/models&services/endo-rate.service.ts","./src/app/pages/static-pages/fire-risk/fire-risk.component.ts","./src/app/pages/static-pages/fire-risk/models&services/fire-risk-rate.service.ts","./src/app/pages/static-pages/fire-risk/risk-detail/risk-detail.component.ts","./src/app/pages/static-pages/fire-simple-page/fire-simple-page.component.ts","./src/app/pages/static-pages/health-quo/health-quo.component.ts","./src/app/pages/static-pages/health-quo/models&services/health-rate.service.ts","./src/app/pages/static-pages/motor-addon/motor-addon.component.ts","./src/app/pages/static-pages/simple-page-policy/simple-page-policy.component.ts","./src/app/pages/static-pages/simple-page/simple-page.component.ts","./src/app/pages/static-pages/static-field.interface.ts","./src/app/pages/static-pages/static-pages.directive.ts","./src/app/pages/static-pages/static-pages.module.ts","./src/app/pages/static-pages/surrounding-building/models&services/premium-rate-service.ts","./src/app/pages/static-pages/surrounding-building/models&services/surrounding-list.const.ts","./src/app/pages/static-pages/surrounding-building/surrounding-building.component.ts","./src/app/pages/static-pages/surrounding-building/surrounding-detail/surrounding-detail.component.ts","./src/app/pages/static-pages/tables/tables.component.ts","./src/app/pages/static-pages/travel-page/travel-page.component.ts","./src/app/pages/static-pages/travel-page/travel-risk-detail/travel-risk-detail.component.ts"],"sourcesContent":["import { forkJoin, Observable, of } from \"rxjs\";\r\nimport { map, mergeMap } from \"rxjs/operators\";\r\nimport { MasterDataService } from \"../modules/master-data/master-data.service\";\r\nimport { ConfigInput } from \"../pages/form-component/field.interface\";\r\n\r\nexport function getMasterValue(masterServer: MasterDataService, response: any, column: ConfigInput[], editing: boolean = false): Observable<any> {\r\n\r\n  if (Array.isArray(response) && response.length > 0) {\r\n    return of(response).pipe(map((result: any[]) => {\r\n      let masterPost = []\r\n      let resource = result.map((res) => {\r\n        let masterObj = (res.data as any[]).filter(x => (x.value + \"\" as string).startsWith(\"T-\") || (x.value + \"\" as string).startsWith(\"TA-\") || (x.value + \"\" as string).startsWith(\"TU-\"))\r\n        if (masterObj.length > 0) {\r\n          let postData = masterObj.map(x => {\r\n            let columnName = column.find(col => col.name == x.column)\r\n            if (columnName.masterData) {\r\n              return {\r\n                \"codeId\": x.value,\r\n                \"codeType\": columnName.masterData,\r\n                \"langCd\": \"EN\"\r\n              }\r\n            }\r\n          })\r\n          masterPost.push(...postData)\r\n        }\r\n      })\r\n\r\n      return { result, masterPost }\r\n    }), mergeMap((result: any) => {\r\n\r\n      if (result.masterPost.length > 0) {\r\n        let postData = {\r\n          \"codeBookRequest\": result.masterPost\r\n        }\r\n        return masterServer.getMasterValue(postData).pipe(map((masterValues: any) => {\r\n          return result.result.map(resp => {\r\n            resp.data = resp.data.flatMap(x => {\r\n              if ((x.value + \"\").startsWith(\"T-\") || (x.value + \"\").startsWith(\"TA-\") || (x.value + \"\").startsWith(\"TU-\")) {\r\n                let columnName = column.find(col => col.name == x.column)\r\n                let index = masterValues.findIndex(master => master.codeId == x.value && columnName.masterData == master.codeType)\r\n                if (index >= 0) {\r\n                  if (editing) {\r\n                    return [x, { column: x.column + \"Value\", value: masterValues[index].codeName, }]\r\n                    // x.value = masterValues[index].codeName\r\n                  } else {\r\n                    x.value = masterValues[index].codeName\r\n                    x[\"valueCode\"] = masterValues[index].codeId\r\n\r\n                  }\r\n                }\r\n              }\r\n              return x\r\n            })\r\n            return resp\r\n          })\r\n          // return result\r\n        }))\r\n      }\r\n      return of(result.result)\r\n    }))\r\n  }\r\n  return of(response)\r\n\r\n}\r\n\r\n// return masterServer.getMasterValue(postData).pipe(map((x: any) => {\r\n//   return x.map(masterD => {\r\n//     let index = res.data.findIndex(val => val.value == masterD.codeId)\r\n//     res.data[index].value = masterD.codeName\r\n//     return res.data[index]\r\n//   })\r\n// }), mergeMap((res2) => {\r\n\r\n//   let masterObj = (res.data as any[]).filter(x => !(x.value + \"\" as string).includes(\"T-\"))\r\n//   console.log([...masterObj, ...res2]);\r\n\r\n//   return of({ data: [...masterObj, ...res2] })\r\n// })\r\n// )\r\n// export function getMasterValue(masterServer: MasterDataService, response: any, column: ConfigInput[]): Observable<any> {\r\n//   console.log(response);\r\n\r\n//   if (Array.isArray(response) && response.length > 0) {\r\n//     return of(response).pipe(mergeMap((result: any[]) => {\r\n//       return forkJoin(result.map((res) => {\r\n//         let masterObj = (res.data as any[]).filter(x => (x.value + \"\" as string).includes(\"T-\"))\r\n\r\n//         if (masterObj.length > 0) {\r\n//           let postData = {\r\n//             \"codeBookRequest\": []\r\n//           }\r\n//           postData.codeBookRequest = masterObj.map(x => {\r\n//             let columnName = column.find(col => col.name == x.column)\r\n//             if (columnName.masterData) {\r\n//               return {\r\n//                 \"codeId\": x.value,\r\n//                 \"codeType\": columnName.masterData,\r\n//                 \"langCd\": \"EN\"\r\n//               }\r\n//             }\r\n\r\n//           })\r\n\r\n//           return masterServer.getMasterValue(postData).pipe(map((x: any) => {\r\n//             return x.map(masterD => {\r\n//               let index = res.data.findIndex(val => val.value == masterD.codeId)\r\n//               res.data[index].value = masterD.codeName\r\n//               return res.data[index]\r\n//             })\r\n//           }), mergeMap((res2) => {\r\n\r\n//             let masterObj = (res.data as any[]).filter(x => !(x.value + \"\" as string).includes(\"T-\"))\r\n//             console.log([...masterObj, ...res2]);\r\n\r\n//             return of({ data: [...masterObj, ...res2] })\r\n//           })\r\n//           )\r\n//         }\r\n//         return of(res)\r\n//         // res.data.map(x => {\r\n//         //   if((x.value as string).includes(\"T-\")){\r\n\r\n//         //   }\r\n//         // })\r\n//       }))\r\n//     }))\r\n//     // response.map(x=> {\r\n//     //   x.data.map()\r\n//     // })\r\n//   }\r\n//   return of(response)\r\n\r\n// }","import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Observable, of } from \"rxjs\";\r\nimport { flatMap, mergeMap, switchMap } from \"rxjs/operators\";\r\nimport { environment } from \"../../../environments/environment\";\r\nimport { BizOperationService } from \"../../core/biz.operation.service\";\r\nimport { getMasterValue } from \"../../core/master-data-map\";\r\nimport { MasterDataService } from \"../../modules/master-data/master-data.service\";\r\nimport { ConfigInput } from \"../form-component/field.interface\";\r\n\r\nconst API_PAGEDATA_URL = `${environment.apiUrl}/pagedata`;\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class PageDataService extends BizOperationService<any, number>{\r\n\r\n  constructor(protected httpClient: HttpClient, private masterData: MasterDataService) {\r\n    super(httpClient, API_PAGEDATA_URL);\r\n  }\r\n\r\n  getDetail(table: any, resourceId: any, id: any, view: boolean = false, colums: ConfigInput[] = [], editing: boolean = false) {\r\n    return this.httpClient.get(API_PAGEDATA_URL + \"/\" + table + \"/\" + resourceId + \"/\" + id).pipe(mergeMap((res: any) => {\r\n      if (view) {\r\n        return getMasterValue(this.masterData, res, colums, editing)\r\n      }\r\n      return of(res)\r\n    }))\r\n  }\r\n\r\n  deleteData(table, refID, id) {\r\n    return this.httpClient.delete(API_PAGEDATA_URL + \"/\" + table + \"/\" + refID + \"/\" + id)\r\n  }\r\n\r\n  updatePremimun(postData: any): Observable<any> {\r\n    return this.httpClient.put(API_PAGEDATA_URL + \"/resource\", postData)\r\n  }\r\n  // updateStatus(data){\r\n  //   return this.httpClient.put(API_PAGEDATA_URL + \"/resource\",data)\r\n  // }\r\n\r\n}","import { DecimalPipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { GlobalFunctionService } from '../../../core/global-fun.service';\r\nimport { PolicyDTO } from '../../policy/policy.dto';\r\nimport { AddOn, Product, ProductPages } from '../../products/models/product.dto';\r\nimport { AddOnQuoService } from '../../products/services/add-on-quo.service';\r\nimport { ProductDataService } from '../../products/services/products-data.service';\r\nimport { QuotationDTO } from '../../quotations/quotation.dto';\r\nimport { StaticActionType, StaticPageAction } from '../static-field.interface';\r\nimport { PageDataService } from \"../../product-form/page-data.service\"\r\nimport { IsJsonString } from '../../../core/is-json';\r\nimport { LoadingService } from '../../../modules/loading-toast/loading/loading.service';\r\nimport { FirePageID, FireRiskID } from '../static-pages.data';\r\nimport { MotorAddonComponent } from '../motor-addon/motor-addon.component';\r\n@Component({\r\n  selector: 'app-addon-page',\r\n  templateUrl: './addon-page.component.html',\r\n  styleUrls: ['./addon-page.component.scss']\r\n})\r\nexport class AddonPageComponent implements OnInit {\r\n  @Input() product: Product\r\n  @Input() editData: QuotationDTO | PolicyDTO\r\n  @Input() resourcesId: string\r\n  @Output() actionEvent = new EventEmitter<StaticPageAction>();\r\n  @Input() optionId: string\r\n  @Input() fireAdd: boolean = false\r\n  addOns = {\r\n    isSum: false,\r\n    isUnit: false,\r\n    isPremium: false,\r\n  }\r\n  refID: any\r\n  addOnsData: any = {}\r\n  unsubscribe: Subscription[] = []\r\n  @Input() premiumAmt: string = ''\r\n  premiun\r\n  parentData: any = {}\r\n  isLoading = true\r\n  fireAddonRate = {\r\n    \"FLOOD\": 0.1,\r\n    \"SUBLSLD\": 0.1,\r\n    \"BURGLARY-T-CL1\": 0.25,\r\n    \"BURGLARY-T-CL2\": 0.5,\r\n    \"BURGLARY-T-CL3\": 0.75,\r\n    \"BURGLARY-T-CL4\": 1,\r\n    \"STHTC-T-BFMGS\": 0.2,\r\n    \"STHTC-T-002\": 0.2,\r\n    \"STHTC-T-003\": 0.2,\r\n    \"STHTC-T-004\": 0.2,\r\n    \"STHTC-T-WDGS\": 0.25,\r\n    \"WARRISK\": 0.1,\r\n    \"ACD\": 0.1,\r\n    \"EXPLOSION\": 0.1,\r\n    \"IMPD\": 0.1,\r\n    \"RSMD\": 0.06,\r\n    \"SPONTCOMB\": 0.08,\r\n    \"EQ\": 0.1,\r\n    \"Fire\": 0.1,\r\n  }\r\n  //   RSMD\r\n  // ACD\r\n  // IMPD\r\n  // SUBLSLD\r\n  // EQ\r\n  // EXPLOSION\r\n  // SPONTCOMB\r\n  // STHTC\r\n  // FLOOD\r\n  // BURGLARY\r\n  // WARRISK\r\n  addOnList: any[] = []\r\n  crossAddons: string[] = []\r\n  fireOptionData = {\r\n    \"STHTC\": [\r\n      { \"code\": \"T-BFMGS\", \"value\": \"Building,Furniture,Machine,Goods/Stocks\" },\r\n      { \"code\": \"T-WDGS\", \"value\": \"Water Damage for Goods/Stocks\" },\r\n    ],\r\n    \"BURGLARY\": [\r\n      { \"code\": \"T-CL1\", \"value\": \"Class 1\" },\r\n      { \"code\": \"T-CL2\", \"value\": \"Class 2\" },\r\n      { \"code\": \"T-CL3\", \"value\": \"Class 3\" },\r\n      { \"code\": \"T-CL4\", \"value\": \"Class 4\" },\r\n    ]\r\n  }\r\n  constructor(private addOnQuoService: AddOnQuoService, private globalFun: GlobalFunctionService, private cdRef: ChangeDetectorRef, private prodService: ProductDataService, private numberPipe: DecimalPipe, private pageDataService: PageDataService, private loadingService: LoadingService) { }\r\n\r\n  async ngOnInit() {\r\n    this.refID = this.prodService.referenceID\r\n    this.optionId = this.optionId ? this.optionId : this.resourcesId\r\n    if (this.product.code == \"PLMO02\" || this.product.code ==\"PLMO01\") {\r\n      this.parentData = this.getParnet()\r\n    }\r\n    this.addOnList = this.product.addOns.filter(x =>(x.code != \"MED EXP\" && this.product.code != \"PLMO01\") && (x.code != \"CROSSBRDR\" && this.product.code != \"PLMO01\"))\r\n    this.crossAddons = this.product.addOns.filter(x => x.code == \"MED EXP\"&& this.product.code != \"PLMO01\" || x.code == \"CROSSBRDR\"&& this.product.code != \"PLMO01\").map(x => x.id)\r\n    if (this.addOnList && this.addOnList.length > 0) {\r\n      await this.loadingService.activate()\r\n      this.addOns = {\r\n        isSum: this.addOnList[0].sumInsured,\r\n        isUnit: this.addOnList[0].unit,\r\n        isPremium: this.addOnList[0].premium,\r\n      }\r\n      let callAddon = true\r\n      let postData = {\r\n        quotationNo: this.resourcesId,\r\n        addOnIds: this.addOnList.map(x => { return x.id }),\r\n        optionalKey: this.optionId\r\n      }\r\n      let results: any = await this.addOnQuoService.getAllById(postData).toPromise()\r\n      if (results.length == 0) {\r\n        postData.quotationNo = this.refID\r\n        postData.optionalKey = this.refID\r\n        results = await this.addOnQuoService.getAllById(postData).toPromise()\r\n      }\r\n      for (const item of this.addOnList) {\r\n        item['show'] = true\r\n        if (item.validationFun) {\r\n          item['show'] = this.globalFun[item.validationFun] ? this.globalFun[item.validationFun](this.parentData) : true\r\n        }\r\n        if (this.product.code == \"CLFR01\") {\r\n          item[\"sumInsuredStr\"] = \"0\"\r\n          item[\"unitStr\"] = \"0\"\r\n          item[\"premiumStr\"] = \"0\"\r\n        }\r\n        let response = results.find(x => x.addonId == item.id)\r\n        // if (item['show']) {\r\n        this.addOnsData[item.id] = {\r\n          checked: response && item['show'] ? true : false,\r\n          sum: response ? response.sumInsured || 0 : 0,\r\n          unit: response ? response.unit || 0 : 0,\r\n          premium: response ? response.premium || 0 : 0,\r\n          option: response ? response.option || \"\" : \"\",\r\n        }\r\n        if (item.code == \"STHTC\" && this.addOnsData[item.id].option == \"\") {\r\n          this.addOnsData[item.id].option = \"T-BFMGS\"\r\n        } else if (item.code == \"BURGLARY\" && this.addOnsData[item.id].option == \"\") {\r\n          this.addOnsData[item.id].option = \"T-CL1\"\r\n          let unsub =this.globalFun.fireBurgeryResult.subscribe((value)=> this.addOnsData[item.id].option=value)\r\n          this.unsubscribe.push(unsub)\r\n        }\r\n\r\n        if (item.sumInsured) {\r\n          this.getGlobalFun(item.sumInsuredStr, 'addOnsData', item.id, 'sum', item)\r\n        }\r\n        if (item.unit) {\r\n          this.getGlobalFun(item.unitStr, 'addOnsData', item.id, 'unit', item)\r\n        }\r\n        if (item.premium) {\r\n          if (item.code == \"CROSSBRDR\" && this.addOnsData[item.id].checked) {\r\n\r\n          } else {\r\n            this.getGlobalFun(item.premiumStr, 'addOnsData', item.id, 'premium', item)\r\n          }\r\n        }\r\n        // }\r\n      }\r\n      // if (callAddon && this.editData && this.refID) {\r\n      //   for (const item of this.addOnList) {\r\n      //     let response: any = null;\r\n      //     try {\r\n      //       response = await this.addOnQuoService.getOne(item.id, this.refID).toPromise()\r\n      //     } catch (error) {\r\n      //       response = null\r\n      //     }\r\n      //     this.addOnsData[item.id] = {\r\n      //       checked: response ? true : false,\r\n      //       sum: response ? response.sumInsured || 0 : 0,\r\n      //       unit: response ? response.unit || 0 : 0,\r\n      //       premium: response ? response.premium || 0 : 0\r\n      //     }\r\n      //   }\r\n      // }\r\n      this.isLoading = false\r\n      await this.loadingService.deactivate()\r\n      this.cdRef.detectChanges();\r\n\r\n    } else {\r\n      this.isLoading = false\r\n    }\r\n  }\r\n\r\n  getGlobalFun(funName: string, mainObj: string, mainKey, subKey: string, addon: any) {\r\n\r\n    if ((this.product.code == \"PLMO02\" || this.product.code == \"PLMO01\") && subKey == \"premium\") {\r\n      if (this.globalFun[funName]) {\r\n        let parentValueObj = addon.code == \"PAIDDRIVER\" ? this.getParnet('motor_driver') : this.parentData\r\n        let unsub = this.globalFun[funName](parentValueObj).subscribe((res) => {\r\n          this[mainObj][mainKey][subKey] = res\r\n          this.cdRef.detectChanges();\r\n        })\r\n        this.unsubscribe.push(unsub)\r\n      } else {\r\n        if (funName) {\r\n          // if (addon.code == \"CROSSBRDR\" && this.product.code == \"PLMO02\" && subKey == \"premium\") {\r\n          //   this[mainObj][mainKey][subKey] = this.calcuCross() * 0.15\r\n          // }else{\r\n          this[mainObj][mainKey][subKey] = funName\r\n          // }\r\n        }\r\n      }\r\n    } else if (this.product.code == \"CLFR01\" && subKey == \"premium\") {\r\n      this[mainObj][mainKey][subKey] = this.rateByValue(addon)\r\n    }\r\n    else {\r\n      if (this.globalFun[funName + \"Result\"]) {\r\n        let unsub = this.globalFun[funName + \"Result\"].subscribe((res) => {\r\n          this[mainObj][mainKey][subKey] = res\r\n          this.cdRef.detectChanges();\r\n        })\r\n        this.unsubscribe.push(unsub)\r\n      } else {\r\n        if (funName)\r\n          this[mainObj][mainKey][subKey] = funName\r\n      }\r\n    }\r\n  }\r\n\r\n  async nextPage() {\r\n    const quoService = this.addOnQuoService\r\n    const posDataArray = this.addOnsData\r\n    await quoService.deleteAll(this.resourcesId, this.optionId, this.crossAddons.join(\",\")).toPromise()\r\n    if (this.product.code == \"CLFR01\") {\r\n      this.globalFun.tempFormData['addon_1634010770155' + this.optionId] = []\r\n    } else {\r\n      this.globalFun.tempFormData['addon_1634010770155'] = []\r\n    }\r\n    for (let addon of this.addOnList) {\r\n      if (posDataArray[addon.id].checked) {\r\n        let sum = posDataArray[addon.id].sum ? posDataArray[addon.id].sum + \"\" : \"\"\r\n        let unit = posDataArray[addon.id].unit ? posDataArray[addon.id].unit + \"\" : \"\"\r\n        let premium = posDataArray[addon.id].premium ? posDataArray[addon.id].premium + \"\" : \"\"\r\n        let option = posDataArray[addon.id].option ? posDataArray[addon.id].option + \"\" : \"\"\r\n        try {\r\n          let postData = {\r\n            addonId: addon.id,\r\n            quotationNo: this.resourcesId,\r\n            option: option,\r\n            optionalKey: this.optionId,\r\n            sumInsured: (sum).replace(',', '').replace('MMK', '').replace('USD', ''),\r\n            unit: (unit).replace(',', '').replace('MMK', '').replace('USD', ''),\r\n            premium: (premium).replace(',', '').replace('MMK', '').replace('USD', ''),\r\n          }\r\n          if (this.product.code == \"CLFR01\") {\r\n            this.globalFun.tempFormData['addon_1634010770155' + this.optionId].push(postData)\r\n          } else {\r\n            this.globalFun.tempFormData['addon_1634010770155'].push(postData)\r\n          }\r\n          let res = await quoService.save(postData).toPromise()\r\n        } catch (error) {\r\n          // console.log(error);\r\n\r\n        }\r\n      }\r\n\r\n    }\r\n    if (this.product.code == \"PLMO02\" || this.product.code == \"PLMO01\") {\r\n      await this.savePremimun().toPromise()\r\n    }\r\n    if (this.product.code == \"CLFR01\") {\r\n      // await this.savePremimunFire().toPromise()\r\n    }\r\n    // console.log(\"end\");\r\n\r\n    this.actionEvent.emit({ type: StaticActionType.NEXT })\r\n  }\r\n\r\n  backPage() {\r\n    this.actionEvent.emit({ type: StaticActionType.PREV })\r\n  }\r\n\r\n  onCheckAddon() {\r\n\r\n  }\r\n\r\n  changeOption(addon: AddOn) {\r\n    if (addon.code != \"CROSSBRDR\" && this.product.code == \"PLMO01\") {\r\n      let cross = this.addOnList.find(x => x.code == \"CROSSBRDR\")\r\n      if (this.addOnsData[cross.id].checked) {\r\n        let tempPre = this.calcuCross()\r\n        this.addOnsData[cross.id]['premium'] = tempPre * 0.15\r\n      }\r\n    } else if (this.addOnsData[addon.id].checked && addon.code == \"CROSSBRDR\") {\r\n      let tempPre = this.calcuCross()\r\n      this.addOnsData[addon.id]['premium'] = tempPre * 0.15\r\n    }\r\n    else if (!this.addOnsData[addon.id].checked && addon.code == \"CROSSBRDR\") {\r\n      this.addOnsData[addon.id]['premium'] = 0\r\n    }\r\n  }\r\n\r\n  rechangeOption(addOn) {\r\n    this.addOnsData[addOn.id].premium = this.rateByValue(addOn)\r\n  }\r\n\r\n  calcuCross() {\r\n    let tempPre = 0\r\n    for (let addon of this.addOnList) {\r\n      if (this.addOnsData[addon.id].checked && addon.code != \"CROSSBRDR\") {\r\n        tempPre += this.globalFun.calculateDecimal(this.addOnsData[addon.id].premium || 0)\r\n      }\r\n    }\r\n    let coverageData = this.globalFun.tempFormData['coverage_1634010995936'] ? this.globalFun.tempFormData['coverage_1634010995936'] : []\r\n    for (let cov of coverageData) {\r\n      tempPre += this.globalFun.calculateDecimal(cov.premium || 0)\r\n    }\r\n    // let crossPre = tempPre * 0.15\r\n    let currency: string = this.parentData ? this.parentData.m_currency : 'MMK'\r\n    let excessAmt = 0\r\n    let discount = 0\r\n    if (this.parentData) {\r\n      let excess = this.parentData['m_excess']\r\n      let excess_discount = this.parentData['excess_discount']\r\n      if (excess == \"T-NILEX\" && currency == \"MMK\") {\r\n        discount = -50000\r\n      } else if (excess == \"TU-NILEX\") {\r\n        discount = -25\r\n      } else if (excess == \"T-ED\" && currency == \"MMK\") {\r\n        if (excess_discount == \"T-EXD1\") {\r\n          discount = 50000\r\n        } else if (excess_discount == \"T-EXD2\") {\r\n          discount = 70000\r\n        } else if (excess_discount == \"T-EXD3\") {\r\n          discount = 100000\r\n        }\r\n      }\r\n    }\r\n\r\n    return  (tempPre - discount)\r\n  }\r\n\r\n  caluMotorPremimun() {\r\n    let tempPre = 0\r\n    for (let addon of this.addOnList) {\r\n      if (this.addOnsData[addon.id].checked) {\r\n        tempPre += this.globalFun.calculateDecimal(this.addOnsData[addon.id].premium || 0)\r\n      }\r\n    }\r\n    let coverageData = this.globalFun.tempFormData['coverage_1634010995936'] ? this.globalFun.tempFormData['coverage_1634010995936'] : []\r\n    for (let cov of coverageData) {\r\n      tempPre += this.globalFun.calculateDecimal(cov.premium || 0)\r\n    }\r\n    let currency: string = this.parentData ? this.parentData.m_currency : 'MMK'\r\n    let discount = 0\r\n    if (this.parentData) {\r\n      let excess = this.parentData['m_excess']\r\n      let excess_discount = this.parentData['excess_discount']\r\n      if (excess == \"T-NILEX\" && currency == \"MMK\") {\r\n        discount = -50000\r\n      } else if (excess == \"TU-NILEX\") {\r\n        discount = -25\r\n      } else if (excess == \"T-ED\" && currency == \"MMK\") {\r\n        if (excess_discount == \"T-EXD1\") {\r\n          discount = 50000\r\n        } else if (excess_discount == \"T-EXD2\") {\r\n          discount = 70000\r\n        } else if (excess_discount == \"T-EXD3\") {\r\n          discount = 100000\r\n        }\r\n      }\r\n    }\r\n    let stumd = currency == \"MMK\" ? 100 : 1\r\n    let preAMT = (tempPre - discount) + stumd\r\n    this.premiumAmt = this.numberPipe.transform(preAMT) + \" \" + currency.toUpperCase()\r\n    this.globalFun.paPremiumResult.next(this.premiumAmt)\r\n    return preAMT\r\n  }\r\n\r\n  caluFirePremimun() {\r\n    let parentData1 = this.globalFun.tempFormData[FireRiskID]\r\n    let parentData2 = this.globalFun.tempFormData[FirePageID]\r\n    let precent = parentData2.policyType == \"T-NM\" ? 1 : 0.75\r\n    let premiumTotal = 0\r\n    for (let element of parentData1) {\r\n      premiumTotal += this.globalFun.calculateDecimal(element.premium)\r\n\r\n    }\r\n    // parentData2.forEach(element => {\r\n    //   premiumTotal += parseFloat(element.premium)\r\n    // });\r\n    const posDataArray = this.addOnsData\r\n    let addOnPre = 0\r\n    for (let addon of this.addOnList) {\r\n      if (posDataArray[addon.id].checked) {\r\n        addOnPre += this.globalFun.calculateDecimal(posDataArray[addon.id]['premium'])\r\n      }\r\n    }\r\n    let finalPre = (premiumTotal + addOnPre) * precent\r\n    this.premiumAmt = this.numberPipe.transform(finalPre) + \" MMK\"\r\n    this.globalFun.paPremiumResult.next(this.premiumAmt)\r\n    return finalPre\r\n  }\r\n\r\n  savePremimun() {\r\n    let premiumAmt = this.caluMotorPremimun()\r\n    let postData = {\r\n      \"premium\": (Number(this.premiumAmt.split(\" \")[0].split(',').join(\"\")) || 0) + \"\",\r\n      \"premiumView\": this.premiumAmt,\r\n      \"resourceId\": this.resourcesId,\r\n      \"type\": this.prodService.viewType\r\n    }\r\n    return this.pageDataService.updatePremimun(postData)\r\n  }\r\n\r\n  savePremimunFire() {\r\n    let premiumAmt = this.caluFirePremimun()\r\n    let postData = {\r\n      \"premium\": (Number(this.premiumAmt.split(\" \")[0].split(',').join(\"\")) || 0) + \"\",\r\n      \"premiumView\": this.premiumAmt,\r\n      \"resourceId\": this.resourcesId,\r\n      \"type\": this.prodService.viewType\r\n    }\r\n    return this.pageDataService.updatePremimun(postData)\r\n  }\r\n\r\n  getParnet(tableName: string = 'm_detail') {\r\n    if (IsJsonString(this.product.config)) {\r\n      let pageUI: ProductPages = JSON.parse(this.product.config);\r\n      let pageOrder = this.prodService.type != 'quotation' ? pageUI.application || [] : pageUI.quotation || []\r\n      let parent = pageOrder.find(page => page.tableName == tableName)\r\n      if (parent) {\r\n        return this.globalFun.tempFormData[parent.tableName + parent.id] || null\r\n      }\r\n      return null\r\n    }\r\n    return null\r\n  }\r\n\r\n  rateByValue(addon: any) {\r\n    let rate = 0\r\n    if (addon.code == \"BURGLARY\" || addon.code == \"STHTC\") {\r\n      let keyId = addon.code + \"-\" + this.addOnsData[addon.id].option\r\n      rate = this.fireAddonRate[keyId] || 0\r\n    } else {\r\n      rate = this.fireAddonRate[addon.code] || 0\r\n    }\r\n    let parentData = this.globalFun.tempFormData[FireRiskID]\r\n    // console.log(parentData);\r\n\r\n    let totalRisk = 0\r\n    if (parentData) {\r\n      // parentData.forEach(element => {\r\n      //   totalRisk += parseFloat(element.riskSi)\r\n      // });\r\n      let parent = parentData.find(x => x.id == this.optionId)\r\n      totalRisk += parent ? parent.riskSi : 0\r\n    }\r\n    if (rate > 0 && totalRisk > 0) {\r\n      let amt = totalRisk * (rate / 100)\r\n      if (addon.code == \"BURGLARY\") {\r\n        let dis = amt * 0.1\r\n        amt = amt - dis\r\n      }\r\n      return amt\r\n    }\r\n    return 0\r\n  }\r\n\r\n}\r\n","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { NgbActiveModal, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n@Component({\r\n  selector: 'app-add-calculated-building',\r\n  templateUrl: './add-calculated-building.component.html',\r\n  styleUrls: ['./add-calculated-building.component.scss']\r\n})\r\nexport class AddCalculatedBuildingComponent implements OnInit {\r\n  @Input() type = \"Contents including FFF\"\r\n  @Input() pageType=\"Add\"\r\n  @Input() data: any\r\n  @Input() riskId: any = 1\r\n  @Input() isStock: boolean = false\r\n  calculatedbuildingForm: FormGroup\r\n  constructor(private modal: NgbActiveModal,private cdf:ChangeDetectorRef) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loadForm(this.data)\r\n    this.setValidator()\r\n  }\r\n  create() {\r\n    this.modal.dismiss({ data: this.calculatedbuildingForm.value, type: \"save\" })\r\n  }\r\n  loadForm(oldData?) {\r\n    this.calculatedbuildingForm = new FormGroup({\r\n      firePolicyRiskId: new FormControl(oldData ? oldData.firePolicyRiskId : this.riskId),\r\n      id: new FormControl(oldData ? oldData.id : \"\"),\r\n      itemDescription: new FormControl(oldData ? oldData.itemDescription || oldData.description : \"\"),\r\n      itemName: new FormControl(oldData ? oldData.itemName : \"\"),\r\n      quantity: new FormControl(oldData ? oldData.quantity : \"\"),\r\n      totalValue: new FormControl(oldData ? oldData.totalValue : \"\"),\r\n      updatedBy: new FormControl(oldData ? oldData.updatedBy : \"\"),\r\n      valuePerQuantity: new FormControl(oldData ? oldData.valuePerQuantity : \"\"),\r\n      month: new FormControl(oldData ? oldData.month : \"\"),\r\n      remark: new FormControl(oldData ? oldData.remark : \"\"),\r\n      stockValue: new FormControl(oldData ? oldData.stockValue : \"\"),\r\n      agreedSi: new FormControl(oldData ? oldData.agreedSi : \"\"),\r\n    })\r\n  }\r\n  setValidator(){\r\n    if(this.type==\"Contents including FFF\" || this.type==\"Plant and Machinery\"){\r\n      this.calculatedbuildingForm.controls['itemDescription'].setValidators([Validators.required])\r\n      this.calculatedbuildingForm.controls['itemDescription'].updateValueAndValidity()\r\n      this.calculatedbuildingForm.controls['itemName'].setValidators([Validators.required])\r\n      this.calculatedbuildingForm.controls['itemName'].updateValueAndValidity()\r\n      this.calculatedbuildingForm.controls['quantity'].setValidators([Validators.required])\r\n      this.calculatedbuildingForm.controls['quantity'].updateValueAndValidity()\r\n      this.calculatedbuildingForm.controls['valuePerQuantity'].setValidators([Validators.required])\r\n      this.calculatedbuildingForm.controls['valuePerQuantity'].updateValueAndValidity()\r\n      this.calculatedbuildingForm.controls['totalValue'].setValidators([Validators.required])\r\n      this.calculatedbuildingForm.controls['totalValue'].updateValueAndValidity()\r\n    }\r\n    if(this.type==\"Stock\"){\r\n      this.calculatedbuildingForm.controls['itemDescription'].setValidators([Validators.required])\r\n      this.calculatedbuildingForm.controls['itemDescription'].updateValueAndValidity()\r\n      this.calculatedbuildingForm.controls['stockValue'].setValidators([Validators.required])\r\n      this.calculatedbuildingForm.controls['stockValue'].updateValueAndValidity()\r\n      this.calculatedbuildingForm.controls['month'].setValidators([Validators.required])\r\n      this.calculatedbuildingForm.controls['month'].updateValueAndValidity()\r\n      this.calculatedbuildingForm.controls['remark'].setValidators([Validators.required])\r\n      this.calculatedbuildingForm.controls['remark'].updateValueAndValidity()\r\n      this.calculatedbuildingForm.controls['agreedSi'].setValidators([Validators.required])\r\n      this.calculatedbuildingForm.controls['agreedSi'].updateValueAndValidity()\r\n    }\r\n \r\n  }\r\n\r\n  calculateTotalValue() {\r\n    this.cdf.detectChanges()\r\n    let quantity = this.calculatedbuildingForm.value.quantity\r\n    let value = this.calculatedbuildingForm.value.valuePerQuantity\r\n    console.log(\"quantity,value\",quantity,value)\r\n    if (quantity && value)\r\n      this.calculatedbuildingForm.controls.totalValue.setValue(quantity * value)\r\n  }\r\n  dismissModal() {\r\n    this.modal.dismiss()\r\n  }\r\n  isControlValid(controlName: string): boolean {\r\n    const control = this.calculatedbuildingForm.controls[controlName];\r\n    return control.valid && (control.dirty || control.touched);\r\n  }\r\n\r\n  isControlInvalid(controlName: string): boolean {\r\n    const control = this.calculatedbuildingForm.controls[controlName];\r\n    return control.invalid && (control.dirty || control.touched);\r\n  }\r\n\r\n  controlHasError(validation, controlName): boolean {\r\n    const control = this.calculatedbuildingForm.controls[controlName];\r\n    return control.hasError(validation) && (control.dirty || control.touched);\r\n  }\r\n\r\n  isControlTouched(controlName): boolean {\r\n    const control = this.calculatedbuildingForm.controls[controlName];\r\n    return control.dirty || control.touched;\r\n  }\r\n}\r\n","import { ChangeDetectorRef, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { AuthService } from 'src/app/modules/auth';\r\nimport { AlertService } from 'src/app/modules/loading-toast/alert-model/alert.service';\r\nimport { GlobalFunctionService } from '../../../core/global-fun.service';\r\nimport { FireRiskService } from '../fire-risk/models&services/fire-risk.service';\r\nimport { FirePageID } from '../static-pages.data';\r\nimport { AddCalculatedBuildingComponent } from './add-calculated-building/add-calculated-building.component';\r\nimport { FireContentService, FirePLantService, FireStockService } from './services/calculated-building-service';\r\n\r\n@Component({\r\n  selector: 'app-calculated-building',\r\n  templateUrl: './calculated-building.component.html',\r\n  styleUrls: ['./calculated-building.component.scss']\r\n})\r\nexport class CalculatedBuildingComponent implements OnInit {\r\n  isContents: boolean = false\r\n  isPlant: boolean = false\r\n  isStock: boolean = false\r\n  @Input() default: number = 0\r\n  primary = 'primary'\r\n  totalContent: number = 0\r\n  totalPlant: number = 0\r\n  totalStock: number = 0\r\n  tableData: any = []\r\n  contentsData: any[] = []\r\n  plantData: any[] = []\r\n  stockData: any[] = []\r\n  totalSI: number = 0\r\n  productDetail: any = {}\r\n  @Input() riskId = 1\r\n  @Output() totalEvent = new EventEmitter<number>()\r\n  constructor(private FireContentService: FireContentService,\r\n    private FirePLantService: FirePLantService, private FireStockService: FireStockService,\r\n    private modal: NgbModal, private auth: AuthService, private cdf: ChangeDetectorRef,\r\n    private globalService: GlobalFunctionService, private riskService: FireRiskService,\r\n    private alertService: AlertService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getFireContent()\r\n    this.getFirePlant()\r\n    this.getFireStock()\r\n    this.productDetail = this.globalService.tempFormData[FirePageID] || {}\r\n  }\r\n  actionBtn(event) {\r\n    // //console.log(event)\r\n    if (event.cmd == \"delete\") {\r\n      if (event.tbtype == \"content\") {\r\n        this.deleteFireContent(event.data.id)\r\n      }\r\n      if (event.tbtype == \"plant\") {\r\n        this.deleteFirePlant(event.data.id)\r\n      }\r\n      if (event.tbtype == \"stock\") {\r\n        this.deleteFireStock(event.data.id)\r\n      }\r\n    }\r\n    if (event.cmd == \"edit\") {\r\n      if (event.tbtype == \"content\") {\r\n        this.add('contents', event.data, \"Edit\")\r\n      }\r\n      if (event.tbtype == \"plant\") {\r\n        this.add('plants', event.data, \"Edit\")\r\n      }\r\n      if (event.tbtype == \"stock\") {\r\n        this.add('stock', event.data, \"Edit\")\r\n      }\r\n    }\r\n\r\n  }\r\n  add(type, data?, pageType?) {\r\n    if (type == \"contents\") {\r\n      let modalRef;\r\n      modalRef = this.modal.open(AddCalculatedBuildingComponent, { size: 'xl', backdrop: false });\r\n      modalRef.componentInstance.type = \"Contents including FFF\"\r\n      modalRef.componentInstance.pageType = pageType\r\n      modalRef.componentInstance.riskId = this.riskId\r\n      modalRef.componentInstance.data = data\r\n      modalRef.result.then(() => { }, (res) => {\r\n        if (res) {\r\n          //console.log(\"RESSSS\", res)\r\n          if (res.type == \"save\") {\r\n            let postData = { ...res.data, createdBy: this.auth.currentUserValue.id }\r\n            //console.log(\"postData\", postData)\r\n            this.FireContentService.save(postData).toPromise().then((res: any) => {\r\n              if (res) {\r\n                //console.log(\"getFireContent-RESSS\", res)\r\n                this.getFireContent()\r\n                let oldVal = data ? data : { id: 0 }\r\n                let index = this.contentsData.findIndex(x => x.id == oldVal.id)\r\n                if (index < 0)\r\n                  this.contentsData.push({ ...postData, id: res })\r\n                else\r\n                  this.contentsData[index] = { ...postData, id: res }\r\n\r\n                this.cdf.detectChanges()\r\n              }\r\n            })\r\n          }\r\n        }\r\n      })\r\n    }\r\n    if (type == \"plants\") {\r\n      let modalRef;\r\n      modalRef = this.modal.open(AddCalculatedBuildingComponent, { size: 'xl', backdrop: false });\r\n      modalRef.componentInstance.type = \"Plant and Machinery\"\r\n      modalRef.componentInstance.pageType = pageType\r\n      modalRef.componentInstance.riskId = this.riskId\r\n      modalRef.componentInstance.data = data\r\n      modalRef.result.then(() => { }, (res) => {\r\n        if (res) {\r\n          //console.log(\"RESSSS\", res)\r\n          if (res.type == \"save\") {\r\n            let postData = { ...res.data, createdBy: this.auth.currentUserValue.id }\r\n            //console.log(\"postData\", postData)\r\n            this.FirePLantService.save(postData).toPromise().then((res: any) => {\r\n              if (res) {\r\n                //console.log(\"getFirePlant-RESSS\", res)\r\n                this.getFirePlant()\r\n                let oldVal = data ? data : { id: 0 }\r\n                let index = this.plantData.findIndex(x => x.id == oldVal.id)\r\n                if (index < 0)\r\n                  this.plantData.push({ ...postData, id: res })\r\n                else\r\n                  this.plantData[index] = { ...postData, id: res }\r\n                // this.plantData.push({ ...postData, id: res })\r\n                this.cdf.detectChanges()\r\n              }\r\n            })\r\n          }\r\n        }\r\n      })\r\n    }\r\n    if (type == \"stock\") {\r\n      let modalRef;\r\n      modalRef = this.modal.open(AddCalculatedBuildingComponent, { size: 'xl', backdrop: false });\r\n      modalRef.componentInstance.type = \"Stock\"\r\n      modalRef.componentInstance.pageType = pageType\r\n      modalRef.componentInstance.riskId = this.riskId\r\n      modalRef.componentInstance.data = data\r\n      modalRef.componentInstance.isStock = true\r\n      modalRef.result.then(() => { }, (res) => {\r\n        if (res) {\r\n          //console.log(\"RESSSS\", res)\r\n          if (res.type == \"save\") {\r\n            let postData = { ...res.data, createdBy: this.auth.currentUserValue.id, description: res.data.itemDescription }\r\n            //console.log(\"postData\", postData)\r\n            this.FireStockService.save(postData).toPromise().then((res: any) => {\r\n              if (res) {\r\n                //console.log(\"getFirePlant-RESSS\", res)\r\n                this.getFireStock()\r\n                let oldVal = data ? data : { id: 0 }\r\n                let index = this.stockData.findIndex(x => x.id == oldVal.id)\r\n                if (index < 0)\r\n                  this.stockData.push({ ...postData, id: res })\r\n                else\r\n                  this.stockData[index] = { ...postData, id: res }\r\n                // this.stockData.push({ ...postData, id: res })\r\n                this.cdf.detectChanges()\r\n              }\r\n            })\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  getFireContent() {\r\n    this.riskService.getContent(this.riskId).toPromise().then((res: any) => {\r\n      //console.log(\"getFireContent-RESSS\", res)\r\n      if (res) {\r\n        this.contentsData = res\r\n\r\n        if (this.contentsData.length > 0) {\r\n          this.isContents = true\r\n          this.totalContent = 0\r\n          for (let data of this.contentsData) {\r\n            //console.log(\"TSET\", this.totalContent);\r\n\r\n            this.totalContent += parseInt(data.totalValue)\r\n          }\r\n        }\r\n        this.calculateProposeStock()\r\n        this.cdf.detectChanges()\r\n      }\r\n    })\r\n  }\r\n  getFirePlant() {\r\n    this.riskService.getPlant(this.riskId).toPromise().then((res: any) => {\r\n      if (res) {\r\n        //console.log(\"getFirePlant-RESSS\", res)\r\n        this.plantData = res\r\n        if (this.plantData.length > 0) {\r\n          this.isPlant = true\r\n          this.totalPlant = 0\r\n          for (let data of this.plantData) {\r\n            this.totalPlant += parseInt(data.totalValue)\r\n\r\n          }\r\n        }\r\n        this.calculateProposeStock()\r\n        this.cdf.detectChanges()\r\n      }\r\n    })\r\n\r\n  }\r\n  getFireStock() {\r\n    this.riskService.getStock(this.riskId).toPromise().then((res: any) => {\r\n      if (res) {\r\n        //console.log(\"getFireStock-RESSS\", res)\r\n        this.stockData = res\r\n        if (this.stockData.length > 0) {\r\n          this.isStock = true\r\n          this.totalStock = 0\r\n          for (let data of this.stockData) {\r\n            this.totalStock += parseInt(data.stockValue)\r\n          }\r\n          this.calculateProposeStock()\r\n        }\r\n        this.cdf.detectChanges()\r\n      }\r\n    })\r\n\r\n  }\r\n  calculateProposeStock() {\r\n    this.totalSI = (this.totalStock + this.totalContent + this.totalPlant)\r\n    this.totalEvent.next(this.totalSI)\r\n  }\r\n\r\n  deleteFireContent(id) {\r\n    this.alertService.activate('Are you sure want to delete?', 'Warning Message').then(result => {\r\n      if (result) {\r\n        this.FireContentService.delete(id).toPromise().then((res: any) => {\r\n          if (res) {\r\n            this.getFireContent()\r\n            this.alertService.activate('This record was deleted', 'Success Message').then(result => {\r\n\r\n            });\r\n          }\r\n        })\r\n      }\r\n    });\r\n  }\r\n  deleteFirePlant(id) {\r\n    this.alertService.activate('Are you sure want to delete?', 'Warning Message').then(result => {\r\n      this.FirePLantService.delete(id).toPromise().then((res: any) => {\r\n        if (res) {\r\n          this.getFirePlant()\r\n          this.alertService.activate('This record was deleted', 'Success Message').then(result => {\r\n\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n  deleteFireStock(id) {\r\n    this.alertService.activate('Are you sure want to delete?', 'Warning Message').then(result => {\r\n      this.FireStockService.delete(id).toPromise().then((res: any) => {\r\n        if (res) {\r\n          this.getFireStock()\r\n          this.alertService.activate('This record was deleted', 'Success Message').then(result => {\r\n\r\n          });\r\n        }\r\n      })\r\n    });\r\n  }\r\n  toggleChange(type) {\r\n    if (type == 'contents') {\r\n      this.isContents = this.isContents\r\n      if (!this.isContents && this.contentsData.length > 0) {\r\n        for (let data of this.contentsData) {\r\n          this.deleteFireContent(data.id)\r\n        }\r\n      }\r\n    }\r\n    if (type == 'plants') {\r\n      this.isPlant = this.isPlant\r\n      if (!this.isPlant && this.plantData.length > 0) {\r\n        for (let data of this.plantData) {\r\n          this.deleteFirePlant(data.id)\r\n        }\r\n      }\r\n    }\r\n    if (type == 'stock') {\r\n      this.isStock = this.isStock\r\n      if (!this.isStock && this.stockData.length > 0) {\r\n        for (let data of this.stockData) {\r\n          this.deleteFireStock(data.id)\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { ChangeDetectorRef, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { GlobalFunctionService } from '../../../core/global-fun.service';\r\nimport { IsJsonString } from '../../../core/is-json';\r\nimport { LoadingService } from '../../../modules/loading-toast/loading/loading.service';\r\nimport { PolicyDTO } from '../../policy/policy.dto';\r\nimport { Product, ProductPages } from '../../products/models/product.dto';\r\nimport { CoverageQuoService } from '../../products/services/coverage-quo.service';\r\nimport { ProductDataService } from '../../products/services/products-data.service';\r\nimport { QuotationDTO } from '../../quotations/quotation.dto';\r\nimport { StaticActionType, StaticPageAction } from '../static-field.interface';\r\n\r\n@Component({\r\n  selector: 'app-coverage-page',\r\n  templateUrl: './coverage-page.component.html',\r\n  styleUrls: ['./coverage-page.component.scss']\r\n})\r\nexport class CoveragePageComponent implements OnInit {\r\n\r\n  @Input() product: Product\r\n  @Input() editData: QuotationDTO | PolicyDTO\r\n  @Input() resourcesId: string\r\n  @Input() optionId: string\r\n  @Output() actionEvent = new EventEmitter<StaticPageAction>();\r\n  coverage = {\r\n    isSum: false,\r\n    isUnit: false,\r\n    isPremium: false,\r\n  }\r\n  refID: any\r\n  coverageData: any = {}\r\n  unsubscribe: Subscription[] = []\r\n  parentData: any = {}\r\n  isLoading = true\r\n  @Input() isPopup: boolean = false\r\n  constructor(private coverageQuoService: CoverageQuoService, private globalFun: GlobalFunctionService, private cdRef: ChangeDetectorRef, private prodService: ProductDataService, private loadingService: LoadingService) { }\r\n\r\n  async ngOnInit() {\r\n    this.refID = this.prodService.referenceID\r\n    this.optionId = this.optionId ? this.optionId : this.resourcesId\r\n    if (this.product.code == \"PLMO02\" || this.product.code==\"PLMO01\") {\r\n      this.parentData = this.getParnet()\r\n    }\r\n    if (this.product.coverages && this.product.coverages.length > 0) {\r\n      await this.loadingService.activate()\r\n      this.coverage = {\r\n        isSum: this.product.coverages[0].sumInsured,\r\n        isUnit: this.product.coverages[0].unit,\r\n        isPremium: this.product.coverages[0].premium,\r\n      }\r\n      let postData = {\r\n        quotationNo: this.editData.id,\r\n        coverageIds: this.product.coverages.map(x => { return x.id }),\r\n        optionalKey: this.optionId\r\n      }\r\n      let results: any = await this.coverageQuoService.getAllById(postData).toPromise()\r\n      if (results.length == 0) {\r\n        postData.quotationNo = this.refID\r\n        postData.optionalKey = this.refID\r\n        results = await this.coverageQuoService.getAllById(postData).toPromise()\r\n      }\r\n      for (const item of this.product.coverages) {\r\n        item['show'] = true\r\n        if (item.validationFun) {\r\n          item['show'] = this.globalFun[item.validationFun] ? this.globalFun[item.validationFun](this.parentData) : true\r\n        }\r\n        let response = results.find(x => x.coverageId == item.id)\r\n        this.coverageData[item.id] = {\r\n          sum: response ? response.sumInsured || 0 : 0,\r\n          unit: response ? response.unit || 0 : 0,\r\n          premium: response ? response.premium || 0 : 0\r\n        }\r\n\r\n        if (item.sumInsured) {\r\n          this.getGlobalFun(item.sumInsuredStr, 'coverageData', item.id, 'sum')\r\n        }\r\n        if (item.unit) {\r\n          this.getGlobalFun(item.unitStr, 'coverageData', item.id, 'unit')\r\n        }\r\n        if (item.premium) {\r\n          this.getGlobalFun(item.premiumStr, 'coverageData', item.id, 'premium')\r\n        }\r\n        // }\r\n      }\r\n      this.isLoading = false\r\n      await this.loadingService.deactivate()\r\n      this.cdRef.detectChanges();\r\n\r\n    } else {\r\n      this.isLoading = false\r\n\r\n    }\r\n  }\r\n\r\n  getGlobalFun(funName: string, mainObj: string, mainKey, subKey: string) {\r\n    if ((this.product.code == \"PLMO02\" || this.product.code==\"PLMO01\") && subKey == \"premium\") {\r\n      if (this.globalFun[funName]) {\r\n        let unsub = this.globalFun[funName](this.parentData).subscribe((res) => {\r\n          this[mainObj][mainKey][subKey] = res\r\n          this.cdRef.detectChanges();\r\n        })\r\n        this.unsubscribe.push(unsub)\r\n      } else {\r\n        if (funName)\r\n          this[mainObj][mainKey][subKey] = funName\r\n      }\r\n    } else {\r\n\r\n      if (this.globalFun[funName + \"Result\"]) {\r\n        let unsub = this.globalFun[funName + \"Result\"].subscribe((res) => {\r\n          this[mainObj][mainKey][subKey] = res\r\n          this.cdRef.detectChanges();\r\n        })\r\n        this.unsubscribe.push(unsub)\r\n      } else {\r\n        if (funName)\r\n          this[mainObj][mainKey][subKey] = funName\r\n      }\r\n    }\r\n  }\r\n\r\n  async nextPage() {\r\n    const quoService = this.coverageQuoService\r\n    const posDataArray = this.coverageData\r\n    // console.log(this.product.coverages);\r\n    // for await (const iterator of object) {\r\n\r\n    // }\r\n    this.globalFun.tempFormData['coverage_1634010995936'] = []\r\n    if (this.resourcesId && this.optionId)\r\n      await this.coverageQuoService.deleteAll(this.resourcesId, this.optionId)\r\n    for (let cov of this.product.coverages) {\r\n      try {\r\n        let postData = {\r\n          coverageId: cov.id,\r\n          quotationNo: this.resourcesId,\r\n          optionalKey: this.optionId,\r\n          sumInsured: ((posDataArray[cov.id].sum || \"\") + \"\").replace(',', '').replace('MMK', '').replace('USD', ''),\r\n          unit: ((posDataArray[cov.id].unit || \"\") + \"\").replace(',', '').replace('MMK', '').replace('USD', ''),\r\n          premium: ((posDataArray[cov.id].premium || \"\") + \"\").replace(',', '').replace('MMK', '').replace('USD', ''),\r\n        }\r\n        this.globalFun.tempFormData['coverage_1634010995936'].push(postData)\r\n        let res = await this.coverageQuoService.save(postData).toPromise().catch(e => e)\r\n      } catch (error) {\r\n        // console.log(error);\r\n\r\n      }\r\n\r\n    }\r\n    this.actionEvent.emit({ type: StaticActionType.NEXT })\r\n  }\r\n\r\n  backPage() {\r\n    this.actionEvent.emit({ type: StaticActionType.PREV })\r\n  }\r\n\r\n  getParnet() {\r\n    if (IsJsonString(this.product.config)) {\r\n      let pageUI: ProductPages = JSON.parse(this.product.config);\r\n      let pageOrder = this.prodService.type != 'quotation' ? pageUI.application || [] : pageUI.quotation || []\r\n      let parent = pageOrder.find(page => page.tableName == 'm_detail')\r\n      if (parent) {\r\n        return this.globalFun.tempFormData[parent.tableName + parent.id] || null\r\n      }\r\n      return null\r\n    }\r\n    return null\r\n  }\r\n\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { PolicyDTO } from '../../policy/policy.dto';\r\nimport { Product } from '../../products/models/product.dto';\r\nimport { QuotationDTO } from '../../quotations/quotation.dto';\r\nimport { StaticActionType, StaticPageAction } from '../static-field.interface';\r\nimport {\r\n  ChartComponent,\r\n  ApexAxisChartSeries,\r\n  ApexChart,\r\n  ApexXAxis,\r\n  ApexTitleSubtitle,\r\n  ApexYAxis,\r\n  ApexLegend,\r\n  ApexDataLabels,\r\n  ApexMarkers\r\n} from 'ng-apexcharts';\r\nimport { AlertService } from '../../../modules/loading-toast/alert-model/alert.service';\r\nimport { GlobalFunctionService } from '../../../core/global-fun.service';\r\nimport { EducationLifeID } from '../static-pages.data';\r\n\r\nexport type ChartOptions = {\r\n  series: ApexAxisChartSeries;\r\n  chart: ApexChart;\r\n  xaxis: ApexXAxis;\r\n  yaxis: ApexYAxis;\r\n  title: ApexTitleSubtitle;\r\n  legend: ApexLegend;\r\n  dataLabels: ApexDataLabels,\r\n  markers: ApexMarkers\r\n};\r\n@Component({\r\n  selector: 'app-education-life-grip',\r\n  templateUrl: './education-life-griph.component.html',\r\n  styleUrls: ['./education-life-griph.component.scss']\r\n})\r\nexport class EducationLifeGripComponent implements OnInit {\r\n  @Input() product: Product\r\n  @Input() editData: QuotationDTO | PolicyDTO\r\n  @Input() resourcesId: string\r\n  @Output() actionEvent = new EventEmitter<StaticPageAction>();\r\n  @ViewChild(\"chart\") chart: ChartComponent;\r\n  public chartOptions: Partial<ChartOptions>;\r\n  // showValue = [636000, 1272000, 1908000, 2544000, 3180000, 3816000, 4452000]\r\n  @Input() parentData: any\r\n  showDatas: any[] = []\r\n  constructor(private alertService: AlertService, private globalFun: GlobalFunctionService) {\r\n    this.chartOptions = {\r\n      series: [\r\n        {\r\n          name: \"Premium Amount\",\r\n          data: [],\r\n          color: \"#005f99\"\r\n        }\r\n      ],\r\n      chart: {\r\n        height: 450,\r\n        type: \"line\",\r\n        toolbar: {\r\n          show: false\r\n        }\r\n      },\r\n      title: {\r\n        text: \"Basic Benefit Illustration\",\r\n        offsetX: 0,\r\n        offsetY: 10,\r\n        floating: false,\r\n        style: {\r\n          fontSize: \"1.1rem\",\r\n          fontFamily: \"Roboto\"\r\n        }\r\n\r\n      },\r\n      xaxis: {\r\n        type: 'category',\r\n        categories: [\"0\", \"1 year\", \"2 years\", \"3 years\", \"4 years\", \"5 years\", \"6 years\", \"7 years\", \"8 years\", \"9 years\", \"10 years\", \"11 years\", \"12 years\", \"13 years\", \"14 years\"],\r\n        labels: {\r\n          style: {\r\n            fontSize: \"1rem\",\r\n            fontFamily: \"Roboto\"\r\n          }\r\n        }\r\n      },\r\n      yaxis: {\r\n        min: 0,\r\n        max: 5000000,\r\n        tickAmount: 5,\r\n        labels: {\r\n          style: {\r\n            fontSize: \"1rem\",\r\n            fontFamily: \"Roboto\"\r\n          }\r\n        }\r\n      },\r\n      legend: {\r\n        position: 'top',\r\n        horizontalAlign: 'right',\r\n        floating: true,\r\n        offsetY: -25,\r\n        offsetX: -5\r\n      },\r\n      dataLabels: {\r\n        enabled: true,\r\n        textAnchor: 'middle',\r\n        offsetX: -10,\r\n        offsetY: -5,\r\n        enabledOnSeries: [0]\r\n      },\r\n      markers: {\r\n        size: [5,0,0],\r\n        \r\n      }\r\n    };\r\n  }\r\n  ngOnInit(): void {\r\n\r\n    // this.parentData = this.getParnet()\r\n    if (!this.parentData) {\r\n      this.alertService.activate(\"This page cann't to show because there is no education life product detail data. Please add education life product detail in rodcut configuration\", \"Warning\")\r\n    } else {\r\n      let dataArr: any[] = this.parentData.map((x) => {\r\n\r\n        if (x.premiumPaid)\r\n          return x.premiumPaid > 0 ? x.premiumPaid : null\r\n        else return null\r\n      })\r\n      dataArr.unshift(null)\r\n      if (this.parentData.length > 0) {\r\n        if (this.parentData[0].benefitPlan == '002') {\r\n          this.chartOptions.title.text = \"Double Benefit Illustration\"\r\n          this.chartOptions.yaxis.max = 5000000 * 2\r\n          this.chartOptions.series[1] = {\r\n            data: [],\r\n            name: \"Goal\"\r\n          }\r\n          this.chartOptions.series[2] = {\r\n            data: [],\r\n            name: \"2X Goal\"\r\n          }\r\n          this.chartOptions.series[1].data = [5000000, 5000000, 5000000, 5000000, 5000000, 5000000, 5000000, 5000000, 5000000, 5000000, 5000000, 5000000, 5000000, 5000000,5000000]\r\n          this.chartOptions.series[2].data = [10000000, 10000000, 10000000, 10000000, 10000000, 10000000, 10000000, 10000000, 10000000, 10000000, 10000000, 10000000, 10000000, 10000000,10000000]\r\n        }\r\n      }\r\n\r\n      this.chartOptions.series[0].data = dataArr\r\n      // 0, 636000, 1272000, 1908000, 2544000, 3180000, 3816000, 4452000\r\n    }\r\n  }\r\n\r\n\r\n  getParnet() {\r\n    return this.globalFun.tempFormData[EducationLifeID]\r\n  }\r\n  nextPage() {\r\n    this.actionEvent.emit({ type: StaticActionType.NEXT })\r\n\r\n  }\r\n  backPage() {\r\n    this.actionEvent.emit({ type: StaticActionType.PREV })\r\n  }\r\n\r\n}\r\n","import { DecimalPipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport * as moment from 'moment';\r\nimport { forkJoin, Observable, of } from 'rxjs';\r\nimport { map, mergeMap, retry, switchMap } from 'rxjs/operators';\r\nimport { GlobalFunctionService } from '../../../core/global-fun.service';\r\nimport { IsJsonString } from '../../../core/is-json';\r\nimport { AuthService } from '../../../modules/auth';\r\nimport { AlertService } from '../../../modules/loading-toast/alert-model/alert.service';\r\nimport { PolicyDTO } from '../../policy/policy.dto';\r\nimport { Product, ProductPages } from '../../products/models/product.dto';\r\nimport { ProductDataService } from '../../products/services/products-data.service';\r\nimport { QuotationDTO } from '../../quotations/quotation.dto';\r\nimport { StaticActionType, StaticPageAction } from '../static-field.interface';\r\nimport { EducationLifeID } from '../static-pages.data';\r\nimport { EduPremRateService, EduSurrRateService } from './models&services/education-life-rate.service';\r\nimport { EduPaymentService } from './models&services/education-life.service';\r\n\r\n@Component({\r\n  selector: 'app-education-life',\r\n  templateUrl: './education-life.component.html',\r\n  styleUrls: ['./education-life.component.scss']\r\n})\r\nexport class EducationLifeComponent implements OnInit {\r\n  @Input() product: Product\r\n  @Input() editData: QuotationDTO | PolicyDTO\r\n  @Input() resourcesId: string\r\n  @Output() actionEvent = new EventEmitter<StaticPageAction>();\r\n  parentData: any\r\n  parentData2: any\r\n  premimuRate = {\r\n    \"9opt\": 5,\r\n    \"11opt\": 7,\r\n    \"14opt\": 10,\r\n  }\r\n  frequency = {\r\n    monthly: 1,\r\n    quarterly: 4,\r\n    semi_annually: 6,\r\n    annually: 12,\r\n  }\r\n  lists: number[] = []\r\n  currentAge: number\r\n  premimuRateNum: number\r\n  sumInsured: number\r\n  frequencyValue: number\r\n  plan: string\r\n  policyTermCode: string\r\n  premiumRate: any[] = []\r\n  surrendRate: any[] = []\r\n  showDatas: any[] = []\r\n  premiumAmt\r\n  constructor(\r\n    private globalFun: GlobalFunctionService,\r\n    private alertService: AlertService,\r\n    private prodService: ProductDataService,\r\n    private eduPreService: EduPremRateService,\r\n    private eduSurrService: EduSurrRateService,\r\n    private eduPayment: EduPaymentService,\r\n    private cdf: ChangeDetectorRef,\r\n    private auth: AuthService,\r\n    private numberPipe: DecimalPipe,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.parentData = this.getParnet()\r\n    this.parentData2 = this.getParnet(true);\r\n    if (!this.parentData && !this.parentData2) {\r\n      this.alertService.activate(\"This page cann't to show because there is no education life product detail data. Please add education life product detail in rodcut configuration\", \"Warning\")\r\n    } else {\r\n\r\n      this.getRateValue().pipe(switchMap((res) => {\r\n        if (!res[0] || !res[1]) throw res\r\n        return of({ premium: res[0], surrend: res[1] })\r\n      })).toPromise().then((res) => {\r\n\r\n        if (res) {\r\n          this.premiumRate = res.premium\r\n          this.surrendRate = res.surrend\r\n          this.createListData()\r\n        }\r\n      }).catch(e => {\r\n        console.log(e);\r\n      })\r\n      // rate age benifitPlan policyTerm year\r\n      // this.parentData['sum_insured'] this.parentData['sum_insured']\r\n      // paPolicyValidationResult\r\n    }\r\n  }\r\n\r\n  createListData() {\r\n\r\n    this.getcalculateData()\r\n    this.showDatas = []\r\n    // console.log(this.premimuRate[policyTermValue + \"opt\"]);\r\n    let doub = this.plan == \"001\" ? 1 : 2\r\n    this.lists.forEach((x, i) => {\r\n      let objData = {\r\n        resourceId: this.resourcesId,\r\n        endOfPolicyYear: x,\r\n        age: this.currentAge + i,\r\n        benefitPlan: this.plan,\r\n        premiumPaid: this.premimuRateNum >= x ? this.calculatePre(this.currentAge + i, x) : 0,\r\n        deathBenefit: this.sumInsured * doub,\r\n        surrenderValue: this.calculateSur(x),\r\n        maturityBenefit: this.calculateSur(x) * 0.9\r\n      }\r\n      // {\r\n      //   \"age\": 0,\r\n      //   \"benefitPlan\": \"string\",\r\n      //   \"deathBenefit\": 0,\r\n      //   \"id\": 0,\r\n      //   \"maturityBenefit\": 0,\r\n      //   \"premiumPaid\": 0,\r\n      //   \"resourceId\": \"string\",\r\n      //   \"surrenderValue\": 0\r\n      // }\r\n      this.showDatas.push(objData)\r\n      if (i + 1 == this.lists.length) {\r\n        this.cdf.detectChanges()\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  getcalculateData() {\r\n    let policyTerm: any = this.globalFun.paPolicyValidationResult.value\r\n    let policyTermValue = policyTerm.validationValue\r\n    this.premimuRateNum = this.premimuRate[policyTermValue + \"opt\"]\r\n    this.policyTermCode = this.parentData['policy_term']\r\n    this.sumInsured = this.parentData['sum_insured']\r\n    this.plan = this.parentData['insured_plan']\r\n    let dob = this.parentData2['date_of_birth']\r\n    this.currentAge = Math.ceil(moment().diff(dob, 'years', true));\r\n    let paymentFrequency = this.parentData['payment_frequency']\r\n    this.frequencyValue = this.frequency[paymentFrequency]\r\n    this.lists = Array.from({ length: policyTermValue }, (_, i) => i + 1)\r\n    return true\r\n  }\r\n\r\n  getParnet(life?: boolean) {\r\n    if (IsJsonString(this.product.config)) {\r\n      let pageUI: ProductPages = JSON.parse(this.product.config);\r\n      let pageOrder = this.prodService.type != 'quotation' ? pageUI.application || [] : pageUI.quotation || []\r\n      let parent: any = {}\r\n      if (life)\r\n        parent = pageOrder.find(page => page.tableName == 'life_insured_el')\r\n      else\r\n        parent = pageOrder.find(page => page.tableName == 'el_detail')\r\n      if (parent) {\r\n        return this.globalFun.tempFormData[parent.tableName + parent.id] || null\r\n      }\r\n      return null\r\n    }\r\n    return null\r\n  }\r\n\r\n  calculatePre(age: number, year: number): number {\r\n    // console.log();\r\n    let tempRate = 15.5\r\n    let rate = this.premiumRate.find(x => x.age == age)\r\n    if (rate) {\r\n      tempRate = rate.rate\r\n    }\r\n    // this.frequencyValue\r\n    let monthly = ((tempRate / 1000) * this.sumInsured)\r\n    if (year == 1) {\r\n      console.log(this.frequencyValue);\r\n      let tempPre = (this.globalFun.calculateDecimal(monthly * this.frequencyValue) + 1500)\r\n      this.premiumAmt = this.numberPipe.transform(tempPre) + \" MMK / \" + this.parentData['payment_frequency']\r\n      this.globalFun.paPremiumResult.next(this.premiumAmt)\r\n    }\r\n    return this.globalFun.calculateDecimal(monthly * 12) * year\r\n  }\r\n\r\n  calculateSur(year: number): number {\r\n    let tempRate = 10\r\n    let rate = this.surrendRate.find(x => x.year == year)\r\n    if (rate) {\r\n      tempRate = rate.rate\r\n      let surrend = (tempRate / 100) * this.sumInsured\r\n      return surrend\r\n    }\r\n    return 0\r\n  }\r\n\r\n  getRateValue(): Observable<any> {\r\n    return forkJoin([this.getPRate(), this.getSurRate()]).pipe(map((res) => {\r\n      return res\r\n    }))\r\n  }\r\n\r\n  getPRate() {\r\n    return this.eduPreService.getMany(this.parentData['insured_plan'], this.parentData['policy_term'])\r\n  }\r\n\r\n  getSurRate() {\r\n    return this.eduSurrService.getMany(this.parentData['policy_term'])\r\n  }\r\n  nextPage() {\r\n    if (this.showDatas.length > 0) {\r\n      this.eduPayment.deleteMany(this.resourcesId).pipe(mergeMap((res: any) => {\r\n        let postData = {\r\n          \"request\": this.showDatas,\r\n          \"resourceDataDTO\": {\r\n            \"agentId\": this.auth.currentUserValue.id || 1,\r\n            \"customerId\": this.prodService.creatingCustomer.customerId || 1,\r\n            \"policyNumber\": null,\r\n            \"premium\": (Number(this.premiumAmt.split(\" \")[0].split(',').join(\"\")) || 0) + \"\",\r\n            \"premiumView\": this.premiumAmt,\r\n            \"productId\": this.product.id,\r\n            \"quotationId\": this.prodService.referenceID,\r\n            \"type\": this.prodService.type\r\n          },\r\n          \"resourceId\": this.resourcesId\r\n        }\r\n        return this.eduPayment.saveMany(postData)\r\n      })).toPromise().then((res) => {\r\n        if (res) {\r\n          this.globalFun.tempFormData[EducationLifeID] = this.showDatas\r\n          this.actionEvent.emit({ type: StaticActionType.NEXT })\r\n        }\r\n      })\r\n    }\r\n\r\n  }\r\n  backPage() {\r\n    this.actionEvent.emit({ type: StaticActionType.PREV })\r\n  }\r\n\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { PolicyDTO } from '../../policy/policy.dto';\r\nimport { Product } from '../../products/models/product.dto';\r\nimport { QuotationDTO } from '../../quotations/quotation.dto';\r\nimport { StaticActionType, StaticPageAction } from '../static-field.interface';\r\nimport {\r\n  ChartComponent,\r\n  ApexAxisChartSeries,\r\n  ApexChart,\r\n  ApexXAxis,\r\n  ApexTitleSubtitle,\r\n  ApexYAxis,\r\n  ApexLegend,\r\n  ApexDataLabels,\r\n  ApexMarkers\r\n} from 'ng-apexcharts';\r\nimport { AlertService } from '../../../modules/loading-toast/alert-model/alert.service';\r\nimport { GlobalFunctionService } from '../../../core/global-fun.service';\r\nimport { EndowmentID } from '../static-pages.data';\r\n\r\nexport type ChartOptions = {\r\n  series: ApexAxisChartSeries;\r\n  chart: ApexChart;\r\n  xaxis: ApexXAxis;\r\n  yaxis: ApexYAxis;\r\n  title: ApexTitleSubtitle;\r\n  legend: ApexLegend;\r\n  dataLabels: ApexDataLabels,\r\n  markers: ApexMarkers\r\n};\r\n@Component({\r\n  selector: 'app-endo-grip',\r\n  templateUrl: './endo-griph.component.html',\r\n  styleUrls: ['./endo-griph.component.scss']\r\n})\r\nexport class EndoGripComponent implements OnInit {\r\n  @Input() product: Product\r\n  @Input() editData: QuotationDTO | PolicyDTO\r\n  @Input() resourcesId: string\r\n  @Output() actionEvent = new EventEmitter<StaticPageAction>();\r\n  @ViewChild(\"chart\") chart: ChartComponent;\r\n  public chartOptions: Partial<ChartOptions>;\r\n  // showValue = [636000, 1272000, 1908000, 2544000, 3180000, 3816000, 4452000]\r\n  @Input() parentData: any\r\n  showDatas: any[] = []\r\n  constructor(private alertService: AlertService, private globalFun: GlobalFunctionService) {\r\n    this.chartOptions = {\r\n      series: [\r\n        {\r\n          name: \"Premium Amount\",\r\n          data: [],\r\n          color: \"#005f99\"\r\n        }\r\n      ],\r\n      chart: {\r\n        height: 450,\r\n        type: \"line\",\r\n        toolbar: {\r\n          show: false\r\n        }\r\n      },\r\n      title: {\r\n        text: \"Basic Benefit Illustration\",\r\n        offsetX: 0,\r\n        offsetY: 10,\r\n        floating: false,\r\n        style: {\r\n          fontSize: \"1.1rem\",\r\n          fontFamily: \"Roboto\"\r\n        }\r\n\r\n      },\r\n      xaxis: {\r\n        type: 'category',\r\n        categories: [\"0\", \"1 year\", \"2 years\", \"3 years\", \"4 years\", \"5 years\", \"6 years\", \"7 years\", \"8 years\", \"9 years\", \"10 years\", \"11 years\", \"12 years\", \"13 years\", \"14 years\"],\r\n        labels: {\r\n          style: {\r\n            fontSize: \"1rem\",\r\n            fontFamily: \"Roboto\"\r\n          }\r\n        }\r\n      },\r\n      yaxis: {\r\n        min: 0,\r\n        max: 1000000,\r\n        tickAmount: 5,\r\n        labels: {\r\n          style: {\r\n            fontSize: \"1rem\",\r\n            fontFamily: \"Roboto\"\r\n          }\r\n        }\r\n      },\r\n      legend: {\r\n        position: 'top',\r\n        horizontalAlign: 'right',\r\n        floating: true,\r\n        offsetY: -25,\r\n        offsetX: -5\r\n      },\r\n      dataLabels: {\r\n        enabled: true,\r\n        textAnchor: 'middle',\r\n        offsetX: -10,\r\n        offsetY: -5,\r\n        enabledOnSeries: [0]\r\n      },\r\n      markers: {\r\n        size: [5,0,0],\r\n        \r\n      }\r\n    };\r\n  }\r\n  ngOnInit(): void {\r\n\r\n    // this.parentData = this.getParnet()\r\n    if (!this.parentData) {\r\n      this.alertService.activate(\"This page cann't to show because there is no education life product detail data. Please add education life product detail in rodcut configuration\", \"Warning\")\r\n    } else {\r\n      let dataArr: any[] = this.parentData.map((x) => {\r\n\r\n        if (x.premiumPaid)\r\n          return x.premiumPaid > 0 ? x.premiumPaid : null\r\n        else return null\r\n      })\r\n      dataArr.unshift(null)\r\n      if (this.parentData.length > 0) {\r\n        this.chartOptions.yaxis.max = parseInt(this.parentData[0].benefit)\r\n      }\r\n        // if (this.parentData[0].benefitPlan == '002') {\r\n        //   this.chartOptions.title.text = \"Double Benefit Illustration\"\r\n        //   this.chartOptions.yaxis.max = 5000000 * 2\r\n        //   this.chartOptions.series[1] = {\r\n        //     data: [],\r\n        //     name: \"Goal\"\r\n        //   }\r\n        //   this.chartOptions.series[2] = {\r\n        //     data: [],\r\n        //     name: \"2X Goal\"\r\n        //   }\r\n        //   this.chartOptions.series[1].data = [5000000, 5000000, 5000000, 5000000, 5000000, 5000000, 5000000, 5000000, 5000000, 5000000, 5000000, 5000000, 5000000, 5000000,5000000]\r\n        //   this.chartOptions.series[2].data = [10000000, 10000000, 10000000, 10000000, 10000000, 10000000, 10000000, 10000000, 10000000, 10000000, 10000000, 10000000, 10000000, 10000000,10000000]\r\n        // }\r\n      // }\r\n\r\n      this.chartOptions.series[0].data = dataArr\r\n      // 0, 636000, 1272000, 1908000, 2544000, 3180000, 3816000, 4452000\r\n    }\r\n  }\r\n\r\n\r\n  getParnet() {\r\n    return this.globalFun.tempFormData[EndowmentID]\r\n  }\r\n  nextPage() {\r\n    this.actionEvent.emit({ type: StaticActionType.NEXT })\r\n\r\n  }\r\n  backPage() {\r\n    this.actionEvent.emit({ type: StaticActionType.PREV })\r\n  }\r\n\r\n}\r\n","import { DecimalPipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\r\nimport * as moment from 'moment';\r\nimport { forkJoin, Observable, of, Subscription } from 'rxjs';\r\nimport { map, mergeMap, retry, switchMap } from 'rxjs/operators';\r\nimport { GlobalFunctionService } from '../../../core/global-fun.service';\r\nimport { IsJsonString } from '../../../core/is-json';\r\nimport { AuthService } from '../../../modules/auth';\r\nimport { AlertService } from '../../../modules/loading-toast/alert-model/alert.service';\r\nimport { PolicyDTO } from '../../policy/policy.dto';\r\nimport { Product, ProductPages } from '../../products/models/product.dto';\r\nimport { ProductDataService } from '../../products/services/products-data.service';\r\nimport { QuotationDTO } from '../../quotations/quotation.dto';\r\nimport { StaticActionType, StaticPageAction } from '../static-field.interface';\r\nimport { EndowmentID } from '../static-pages.data';\r\nimport { EndoRateService, EndoSurrRateService } from './models&services/endo-rate.service';\r\nimport { EndoService } from './models&services/endo.service';\r\n\r\n@Component({\r\n  selector: 'app-endo',\r\n  templateUrl: './endo.component.html',\r\n  styleUrls: ['./endo.component.scss']\r\n})\r\nexport class EndoComponent implements OnInit,OnDestroy {\r\n  @Input() product: Product\r\n  @Input() editData: QuotationDTO | PolicyDTO\r\n  @Input() resourcesId: string\r\n  @Output() actionEvent = new EventEmitter<StaticPageAction>();\r\n  parentData: any\r\n  parentData2: any\r\n  premimuRate = {\r\n    \"5opt\": 5,\r\n    \"7opt\": 7,\r\n    \"10opt\": 10,\r\n  }\r\n  frequency = {\r\n    monthly: 12,\r\n    quarterly: 4,\r\n    semi_annually: 6,\r\n    annually: 1,\r\n  }\r\n  lists: number[] = []\r\n  currentAge: number\r\n  premimuRateNum: number\r\n  sumInsured: number\r\n  frequencyValue: number\r\n  policyTermCode: string\r\n  premiumRate: any[] = []\r\n  surrendRate: any[] = []\r\n  showDatas: any[] = []\r\n  premiumAmt: any\r\n\r\n  currencyType: string = \"MMK\"\r\n  unsub: Subscription[] = []\r\n  constructor(\r\n    private globalFun: GlobalFunctionService,\r\n    private alertService: AlertService,\r\n    private prodService: ProductDataService,\r\n    private eduPreService: EndoRateService,\r\n    private eduSurrService: EndoSurrRateService,\r\n    private eduPayment: EndoService,\r\n    private cdf: ChangeDetectorRef,\r\n    private auth: AuthService,\r\n    private numberPipe: DecimalPipe,\r\n  ) { }\r\n  ngOnDestroy(): void {\r\n    this.unsub.forEach(x => x.unsubscribe())\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.unsub[0] = this.globalFun.currenyValueObs.subscribe((res) => {\r\n      if (this.currencyType != res) {\r\n        this.currencyType = res\r\n      }\r\n    })\r\n    this.parentData = this.getParnet()\r\n    this.parentData2 = this.getParnet(true)\r\n    if (!this.parentData) {\r\n      this.alertService.activate(\"This page cann't to show because there is no endowment product detail data. Please add endowment product detail in prodcut configuration\", \"Warning\")\r\n    } else {\r\n\r\n      this.getRateValue().pipe(switchMap((res) => {\r\n        if (!res[0] || !res[1]) throw res\r\n        return of({ premium: res[0], surrend: res[1] })\r\n      })).toPromise().then((res) => {\r\n        console.log(res);\r\n\r\n        if (res) {\r\n          this.premiumRate = res.premium\r\n          this.surrendRate = res.surrend\r\n          this.createListData()\r\n        }\r\n      }).catch(e => {\r\n        console.log(e);\r\n      })\r\n      // rate age benifitPlan policyTerm year\r\n      // this.parentData['sum_insured'] this.parentData['sum_insured']\r\n      // paPolicyValidationResult\r\n    }\r\n  }\r\n\r\n  createListData() {\r\n\r\n    this.getcalculateData()\r\n    this.showDatas = []\r\n    // console.log(this.premimuRate[policyTermValue + \"opt\"]);\r\n    this.lists.forEach((x, i) => {\r\n      let objData = {\r\n        resourceId: this.resourcesId,\r\n        endOfPolicyYear: x,\r\n        age: this.currentAge + i,\r\n        premiumPaid: this.premimuRateNum >= x ? this.calculatePre(this.currentAge, x) : 0,\r\n        benefit: this.sumInsured,\r\n        surrenderValue: this.calculateSur(x),\r\n        policyLoan: this.calculateSur(x) * 0.9\r\n      }\r\n      // {\r\n      //   \"age\": 0,\r\n      //   \"benefitPlan\": \"string\",\r\n      //   \"deathBenefit\": 0,\r\n      //   \"id\": 0,\r\n      //   \"maturityBenefit\": 0,\r\n      //   \"premiumPaid\": 0,\r\n      //   \"resourceId\": \"string\",\r\n      //   \"surrenderValue\": 0\r\n      // }\r\n      this.showDatas.push(objData)\r\n      if (i + 1 == this.lists.length) {\r\n        this.cdf.detectChanges()\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  getcalculateData() {\r\n    let policyTerm: any = this.globalFun.paPolicyValidationResult.value\r\n    let policyTermValue = policyTerm.validationValue\r\n    console.log(policyTermValue, policyTerm);\r\n\r\n    this.premimuRateNum = this.premimuRate[policyTermValue + \"opt\"]\r\n    this.policyTermCode = this.parentData['policy_term']\r\n    this.sumInsured = this.parentData['sum_insured']\r\n    let dob = this.parentData2['date_of_birth']\r\n    this.currentAge = Math.ceil(moment().diff(dob, 'years', true));\r\n    let paymentFrequency = this.parentData['payment_frequency']\r\n    this.frequencyValue = this.frequency[paymentFrequency]\r\n    this.lists = Array.from({ length: policyTermValue }, (_, i) => i + 1)\r\n    return true\r\n  }\r\n\r\n  getParnet(life?: boolean) {\r\n    if (IsJsonString(this.product.config)) {\r\n      let pageUI: ProductPages = JSON.parse(this.product.config);\r\n      // console.log(\"pageUI\",pageUI);\r\n      let pageOrder = this.prodService.type != 'quotation' ? pageUI.application || [] : pageUI.quotation || []\r\n      let parent: any = {}\r\n      if (life)\r\n        parent = pageOrder.find(page => page.tableName == \"life_insured_endow\")\r\n      else\r\n        parent = pageOrder.find(page => page.tableName == \"endo_detail\")\r\n\r\n      if (parent) {\r\n        return this.globalFun.tempFormData[parent.tableName + parent.id] || null\r\n      }\r\n      return null\r\n    }\r\n    return null\r\n  }\r\n\r\n  calculatePre(age: number, year: number): number {\r\n    // console.log();\r\n    let tempRate = 0\r\n    let rate = this.premiumRate.find(x => x.formAge <= age && x.toAge >= age)\r\n    if (rate) {\r\n      tempRate = rate.rate\r\n    }\r\n    // this.frequencyValue\r\n    let monthly = ((tempRate / 1000) * this.sumInsured)\r\n    if (year == 1) {\r\n      let tempPre = (this.globalFun.calculateDecimal(monthly / this.frequencyValue))\r\n      tempPre = this.globalFun.calculateDecimal(tempPre + ((monthly) * 0.0003))\r\n      this.premiumAmt = this.numberPipe.transform(tempPre) + \" MMK / \" + this.parentData['payment_frequency']\r\n      this.globalFun.paPremiumResult.next(this.premiumAmt)\r\n    }\r\n    return this.globalFun.calculateDecimal(monthly) * year\r\n  }\r\n\r\n  calculateSur(year: number): number {\r\n    let tempRate = 10\r\n    let rate = this.surrendRate.find(x => x.premiumPaidYear == year)\r\n    if (rate) {\r\n      tempRate = rate.rate\r\n      let surrend = (tempRate / 1000) * this.sumInsured\r\n      return surrend\r\n    }\r\n    return 0\r\n  }\r\n\r\n  getRateValue(): Observable<any> {\r\n    return forkJoin([this.getPRate(), this.getSurRate()]).pipe(map((res) => {\r\n      return res\r\n    }))\r\n  }\r\n\r\n  getPRate() {\r\n    return this.eduPreService.getMany(this.parentData['policy_term'])\r\n  }\r\n\r\n  getSurRate() {\r\n    return this.eduSurrService.getMany(this.parentData['policy_term'])\r\n  }\r\n  nextPage() {\r\n    if (this.showDatas.length > 0) {\r\n      this.eduPayment.deleteMany(this.resourcesId).pipe(mergeMap((res: any) => {\r\n        let postData = {\r\n          \"request\": this.showDatas,\r\n          \"resourceDataDTO\": {\r\n            \"agentId\": this.auth.currentUserValue.id || 1,\r\n            \"customerId\": this.prodService.creatingCustomer.customerId || 1,\r\n            \"leadId\": this.prodService.creatingLeadId || 1,\r\n            currency: this.currencyType,\r\n            \"policyNumber\": null,\r\n            \"premium\": (Number(this.premiumAmt.split(\" \")[0].split(',').join(\"\")) || 0) + \"\",\r\n            \"premiumView\": this.premiumAmt,\r\n            \"productId\": this.product.id,\r\n            \"quotationId\": this.prodService.referenceID,\r\n            \"type\": this.prodService.type\r\n          },\r\n          \"resourceId\": this.resourcesId\r\n        }\r\n        return this.eduPayment.saveMany(postData)\r\n      })).toPromise().then((res) => {\r\n        if (res) {\r\n          this.globalFun.tempFormData[EndowmentID] = this.showDatas\r\n          this.actionEvent.emit({ type: StaticActionType.NEXT })\r\n        }\r\n      })\r\n    }\r\n\r\n  }\r\n  backPage() {\r\n    this.actionEvent.emit({ type: StaticActionType.PREV })\r\n  }\r\n\r\n}\r\n","import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { environment } from \"../../../../../environments/environment\";\r\nimport { BizOperationService } from \"../../../../core/biz.operation.service\";\r\n\r\nconst API_ENDO_RATE_URL = `${environment.apiUrl}/endowment/rate`;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EndoRateService extends BizOperationService<any, number>{\r\n  constructor(protected httpClient: HttpClient) {\r\n    super(httpClient, API_ENDO_RATE_URL);\r\n  }\r\n\r\n  getMany(term: string) {\r\n    return this.httpClient.get(API_ENDO_RATE_URL + \"s?policyTerm=\" + term)\r\n  }\r\n}\r\n\r\nconst API_ENDO_S_RATE_URL = `${environment.apiUrl}/endowment/surrender/rate`;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EndoSurrRateService extends BizOperationService<any, number>{\r\n  constructor(protected httpClient: HttpClient) {\r\n    super(httpClient, API_ENDO_S_RATE_URL);\r\n  }\r\n\r\n  getMany(term: string) {\r\n    return this.httpClient.get(API_ENDO_S_RATE_URL + \"?policyTerm=\" + term)\r\n  }\r\n}","import { DecimalPipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { AlertService } from 'src/app/modules/loading-toast/alert-model/alert.service';\r\nimport { GlobalFunctionService } from '../../../core/global-fun.service';\r\nimport { PolicyDTO } from '../../policy/policy.dto';\r\nimport { PageDataService } from '../../product-form/page-data.service';\r\nimport { Product } from '../../products/models/product.dto';\r\nimport { QuotationDTO } from '../../quotations/quotation.dto';\r\nimport { StaticActionType, StaticPageAction } from '../static-field.interface';\r\nimport { FirePageID, FireRiskID } from '../static-pages.data';\r\nimport { FireRiskService } from './models&services/fire-risk.service';\r\nimport { RiskDetailComponent } from './risk-detail/risk-detail.component';\r\n\r\n@Component({\r\n  selector: 'app-fire-risk',\r\n  templateUrl: './fire-risk.component.html',\r\n  styleUrls: ['./fire-risk.component.scss']\r\n})\r\nexport class FireRiskComponent implements OnInit {\r\n  @Input() product: Product\r\n  @Input() editData: QuotationDTO | PolicyDTO\r\n  @Input() resourcesId: string\r\n  @Output() actionEvent = new EventEmitter<StaticPageAction>();\r\n  premiumAmt: string = \"\"\r\n  listData: any[] = []\r\n  constructor(\r\n    private globalFun: GlobalFunctionService,\r\n    private fireRiskService: FireRiskService,\r\n    private modalService: NgbModal,\r\n    private cdf: ChangeDetectorRef,\r\n    private numberPipe: DecimalPipe,\r\n    private pageDataService: PageDataService,\r\n    private alertService: AlertService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getRiskList()\r\n  }\r\n  nextPage() {\r\n    if (this.listData.length > 0) {\r\n      this.globalFun.tempFormData[FireRiskID] = this.listData\r\n      this.savePremimunFire()\r\n      this.actionEvent.emit({ type: StaticActionType.NEXT })\r\n    }\r\n  }\r\n  backPage() {\r\n    if (this.listData.length > 0) {\r\n      this.globalFun.tempFormData[FireRiskID] = this.listData\r\n      this.savePremimunFire()\r\n    }\r\n    this.actionEvent.emit({ type: StaticActionType.PREV })\r\n  }\r\n\r\n  getRiskList() {\r\n    this.fireRiskService.getMany(this.resourcesId).toPromise().then((res: any) => {\r\n      if (res) {\r\n        this.globalFun.tempFormData[FireRiskID] = res\r\n        this.listData = res || []\r\n        this.cdf.detectChanges()\r\n      }\r\n    })\r\n  }\r\n\r\n  newData(type: string, detail?: any) {\r\n    let modalRef;\r\n    modalRef = this.modalService.open(RiskDetailComponent, { size: 'xl', backdrop: false });\r\n    modalRef.componentInstance.type = type\r\n    modalRef.componentInstance.riskId = detail ? detail.riskId : \"\"\r\n    modalRef.componentInstance.oldData = detail ? detail : {}\r\n    modalRef.componentInstance.resourcesId = this.resourcesId\r\n    modalRef.componentInstance.product = this.product\r\n    modalRef.componentInstance.editData = this.editData\r\n    modalRef.componentInstance.premiumAmt = this.premiumAmt\r\n    modalRef.result.then(() => { }, (res) => {\r\n      if (res) {\r\n        console.log(\"RESSSS\", res)\r\n        if (res.type == \"save\") {\r\n          // this.surrounding=res.data\r\n          if (detail) {\r\n            let index = this.listData.findIndex(x => x.id == detail.id)\r\n            this.listData[index] = res.data\r\n          } else {\r\n            let index = this.listData.findIndex(x => x.id == res.data.id)\r\n            if (index >= 0)\r\n              this.listData[index] = res.data\r\n            else\r\n              this.listData.push(res.data)\r\n          }\r\n          this.cdf.detectChanges()\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  delete(data) {\r\n    this.alertService.activate('Are you sure want to delete?', 'Warning Message').then(result => {\r\n      if (result) {\r\n        this.fireRiskService.delete(data.id).toPromise()\r\n          .then((res) => {\r\n            if (res) {\r\n              let index = this.listData.findIndex(x => x.id == data.id)\r\n              if (index >= 0) {\r\n                this.listData.splice(index, 1)\r\n                this.cdf.detectChanges()\r\n                this.alertService.activate('This record was deleted', 'Success Message').then(result => {\r\n\r\n                });\r\n              }\r\n            }\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  caluFirePremimun() {\r\n    let parentData1 = this.globalFun.tempFormData[FireRiskID]\r\n    let parentData2 = this.globalFun.tempFormData[FirePageID]\r\n    let precent = parentData2.policyType == \"T-NM\" ? 1 : 0.75\r\n    let premiumTotal = 0\r\n    let addOnPre = 0\r\n    for (let element of parentData1) {\r\n      premiumTotal += this.globalFun.calculateDecimal(element.premium)\r\n      const posDataArray = this.globalFun.tempFormData['addon_1634010770155' + element.id]\r\n      if (posDataArray)\r\n        for (let addon of posDataArray) {\r\n          addOnPre += this.globalFun.calculateDecimal(addon['premium'])\r\n        }\r\n    }\r\n    // parentData2.forEach(element => {\r\n    //   premiumTotal += parseFloat(element.premium)\r\n    // });this.addOnsData\r\n\r\n    let finalPre = (premiumTotal + addOnPre) * precent\r\n    // if (parentData2.policyUnit == \"D\") {\r\n    let rate = 1\r\n    switch (true) {\r\n      case (parentData2.policyUnit == \"G\" && parentData2.policyDuration == 1):\r\n        rate = 1\r\n        break;\r\n      case (parentData2.policyUnit == \"D\" && parentData2.policyDuration <= 10):\r\n        rate = 1 / 8\r\n        break;\r\n      case (parentData2.policyUnit == \"D\" && parentData2.policyDuration <= 15):\r\n        rate = 1 / 6\r\n        break;\r\n      case (parentData2.policyUnit == \"D\" && parentData2.policyDuration > 15):\r\n        rate = 2 / 8\r\n        break;\r\n      case (parentData2.policyUnit == \"F\" && parentData2.policyDuration == 1):\r\n        rate = 2 / 8\r\n        break;\r\n      case (parentData2.policyUnit == \"F\" && parentData2.policyDuration == 2):\r\n        rate = 3 / 8\r\n        break;\r\n      case (parentData2.policyUnit == \"F\" && parentData2.policyDuration == 3):\r\n        rate = 4 / 8\r\n        break;\r\n      case (parentData2.policyUnit == \"F\" && parentData2.policyDuration == 4):\r\n        rate = 5 / 8\r\n        break;\r\n      case (parentData2.policyUnit == \"F\" && parentData2.policyDuration == 5):\r\n        rate = 6 / 8\r\n        break;\r\n      case (parentData2.policyUnit == \"F\" && parentData2.policyDuration == 6):\r\n        rate = 6 / 8\r\n        break;\r\n      case (parentData2.policyUnit == \"F\" && parentData2.policyDuration > 6):\r\n        rate = 1\r\n        break;\r\n    }\r\n    // }\r\n    let currency=parentData2.currency\r\n    let stampDuty=0\r\n    if(currency == 'MMK'){\r\n      stampDuty=100\r\n    }else{\r\n      stampDuty=1\r\n    }\r\n\r\n    finalPre = this.globalFun.calculateDecimal(finalPre * rate) + stampDuty\r\n    this.premiumAmt = this.numberPipe.transform(finalPre) + \" \" + currency\r\n    this.globalFun.paPremiumResult.next(this.premiumAmt)\r\n    return finalPre\r\n  }\r\n\r\n  savePremimunFire() {\r\n    let premiumAmt = this.caluFirePremimun()\r\n    let postData = {\r\n      \"premium\": (Number(this.premiumAmt.split(\" \")[0].split(',').join(\"\")) || 0) + \"\",\r\n      \"premiumView\": this.premiumAmt,\r\n      \"resourceId\": this.resourcesId,\r\n      \"type\": 'policy'\r\n    }\r\n    return this.pageDataService.updatePremimun(postData)\r\n  }\r\n\r\n\r\n}\r\n","import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { environment } from \"../../../../../environments/environment\";\r\nimport { BizOperationService } from \"../../../../core/biz.operation.service\";\r\n\r\nconst API_RISK_RATE_URL = `${environment.apiUrl}/fire-policy/pae`;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FireRiskRateService extends BizOperationService<any, number>{\r\n  constructor(protected httpClient: HttpClient) {\r\n    super(httpClient, API_RISK_RATE_URL);\r\n  }\r\n\r\n  getMany(data) {\r\n    return this.httpClient.post(API_RISK_RATE_URL, data)\r\n  }\r\n}\r\n","import { ChangeDetectorRef, Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { NgbActiveModal, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Subscription } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { AuthService } from 'src/app/modules/auth';\r\nimport { MasterDataService } from 'src/app/modules/master-data/master-data.service';\r\nimport { GlobalFunctionService } from '../../../../core/global-fun.service';\r\nimport { validateAllFields } from '../../../../core/valid-all-feild';\r\nimport { PolicyDTO } from '../../../policy/policy.dto';\r\nimport { Product } from '../../../products/models/product.dto';\r\nimport { ProductDataService } from '../../../products/services/products-data.service';\r\nimport { QuotationDTO } from '../../../quotations/quotation.dto';\r\nimport { CalculatedBuildingComponent } from '../../calculated-building/calculated-building.component';\r\nimport { FirePageID, FireRiskID } from '../../static-pages.data';\r\nimport { PremiumRateService } from '../../surrounding-building/models&services/premium-rate-service';\r\nimport { SurroundingBuildingService } from '../../surrounding-building/models&services/surrounding-building.service';\r\nimport { FireRiskRateService } from '../models&services/fire-risk-rate.service';\r\nimport { FireRiskService } from '../models&services/fire-risk.service';\r\n\r\n@Component({\r\n  selector: 'app-risk-detail',\r\n  templateUrl: './risk-detail.component.html',\r\n  styleUrls: ['./risk-detail.component.scss']\r\n})\r\nexport class RiskDetailComponent implements OnInit, OnDestroy {\r\n  @Input() product: Product\r\n  @Input() editData: QuotationDTO | PolicyDTO\r\n  @ViewChild(CalculatedBuildingComponent) stockTemp: CalculatedBuildingComponent\r\n  fireRiskform: FormGroup;\r\n  typeOfBuildingOption: any = []\r\n  occupationOfBuildingOption: any[] = []\r\n  occupationOfBuildingOptions: any[] = []\r\n  buildingClassOption: any = []\r\n  roofOption: any = []\r\n  wallOption: any = []\r\n  floorClassOption: any = []\r\n  premiumRateOption: any = []\r\n  type: string = 'create'\r\n  resourcesId: string = \"\"\r\n  @Input() oldData: any = {}\r\n  premiumAmt: string = \"\"\r\n  viewPage = \"form\"\r\n  buildingSi: number = 0\r\n  riskSi: number = 0\r\n  otherSi: number = 0\r\n  fireRate: number = 0\r\n  productDetail: any = {}\r\n  fireContentSi: number = 0\r\n  firePlatSi: number = 0\r\n  fireStockSi: number = 0\r\n  activeBox: string = \"DETAIL\"\r\n  step1Com: boolean = false\r\n  step2Com: boolean = false\r\n  step3Com: boolean = false\r\n  currencyType: string = \"MMK\"\r\n  unsub: Subscription[] = []\r\n  constructor(private modalService: NgbModal, public modal: NgbActiveModal, private masterDataService: MasterDataService, private cdf: ChangeDetectorRef, private fireRiskService: FireRiskService, private auth: AuthService, private PremiumRateService: PremiumRateService, private prodService: ProductDataService, private globalService: GlobalFunctionService, private fireRiskRate: FireRiskRateService, private firebuildingService: SurroundingBuildingService) { }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsub.forEach(x => x.unsubscribe())\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.unsub[0] = this.globalService.currenyValueObs.subscribe((res) => {\r\n      if (this.currencyType != res) {\r\n        this.currencyType = res\r\n      }\r\n    })\r\n    this.loadForm()\r\n    this.getBuildingClass()\r\n    this.getBuildingType()\r\n    this.getBuildingOccupation()\r\n    this.getRoof()\r\n    this.getWall()\r\n    this.getFloor()\r\n    this.productDetail = this.globalService.tempFormData[FirePageID] || {}\r\n    if (this.type == 'create') {\r\n      this.loadForm()\r\n    } else {\r\n      this.loadForm(this.oldData)\r\n      if (this.oldData.id) {\r\n        this.getFirePlant()\r\n        this.getFireStock()\r\n        this.getFireContent()\r\n      }\r\n    }\r\n\r\n  }\r\n  getBuildingClass() {\r\n    this.masterDataService\r\n      .getDataByType(\"BUILDING_CLASS\").pipe(map(x => this.getFormatOpt(x)))\r\n      .toPromise()\r\n      .then((res: any) => {\r\n        if (res) {\r\n          this.buildingClassOption = res\r\n          this.cdf.detectChanges();\r\n        }\r\n      });\r\n  }\r\n\r\n  getBuildingType() {\r\n    this.masterDataService\r\n      .getDataByType(\"TYPE_OF_BUILDING\").pipe(map(x => this.getFormatOpt(x)))\r\n      .toPromise()\r\n      .then((res: any) => {\r\n        if (res) {\r\n          this.typeOfBuildingOption = res\r\n          this.cdf.detectChanges();\r\n        }\r\n      });\r\n  }\r\n\r\n  getRoof() {\r\n    this.masterDataService\r\n      .getDataByType(\"CONTRUCTION_OF_ROOF\").pipe(map(x => this.getFormatOpt(x)))\r\n      .toPromise()\r\n      .then((res: any) => {\r\n        if (res) {\r\n          this.roofOption = res\r\n          this.cdf.detectChanges();\r\n        }\r\n      });\r\n  }\r\n\r\n  getWall() {\r\n    this.masterDataService\r\n      .getDataByType(\"CONTRUCTION_OF_WALLS\").pipe(map(x => this.getFormatOpt(x)))\r\n      .toPromise()\r\n      .then((res: any) => {\r\n        if (res) {\r\n          this.wallOption = res\r\n          this.cdf.detectChanges();\r\n        }\r\n      });\r\n  }\r\n\r\n  getFloor() {\r\n    this.masterDataService\r\n      .getDataByType(\"CONTRUCTION_OF_FLOOR\").pipe(map(x => this.getFormatOpt(x)))\r\n      .toPromise()\r\n      .then((res: any) => {\r\n        if (res) {\r\n          this.floorClassOption = res\r\n          this.cdf.detectChanges();\r\n        }\r\n      });\r\n  }\r\n\r\n  getBuildingOccupation() {\r\n    this.masterDataService\r\n      .getDataByType(\"OCCUPATION_OF_BUILDING\").pipe(map(x => this.getFormatOpt(x)))\r\n      .toPromise()\r\n      .then((res: any) => {\r\n        if (res) {\r\n          this.occupationOfBuildingOptions = res\r\n          let occupationOfBuilding = this.fireRiskform.value.occupationOfBuilding\r\n          let typeOfBuilding = this.fireRiskform.value.typeOfBuilding\r\n          if (occupationOfBuilding && typeOfBuilding) {\r\n            this.occupationOfBuildingOption = this.occupationOfBuildingOptions.filter(x => x.parent == typeOfBuilding)\r\n            let index = this.occupationOfBuildingOption.findIndex(x => x.code == occupationOfBuilding)\r\n            if (index < 0) {\r\n              this.fireRiskform.controls.occupationOfBuilding.setValue(null)\r\n            }\r\n          }\r\n          this.cdf.detectChanges();\r\n        }\r\n      });\r\n  }\r\n\r\n  getFormatOpt(res) {\r\n    return res.map(x => {\r\n      return { 'code': x.codeId, 'value': x.codeName || x.codeValue, 'parent': x.parentId }\r\n    })\r\n  }\r\n\r\n  calcuRate(type?: string) {\r\n    let buildingClass = this.fireRiskform.value.buildingClass\r\n    let occupationOfBuilding = this.fireRiskform.value.occupationOfBuilding\r\n    let typeOfBuilding = this.fireRiskform.value.typeOfBuilding\r\n    if (type == 'child') {\r\n      this.occupationOfBuildingOption = this.occupationOfBuildingOptions.filter(x => x.parent == typeOfBuilding)\r\n      let index = this.occupationOfBuildingOption.findIndex(x => x.code == occupationOfBuilding)\r\n      if (index < 0) {\r\n        this.fireRiskform.controls.occupationOfBuilding.setValue(null)\r\n      }\r\n    }\r\n    if (buildingClass && occupationOfBuilding && typeOfBuilding) {\r\n      this.getPremiumRate()\r\n    }\r\n  }\r\n\r\n  getPremiumRate() {\r\n    let buildingClass = this.fireRiskform.value.buildingClass\r\n    let occupationOfBuilding = this.fireRiskform.value.occupationOfBuilding\r\n    let typeOfBuilding = this.fireRiskform.value.typeOfBuilding\r\n    this.PremiumRateService.getPremiumRate(buildingClass, occupationOfBuilding, typeOfBuilding).toPromise().then((res: any) => {\r\n      if (res) {\r\n        this.fireRiskform.controls.rate.setValue(res.premiumRate)\r\n      }\r\n    })\r\n  }\r\n\r\n  loadForm(oldData?) {\r\n    //     Validators.required\r\n    // Validators.required\r\n    // Validators.required\r\n    //     Below fields should be mandatory according to the core system.\r\n    // 1. Building description\r\n    // 2. Type of Building\r\n    // 3. Occupation of Building\r\n    // 4. Building Class\r\n    // 5. Construction of Roof\r\n    // 6. Construction of Wall\r\n    // 7. Construction of Floor\r\n    // 8. No of Story of Building\r\n    // 9. Year of Construction\r\n    // 10. Total square in Feet\r\n    // 11. Special Decoration\r\n    let formValidate = []\r\n    if(this.productDetail.policyType == 'T-NM' )\r\n    formValidate.push(Validators.required)\r\n    this.fireRiskform = new FormGroup({\r\n      buildingClass: new FormControl(oldData ? oldData.buildingClass : \"\", Validators.required),\r\n      buildingDescription: new FormControl(oldData ? oldData.buildingDescription : \"\", Validators.required),\r\n      // id: new FormControl(oldData ? oldData.id : \"\"),\r\n      occupationOfBuilding: new FormControl(oldData ? oldData.occupationOfBuilding : \"\", Validators.required),\r\n      typeOfBuilding: new FormControl(oldData ? oldData.typeOfBuilding : \"\", Validators.required),\r\n      constructionOfFloor: new FormControl(oldData ? oldData.constructionOfFloor : \"\", Validators.required),\r\n      constructionOfRoof: new FormControl(oldData ? oldData.constructionOfRoof : \"\", Validators.required),\r\n      constructionOfWall: new FormControl(oldData ? oldData.constructionOfWall : \"\", Validators.required),\r\n      height: new FormControl(oldData ? oldData.height : \"\", Validators.required),\r\n      length: new FormControl(oldData ? oldData.length : \"\", Validators.required),\r\n      width: new FormControl(oldData ? oldData.width : \"\", Validators.required),\r\n      rate: new FormControl(oldData ? oldData.rate : \"\"),\r\n      specialDecoration: new FormControl(oldData ? oldData.specialDecoration || false : false, Validators.required),\r\n      storyOfBuilding: new FormControl(oldData ? oldData.storyOfBuilding : \"\", Validators.required),\r\n      sumInsure: new FormControl(oldData ? oldData.sumInsure : \"\", [...formValidate]),\r\n      totalSquareFoot: new FormControl(oldData ? oldData.totalSquareFoot : \"\", Validators.required),\r\n      yearOfConstruction: new FormControl(oldData ? oldData.yearOfConstruction : \"\", [Validators.required, Validators.max(9999)]),\r\n      // proposeStockValue: new FormControl(oldData ? oldData.proposeStockValue : 0),\r\n      buildingSi: new FormControl(oldData ? oldData.buildingSi : 0),\r\n      riskSi: new FormControl(oldData ? oldData.riskSi : 0),\r\n    })\r\n    this.riskSi = oldData ? oldData.riskSi : 0\r\n    this.buildingSi = oldData ? oldData.buildingSi : 0\r\n    let occupationOfBuilding = this.fireRiskform.value.occupationOfBuilding\r\n    let typeOfBuilding = this.fireRiskform.value.typeOfBuilding\r\n    if (oldData)\r\n      this.step1Com = oldData.id ? true : false\r\n    if (occupationOfBuilding && typeOfBuilding && this.occupationOfBuildingOptions.length > 0) {\r\n      this.occupationOfBuildingOption = this.occupationOfBuildingOptions.filter(x => x.parent == typeOfBuilding)\r\n      let index = this.occupationOfBuildingOption.findIndex(x => x.code == occupationOfBuilding)\r\n      if (index < 0) {\r\n        this.fireRiskform.controls.occupationOfBuilding.setValue(null)\r\n      }\r\n    }\r\n  }\r\n\r\n  createRisk(closeModal?: boolean, loop?: boolean) {\r\n    if (this.fireRiskform.invalid) {\r\n      validateAllFields(this.fireRiskform)\r\n      return true\r\n    }\r\n    let data = this.fireRiskform.getRawValue();\r\n    this.step1Com = true\r\n    loop\r\n    if (!closeModal && !loop) {\r\n      this.activeBox = \"BUILDING\"\r\n    }\r\n    // this.calBuildingSi()\r\n    let postData = {\r\n      ...this.oldData,\r\n      ...data,\r\n      id: this.oldData.id,\r\n      buildingSi: this.buildingSi,\r\n      riskSi: this.riskSi,\r\n      resourceData: {\r\n        agentId: this.auth.currentUserValue.id || 1,\r\n        customerId: this.prodService.creatingCustomer.customerId || 1,\r\n        policyNumber: null,\r\n        premium: (Number(this.premiumAmt.split(\" \")[0].split(',').join(\"\")) || 0) + \"\",\r\n        premiumView: this.premiumAmt,\r\n        productId: this.prodService.createingProd.id,\r\n        quotationId: this.prodService.referenceID,\r\n        leadId: this.prodService.creatingLeadId || null,\r\n        currency: this.currencyType,\r\n        resourceId: this.resourcesId,\r\n        type: this.prodService.type,\r\n      },\r\n      resourceId: this.resourcesId\r\n    }\r\n    this.globalService.fireBurgery(data.buildingClass)\r\n\r\n    // if (this.type != 'create') {\r\n    if (postData.id) {\r\n      this.fireRiskService.updateNoID(postData)\r\n        .toPromise()\r\n        .then((res) => {\r\n          if (res) {\r\n            this.oldData = { ...postData }\r\n            this.viewPage = \"other\"\r\n            if (this.globalService.tempFormData[FireRiskID]) {\r\n              // this.globalService.tempFormData[FireRiskID].push(this.oldData)\r\n              let index = this.globalService.tempFormData[FireRiskID].findIndex(x => x.id == this.oldData.id)\r\n              if (index < 0) {\r\n                this.globalService.tempFormData[FireRiskID].push(this.oldData)\r\n              } else {\r\n                this.globalService.tempFormData[FireRiskID][index] = this.oldData\r\n              }\r\n            } else {\r\n              this.globalService.tempFormData[FireRiskID] = [this.oldData]\r\n            }\r\n            if (!loop) {\r\n              this.calPremimun(false)\r\n            }\r\n            if (closeModal)\r\n              this.modalService.dismissAll({ data: postData, type: \"save\" })\r\n          }\r\n        });\r\n    } else {\r\n      this.fireRiskService.save(postData)\r\n        .toPromise()\r\n        .then((res) => {\r\n          if (res) {\r\n            postData.id = res\r\n            this.oldData = { ...postData }\r\n            this.viewPage = \"other\"\r\n            if (this.globalService.tempFormData[FireRiskID]) {\r\n              this.globalService.tempFormData[FireRiskID].push(this.oldData)\r\n            } else {\r\n              this.globalService.tempFormData[FireRiskID] = [this.oldData]\r\n            }\r\n            if (!loop) {\r\n              this.calPremimun(false)\r\n            }\r\n            if (closeModal)\r\n              this.modal.dismiss({ data: postData, type: \"save\" })\r\n          }\r\n        });\r\n    }\r\n  }\r\n  viewOther(type: string) {\r\n    if (this.viewPage != type)\r\n      this.viewPage = type\r\n  }\r\n\r\n  dismissModal() {\r\n    this.modal.dismiss()\r\n  }\r\n\r\n  isControlValid(controlName: string): boolean {\r\n    const control = this.fireRiskform.controls[controlName];\r\n    return control.valid && (control.dirty || control.touched);\r\n  }\r\n\r\n  isControlInvalid(controlName: string): boolean {\r\n    const control = this.fireRiskform.controls[controlName];\r\n    return control.invalid && (control.dirty || control.touched);\r\n  }\r\n\r\n  controlHasError(validation, controlName): boolean {\r\n    const control = this.fireRiskform.controls[controlName];\r\n    return control.hasError(validation) && (control.dirty || control.touched);\r\n  }\r\n\r\n  isControlTouched(controlName): boolean {\r\n    const control = this.fireRiskform.controls[controlName];\r\n    return control.dirty || control.touched;\r\n  }\r\n\r\n  calcuSquare() {\r\n    let width = this.fireRiskform.controls['width'].value\r\n    let height = this.fireRiskform.controls['length'].value\r\n    if (width * height) {\r\n      let square = width * height\r\n      this.fireRiskform.controls['totalSquareFoot'].setValue(square)\r\n    }\r\n  }\r\n  calBuildingSi() {\r\n    console.log(\"enter SI\");\r\n\r\n    this.buildingSi = 0\r\n    let pae = this.oldData.sumInsure / this.oldData.totalSquareFoot\r\n    let postData = {\r\n      \"classNo\": this.oldData.buildingClass,\r\n      \"floorCd\": this.oldData.constructionOfFloor,\r\n      \"roofCd\": this.oldData.constructionOfRoof,\r\n      \"wallCd\": this.oldData.constructionOfWall,\r\n      \"year\": this.oldData.yearOfConstruction,\r\n    }\r\n    // let pae2: any = await this.fireRiskRate.getMany(postData).toPromise()\r\n    // let value = pae\r\n    // if (pae2) {\r\n    //   let rate = pae2.limitedPae\r\n    //   // testing\r\n    //   value = pae < rate ? rate : pae\r\n    // }\r\n\r\n    this.buildingSi = this.oldData.sumInsure\r\n    if (this.otherSi == 0) {\r\n      this.otherSi = this.fireContentSi + this.firePlatSi + this.fireStockSi\r\n    }\r\n    if (this.productDetail.currency == 'MMK')\r\n      this.riskSi = this.otherSi + this.buildingSi\r\n    else\r\n      this.riskSi = this.otherSi\r\n    \r\n    if (this.oldData) {\r\n      this.oldData.buildingSi = this.buildingSi\r\n      this.oldData.riskSi = this.riskSi\r\n    }\r\n\r\n  }\r\n  calBuildingSiD(){\r\n    this.buildingSi = 0\r\n    this.buildingSi = this.oldData.sumInsure\r\n    if (this.otherSi == 0) {\r\n      this.otherSi = this.fireContentSi + this.firePlatSi + this.fireStockSi\r\n    }\r\n    if (this.productDetail.currency == 'MMK')\r\n      this.riskSi = (this.otherSi *0.75) + this.buildingSi\r\n    else\r\n      this.riskSi = this.otherSi *0.75\r\n    \r\n    if (this.oldData) {\r\n      this.riskSi = this.oldData.proposeStockValue|| 0\r\n        this.oldData.riskSi = this.riskSi\r\n    }\r\n  }\r\n\r\n  changeTotal(total) {\r\n    this.otherSi = 0\r\n    this.otherSi = total\r\n  }\r\n\r\n  async calPremimun(close: boolean = true) {\r\n    console.log(\"rateData,rate1,rate2,\", this.oldData);\r\n    if (this.oldData.id) {\r\n      if (this.productDetail.policyType == 'T-NM') {\r\n        await this.calBuildingSi()\r\n      } else {\r\n        await this.calBuildingSiD()\r\n        // this.riskSi = this.oldData.proposeStockValue|| 0\r\n        // this.oldData.riskSi = this.riskSi\r\n      }\r\n      let rateData = 0\r\n      let rate1 = this.oldData.rate\r\n      let response: any = await this.firebuildingService.getMaxRate(this.oldData.id).toPromise()\r\n      let rate2 = response ? response.rate : 0\r\n      if (this.oldData.specialDecoration) {\r\n        if ((rate1 * 1.3) > rate2) {\r\n          rateData = rate1 * 1.3\r\n        } else {\r\n          rateData = ((rate1 * 1.3) + rate2) / 2\r\n        }\r\n      } else {\r\n        if (rate1 > rate2) {\r\n          rateData = rate1\r\n        } else {\r\n          rateData = (rate1 + rate2) / 2\r\n        }\r\n      }\r\n      this.oldData.premium = this.globalService.calculateDecimal(this.oldData.riskSi * (rateData / 100))\r\n      this.createRisk(close, true)\r\n    } else {\r\n      this.modal.dismiss()\r\n    }\r\n  }\r\n  getFireContent() {\r\n    this.fireRiskService.getContent(this.oldData.id).toPromise().then((res: any) => {\r\n      if (res) {\r\n        this.fireContentSi = 0\r\n        res.forEach(element => {\r\n          this.fireContentSi += parseFloat(element.totalValue)\r\n        });\r\n      }\r\n    })\r\n  }\r\n  getFirePlant() {\r\n    this.fireRiskService.getPlant(this.oldData.id).toPromise().then((res: any) => {\r\n      if (res) {\r\n        this.firePlatSi = 0\r\n        res.forEach(element => {\r\n          this.firePlatSi += parseFloat(element.totalValue)\r\n        });\r\n      }\r\n    })\r\n\r\n  }\r\n  getFireStock() {\r\n    this.fireRiskService.getStock(this.oldData.id).toPromise().then((res: any) => {\r\n      if (res) {\r\n        this.fireStockSi = 0\r\n        res.forEach(element => {\r\n          this.fireStockSi += parseFloat(element.stockValue)\r\n        });\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  toggleAccordion(type: string) {\r\n    this.activeBox = type == this.activeBox ? \"\" : type\r\n  }\r\n  step2Done() {\r\n    this.step2Com = true\r\n    this.activeBox = \"ADDON\"\r\n    let stockVal = this.stockTemp.stockData\r\n    if (stockVal.length > 0)\r\n      this.oldData.proposeStockValue = stockVal[0].agreedSi\r\n    this.calPremimun(false)\r\n  }\r\n\r\n  step3Done() {\r\n    this.activeBox = \"\"\r\n    this.step3Com = true\r\n    this.calPremimun()\r\n  }\r\n\r\n}\r\n","import { ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { NgbDateAdapter, NgbDateParserFormatter } from '@ng-bootstrap/ng-bootstrap';\r\nimport * as moment from 'moment';\r\nimport { mergeMap, switchMap } from 'rxjs/operators';\r\nimport { GlobalFunctionService } from '../../../core/global-fun.service';\r\nimport { validateAllFields } from '../../../core/valid-all-feild';\r\nimport { AuthService } from '../../../modules/auth';\r\nimport { CustomAdapter, CustomDateParserFormatter } from '../../../_metronic/core';\r\nimport { PolicyDTO } from '../../policy/policy.dto';\r\nimport { Product } from '../../products/models/product.dto';\r\nimport { AddOnQuoService } from '../../products/services/add-on-quo.service';\r\nimport { ProductDataService } from '../../products/services/products-data.service';\r\nimport { QuotationDTO } from '../../quotations/quotation.dto';\r\nimport { StaticActionType, StaticPageAction } from '../static-field.interface';\r\nimport { FireProductService } from './models&services/fire-product.service';\r\nimport { CoverageQuoService } from '../../products/services/coverage-quo.service';\r\nimport { forkJoin, Observable, of, Subscription } from 'rxjs';\r\nimport { FirePageID } from '../static-pages.data';\r\nimport { AlertService } from '../../../modules/loading-toast/alert-model/alert.service';\r\nimport { DateAdapter, MAT_DATE_FORMATS, MAT_DATE_LOCALE } from '@angular/material/core';\r\nimport { MomentDateAdapter } from '@angular/material-moment-adapter';\r\nimport { MY_FORMATS } from '../../../core/is-json';\r\n@Component({\r\n  selector: 'app-fire-simple-page',\r\n  templateUrl: './fire-simple-page.component.html',\r\n  styleUrls: ['./fire-simple-page.component.scss'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter },\r\n    { provide: DateAdapter, useClass: MomentDateAdapter, deps: [MAT_DATE_LOCALE] },\r\n    { provide: MAT_DATE_FORMATS, useValue: MY_FORMATS },\r\n  ]\r\n})\r\nexport class FirePageComponent implements OnInit,OnDestroy {\r\n\r\n  @Input() product: Product\r\n  @Input() editData: QuotationDTO | PolicyDTO\r\n  @Input() resourcesId?: string\r\n  @Input() premiumAmt: string\r\n  @Output() actionEvent = new EventEmitter<StaticPageAction>();\r\n  staticForm: FormGroup\r\n  toMinDate = null\r\n  fromMinDate = null\r\n  toMaxDate = null\r\n  fromMaxDate = null\r\n  dobMinDate = null\r\n  dobMaxDate = null\r\n  validValue: number = 365\r\n  options: any[] = []\r\n  options2: any[] = []\r\n  addOns: any = {}\r\n  options3: any[] = []\r\n  oldData: any\r\n  options4: any[] = []\r\n  durtaionOption: any = [\r\n    {\r\n      code: 'D', value: 'Days'\r\n    },\r\n    {\r\n      code: 'F', value: 'Months'\r\n    },\r\n    {\r\n      code: 'G', value: 'Years'\r\n    },\r\n  ]\r\n  private editId: number\r\n  refID: string\r\n  currencyType: string = \"MMK\"\r\n  unsub: Subscription[] = []\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private prodService: ProductDataService,\r\n    private auth: AuthService,\r\n    private fireService: FireProductService,\r\n    private globalFun: GlobalFunctionService,\r\n    private addOnQuoService: AddOnQuoService,\r\n    private coverageQuoService: CoverageQuoService,\r\n    private alertService: AlertService,\r\n    private cdf: ChangeDetectorRef\r\n  ) {\r\n    this.staticForm = this.fb.group({\r\n      startDate: [null, Validators.compose([Validators.required])],\r\n      endDate: [null, Validators.compose([Validators.required])],\r\n      policyType: ['T-001', Validators.compose([Validators.required])],\r\n      policyDuration: [null, Validators.compose([Validators.required, Validators.max(30)])],\r\n      currency: ['T-001', Validators.compose([Validators.required])],\r\n      policyUnit: ['D', Validators.compose([Validators.required])]\r\n    })\r\n    this.options3 = Array.from({ length: 10 }, (_, i) => i + 1)\r\n  }\r\n\r\n  updateValidation() {\r\n\r\n    let type = this.staticForm.value.policyUnit\r\n\r\n    if (type == 'D') {\r\n      this.staticForm.controls.policyDuration.clearValidators()\r\n      this.staticForm.controls.policyDuration.setValidators([Validators.required,Validators.max(30)])\r\n      this.staticForm.controls.policyDuration.updateValueAndValidity()\r\n      this.validValue = 30\r\n      this.doValid()\r\n    }\r\n    else if (type == 'F') {\r\n      this.staticForm.controls.policyDuration.clearValidators()\r\n      this.staticForm.controls.policyDuration.setValidators([Validators.required,Validators.max(11)])\r\n      this.staticForm.controls.policyDuration.updateValueAndValidity()\r\n      this.validValue = 11\r\n      this.doValid()\r\n    } else {\r\n      this.staticForm.controls.policyDuration.clearValidators()\r\n      this.staticForm.controls.policyDuration.setValidators([Validators.required,Validators.max(1)])\r\n      this.staticForm.controls.policyDuration.updateValueAndValidity()\r\n      this.validValue = 1\r\n      this.doValid()\r\n    }\r\n  }\r\n  ngOnDestroy(): void {\r\n    this.unsub.forEach(x=> x.unsubscribe())\r\n  }\r\n  async ngOnInit() {\r\n\r\n    this.unsub[0] = this.globalFun.currenyValueObs.subscribe((res) => {\r\n      if (this.currencyType != res) {\r\n        this.currencyType = res\r\n      }\r\n    })\r\n    this.options = this.product.coverages\r\n    this.options2 = this.product.addOns\r\n    this.refID = this.prodService.referenceID\r\n    let toDate = moment().subtract(5, `days`)\r\n    this.fromMinDate = toDate.format('YYYY-MM-DD')\r\n    // this.fromMinDate = { year: parseInt(toDate.format('YYYY')), month: parseInt(toDate.format('M')), day: parseInt(toDate.format('D')) };\r\n    this.toMinDate = toDate.format('YYYY-MM-DD')\r\n    // this.toMinDate = { year: parseInt(toDate.format('YYYY')), month: parseInt(toDate.format('M')), day: parseInt(toDate.format('D')) };\r\n    let dobMaxDate = moment().subtract(6, `years`)\r\n    this.dobMaxDate = dobMaxDate.format('YYYY-MM-DD')\r\n    // this.dobMaxDate = { year: parseInt(dobMaxDate.format('YYYY')), month: parseInt(dobMaxDate.format('M')), day: parseInt(dobMaxDate.format('D')) };\r\n    let dobMinDate = moment().subtract(75, `years`)\r\n    this.dobMinDate = dobMinDate.format('YYYY-MM-DD')\r\n    // this.dobMinDate = { year: parseInt(dobMinDate.format('YYYY')), month: parseInt(dobMinDate.format('M')), day: parseInt(dobMinDate.format('D')) };\r\n    // if (this.prodService.editData || this.refID)\r\n    this.getOldData()\r\n    this.updateValidation()\r\n    // this.getAddOn()\r\n    // for (const item of this.product.addOns) {\r\n    //   let response: any = null;\r\n    //   try {\r\n    //     if (this.editData) {\r\n    //       response = await this.addOnQuoService.getOne(item.id, this.editData.id).toPromise()\r\n    //     }\r\n    //   } catch (error) {\r\n    //     response = null\r\n    //   }\r\n    //   this.addOns[item.id + 'opt'] = response ? response.sumInsured || 0 : 0\r\n    // }\r\n  }\r\n\r\n\r\n  doValid() {\r\n    let value = this.staticForm.controls['startDate'].value\r\n    let duration = this.staticForm.controls['policyDuration'].value\r\n    let type = this.staticForm.controls['policyUnit'].value\r\n    if (value && duration && type == 'D') {\r\n      let toDate = moment(this.staticForm.controls['startDate'].value).add(duration, 'days')\r\n      // this.toMaxDate = { year: parseInt(toDate.format('YYYY')), month: parseInt(toDate.format('M')), day: parseInt(toDate.format('D')) };\r\n      this.staticForm.controls['endDate'].setValue(toDate)\r\n    } else if (value && duration && type == 'F') {\r\n      let toDate = moment(this.staticForm.controls['startDate'].value).add(duration, 'month')\r\n      this.staticForm.controls['endDate'].setValue(toDate)\r\n    }\r\n    else {\r\n      let toDate = moment(this.staticForm.controls['startDate'].value).add(duration, 'year')\r\n      this.staticForm.controls['endDate'].setValue(toDate)\r\n    }\r\n  }\r\n\r\n  calcuteDay() {\r\n    let startDate = moment(this.staticForm.controls['startDate'].value)\r\n    let endDate = moment(this.staticForm.controls['endDate'].value)\r\n    let diffDays = startDate.diff(endDate, \"days\") + 1\r\n    this.staticForm.controls['policyDuration'].setValue(diffDays)\r\n  }\r\n\r\n  get controls() {\r\n    return this.staticForm.controls\r\n  }\r\n\r\n  // helpers for View\r\n  isControlValid(controlName: string, group: FormGroup): boolean {\r\n    const control = group.controls[controlName];\r\n    return control.valid && (control.dirty || control.touched);\r\n  }\r\n\r\n  isControlInvalid(controlName: string, group: FormGroup): boolean {\r\n    const control = group.controls[controlName];\r\n    return control.invalid && (control.dirty || control.touched);\r\n  }\r\n\r\n  controlHasError(validation, controlName, group: FormGroup): boolean {\r\n    const control = group.controls[controlName];\r\n    return control.hasError(validation) && (control.dirty || control.touched);\r\n  }\r\n\r\n  isControlTouched(controlName, group: FormGroup): boolean {\r\n    const control = group.controls[controlName];\r\n    return control.dirty || control.touched;\r\n  }\r\n  nextPage() {\r\n    if (this.staticForm.invalid) {\r\n      validateAllFields(this.staticForm)\r\n      return true\r\n    } else {\r\n      if (this.editId) {\r\n        this.saveData(this.editId)\r\n      } else {\r\n        this.saveData()\r\n      }\r\n    }\r\n  }\r\n\r\n  backPage() {\r\n    this.actionEvent.emit({ type: StaticActionType.PREV })\r\n  }\r\n\r\n  saveData(id?) {\r\n    const formValue = this.staticForm.value\r\n    let postData = {\r\n      id: id || null,\r\n      endDate: moment(formValue.endDate).format(\"YYYY-MM-DD\"),\r\n      startDate: moment(formValue.startDate).format(\"YYYY-MM-DD\"),\r\n      policyType: formValue.policyType,\r\n      policyDuration: formValue.policyDuration,\r\n      currency: formValue.currency,\r\n      policyUnit: formValue.policyUnit,\r\n      resourceData: {\r\n        agentId: this.auth.currentUserValue.id || 1,\r\n        customerId: this.prodService.creatingCustomer.customerId || 1,\r\n        policyNumber: null,\r\n        premium: (Number(this.premiumAmt.split(\" \")[0].split(',').join(\"\")) || 0) + \"\",\r\n        premiumView: this.premiumAmt,\r\n        productId: this.prodService.createingProd.id,\r\n        quotationId: this.prodService.referenceID,\r\n        leadId: this.prodService.creatingLeadId || null,\r\n        currency: this.currencyType,\r\n        // status: ,\r\n        type: this.prodService.type\r\n      },\r\n      resourceId: this.resourcesId,\r\n    }\r\n    // console.log(postData);\r\n    if (!id) {\r\n      this.fireService.save(postData).toPromise().then((res: any) => {\r\n        if (res) {\r\n          this.editId = res.id\r\n          this.resourcesId = res.resourceId\r\n          this.globalFun.tempFormData[FirePageID] = { id: res.id, ...postData }\r\n          this.actionEvent.emit({ type: StaticActionType.NEXT, data: { ...res } })\r\n        }\r\n      }).catch((e) => e)\r\n    } else {\r\n      this.fireService.updateNoID(postData).toPromise().then((res: any) => {\r\n        if (res) {\r\n          this.editId = res.id\r\n          this.globalFun.tempFormData[FirePageID] = { id: res.id, ...postData }\r\n          this.actionEvent.emit({ type: StaticActionType.NEXT, data: { ...res } })\r\n        }\r\n      }).catch((e) => e)\r\n    }\r\n\r\n  }\r\n\r\n  // .pipe(mergeMap(resources => {\r\n  //   return resources\r\n  // }))\r\n  getOldData(dataget: boolean = false) {\r\n    // let dataget = false\r\n    console.log(this.resourcesId);\r\n\r\n    if (this.resourcesId || this.refID) {\r\n      let resId = dataget ? this.refID : (this.resourcesId || this.refID)\r\n      if (!resId) return false\r\n      this.fireService.getOne(resId).toPromise().then((res: any) => {\r\n        // dataget = true\r\n        if (res) {\r\n          this.oldData = { ...res, id: null }\r\n          this.editId = resId == this.resourcesId ? res.id : null\r\n          this.reloadOldValueForm()\r\n        } else {\r\n          if (!dataget && resId != this.refID) {\r\n            this.getOldData(true)\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  reloadOldValueForm() {\r\n    this.staticForm.patchValue({\r\n      startDate: moment(this.oldData.startDate),\r\n      endDate: moment(this.oldData.endDate),\r\n      policyType: this.oldData.policyType,\r\n      policyDuration: this.oldData.policyDuration,\r\n      currency: this.oldData.currency,\r\n      policyUnit: this.oldData.policyUnit,\r\n    })\r\n    this.cdf.detectChanges()\r\n  }\r\n\r\n}","import { DecimalPipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\r\nimport * as moment from 'moment';\r\nimport { forkJoin, Subscription } from 'rxjs';\r\nimport { mergeMap } from 'rxjs/operators';\r\nimport { GlobalFunctionService } from '../../../core/global-fun.service';\r\nimport { AuthService } from '../../../modules/auth';\r\nimport { AlertService } from '../../../modules/loading-toast/alert-model/alert.service';\r\nimport { PolicyDTO } from '../../policy/policy.dto';\r\nimport { Product } from '../../products/models/product.dto';\r\nimport { ProductDataService } from '../../products/services/products-data.service';\r\nimport { QuotationDTO } from '../../quotations/quotation.dto';\r\nimport { StaticActionType, StaticPageAction } from '../static-field.interface';\r\nimport { HealthPageID } from '../static-pages.data';\r\nimport { HealthPaymentService } from './models&services/health-payment.service';\r\nimport { HealthRateService } from './models&services/health-rate.service';\r\n\r\n@Component({\r\n  selector: 'app-health-quo',\r\n  templateUrl: './health-quo.component.html',\r\n  styleUrls: ['./health-quo.component.scss']\r\n})\r\nexport class HealthQuoComponent implements OnInit,OnDestroy {\r\n  @Input() product: Product\r\n  @Input() editData: QuotationDTO | PolicyDTO\r\n  @Input() resourcesId: string\r\n  @Output() actionEvent = new EventEmitter<StaticPageAction>();\r\n  @Input() premiumAmt: string\r\n  showData: any = []\r\n  schedule: any = []\r\n  tempSchedule: any = []\r\n  parentData: any\r\n  totalP: number = 0\r\n  totalL: number = 0\r\n\r\n  currencyType: string = \"MMK\"\r\n  unsub: Subscription[] = []\r\n  constructor(private globalFun: GlobalFunctionService, private alertService: AlertService,\r\n    private healthRateService: HealthRateService, private healthPayService: HealthPaymentService,\r\n    private cdf: ChangeDetectorRef, private auth: AuthService, private prodService: ProductDataService,\r\n    private numberPipe: DecimalPipe) { }\r\n  ngOnDestroy(): void {\r\n    this.unsub.forEach(x => x.unsubscribe())\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.unsub[0] = this.globalFun.currenyValueObs.subscribe((res) => {\r\n      if (this.currencyType != res) {\r\n        this.currencyType = res\r\n      }\r\n    })\r\n    this.parentData = this.globalFun.tempFormData[HealthPageID]\r\n    if (!this.parentData) {\r\n      this.alertService.activate(\"This page cann't to show because there is no health product detail data. Please add health product detail in prodcut configuration\", \"Warning\")\r\n    } else {\r\n      this.showData.push({ keyName: this.parentData.basicCoverId, value: this.parentData.sumInsuredMainCover })\r\n      // for (let addon of this.product.addOns) {\r\n      // }\r\n      if (this.parentData.addOns && this.parentData.basicCoverId != \"CRTILLNESS\") {\r\n        this.product.addOns.forEach(addon => {\r\n          if (this.parentData.addOns[addon.id + \"opt\"]) {\r\n            this.showData.push({ keyName: addon.description, value: this.parentData.addOns[addon.id + \"value\"] })\r\n          }\r\n        })\r\n      }\r\n      this.calculateSchedule()\r\n    }\r\n  }\r\n\r\n  calculateSchedule() {\r\n    //lump\r\n    // annually\r\n    // if (this.parentData.paymentFrequency)\r\n    this.totalP = 0\r\n    this.totalL = 0\r\n    let firstTimeValue = 300\r\n    let doCount = this.parentData.paymentFrequency == 'L' ? 1 : 2\r\n    let age = Math.ceil(moment().diff(this.parentData.dateOfBirth, 'years', true));\r\n    this.healthRateService.getOne(age, this.parentData.basicCoverId).toPromise().then((res: any) => {\r\n\r\n      if (res) {\r\n        if (this.parentData.paymentFrequency == 'L') {\r\n          let pre = res.lumpSum * this.parentData.sumInsuredMainCover\r\n          let levy = firstTimeValue * this.parentData.sumInsuredMainCover\r\n          this.totalP = this.totalP + pre\r\n          this.totalL = levy\r\n          this.schedule.push({ premium: pre, coverage: this.parentData.basicCoverId, sumInsured: this.parentData.sumInsuredMainCover, levy: levy })\r\n          firstTimeValue = 0\r\n        } else {\r\n          let pre = res.semiAnnual * this.parentData.sumInsuredMainCover\r\n          let levy = firstTimeValue * this.parentData.sumInsuredMainCover\r\n          this.totalP = this.totalP + pre\r\n          this.totalP = this.totalP + pre\r\n          this.totalL = levy\r\n          this.schedule.push({ premium: pre, coverage: this.parentData.basicCoverId, sumInsured: this.parentData.sumInsuredMainCover, levy: levy })\r\n          firstTimeValue = 0\r\n          this.schedule.push({ premium: pre, coverage: this.parentData.basicCoverId, sumInsured: this.parentData.sumInsuredMainCover, levy: 0 })\r\n        }\r\n        let tempPre = this.globalFun.calculateDecimal(this.totalP / 12) + this.totalL\r\n        if (this.schedule.length > 0) {\r\n          if (this.schedule[0].paymentTerm == \"L\") {\r\n            this.tempSchedule = [\r\n              { premium: this.totalP, levy: this.totalL, total: this.totalP + this.totalL },\r\n            ]\r\n          } else {\r\n            let tempTotal = this.totalP / 2\r\n            this.tempSchedule = [\r\n              { premium: tempTotal, levy: this.totalL, total: tempTotal + this.totalL },\r\n              { premium: tempTotal, levy: 0, total: tempTotal },\r\n            ]\r\n          }\r\n        }\r\n        this.premiumAmt = this.numberPipe.transform(tempPre) + \" MMK / month\"\r\n        this.globalFun.paPremiumResult.next(this.premiumAmt)\r\n        if (this.parentData.basicCoverId == \"CRTILLNESS\") {\r\n          this.cdf.detectChanges()\r\n        }\r\n        else\r\n          this.calculateScheduleAddOn(age)\r\n      }\r\n\r\n    })\r\n    // Object.keys(this.parentData.addOns).forEach((key) => {\r\n    //   if (key.includes(\"opt\")) {\r\n\r\n    //   }\r\n    // })\r\n  }\r\n\r\n  calculateScheduleAddOn(age: number) {\r\n    let i = 0\r\n    this.product.addOns.forEach(addon => {\r\n      if (this.parentData.addOns[addon.id + \"opt\"]) {\r\n        let value = this.parentData.addOns[addon.id + \"value\"]\r\n        i += 1\r\n        this.healthRateService.getOne(age, addon.code).toPromise().then((res: any) => {\r\n\r\n          if (res) {\r\n            if (this.parentData.paymentFrequency == 'L') {\r\n              let pre = res.lumpSum * value\r\n              this.totalP = this.totalP + pre\r\n              this.schedule.push({ premium: pre, coverage: addon.code, sumInsured: value, levy: 0 })\r\n            } else {\r\n              let pre = res.semiAnnual * value\r\n              this.totalP = this.totalP + pre\r\n              this.totalP = this.totalP + pre\r\n              this.schedule.push({ premium: pre, coverage: addon.code, sumInsured: value, levy: 0 })\r\n              this.schedule.push({ premium: pre, coverage: addon.code, sumInsured: value, levy: 0 })\r\n            }\r\n          }\r\n          if (i == this.product.addOns.length) {\r\n            let tempPre = this.globalFun.calculateDecimal(this.totalP / 12) + this.totalL\r\n            this.premiumAmt = this.numberPipe.transform(tempPre) + \" MMK / month\"\r\n            this.globalFun.paPremiumResult.next(this.premiumAmt)\r\n            this.cdf.detectChanges()\r\n          }\r\n        }).catch(e => {\r\n          if (i == this.product.addOns.length) this.cdf.detectChanges()\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  async nextPage() {\r\n    let tempPre = this.globalFun.calculateDecimal(this.totalP / 12) + this.totalL\r\n    this.premiumAmt = this.numberPipe.transform(tempPre) + \" MMK / month\"\r\n    this.globalFun.paPremiumResult.next(this.premiumAmt)\r\n    this.healthPayService.deleteMany(this.resourcesId).pipe(mergeMap((data) => {\r\n      let postData = {\r\n        \"resourceData\": {\r\n          \"agentId\": this.auth.currentUserValue.id || 1,\r\n          \"customerId\": this.prodService.creatingCustomer.customerId || 1,\r\n          \"policyNumber\": null,\r\n          \"premium\": (Number(this.premiumAmt.split(\" \")[0].split(',').join(\"\")) || 0) + \"\",\r\n          \"premiumView\": this.premiumAmt,\r\n          \"productId\": this.product.id,\r\n          \"quotationId\": this.prodService.referenceID,\r\n          \"type\": this.prodService.type,\r\n          \"leadId\": this.prodService.creatingLeadId,\r\n          currency: this.currencyType,\r\n        },\r\n        \"resourceId\": this.resourcesId,\r\n        \"requests\": []\r\n      }\r\n      postData.requests = this.schedule.map((x) => {\r\n        return {\r\n          \"paymentTerm\": this.parentData.paymentFrequency,\r\n          \"plan\": this.parentData.basicCoverId,\r\n          \"premium\": x.premium,\r\n          \"levy\": x.levy,\r\n          \"coverage\": x.coverage,\r\n          \"sumInsured\": x.sumInsured,\r\n          \"resourceId\": this.resourcesId,\r\n          \"total\": x.levy + x.premium,\r\n        }\r\n      })\r\n      return this.healthPayService.saveAll(postData)\r\n    })).toPromise().then((res) => {\r\n      if (res) {\r\n        this.actionEvent.emit({ type: StaticActionType.NEXT })\r\n\r\n      }\r\n    })\r\n  }\r\n\r\n  backPage() {\r\n    this.actionEvent.emit({ type: StaticActionType.PREV })\r\n  }\r\n\r\n\r\n}\r\n","import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { environment } from \"../../../../../environments/environment\";\r\nimport { BizOperationService } from \"../../../../core/biz.operation.service\";\r\nimport { HealthRateDTO } from \"./health-quo.dto\";\r\n\r\nconst API_HEALTH_RATE_URL = `${environment.apiUrl}/health/coverage-rate`;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HealthRateService extends BizOperationService<HealthRateDTO, number>{\r\n  constructor(protected httpClient: HttpClient) {\r\n    super(httpClient, API_HEALTH_RATE_URL);\r\n  }\r\n\r\n  getOne(age: number, cover: string) {\r\n    return this.httpClient.get(API_HEALTH_RATE_URL + \"?age=\" + age + \"&cover=\" + cover)\r\n  }\r\n}","import { DecimalPipe } from '@angular/common';\r\nimport { Component, Input, OnInit, Output, EventEmitter, ChangeDetectorRef } from '@angular/core';\r\nimport { MomentDateAdapter } from '@angular/material-moment-adapter';\r\nimport { MAT_DATE_FORMATS, MAT_DATE_LOCALE } from '@angular/material/core';\r\nimport { DateAdapter } from 'angular-calendar';\r\nimport { GlobalFunctionService } from 'src/app/core/global-fun.service';\r\nimport { IsJsonString, MY_FORMATS } from 'src/app/core/is-json';\r\nimport { PolicyDTO } from '../../policy/policy.dto';\r\nimport { PageDataService } from '../../product-form/page-data.service';\r\nimport { Product, ProductPages } from '../../products/models/product.dto';\r\nimport { AddOnQuoService } from '../../products/services/add-on-quo.service';\r\nimport { ProductDataService } from '../../products/services/products-data.service';\r\nimport { QuotationDTO } from '../../quotations/quotation.dto';\r\nimport { StaticActionType, StaticPageAction } from '../static-field.interface';\r\nimport { AddOnID } from '../static-pages.data';\r\n\r\n@Component({\r\n  selector: 'app-motor-addon',\r\n  templateUrl: './motor-addon.component.html',\r\n  styleUrls: ['./motor-addon.component.scss'],\r\n  providers: [\r\n    { provide: DateAdapter, useClass: MomentDateAdapter, deps: [MAT_DATE_LOCALE] },\r\n    { provide: MAT_DATE_FORMATS, useValue: MY_FORMATS },\r\n  ]\r\n})\r\nexport class MotorAddonComponent implements OnInit {\r\n  @Input() product: Product\r\n  @Input() editData: QuotationDTO | PolicyDTO\r\n  @Input() resourcesId: string\r\n  @Output() actionEvent = new EventEmitter<StaticPageAction>();\r\n  @Input() optionId: string\r\n  @Input() premiumAmt: string = ''\r\n  @Output() changeCheck = new EventEmitter<any>();\r\n  primary = 'primary'\r\n  isMedical: boolean = false\r\n  isCross: boolean = false\r\n  planOption: any = 'basic';\r\n  planOptionOption: any = [\r\n    {\r\n      code: 'basic', value: 'Basic Plan'\r\n    },\r\n    {\r\n      code: 'special', value: 'Special Plan'\r\n    },\r\n  ]\r\n  premium: any\r\n  startDate: any\r\n  endDate: any\r\n  option1: string = \"Digital Source Place\"\r\n  option2: string = \"Digital Destination Place\"\r\n  parentData: any = {}\r\n  addOnsData: any = {}\r\n  medPremium: any\r\n  crossPremium: any\r\n  crossPercent = {\r\n    \"T-004\": 0.35,\r\n    \"T-003\": 0.60,\r\n    \"T-002\": 0.85,\r\n    \"T-001\": 1,\r\n  }\r\n  constructor(private globalFun: GlobalFunctionService, private prodService: ProductDataService, private numberPipe: DecimalPipe, private addOnQuoService: AddOnQuoService, private pageDataService: PageDataService, private cdf: ChangeDetectorRef) {\r\n  }\r\n\r\n  async ngOnInit() {\r\n    this.optionId = this.optionId ? this.optionId : this.resourcesId\r\n    this.parentData = this.getParnet()\r\n    let medID = this.product.addOns.find(x => x.code == \"MED EXP\")\r\n    let crossID = this.product.addOns.find(x => x.code == \"CROSSBRDR\")\r\n    let postData = {\r\n      quotationNo: this.resourcesId,\r\n      addOnIds: [],\r\n      optionalKey: this.optionId\r\n    }\r\n    if (medID) {\r\n      postData.addOnIds.push(medID.id)\r\n    }\r\n    if (crossID) {\r\n      postData.addOnIds.push(crossID.id)\r\n    }\r\n    let results: any = await this.addOnQuoService.getAllById(postData).toPromise()\r\n    let response = results.find(x => x.addonId == medID)\r\n    if (response) {\r\n      this.isMedical = true\r\n      this.planOption = response.option\r\n      this.toggleChange('medical')\r\n    }\r\n    let response2 = results.find(x => x.addonId == crossID)\r\n    if (response2) {\r\n      this.isCross = true\r\n      this.startDate = response.startDate\r\n      this.endDate = response.endDate\r\n      this.option1 = response.option1\r\n      this.option2 = response.option2\r\n      this.toggleChange('cross')\r\n    }\r\n  }\r\n\r\n  getParnet(tableName: string = 'm_detail') {\r\n    if (IsJsonString(this.product.config)) {\r\n      let pageUI: ProductPages = JSON.parse(this.product.config);\r\n      let pageOrder = this.prodService.type != 'quotation' ? pageUI.application || [] : pageUI.quotation || []\r\n      let parent = pageOrder.find(page => page.tableName == tableName)\r\n      if (parent) {\r\n        return this.globalFun.tempFormData[parent.tableName + parent.id] || null\r\n      }\r\n      return null\r\n    }\r\n    return null\r\n  }\r\n\r\n  toggleChange(type) {\r\n    // console.log(type);\r\n\r\n    if (type == 'medical') {\r\n      this.isMedical = !this.isMedical\r\n      this.changePlan()\r\n      // this.premium = this.globalFun.motorMedicalExpense(this.parentData)\r\n      // console.log(this.premium);\r\n      this.cdf.detectChanges()\r\n    }\r\n    if (type == 'cross') {\r\n      this.isCross = !this.isCross\r\n      // this.crossPremium = this.isCross ? this.calcuCross() : 0\r\n      this.calcuCross()\r\n      this.cdf.detectChanges()\r\n    }\r\n  }\r\n  changePlan() {\r\n    if (this.planOption == 'basic') {\r\n      // this.premium = this.globalFun.motorMedicalExpense(this.parentData)\r\n      this.medPremium = this.calcumotorMedical()\r\n    } else {\r\n      // this.premium =  this.globalFun.motorMedicalExpense(this.parentData)\r\n      this.medPremium = this.calcumotorMedical()\r\n    }\r\n\r\n  }\r\n  calcumotorMedical() {\r\n    let fix = 0\r\n    if (this.planOption == 'basic') {\r\n      fix = 20\r\n    } else {\r\n      fix = 30\r\n    }\r\n    return fix\r\n  }\r\n\r\n  calcuCross() {\r\n    let tempPre = 0\r\n    let addOnsData = this.globalFun.tempFormData['addon_1634010770155']\r\n    for (let addon of addOnsData) {\r\n      // if (this.addOnsData[addon.id].checked) {\r\n      tempPre += this.globalFun.calculateDecimal(addon.premium || 0)\r\n      // }\r\n    }\r\n    \r\n    if (this.isMedical) {\r\n      tempPre += this.globalFun.calculateDecimal(this.medPremium)\r\n    }\r\n    let coverageData = this.globalFun.tempFormData['coverage_1634010995936'] ? this.globalFun.tempFormData['coverage_1634010995936'] : []\r\n    for (let cov of coverageData) {\r\n      tempPre += this.globalFun.calculateDecimal(cov.premium || 0)\r\n    }\r\n  \r\n    let currency: string = this.parentData ? this.parentData.m_currency : 'MMK'\r\n    // let excessAmt = 0\r\n    // if (this.parentData) {\r\n    //   let excess = this.parentData['m_excess']\r\n    //   if (excess == \"T-NILEX\" && currency == \"MMK\") {\r\n    //     excessAmt = 50000\r\n    //   } else if (excess == \"TU-NILEX\") {\r\n    //     excessAmt = 25\r\n    //   }\r\n    // }\r\n    let excessAmt = 0\r\n    let discount = 0\r\n    if (this.parentData) {\r\n      let excess = this.parentData['m_excess']\r\n      let excess_discount = this.parentData['excess_discount']\r\n      if (excess == \"T-NILEX\" && currency == \"MMK\") {\r\n        discount = -50000\r\n      } else if (excess == \"TU-NILEX\") {\r\n        discount = -25\r\n      } else if (excess == \"T-ED\" && currency == \"MMK\") {\r\n        if (excess_discount == \"T-EXD1\") {\r\n          discount = 50000\r\n        } else if (excess_discount == \"T-EXD2\") {\r\n          discount = 70000\r\n        } else if (excess_discount == \"T-EXD3\") {\r\n          discount = 100000\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    let term = this.parentData['m_policy_term']\r\n    let percent = this.crossPercent[term] || 1\r\n    this.crossPremium = ((tempPre - discount) * 0.15) * percent\r\n  }\r\n  backPage() {\r\n    this.actionEvent.emit({ type: StaticActionType.PREV })\r\n  }\r\n  async nextPage() {\r\n    const quoService = this.addOnQuoService\r\n    let medID = this.product.addOns.find(x => x.code == \"MED EXP\")\r\n    if (medID)\r\n      await quoService.deleteOne(medID, this.resourcesId, this.resourcesId)\r\n    if (this.isMedical) {\r\n      this.medPremium = typeof this.medPremium != \"string\" ? this.medPremium + \"\" : this.medPremium\r\n      if (medID) {\r\n        let postData = {\r\n          addonId: medID.id,\r\n          quotationNo: this.resourcesId,\r\n          optionalKey: this.resourcesId,\r\n          premium: this.medPremium.replace(',', '').replace('MMK', '').replace('USD', ''),\r\n          option: this.planOption,\r\n        }\r\n        let res = await quoService.save(postData).toPromise()\r\n        if (this.globalFun.tempFormData['addon_1634010770155']) {\r\n          this.globalFun.tempFormData['addon_1634010770155'].push(postData)\r\n        } else {\r\n          this.globalFun.tempFormData['addon_1634010770155'] = [postData]\r\n        }\r\n      }\r\n\r\n    }\r\n    let crossID = this.product.addOns.find(x => x.code == \"CROSSBRDR\")\r\n    if (crossID)\r\n      await quoService.deleteOne(crossID, this.resourcesId, this.resourcesId)\r\n\r\n    if (this.isCross) {\r\n      this.crossPremium = typeof this.crossPremium != \"string\" ? this.crossPremium + \"\" : this.crossPremium\r\n      if (crossID) {\r\n        let postData = {\r\n          addonId: crossID.id,\r\n          quotationNo: this.resourcesId,\r\n          optionalKey: this.resourcesId,\r\n          premium: this.crossPremium.replace(',', '').replace('MMK', '').replace('USD', ''),\r\n          startDate: this.startDate,\r\n          endDate: this.endDate,\r\n          option: this.option1,\r\n          option2: this.option2\r\n        }\r\n        let res = await quoService.save(postData).toPromise()\r\n        // if (this.globalFun.tempFormData['addon_1634010770155']) {\r\n        //   this.globalFun.tempFormData['addon_1634010770155'].push(postData)\r\n        // } else {\r\n        //   this.globalFun.tempFormData['addon_1634010770155'] = [postData]\r\n        // }\r\n      }\r\n\r\n    }\r\n    await this.savePremimun()\r\n    // this.globalFun.tempFormData[AddOnID] = pageData\r\n    this.actionEvent.emit({ type: StaticActionType.NEXT })\r\n  }\r\n\r\n  savePremimun() {\r\n    let premiumAmt = this.caluMotorPremimun()\r\n    let postData = {\r\n      \"premium\": (Number(this.premiumAmt.split(\" \")[0].split(',').join(\"\")) || 0) + \"\",\r\n      \"premiumView\": this.premiumAmt,\r\n      \"resourceId\": this.resourcesId,\r\n      \"type\": this.prodService.viewType\r\n    }\r\n    return this.pageDataService.updatePremimun(postData)\r\n  }\r\n\r\n  caluMotorPremimun() {\r\n    let tempPre = 0\r\n    let tempArray = this.globalFun.tempFormData['addon_1634010770155'] || []\r\n    for (let addon of tempArray) {\r\n      // if (this.addOnsData[addon.id].checked) {\r\n      tempPre += this.globalFun.calculateDecimal(addon.premium || 0)\r\n      // }\r\n    }\r\n    let coverageData = this.globalFun.tempFormData['coverage_1634010995936'] ? this.globalFun.tempFormData['coverage_1634010995936'] : []\r\n    for (let cov of coverageData) {\r\n      tempPre += this.globalFun.calculateDecimal(cov.premium || 0)\r\n    }\r\n    let currency: string = this.parentData ? this.parentData.m_currency : 'MMK'\r\n    let discount = 0\r\n    if (this.parentData) {\r\n      let excess = this.parentData['m_excess']\r\n      let excess_discount = this.parentData['excess_discount']\r\n      if (excess == \"T-NILEX\" && currency == \"MMK\") {\r\n        discount = -50000\r\n      } else if (excess == \"TU-NILEX\") {\r\n        discount = -25\r\n      } else if (excess == \"T-ED\" && currency == \"MMK\") {\r\n        if (excess_discount == \"T-EXD1\") {\r\n          discount = 50000\r\n        } else if (excess_discount == \"T-EXD2\") {\r\n          discount = 70000\r\n        } else if (excess_discount == \"T-EXD3\") {\r\n          discount = 100000\r\n        }\r\n      }\r\n    }\r\n    let stumd = currency == \"MMK\" ? 100 : 1\r\n    let preAMT = (tempPre - discount)\r\n    let term = this.parentData['m_policy_term']\r\n    console.log();\r\n    \r\n    let percent = this.crossPercent[term] || 1\r\n    console.log(\"PERCENT\",percent);\r\n    \r\n    preAMT = (preAMT * percent) + stumd\r\n    this.premiumAmt = this.numberPipe.transform(preAMT) + \" \" + currency.toUpperCase()\r\n    this.globalFun.paPremiumResult.next(this.premiumAmt)\r\n    return preAMT\r\n  }\r\n}\r\n","import { ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { NgbDateAdapter, NgbDateParserFormatter } from '@ng-bootstrap/ng-bootstrap';\r\nimport * as moment from 'moment';\r\nimport { GlobalFunctionService } from '../../../core/global-fun.service';\r\nimport { AuthService } from '../../../modules/auth';\r\nimport { CustomAdapter, CustomDateParserFormatter } from '../../../_metronic/core';\r\nimport { PolicyDTO } from '../../policy/policy.dto';\r\nimport { Product, ProductPages } from '../../products/models/product.dto';\r\nimport { AddOnQuoService } from '../../products/services/add-on-quo.service';\r\nimport { ProductDataService } from '../../products/services/products-data.service';\r\nimport { QuotationDTO } from '../../quotations/quotation.dto';\r\nimport { StaticActionType, StaticPageAction } from '../static-field.interface';\r\nimport { CoverageQuoService } from '../../products/services/coverage-quo.service';\r\nimport { AlertService } from '../../../modules/loading-toast/alert-model/alert.service';\r\nimport { HealthProductService } from '../simple-page/models&services/health-product.service';\r\nimport { HealthPaymentService } from '../health-quo/models&services/health-payment.service';\r\nimport { HealthPageID } from '../static-pages.data';\r\nimport { forkJoin, Observable, of, Subscription } from 'rxjs';\r\nimport { mergeMap, switchMap } from 'rxjs/operators';\r\nimport { DecimalPipe } from '@angular/common';\r\nimport { DateAdapter, MAT_DATE_FORMATS, MAT_DATE_LOCALE } from '@angular/material/core';\r\nimport { MAT_MOMENT_DATE_FORMATS, MomentDateAdapter } from '@angular/material-moment-adapter';\r\nimport { IsJsonString, MY_FORMATS } from '../../../core/is-json';\r\n@Component({\r\n  selector: 'app-simple-page-policy',\r\n  templateUrl: './simple-page-policy.component.html',\r\n  styleUrls: ['./simple-page-policy.component.scss'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter },\r\n    { provide: DateAdapter, useClass: MomentDateAdapter, deps: [MAT_DATE_LOCALE] },\r\n    { provide: MAT_DATE_FORMATS, useValue: MY_FORMATS },\r\n  ]\r\n})\r\nexport class SimplePagePolicyComponent implements OnInit, OnDestroy {\r\n\r\n  @Input() product: Product\r\n  @Input() editData: QuotationDTO | PolicyDTO\r\n  @Input() resourcesId?: string\r\n  @Input() premiumAmt: string\r\n  @Output() actionEvent = new EventEmitter<StaticPageAction>();\r\n  staticForm: FormGroup\r\n  toMinDate = null\r\n  fromMinDate = null\r\n  toMaxDate = null\r\n  fromMaxDate = null\r\n  dobMinDate = null\r\n  dobMaxDate = null\r\n  options: any[] = []\r\n  options2: any[] = []\r\n  addOns: any = {}\r\n  options3: any[] = []\r\n  oldData: any\r\n  options4: any[] = []\r\n  private editId: number\r\n  refID: string\r\n  optionArray: any[] = []\r\n  tempArray: any[] = []\r\n  totalResult = {\r\n    unit: 0,\r\n    premium: 0,\r\n  }\r\n  policyTerm = {\r\n    \"lump\": \"Lump Sum\",\r\n    \"semi_annually\": \"Semi-Annually\"\r\n  }\r\n\r\n  totalP: number = 0\r\n  parentData: any\r\n  currentAge = 0\r\n  dob: string = \"\"\r\n  totalL: number = 0\r\n  currencyType: string = \"MMK\"\r\n  unsub: Subscription[] = []\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private prodService: ProductDataService,\r\n    private healthService: HealthProductService,\r\n    private alertService: AlertService,\r\n    private healthPayService: HealthPaymentService,\r\n    private auth: AuthService,\r\n    private globalFun: GlobalFunctionService,\r\n    private coverageQuoService: CoverageQuoService,\r\n    private addOnQuoService: AddOnQuoService,\r\n    private numberPipe: DecimalPipe,\r\n    private cdf: ChangeDetectorRef\r\n  ) {\r\n    this.staticForm = this.fb.group({\r\n      insuranceStartDate: [{ value: null, disabled: true }, Validators.compose([Validators.required])],\r\n      insuranceEndDate: [{ value: null, disabled: true }, Validators.compose([Validators.required])],\r\n      dateOfBirth: [{ value: null, disabled: true },],\r\n      basicCoverId: [{ value: 'Health Insurance', disabled: true }, Validators.compose([Validators.required])],\r\n      paymentFrequency: [{ value: null, disabled: true }, Validators.compose([Validators.required])],\r\n      sumInsuredMainCover: [{ value: null, disabled: true }, Validators.compose([Validators.required])],\r\n      medicalCardNo: [{ value: null, disabled: true }],\r\n    })\r\n    this.options3 = Array.from({ length: 10 }, (_, i) => i + 1)\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsub.forEach(x => x.unsubscribe())\r\n  }\r\n\r\n  async ngOnInit() {\r\n    this.unsub[0] = this.globalFun.currenyValueObs.subscribe((res) => {\r\n      if (this.currencyType != res) {\r\n        this.currencyType = res\r\n      }\r\n    })\r\n    this.refID = this.prodService.referenceID\r\n    if (!this.refID) {\r\n      this.alertService.activate(\"This page cann't to show because there is no health product detail quotation data.\", \"Warning\")\r\n    }\r\n    this.options = this.product.coverages\r\n    this.options2 = this.product.addOns\r\n    let toDate = moment().subtract(5, `days`)\r\n    this.fromMinDate = { year: parseInt(toDate.format('YYYY')), month: parseInt(toDate.format('M')), day: parseInt(toDate.format('D')) };\r\n    this.toMinDate = { year: parseInt(toDate.format('YYYY')), month: parseInt(toDate.format('M')), day: parseInt(toDate.format('D')) };\r\n    // let dobMaxDate = moment().subtract(6, `years`)\r\n    // this.dobMaxDate = { year: parseInt(dobMaxDate.format('YYYY')), month: parseInt(dobMaxDate.format('M')), day: parseInt(dobMaxDate.format('D')) };\r\n    // let dobMinDate = moment().subtract(75, `years`)\r\n    // this.dobMinDate = { year: parseInt(dobMinDate.format('YYYY')), month: parseInt(dobMinDate.format('M')), day: parseInt(dobMinDate.format('D')) };\r\n    this.parentData = this.getParent()\r\n    this.dob = this.parentData['date_of_birth']\r\n    this.currentAge = Math.ceil(moment().diff(this.dob, 'years', true));\r\n    this.getOldData()\r\n\r\n  }\r\n\r\n  getParent() {\r\n    if (IsJsonString(this.product.config)) {\r\n      let pageUI: ProductPages = JSON.parse(this.product.config);\r\n      // console.log(\"pageUI\",pageUI);\r\n      let pageOrder = this.prodService.type != 'quotation' ? pageUI.application || [] : pageUI.quotation || []\r\n\r\n      let parent = pageOrder.find(page => page.tableName == \"life_insured_health\")\r\n\r\n      if (parent) {\r\n        return this.globalFun.tempFormData[parent.tableName + parent.id] || null\r\n      }\r\n      return null\r\n    }\r\n    return null\r\n  }\r\n\r\n  get controls() {\r\n    return this.staticForm.controls\r\n  }\r\n\r\n  // helpers for View\r\n  isControlValid(controlName: string, group: FormGroup): boolean {\r\n    const control = group.controls[controlName];\r\n    return control.valid && (control.dirty || control.touched);\r\n  }\r\n\r\n  isControlInvalid(controlName: string, group: FormGroup): boolean {\r\n    const control = group.controls[controlName];\r\n    return control.invalid && (control.dirty || control.touched);\r\n  }\r\n\r\n  controlHasError(validation, controlName, group: FormGroup): boolean {\r\n    const control = group.controls[controlName];\r\n    return control.hasError(validation) && (control.dirty || control.touched);\r\n  }\r\n\r\n  isControlTouched(controlName, group: FormGroup): boolean {\r\n    const control = group.controls[controlName];\r\n    return control.dirty || control.touched;\r\n  }\r\n  nextPage() {\r\n    if (this.editId) {\r\n      this.saveData(this.editId)\r\n    } else {\r\n      this.saveData()\r\n    }\r\n    // this.actionEvent.emit({ type: StaticActionType.NEXT })\r\n  }\r\n\r\n  backPage() {\r\n    this.actionEvent.emit({ type: StaticActionType.PREV })\r\n  }\r\n\r\n  getOldData() {\r\n    // let dataget = false\r\n    if (this.refID) {\r\n      let resId = this.refID\r\n      if (!resId) return false\r\n      if (this.editData.id) {\r\n        console.log(this.editData);\r\n\r\n        let resId = this.resourcesId\r\n        this.healthService.getOne(resId).pipe(switchMap((res: any) => {\r\n          if (!res) {\r\n            return this.healthService.getOne(this.refID)\r\n          } else return of(res)\r\n        })).toPromise().then((res: any) => {\r\n          if (res) {\r\n            this.oldData = { ...res, id: null }\r\n            this.editId = res.resourceId == this.resourcesId ? res.id : null\r\n            this.getQuoData(res.resourceId != this.resourcesId)\r\n            this.getAddOn(true)\r\n            this.reloadOldValueForm()\r\n          }\r\n        })\r\n      } else {\r\n        this.healthService.getOne(resId).toPromise().then((res: any) => {\r\n          if (res) {\r\n            this.oldData = { ...res, id: null }\r\n            this.editId = resId == this.resourcesId ? res.id : null\r\n            this.getQuoData(true)\r\n            this.getAddOn(true)\r\n            this.reloadOldValueForm()\r\n          }\r\n        })\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  saveData(id?) {\r\n    const formValue = this.staticForm.getRawValue()\r\n    let coverd = this.product.coverages.find(x => x.code == formValue.basicCoverId)\r\n    if (!coverd) {\r\n      this.alertService.activate(\"This page cann't to save because there is not match coverage in product detail. Please configuration the product detail\", \"Warning\")\r\n      return false\r\n    }\r\n    let tempPre = this.globalFun.calculateDecimal(this.totalP / 12) + this.totalL\r\n    this.premiumAmt = this.numberPipe.transform(tempPre) + \" MMK / month\"\r\n    this.globalFun.paPremiumResult.next(this.premiumAmt)\r\n    let postData = {\r\n      basicCoverId: formValue.basicCoverId,\r\n      id: id || null,\r\n      insuranceEndDate: formValue.insuranceEndDate,\r\n      insuranceStartDate: formValue.insuranceStartDate,\r\n      medicalCardNo: formValue.medicalCardNo,\r\n      paymentFrequency: formValue.paymentFrequency,\r\n      dateOfBirth: this.dob,\r\n      resourceData: {\r\n        agentId: this.auth.currentUserValue.id || 1,\r\n        customerId: this.prodService.creatingCustomer.customerId || 1,\r\n        policyNumber: null,\r\n        premium: (Number(this.premiumAmt.split(\" \")[0].split(',').join(\"\")) || 0) + \"\",\r\n        premiumView: this.premiumAmt,\r\n        productId: this.prodService.createingProd.id,\r\n        quotationId: this.prodService.referenceID,\r\n        leadId: this.prodService.creatingLeadId || null,\r\n        // status: ,\r\n        currency: this.currencyType,\r\n        type: this.prodService.type\r\n      },\r\n      resourceId: this.resourcesId,\r\n      sumInsuredMainCover: formValue.sumInsuredMainCover,\r\n    }\r\n    // console.log(postData);\r\n    if (!id) {\r\n      this.healthService.save(postData).toPromise().then((res: any) => {\r\n        if (res) {\r\n          this.editId = res.id\r\n          this.resourcesId = res.resourceId\r\n          this.saveCoverAddon()\r\n          // this.globalFun.tempFormData[HealthpageID] = \r\n          this.saveSchdule().toPromise().then(res => { }).catch(e => e)\r\n          this.globalFun.tempFormData[HealthPageID] = { id: res.id, ...postData, addOns: this.addOns }\r\n          this.actionEvent.emit({ type: StaticActionType.NEXT, data: { res } })\r\n        }\r\n      }).catch((e) => e)\r\n    } else {\r\n      this.healthService.updateNoID(postData).toPromise().then((res: any) => {\r\n        if (res) {\r\n          // this.globalFun.tempFormData[HealthPageID] = { id: res.id, ...postData }\r\n\r\n          this.editId = res.id\r\n          this.saveCoverAddon()\r\n          this.globalFun.tempFormData[HealthPageID] = { id: res.id, ...postData, addOns: this.addOns }\r\n          //.toPromise().then((result) => result)\r\n          this.actionEvent.emit({ type: StaticActionType.NEXT, data: { ...res } })\r\n        }\r\n      }).catch((e) => e)\r\n    }\r\n\r\n  }\r\n\r\n  getQuoData(isRef: boolean = false) {\r\n    let callId = isRef ? this.refID : this.resourcesId\r\n    this.healthPayService.getMany(callId).toPromise().then((res: any) => {\r\n      if (res) {\r\n        this.optionArray = res\r\n        this.totalResult = {\r\n          unit: 0,\r\n          premium: 0,\r\n        }\r\n\r\n        this.totalP = 0\r\n        this.totalL = 0\r\n        this.optionArray.forEach(x => {\r\n          this.totalP += x.premium\r\n          this.totalL += x.levy\r\n          this.totalResult.unit += x.sumInsured\r\n          this.totalResult.premium += x.premium\r\n        })\r\n        console.log(this.totalResult, \"Total\");\r\n        this.optionArray = this.optionArray.sort((a, b) => (a.coverage > b.coverage ? 1 : -1))\r\n        this.tempArray = this.optionArray.filter((thing, index, self) =>\r\n          index === self.findIndex((t) => (\r\n            t.coverage === thing.coverage\r\n          ))\r\n        )\r\n        this.cdf.detectChanges()\r\n      }\r\n    })\r\n  }\r\n\r\n  reloadOldValueForm() {\r\n    this.staticForm.patchValue({\r\n      insuranceStartDate: this.oldData.insuranceStartDate,\r\n      insuranceEndDate: this.oldData.insuranceEndDate,\r\n      dateOfBirth: this.oldData.dateOfBirth,\r\n      basicCoverId: this.oldData.basicCoverId,\r\n      paymentFrequency: this.oldData.paymentFrequency,\r\n      sumInsuredMainCover: this.oldData.sumInsuredMainCover,\r\n      medicalCardNo: this.oldData.medicalCardNo,\r\n    })\r\n  }\r\n\r\n  saveCoverage(): Observable<any> {\r\n    let basicCoverId = this.staticForm.controls.basicCoverId.value\r\n    let value = this.staticForm.controls.sumInsuredMainCover.value\r\n    let coverd = this.product.coverages.find(x => x.code == basicCoverId)\r\n    if (coverd) {\r\n      let postData = {\r\n        coverageId: coverd.id,\r\n        quotationNo: this.resourcesId,\r\n        optionalKey: this.resourcesId,\r\n        sumInsured: value,\r\n        unit: null,\r\n        premium: null,\r\n      }\r\n      return this.coverageQuoService.deleteAll(this.resourcesId, this.resourcesId).pipe(switchMap((x: any) => {\r\n        // console.log(x, \"cov\");\r\n        return this.coverageQuoService.save(postData)\r\n      }))\r\n      // .toPromise().then(res => {\r\n      //   if (res) {\r\n\r\n      //   }\r\n      // })\r\n    }\r\n    return of([])\r\n  }\r\n\r\n  async getAddOn(dataget: boolean = false) {\r\n    if (this.resourcesId || this.refID) {\r\n      let callAgain = true\r\n      let resId = dataget ? this.refID : (this.resourcesId || this.refID)\r\n      if (!resId) return false\r\n      for (const item of this.product.addOns) {\r\n        let response: any = {};\r\n        try {\r\n          response = await this.addOnQuoService.getOne(item.id, resId, resId).toPromise()\r\n        } catch (error) {\r\n        }\r\n        if (response) {\r\n          callAgain = false\r\n          this.addOns[item.id + 'opt'] = response.sumInsured ? true : false\r\n          this.addOns[item.id + 'value'] = response.sumInsured\r\n        } else {\r\n          this.addOns[item.id + 'opt'] = false\r\n          this.addOns[item.id + 'value'] = null\r\n        }\r\n\r\n      }\r\n      // if (callAgain && resId != this.refID && !dataget) {\r\n      //   this.getAddOn(true)\r\n      // } else {\r\n      // this.cdf.detectChanges()\r\n      // }\r\n    }\r\n  }\r\n\r\n  async saveCoverAddon() {\r\n    await this.saveCoverage().toPromise()\r\n    await this.saveAddOn().toPromise()\r\n    // return forkJoin(this.saveCoverage(), this.saveAddOn())\r\n  }\r\n\r\n  saveSchdule() {\r\n    return forkJoin(this.optionArray.map((x) => {\r\n      let postData = {\r\n        \"paymentTerm\": x.paymentTerm,\r\n        \"plan\": x.plan,\r\n        \"premium\": x.premium,\r\n        \"levy\": x.levy,\r\n        \"coverage\": x.coverage,\r\n        \"sumInsured\": x.sumInsured,\r\n        \"resourceId\": this.resourcesId,\r\n        \"total\": x.total,\r\n        \"resourceData\": {\r\n          \"agentId\": this.auth.currentUserValue.id || 1,\r\n          \"customerId\": this.prodService.creatingCustomer.customerId || 1,\r\n          \"policyNumber\": null,\r\n          \"premium\": (Number(this.premiumAmt.split(\" \")[0].split(',').join(\"\")) || 0) + \"\",\r\n          \"premiumView\": this.premiumAmt,\r\n          \"productId\": this.product.id,\r\n          \"quotationId\": this.prodService.referenceID,\r\n          \"type\": this.prodService.type,\r\n          leadId: this.prodService.creatingLeadId,\r\n          currency: this.currencyType,\r\n        },\r\n      }\r\n      return this.healthPayService.save(postData)\r\n    }))\r\n  }\r\n\r\n  saveAddOn() {\r\n\r\n    return this.addOnQuoService.deleteAll(this.resourcesId, this.resourcesId).pipe(mergeMap((x: any) => {\r\n      // return this.coverageQuoService.save(postData)\r\n      return forkJoin(this.options2.map(option => {\r\n        if (this.addOns[option.id + 'opt']) {\r\n          let postData = {\r\n            addonId: option.id,\r\n            optionalKey: this.resourcesId,\r\n            quotationNo: this.resourcesId,\r\n            sumInsured: this.addOns[option.id + 'value'],\r\n            unit: null,\r\n            premium: null,\r\n          }\r\n          return this.addOnQuoService.save(postData)\r\n        } else {\r\n          return of(null)\r\n        }\r\n      }))\r\n    }))\r\n  }\r\n\r\n}","import { ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { NgbDateAdapter, NgbDateParserFormatter } from '@ng-bootstrap/ng-bootstrap';\r\nimport * as moment from 'moment';\r\nimport { mergeMap, switchMap } from 'rxjs/operators';\r\nimport { GlobalFunctionService } from '../../../core/global-fun.service';\r\nimport { validateAllFields } from '../../../core/valid-all-feild';\r\nimport { AuthService } from '../../../modules/auth';\r\nimport { CustomAdapter, CustomDateParserFormatter } from '../../../_metronic/core';\r\nimport { PolicyDTO } from '../../policy/policy.dto';\r\nimport { Product, ProductPages } from '../../products/models/product.dto';\r\nimport { AddOnQuoService } from '../../products/services/add-on-quo.service';\r\nimport { ProductDataService } from '../../products/services/products-data.service';\r\nimport { QuotationDTO } from '../../quotations/quotation.dto';\r\nimport { StaticActionType, StaticPageAction } from '../static-field.interface';\r\nimport { HealthProductService } from './models&services/health-product.service';\r\nimport { CoverageQuoService } from '../../products/services/coverage-quo.service';\r\nimport { forkJoin, Observable, of, Subscription } from 'rxjs';\r\nimport { HealthPageID } from '../static-pages.data';\r\nimport { AlertService } from '../../../modules/loading-toast/alert-model/alert.service';\r\nimport { DateAdapter, MAT_DATE_FORMATS, MAT_DATE_LOCALE } from '@angular/material/core';\r\nimport { MAT_MOMENT_DATE_FORMATS, MomentDateAdapter } from '@angular/material-moment-adapter';\r\nimport { MatRadioChange } from '@angular/material/radio';\r\nimport { IsJsonString, MY_FORMATS } from '../../../core/is-json';\r\n@Component({\r\n  selector: 'app-simple-page',\r\n  templateUrl: './simple-page.component.html',\r\n  styleUrls: ['./simple-page.component.scss'],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: CustomAdapter },\r\n    { provide: NgbDateParserFormatter, useClass: CustomDateParserFormatter },\r\n    { provide: DateAdapter, useClass: MomentDateAdapter, deps: [MAT_DATE_LOCALE] },\r\n    { provide: MAT_DATE_FORMATS, useValue: MY_FORMATS },\r\n  ]\r\n})\r\nexport class SimplePageComponent implements OnInit, OnDestroy {\r\n\r\n  @Input() product: Product\r\n  @Input() editData: QuotationDTO | PolicyDTO\r\n  @Input() resourcesId?: string\r\n  @Input() premiumAmt: string\r\n  @Output() actionEvent = new EventEmitter<StaticPageAction>();\r\n  staticForm: FormGroup\r\n  toMinDate = null\r\n  fromMinDate = null\r\n  toMaxDate = null\r\n  fromMaxDate = null\r\n  dobMinDate = null\r\n  dobMaxDate = null\r\n  options: any[] = []\r\n  options2: any[] = []\r\n  addOns: any = {}\r\n  options3: any[] = []\r\n  oldData: any\r\n  options4: any[] = []\r\n  private editId: number\r\n  refID: string\r\n  parentData: any\r\n  currentAge = 0\r\n  dob: string = \"\"\r\n  currencyType: string = \"MMK\"\r\n  unsub: Subscription[] = []\r\n  private addValid: boolean = false\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private prodService: ProductDataService,\r\n    private auth: AuthService,\r\n    private healthService: HealthProductService,\r\n    private globalFun: GlobalFunctionService,\r\n    private addOnQuoService: AddOnQuoService,\r\n    private coverageQuoService: CoverageQuoService,\r\n    private alertService: AlertService,\r\n    private cdf: ChangeDetectorRef\r\n  ) {\r\n    this.staticForm = this.fb.group({\r\n      insuranceStartDate: [null, Validators.compose([Validators.required])],\r\n      insuranceEndDate: [null, Validators.compose([Validators.required])],\r\n      dateOfBirth: [null],\r\n      basicCoverId: ['HEALTH', Validators.compose([Validators.required])],\r\n      paymentFrequency: [null, Validators.compose([Validators.required])],\r\n      sumInsuredMainCover: [null, Validators.compose([Validators.required])],\r\n      medicalCardNo: [null],\r\n    })\r\n    this.options3 = Array.from({ length: 10 }, (_, i) => i + 1)\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsub.forEach(x => x.unsubscribe())\r\n  }\r\n\r\n  async ngOnInit() {\r\n    this.unsub[0] = this.globalFun.currenyValueObs.subscribe((res) => {\r\n      if (this.currencyType != res) {\r\n        this.currencyType = res\r\n      }\r\n    })\r\n    this.options = this.product.coverages\r\n    this.options2 = this.product.addOns\r\n    this.refID = this.prodService.referenceID\r\n    let toDate = moment().subtract(5, `days`)\r\n    this.fromMinDate = toDate.format('YYYY-MM-DD')\r\n    // this.fromMinDate = { year: parseInt(toDate.format('YYYY')), month: parseInt(toDate.format('M')), day: parseInt(toDate.format('D')) };\r\n    this.toMinDate = toDate.format('YYYY-MM-DD')\r\n    // this.toMinDate = { year: parseInt(toDate.format('YYYY')), month: parseInt(toDate.format('M')), day: parseInt(toDate.format('D')) };\r\n    // let dobMaxDate = moment().subtract(6, `years`)\r\n    // this.dobMaxDate = dobMaxDate.format('YYYY-MM-DD')\r\n    // this.dobMaxDate = { year: parseInt(dobMaxDate.format('YYYY')), month: parseInt(dobMaxDate.format('M')), day: parseInt(dobMaxDate.format('D')) };\r\n    // let dobMinDate = moment().subtract(75, `years`)\r\n    // this.dobMinDate = dobMinDate.format('YYYY-MM-DD')\r\n    // this.dobMinDate = { year: parseInt(dobMinDate.format('YYYY')), month: parseInt(dobMinDate.format('M')), day: parseInt(dobMinDate.format('D')) };\r\n    // if (this.prodService.editData || this.refID)\r\n\r\n    this.parentData = this.getParent()\r\n\r\n    if (!this.parentData) {\r\n      this.alertService.activate(\"This page cann't to save because there is no parent Data. Please configuration the product detail\", \"Warning\")\r\n    } else {\r\n      this.dob = this.parentData['date_of_birth']\r\n      this.currentAge = Math.ceil(moment().diff(this.dob, 'years', true));\r\n    }\r\n    this.getOldData()\r\n    // this.getAddOn()\r\n    // for (const item of this.product.addOns) {\r\n    //   let response: any = null;\r\n    //   try {\r\n    //     if (this.editData) {\r\n    //       response = await this.addOnQuoService.getOne(item.id, this.editData.id).toPromise()\r\n    //     }\r\n    //   } catch (error) {\r\n    //     response = null\r\n    //   }\r\n    //   this.addOns[item.id + 'opt'] = response ? response.sumInsured || 0 : 0\r\n    // }\r\n  }\r\n  radioChange(event) {\r\n    if (this.staticForm.value.basicCoverId == \"CRTILLNESS\") {\r\n      if (this.currentAge > 50 && this.staticForm.value.sumInsuredMainCover > 4) {\r\n        this.alertService.activate(\"Medical check up is required\", \"Warning\")\r\n      }\r\n      if (this.addValid) {\r\n        this.addValid = false\r\n        this.staticForm.get('medicalCardNo').setValidators([Validators.required]);\r\n        this.staticForm.get('medicalCardNo').updateValueAndValidity();\r\n      }\r\n    } else {\r\n      this.staticForm.get('medicalCardNo').clearValidators();\r\n      this.staticForm.get('medicalCardNo').updateValueAndValidity();\r\n      if (this.currentAge < 50 && this.staticForm.value.sumInsuredMainCover > 4) {\r\n        this.addValid = true\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  getParent() {\r\n    if (IsJsonString(this.product.config)) {\r\n      let pageUI: ProductPages = JSON.parse(this.product.config);\r\n      // console.log(\"pageUI\",pageUI);\r\n      let pageOrder = this.prodService.type != 'quotation' ? pageUI.application || [] : pageUI.quotation || []\r\n      // console.log(pageOrder);\r\n\r\n      let parent = pageOrder.find(page => page.tableName == \"life_insured_health\")\r\n      console.log(this.globalFun.tempFormData, parent);\r\n\r\n      if (parent) {\r\n        return this.globalFun.tempFormData[parent.tableName + parent.id] || null\r\n      }\r\n      return null\r\n    }\r\n    return null\r\n  }\r\n  // radioChange($event: MatRadioChange) {\r\n\r\n  //   if ($event.value === 'Health Insurance') {\r\n  //     let dobMaxDate = moment().subtract(6, `years`)\r\n  //     this.dobMaxDate = dobMaxDate.format('YYYY-MM-DD')\r\n  //     let dobMinDate = moment().subtract(75, `years`)\r\n  //     this.dobMinDate = dobMinDate.format('YYYY-MM-DD')\r\n  //   } else {\r\n  //     let dobMaxDate = moment().subtract(6, `years`)\r\n  //     this.dobMaxDate = dobMaxDate.format('YYYY-MM-DD')\r\n  //     let dobMinDate = moment().subtract(60, `years`)\r\n  //     this.dobMinDate = dobMinDate.format('YYYY-MM-DD')\r\n  //   }\r\n  //   this.cdf.detectChanges()\r\n  // }\r\n\r\n  doValid() {\r\n    let value = this.staticForm.controls['insuranceStartDate'].value\r\n    if (value) {\r\n      let toDate = moment(this.staticForm.controls['insuranceStartDate'].value).add(1, 'years').subtract(1, \"days\")\r\n      // this.toMaxDate = { year: parseInt(toDate.format('YYYY')), month: parseInt(toDate.format('M')), day: parseInt(toDate.format('D')) };\r\n      this.toMaxDate = toDate.format('YYYY-MM-DD')\r\n      this.staticForm.controls['insuranceEndDate'].setValue(toDate.format('YYYY-MM-DD'))\r\n    }\r\n  }\r\n\r\n  getUnitOption() {\r\n    let leng = this.controls.sumInsuredMainCover.value\r\n    if (this.staticForm.value.basicCoverId == \"CRTILLNESS\") {\r\n      if (this.currentAge > 50 && this.staticForm.value.sumInsuredMainCover > 4) {\r\n        this.alertService.activate(\"Medical check up is required\", \"Warning\")\r\n      }\r\n    }\r\n    if (leng != this.options4.length) {\r\n      this.options4 = Array.from({ length: leng }, (_, i) => i + 1)\r\n      for (let addon of this.options2) {\r\n        this.addOns[addon.id + 'value'] = leng\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  get controls() {\r\n    return this.staticForm.controls\r\n  }\r\n\r\n  // helpers for View\r\n  isControlValid(controlName: string, group: FormGroup): boolean {\r\n    const control = group.controls[controlName];\r\n    return control.valid && (control.dirty || control.touched);\r\n  }\r\n\r\n  isControlInvalid(controlName: string, group: FormGroup): boolean {\r\n    const control = group.controls[controlName];\r\n    return control.invalid && (control.dirty || control.touched);\r\n  }\r\n\r\n  controlHasError(validation, controlName, group: FormGroup): boolean {\r\n    const control = group.controls[controlName];\r\n    return control.hasError(validation) && (control.dirty || control.touched);\r\n  }\r\n\r\n  isControlTouched(controlName, group: FormGroup): boolean {\r\n    const control = group.controls[controlName];\r\n    return control.dirty || control.touched;\r\n  }\r\n  nextPage() {\r\n    if (this.staticForm.invalid) {\r\n      validateAllFields(this.staticForm)\r\n      return true\r\n    } else {\r\n      if (this.editId) {\r\n        this.saveData(this.editId)\r\n      } else {\r\n        this.saveData()\r\n      }\r\n    }\r\n  }\r\n\r\n  backPage() {\r\n    this.actionEvent.emit({ type: StaticActionType.PREV })\r\n  }\r\n\r\n  saveData(id?) {\r\n    if (this.staticForm.invalid) return false\r\n    const formValue = this.staticForm.value\r\n    let coverd = this.product.coverages.find(x => x.code == formValue.basicCoverId)\r\n    if (!coverd) {\r\n      this.alertService.activate(\"This page cann't to save because there is not match coverage in product detail. Please configuration the product detail\", \"Warning\")\r\n      return false\r\n    }\r\n    let postData = {\r\n      basicCoverId: formValue.basicCoverId,\r\n      id: id || null,\r\n      insuranceEndDate: formValue.insuranceEndDate,\r\n      insuranceStartDate: formValue.insuranceStartDate,\r\n      medicalCardNo: formValue.medicalCardNo,\r\n      paymentFrequency: formValue.paymentFrequency,\r\n      dateOfBirth: this.dob,\r\n      resourceData: {\r\n        agentId: this.auth.currentUserValue.id || 1,\r\n        customerId: this.prodService.creatingCustomer.customerId || 1,\r\n        policyNumber: null,\r\n        premium: (Number(this.premiumAmt.split(\" \")[0].split(',').join(\"\")) || 0) + \"\",\r\n        premiumView: this.premiumAmt,\r\n        productId: this.prodService.createingProd.id,\r\n        quotationId: this.prodService.referenceID,\r\n        leadId: this.prodService.creatingLeadId || null,\r\n        currency: this.currencyType,\r\n        type: this.prodService.type\r\n      },\r\n      resourceId: this.resourcesId,\r\n      sumInsuredMainCover: formValue.sumInsuredMainCover,\r\n    }\r\n    // console.log(postData);\r\n    if (!id) {\r\n      this.healthService.save(postData).toPromise().then((res: any) => {\r\n        if (res) {\r\n          this.editId = res.id\r\n          this.resourcesId = res.resourceId\r\n          this.saveCoverAddon()\r\n          // console.log(postData);\r\n\r\n          this.globalFun.tempFormData[HealthPageID] = { id: res.id, ...postData, addOns: this.addOns }\r\n          this.actionEvent.emit({ type: StaticActionType.NEXT, data: { ...res } })\r\n        }\r\n      }).catch((e) => e)\r\n    } else {\r\n      this.healthService.updateNoID(postData).toPromise().then((res: any) => {\r\n        if (res) {\r\n          this.editId = res.id\r\n          this.saveCoverAddon()\r\n          this.globalFun.tempFormData[HealthPageID] = { id: res.id, ...postData, addOns: this.addOns }\r\n          this.actionEvent.emit({ type: StaticActionType.NEXT, data: { ...res } })\r\n        }\r\n      }).catch((e) => e)\r\n    }\r\n\r\n  }\r\n\r\n  async saveCoverAddon() {\r\n    await this.saveCoverage().toPromise()\r\n    await this.saveAddOn().toPromise()\r\n    // return forkJoin(this.saveCoverage(), this.saveAddOn())\r\n  }\r\n  // .pipe(mergeMap(resources => {\r\n  //   return resources\r\n  // }))\r\n  getOldData(dataget: boolean = false) {\r\n    // let dataget = false\r\n    if (this.resourcesId || this.refID) {\r\n      let resId = dataget ? this.refID : (this.resourcesId || this.refID)\r\n      if (!resId) return false\r\n      this.healthService.getOne(resId).toPromise().then((res: any) => {\r\n        // dataget = true\r\n        if (res) {\r\n          this.oldData = { ...res, id: null }\r\n          this.editId = resId == this.resourcesId ? res.id : null\r\n          this.getAddOn()\r\n          this.reloadOldValueForm()\r\n        } else {\r\n          if (!dataget && resId != this.refID) {\r\n            this.getAddOn(true)\r\n            this.getOldData(true)\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  reloadOldValueForm() {\r\n    this.staticForm.patchValue({\r\n      insuranceStartDate: moment(this.oldData.insuranceStartDate),\r\n      insuranceEndDate: moment(this.oldData.insuranceEndDate),\r\n      dateOfBirth: moment(this.oldData.dateOfBirth),\r\n      basicCoverId: this.oldData.basicCoverId,\r\n      paymentFrequency: this.oldData.paymentFrequency,\r\n      sumInsuredMainCover: this.oldData.sumInsuredMainCover,\r\n      medicalCardNo: this.oldData.medicalCardNo,\r\n    })\r\n    this.getUnitOption()\r\n  }\r\n\r\n  saveCoverage(): Observable<any> {\r\n    let basicCoverId = this.staticForm.controls.basicCoverId.value\r\n    let value = this.staticForm.controls.sumInsuredMainCover.value\r\n    let coverd = this.product.coverages.find(x => x.code == basicCoverId)\r\n    if (coverd) {\r\n      let postData = {\r\n        coverageId: coverd.id,\r\n        quotationNo: this.resourcesId,\r\n        optionalKey: this.resourcesId,\r\n        sumInsured: value,\r\n        unit: null,\r\n        premium: null,\r\n      }\r\n      return this.coverageQuoService.deleteAll(this.resourcesId, this.resourcesId).pipe(switchMap((x: any) => {\r\n        // console.log(x, \"cov\");\r\n        return this.coverageQuoService.save(postData)\r\n      }))\r\n      // .toPromise().then(res => {\r\n      //   if (res) {\r\n\r\n      //   }\r\n      // })\r\n    }\r\n    return of([])\r\n  }\r\n\r\n  async getAddOn(dataget: boolean = false) {\r\n    if (this.resourcesId || this.refID) {\r\n      let callAgain = true\r\n      let resId = dataget ? this.refID : (this.resourcesId || this.refID)\r\n      if (!resId) return false\r\n      for (const item of this.product.addOns) {\r\n        let response: any = {};\r\n        try {\r\n          response = await this.addOnQuoService.getOne(item.id, resId, resId).toPromise()\r\n        } catch (error) {\r\n        }\r\n        if (response) {\r\n          callAgain = false\r\n          this.addOns[item.id + 'opt'] = response.sumInsured ? true : false\r\n          this.addOns[item.id + 'value'] = response.sumInsured\r\n        } else {\r\n          this.addOns[item.id + 'opt'] = false\r\n          this.addOns[item.id + 'value'] = null\r\n        }\r\n\r\n      }\r\n      // if (callAgain && resId != this.refID && !dataget) {\r\n      //   this.getAddOn(true)\r\n      // } else {\r\n      this.cdf.detectChanges()\r\n      // }\r\n    }\r\n  }\r\n\r\n\r\n  saveAddOn() {\r\n    const formValue = this.staticForm.value\r\n    return this.addOnQuoService.deleteAll(this.resourcesId, this.resourcesId).pipe(mergeMap((x: any) => {\r\n      // return this.coverageQuoService.save(postData)\r\n      return forkJoin(this.options2.map(option => {\r\n        if (formValue.basicCoverId == \"HEALTH\") {\r\n          if (this.addOns[option.id + 'opt']) {\r\n            let postData = {\r\n              addonId: option.id,\r\n              quotationNo: this.resourcesId,\r\n              optionalKey: this.resourcesId,\r\n              sumInsured: this.addOns[option.id + 'value'],\r\n              unit: null,\r\n              premium: null,\r\n            }\r\n            return this.addOnQuoService.save(postData)\r\n          } else {\r\n            this.addOns[option.id + 'opt'] = false\r\n            this.addOns[option.id + 'value'] = 0\r\n            return of(null)\r\n          }\r\n        } else {\r\n          return of(null)\r\n        }\r\n      }))\r\n    }))\r\n  }\r\n}","import { EventEmitter } from \"@angular/core\";\r\nimport { PolicyDTO } from \"../policy/policy.dto\";\r\nimport { PageUI, Product } from \"../products/models/product.dto\";\r\nimport { QuotationDTO } from \"../quotations/quotation.dto\";\r\n\r\nexport interface StaticField {\r\n  product?: Product\r\n  editData?: PolicyDTO | QuotationDTO,\r\n  resourcesId?: string\r\n  referenceID?: string\r\n  premiumAmt?: string\r\n  actionEvent?: EventEmitter<StaticPageAction>\r\n  travelForm?: PageUI[]\r\n}\r\n\r\nexport interface StaticPageAction {\r\n  type?: StaticActionType,\r\n  data?: any\r\n}\r\n\r\nexport enum StaticActionType {\r\n  NEXT = 'next',\r\n  PREV = 'prev'\r\n}","import { ChangeDetectorRef, ComponentFactoryResolver, ComponentRef, Directive, EventEmitter, Input, OnInit, Output, Renderer2, ViewContainerRef } from \"@angular/core\";\r\nimport { PolicyDTO } from \"../policy/policy.dto\";\r\nimport { PageUI, Product } from \"../products/models/product.dto\";\r\nimport { QuotationDTO } from \"../quotations/quotation.dto\";\r\nimport { AddonPageComponent } from \"./addon-page/addon-page.component\";\r\nimport { CoveragePageComponent } from \"./coverage-page/coverage-page.component\";\r\nimport { EducationLifeComponent } from \"./education-life/education-life.component\";\r\nimport { EndoGripComponent } from \"./endo-griph/endo-griph.component\";\r\nimport { EndoComponent } from \"./endo/endo.component\";\r\nimport { FireRiskComponent } from \"./fire-risk/fire-risk.component\";\r\nimport { FirePageComponent } from \"./fire-simple-page/fire-simple-page.component\";\r\nimport { HealthQuoComponent } from \"./health-quo/health-quo.component\";\r\nimport { MotorAddonComponent } from \"./motor-addon/motor-addon.component\";\r\nimport { SimplePagePolicyComponent } from \"./simple-page-policy/simple-page-policy.component\";\r\nimport { SimplePageComponent } from \"./simple-page/simple-page.component\";\r\nimport { StaticField, StaticPageAction } from \"./static-field.interface\";\r\nimport { TravelComponent } from \"./travel-page/travel-page.component\";\r\n// import { STATIC_COMPONENT } from \"./static-pages.data\";\r\nconst STATIC_COMPONENT = {\r\n  'addon_1634010770155': AddonPageComponent,\r\n  'coverage_1634010995936': CoveragePageComponent,\r\n  'static_1634018514043': SimplePageComponent,\r\n  'static_1635218894755': HealthQuoComponent,\r\n  'static_1635309151504': EducationLifeComponent,\r\n  // 'static_1635392848894' : EducationLifeGripComponent,\r\n  'static_1635747288508': SimplePagePolicyComponent,\r\n  'static_1641364737069': FirePageComponent,\r\n  'static_1643116155828': FireRiskComponent,\r\n  'static_1644896661652': EndoComponent,\r\n  'static_1644896804675': EndoGripComponent,\r\n  'static_1648784270356': TravelComponent,\r\n  'static_1648784270432': MotorAddonComponent\r\n}\r\n@Directive({\r\n  selector: '[staticPage]'\r\n})\r\nexport class StaticPageDirective implements StaticField, OnInit {\r\n\r\n  @Input() compId: string\r\n  @Input() product: Product\r\n  @Input() resourcesId: string\r\n  @Input() referenceID: string\r\n  @Input() premiumAmt?: string\r\n  @Input() editData: QuotationDTO | PolicyDTO\r\n  @Input() travelForm: PageUI[] = []\r\n  @Output() eventOut = new EventEmitter<StaticPageAction>();\r\n\r\n  component: ComponentRef<StaticField>;\r\n  constructor(\r\n    private resolver: ComponentFactoryResolver,\r\n    private container: ViewContainerRef,\r\n  ) { }\r\n  ngOnInit() {\r\n    this.reCreate()\r\n\r\n  }\r\n\r\n  reCreate() {\r\n    this.container.clear()\r\n    const component = this.resolver.resolveComponentFactory<StaticField>(STATIC_COMPONENT[this.compId]);\r\n    this.component = this.container.createComponent(component);\r\n    this.component.instance.product = this.product\r\n    this.component.instance.editData = this.editData\r\n    this.component.instance.resourcesId = this.resourcesId\r\n    this.component.instance.referenceID = this.referenceID\r\n    this.component.instance.premiumAmt = this.premiumAmt\r\n    this.component.instance.travelForm = this.travelForm\r\n\r\n    this.component.instance.actionEvent.subscribe((res) => {\r\n      this.eventOut.emit(res)\r\n    })\r\n    // console.log(this.resourcesId);\r\n  }\r\n\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgbDatepickerModule, NgbModalModule, NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { CoveragePageComponent } from './coverage-page/coverage-page.component';\r\nimport { AddonPageComponent } from './addon-page/addon-page.component';\r\nimport { SimplePageComponent } from './simple-page/simple-page.component';\r\nimport { StaticPageDirective } from './static-pages.directive';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { CRUDTableModule } from '../../_metronic/shared/crud-table';\r\nimport { HealthQuoComponent } from './health-quo/health-quo.component';\r\nimport { EducationLifeComponent } from './education-life/education-life.component';\r\nimport { EducationLifeGripComponent } from './education-life-griph/education-life-griph.component';\r\nimport { NgApexchartsModule } from 'ng-apexcharts';\r\nimport { SimplePagePolicyComponent } from './simple-page-policy/simple-page-policy.component';\r\nimport { MatNativeDateModule } from '@angular/material/core';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { SurroundingBuildingComponent } from './surrounding-building/surrounding-building.component';\r\nimport { SurroundingDetailComponent } from './surrounding-building/surrounding-detail/surrounding-detail.component';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { CalculatedBuildingComponent } from './calculated-building/calculated-building.component';\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\r\nimport { TablesComponent } from './tables/tables.component';\r\nimport { AddCalculatedBuildingComponent } from './calculated-building/add-calculated-building/add-calculated-building.component';\r\nimport { FirePageComponent } from './fire-simple-page/fire-simple-page.component';\r\nimport { FireRiskComponent } from './fire-risk/fire-risk.component';\r\nimport { RiskDetailComponent } from './fire-risk/risk-detail/risk-detail.component';\r\nimport { NgxCurrencyModule } from 'ngx-currency';\r\nimport { EndoGripComponent } from './endo-griph/endo-griph.component';\r\nimport { EndoComponent } from './endo/endo.component';\r\nimport { MotorAddonComponent } from './motor-addon/motor-addon.component';\r\nimport { TravelComponent } from './travel-page/travel-page.component';\r\nimport { TravelRiskDetailComponent } from './travel-page/travel-risk-detail/travel-risk-detail.component';\r\nimport { InlineSVGModule } from 'ng-inline-svg';\r\nimport { FormComponentModule } from '../form-component/form-component.module';\r\n// import { ChildComponent } from './common-list/child.component';\r\n// //listings\r\n// import {ListingsPagerComponent} from './pager/pager.component';\r\n// import { CommonListingComponent,ListingPipe} from './common-list/common-list.component';\r\n// import {ListingsLeadListComponent } from './listings/lead/listings-lead-list.component';\r\nimport {MatMenuModule} from '@angular/material/menu';\r\nimport { LanguageModule } from 'src/app/modules/languages/languages.modules';\r\n\r\n@NgModule({\r\n  declarations: [CoveragePageComponent, AddonPageComponent, SimplePageComponent, StaticPageDirective, HealthQuoComponent, EducationLifeComponent, EducationLifeGripComponent, SimplePagePolicyComponent, FirePageComponent, FireRiskComponent, SurroundingBuildingComponent, SurroundingDetailComponent, CalculatedBuildingComponent, TablesComponent, AddCalculatedBuildingComponent,RiskDetailComponent,EndoComponent,EndoGripComponent,MotorAddonComponent,TravelComponent,TravelRiskDetailComponent],\r\n  exports: [CoveragePageComponent, AddonPageComponent, SimplePageComponent, StaticPageDirective, HealthQuoComponent, EducationLifeComponent, EducationLifeGripComponent, SimplePagePolicyComponent, SurroundingBuildingComponent, FirePageComponent, FireRiskComponent, SurroundingDetailComponent, CalculatedBuildingComponent,RiskDetailComponent,EndoComponent,EndoGripComponent,MotorAddonComponent,TravelComponent,TravelRiskDetailComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    CRUDTableModule,\r\n    ReactiveFormsModule,\r\n    NgbModalModule,\r\n    MatRadioModule,\r\n    NgbDatepickerModule,\r\n    NgSelectModule,\r\n    MatSlideToggleModule,\r\n    NgApexchartsModule,\r\n    InlineSVGModule,\r\n    MatDatepickerModule,\r\n    MatNativeDateModule,\r\n    MatInputModule,\r\n    MatFormFieldModule,\r\n    NgxCurrencyModule,\r\n    FormComponentModule,\r\n    MatMenuModule,\r\n    LanguageModule\r\n  ]\r\n})\r\nexport class StaticPagesModule { }\r\n","import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { environment } from \"../../../../../environments/environment\";\r\nimport { BizOperationService } from \"../../../../core/biz.operation.service\";\r\nimport { PremiumRate } from \"./premium-rate-dto\";\r\n\r\nconst API_FIRE_PREMIUM_RATE = `${environment.apiUrl}/fire/premium-rate`;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PremiumRateService extends BizOperationService<PremiumRate, number>{\r\n  constructor(protected httpClient: HttpClient) {\r\n    super(httpClient, API_FIRE_PREMIUM_RATE);\r\n  }\r\n  \r\n\r\n  getPremiumRate(buildingClass: string, occupationOfBuilding: string,typeOfBuilding:string) {\r\n    return this.httpClient.get(API_FIRE_PREMIUM_RATE + \"?classOfBuilding=\" + buildingClass + \"&occupationOfBuilding=\" + occupationOfBuilding  + \"&typeOfBuilding=\" + typeOfBuilding)\r\n  }\r\n}\r\n","import { COLTYPE, TableCol } from '../../../../_metronic/shared/crud-table/components/material-table-view/table-dto'\r\nexport const SURROUNDING_COL: TableCol[] = [\r\n  {\r\n    title: \"Building Description\",\r\n    type: COLTYPE.FEILD,\r\n    field: \"description\",\r\n    isDate:true\r\n  },\r\n  {\r\n    title: \"Type of building\",\r\n    type: COLTYPE.FEILD,\r\n    field: \"typeOfBuilding\"\r\n  },\r\n  {\r\n    title: \"Occupation\",\r\n    type: COLTYPE.FEILD,\r\n    field: \"occupation\"\r\n  },\r\n  {\r\n    title: \"Class\",\r\n    type: COLTYPE.FEILD,\r\n    field: \"class\"\r\n  },\r\n  {\r\n    title: \"Premiun Rate\",\r\n    type: COLTYPE.FEILD,\r\n    field: \"premiumRate\"\r\n  },\r\n  {\r\n    title: \"Actions\",\r\n    type: COLTYPE.ACTION,\r\n    field: \"actions\",\r\n    btn: {\r\n      edit: true,\r\n      view:true\r\n    }\r\n  },\r\n  \r\n]\r\n\r\nexport const SurroundingDisplayCol: string[] = [\r\n  \"description\",\r\n  \"typeOfBuilding\",\r\n  \"occupation\",\r\n  \"class\",\r\n  \"premiumRate\"\r\n]\r\n  ","import { ChangeDetectorRef, Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { AlertService } from 'src/app/modules/loading-toast/alert-model/alert.service';\r\nimport { MaterialTableViewComponent } from 'src/app/_metronic/shared/crud-table/components/material-table-view/material-table-view.component';\r\nimport { SurroundingBuildingService } from './models&services/surrounding-building.service';\r\nimport { SurroundingDisplayCol, SURROUNDING_COL } from './models&services/surrounding-list.const';\r\nimport { SurroundingDetailComponent } from './surrounding-detail/surrounding-detail.component';\r\n\r\n@Component({\r\n  selector: 'app-surrounding-building',\r\n  templateUrl: './surrounding-building.component.html',\r\n  styleUrls: ['./surrounding-building.component.scss']\r\n})\r\nexport class SurroundingBuildingComponent implements OnInit {\r\n  @ViewChild(MaterialTableViewComponent) matTable: MaterialTableViewComponent;\r\n  @Input() riskId: number = 1\r\n  ELEMENT_COL = JSON.parse(JSON.stringify(SURROUNDING_COL));\r\n  displayedColumns = JSON.parse(JSON.stringify(SurroundingDisplayCol));\r\n  isPopup: boolean = false\r\n  surrounding: any[] = []\r\n  constructor(private surroundingBuildingService: SurroundingBuildingService,\r\n    private modalService: NgbModal, private cdf: ChangeDetectorRef,\r\n    private alertService: AlertService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getList()\r\n  }\r\n  getList() {\r\n    this.surroundingBuildingService.getByRiskId(this.riskId).toPromise().then((res: any) => {\r\n      if (res) {\r\n        this.surrounding = res\r\n        this.cdf.detectChanges()\r\n      }\r\n    })\r\n  }\r\n  add(type, data?) {\r\n    let modalRef;\r\n    modalRef = this.modalService.open(SurroundingDetailComponent, { size: 'xl', backdrop: false });\r\n    modalRef.componentInstance.type = type\r\n    modalRef.componentInstance.riskId = this.riskId\r\n    modalRef.componentInstance.oldData = data\r\n    modalRef.result.then(() => { }, (res) => {\r\n      if (res) {\r\n        // console.log(\"RESSSS\", res)\r\n        if (res.type == \"save\") {\r\n          // this.surrounding=res.data\r\n          let oldVal = data ? data : { id: 0 }\r\n          let index = this.surrounding.findIndex(x => x.id == oldVal.id)\r\n          if (index < 0)\r\n            this.surrounding.push(res.data)\r\n          else\r\n            this.surrounding[index] = res.data\r\n          this.cdf.detectChanges()\r\n        }\r\n      }\r\n    })\r\n  }\r\n  onActionView(data, type) {\r\n    // console.log(\"data\", data, \"type\", type)\r\n    if (type == 'delete') {\r\n      this.alertService.activate('Are you sure want to delete?', 'Warning Message').then(result => {\r\n        if (result) {\r\n          this.surroundingBuildingService.delete(data.id).toPromise()\r\n            .then((res) => {\r\n              if (res) {\r\n                let index = this.surrounding.findIndex(x => x.id == data.id)\r\n                if (index >= 0) {\r\n                  this.surrounding.splice(index, 1)\r\n                  this.cdf.detectChanges()\r\n                }\r\n              }\r\n            });\r\n          this.alertService.activate('This record was deleted', 'Success Message').then(result => {\r\n\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      this.add(type, data)\r\n    }\r\n  }\r\n}\r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { NgbActiveModal, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { AuthService } from 'src/app/modules/auth';\r\nimport { MasterDataService } from 'src/app/modules/master-data/master-data.service';\r\nimport { PremiumRateService } from '../models&services/premium-rate-service';\r\nimport { SurroundingBuildingService } from '../models&services/surrounding-building.service';\r\n\r\n@Component({\r\n  selector: 'app-surrounding-detail',\r\n  templateUrl: './surrounding-detail.component.html',\r\n  styleUrls: ['./surrounding-detail.component.scss']\r\n})\r\nexport class SurroundingDetailComponent implements OnInit {\r\n  surroundingdetailform: FormGroup;\r\n  typeOfBuildingOption: any = []\r\n  occupationOfBuildingOption: any[] = []\r\n  occupationOfBuildingOptions: any[] = []\r\n  buildingClassOption: any[] = []\r\n  premiumRateOption: any[] = []\r\n  type: string = 'create'\r\n  riskId: string = '1'\r\n  oldData: any\r\n  constructor(public modal: NgbActiveModal, private masterDataService: MasterDataService, private cdf: ChangeDetectorRef, private SurroundingBuildingService: SurroundingBuildingService, private auth: AuthService, private PremiumRateService: PremiumRateService) { }\r\n\r\n  ngOnInit(): void {\r\n    if (this.type == 'create') {\r\n      this.loadForm()\r\n    } else {  \r\n      this.loadForm(this.oldData)\r\n    }\r\n    this.getBuildingClass()\r\n    this.getBuildingType()\r\n    this.getBuildingOccupation()\r\n   \r\n\r\n  }\r\n  getBuildingClass() {\r\n    this.masterDataService\r\n      .getDataByType(\"BUILDING_CLASS\")\r\n      .toPromise()\r\n      .then((res: any) => {\r\n        //console.log(res);\r\n        if (res) {\r\n          this.buildingClassOption = res.map((x) => {\r\n            return { code: x.codeId, value: x.codeName };\r\n          });\r\n          //console.log(this.buildingClassOption);\r\n          this.cdf.detectChanges();\r\n        }\r\n      });\r\n  }\r\n  getBuildingType() {\r\n    this.masterDataService\r\n      .getDataByType(\"TYPE_OF_BUILDING\")\r\n      .toPromise()\r\n      .then((res: any) => {\r\n        //console.log(res);\r\n        if (res) {\r\n          this.typeOfBuildingOption = res.map((x) => {\r\n            return { code: x.codeId, value: x.codeName };\r\n          });\r\n          //console.log(this.typeOfBuildingOption);\r\n          this.cdf.detectChanges();\r\n        }\r\n      });\r\n  }\r\n\r\n  getBuildingOccupation() {\r\n    this.masterDataService\r\n      .getDataByType(\"OCCUPATION_OF_BUILDING\")\r\n      .toPromise()\r\n      .then((res: any) => {\r\n        if (res) {\r\n          this.occupationOfBuildingOptions = res.map((x) => {\r\n            return { code: x.codeId, value: x.codeName, parent: x.parentId };\r\n          });\r\n          this.changeType('child')\r\n          this.cdf.detectChanges();\r\n        }\r\n      });\r\n      \r\n      \r\n  }\r\n  getPremiumRate() {\r\n    let buildingClass = this.surroundingdetailform.value.buildingClass\r\n    let occupationOfBuilding = this.surroundingdetailform.value.occupationOfBuilding\r\n    let typeOfBuilding = this.surroundingdetailform.value.typeOfBuilding\r\n    this.PremiumRateService.getPremiumRate(buildingClass, occupationOfBuilding, typeOfBuilding).toPromise().then((res: any) => {\r\n      if (res) {\r\n        this.surroundingdetailform.controls.premiumRate.setValue(res.premiumRate)\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  loadForm(oldData?) {\r\n  \r\n    this.surroundingdetailform = new FormGroup({\r\n      buildingClass: new FormControl(oldData ? oldData.buildingClass : \"\"),\r\n      buildingDescription: new FormControl(oldData ? oldData.buildingDescription : \"\"),\r\n      distanceToBuilding: new FormControl(oldData ? oldData.distanceToBuilding : \"\", [Validators.max(100)]),\r\n      firePolicyRiskId: new FormControl(this.riskId),\r\n      id: new FormControl(oldData ? oldData.id : \"\"),\r\n      occupationOfBuilding: new FormControl(oldData ? oldData.occupationOfBuilding : \"\"),\r\n      premiumRate: new FormControl(oldData ? oldData.premiumRate : \"\"),\r\n      typeOfBuilding: new FormControl(oldData ? oldData.typeOfBuilding : \"\"),\r\n    })\r\n   \r\n  }\r\n  createSurrounding() {\r\n    if (this.surroundingdetailform.invalid)\r\n      return false\r\n    let data = this.surroundingdetailform.getRawValue();\r\n    let postData = { ...data, createdBy: this.auth.currentUserValue.id }\r\n    if (this.type != 'create') {\r\n      this.SurroundingBuildingService.updateNoID(postData)\r\n        .toPromise()\r\n        .then((res) => {\r\n          if (res) {\r\n            // postData.id = res\r\n            let data = { ...postData }\r\n            let buildingClass = this.surroundingdetailform.value.buildingClass\r\n            let occupationOfBuilding = this.surroundingdetailform.value.occupationOfBuilding\r\n            let typeOfBuilding = this.surroundingdetailform.value.typeOfBuilding\r\n            let buildingClassValue = this.buildingClassOption.find(x => x.code == buildingClass).value\r\n            let occupationOfBuildingValue = this.occupationOfBuildingOption.find(x => x.code == occupationOfBuilding).value\r\n            let typeOfBuildingValue = this.typeOfBuildingOption.find(x => x.code == typeOfBuilding).value\r\n            this.modal.dismiss({ data: { ...data, buildingClassValue: buildingClassValue, occupationOfBuildingValue: occupationOfBuildingValue, typeOfBuildingValue: typeOfBuildingValue }, type: \"save\" })\r\n          }\r\n        });\r\n    } else {\r\n      this.SurroundingBuildingService.save(postData)\r\n        .toPromise()\r\n        .then((res) => {\r\n          if (res) {\r\n            postData.id = res\r\n            let data = { ...postData }\r\n            let buildingClass = this.surroundingdetailform.value.buildingClass\r\n            let occupationOfBuilding = this.surroundingdetailform.value.occupationOfBuilding\r\n            let typeOfBuilding = this.surroundingdetailform.value.typeOfBuilding\r\n            let buildingClassValue = this.buildingClassOption.find(x => x.code == buildingClass).value\r\n            let occupationOfBuildingValue = this.occupationOfBuildingOption.find(x => x.code == occupationOfBuilding).value\r\n            let typeOfBuildingValue = this.typeOfBuildingOption.find(x => x.code == typeOfBuilding).value\r\n            this.modal.dismiss({ data: { ...data, buildingClassValue: buildingClassValue, occupationOfBuildingValue: occupationOfBuildingValue, typeOfBuildingValue: typeOfBuildingValue }, type: \"save\" })\r\n          }\r\n        });\r\n    }\r\n\r\n  }\r\n  changeClass() {\r\n\r\n    if (this.surroundingdetailform.value.buildingClass == 'T-001') {\r\n      this.surroundingdetailform.controls['distanceToBuilding'].setValidators([Validators.max(25)])\r\n      this.surroundingdetailform.controls['distanceToBuilding'].updateValueAndValidity()\r\n    }\r\n\r\n    if (this.surroundingdetailform.value.buildingClass != 'T-001') {\r\n      this.surroundingdetailform.controls['distanceToBuilding'].setValidators([Validators.max(50)])\r\n      this.surroundingdetailform.controls['distanceToBuilding'].updateValueAndValidity()\r\n    }\r\n    let buildingClass = this.surroundingdetailform.value.buildingClass\r\n    let occupationOfBuilding = this.surroundingdetailform.value.occupationOfBuilding\r\n    let typeOfBuilding = this.surroundingdetailform.value.typeOfBuilding\r\n    if (buildingClass && occupationOfBuilding && typeOfBuilding) {\r\n      this.getPremiumRate()\r\n    }\r\n  }\r\n\r\n  changeType(type?: string) {\r\n    let buildingClass = this.surroundingdetailform.value.buildingClass\r\n    let occupationOfBuilding = this.surroundingdetailform.value.occupationOfBuilding\r\n    let typeOfBuilding = this.surroundingdetailform.value.typeOfBuilding\r\n    if (type == 'child') {\r\n      this.occupationOfBuildingOption = this.occupationOfBuildingOptions.filter(x => x.parent == typeOfBuilding)\r\n      let index = this.occupationOfBuildingOption.findIndex(x => x.code == occupationOfBuilding)\r\n      if (index < 0) {\r\n        this.surroundingdetailform.controls.occupationOfBuilding.setValue(null)\r\n      }\r\n    }\r\n    if (buildingClass && occupationOfBuilding && typeOfBuilding) {\r\n      this.getPremiumRate()\r\n    }\r\n  }\r\n  changeOccuption() {\r\n    let buildingClass = this.surroundingdetailform.value.buildingClass\r\n    let occupationOfBuilding = this.surroundingdetailform.value.occupationOfBuilding\r\n    let typeOfBuilding = this.surroundingdetailform.value.typeOfBuilding\r\n    if (buildingClass && occupationOfBuilding && typeOfBuilding) {\r\n      this.getPremiumRate()\r\n    }\r\n  }\r\n  dismissModal() {\r\n    this.modal.dismiss()\r\n  }\r\n  isControlValid(controlName: string): boolean {\r\n    const control = this.surroundingdetailform.controls[controlName];\r\n    return control.valid && (control.dirty || control.touched);\r\n  }\r\n\r\n  isControlInvalid(controlName: string): boolean {\r\n    const control = this.surroundingdetailform.controls[controlName];\r\n    return control.invalid && (control.dirty || control.touched);\r\n  }\r\n\r\n  controlHasError(validation, controlName): boolean {\r\n    const control = this.surroundingdetailform.controls[controlName];\r\n    return control.hasError(validation) && (control.dirty || control.touched);\r\n  }\r\n\r\n  isControlTouched(controlName): boolean {\r\n    const control = this.surroundingdetailform.controls[controlName];\r\n    return control.dirty || control.touched;\r\n  }\r\n}\r\n","import { Component, Input, OnInit, Output,EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-tables',\r\n  templateUrl: './tables.component.html',\r\n  styleUrls: ['./tables.component.scss']\r\n})\r\nexport class TablesComponent implements OnInit {\r\n@Input() contents:boolean=false\r\n@Input() plant:boolean=false\r\n@Input() stock:boolean=false\r\n@Input() tableData=[]\r\n\r\n  constructor() { }\r\n  @Output()\r\n  emitter = new EventEmitter<any>();\r\n  \r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onActionView(data,type,tbtype){\r\n    this.emitter.emit({\r\n      cmd: type,\r\n      data: data,\r\n      tbtype:tbtype\r\n    });\r\n  }\r\n \r\n\r\n  ngOnDestroy() {\r\n    this.emitter.unsubscribe();\r\n  }\r\n\r\n}\r\n","import { DecimalPipe } from \"@angular/common\";\r\nimport { ChangeDetectorRef, Component, EventEmitter, Input, NgZone, OnInit, Output } from \"@angular/core\";\r\nimport { NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { GlobalFunctionService } from \"../../../core/global-fun.service\";\r\nimport { AlertService } from \"../../../modules/loading-toast/alert-model/alert.service\";\r\nimport { ConfigInput } from \"../../form-component/field.interface\";\r\nimport { PolicyDTO } from \"../../policy/policy.dto\";\r\nimport { PageDataService } from \"../../product-form/page-data.service\";\r\nimport { PageUI, PageUIType, Product } from \"../../products/models/product.dto\";\r\nimport { ProductDataService } from \"../../products/services/products-data.service\";\r\nimport { QuotationDTO } from \"../../quotations/quotation.dto\";\r\nimport { StaticActionType, StaticPageAction } from \"../static-field.interface\";\r\nimport { TRAVELID } from \"../static-pages.data\";\r\nimport { TravelRiskService } from \"./models&services/travel-risk.service\";\r\nimport { TravelRiskDetailComponent } from \"./travel-risk-detail/travel-risk-detail.component\";\r\n\r\n@Component({\r\n  selector: 'app-travel-risk',\r\n  templateUrl: \"./travel-page.component.html\",\r\n})\r\nexport class TravelComponent implements OnInit {\r\n  @Input() product: Product\r\n  @Input() editData: QuotationDTO | PolicyDTO\r\n  @Input() resourcesId?: string\r\n  @Input() referenceID?: string\r\n  @Input() premiumAmt: string\r\n  @Input() travelForm: PageUI[] = []\r\n  listData: any[] = []\r\n  tempData: any = {}\r\n  tableReform: any[] = []\r\n  requiredForm = {\r\n    detail: null,\r\n    traveler: null,\r\n    benefi: null\r\n  }\r\n  @Output() actionEvent = new EventEmitter<StaticPageAction>();\r\n  constructor(\r\n    private globalFun: GlobalFunctionService,\r\n    private travelRikService: TravelRiskService,\r\n    private modalService: NgbModal,\r\n    private cdf: ChangeDetectorRef,\r\n    private numberPipe: DecimalPipe,\r\n    private pageDataService: PageDataService,\r\n    private prodService: ProductDataService,\r\n    private alertService: AlertService,\r\n    private ngZone: NgZone\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    if (this.travelForm.length < 3) {\r\n      this.alertService.activate(\"This page cann't to process because there is not match with requirement configuration. Please check travel product config in prodcut configuration\", \"Warning\")\r\n    } else {\r\n      this.requiredForm.detail = this.travelForm.find(x => x.unitCode == \"travel_detail_0001\")\r\n      this.requiredForm.traveler = this.travelForm.find(x => x.unitCode == \"traveler_0002\")\r\n      this.requiredForm.benefi = this.travelForm.find(x => x.unitCode == \"trave_benefi_0003\")\r\n      this.getRiskList()\r\n      this.callback()\r\n    }\r\n  }\r\n\r\n  callback() {\r\n    if (this.prodService.editData) {\r\n      this.resourcesId = this.prodService.editData.id\r\n      this.getOldData(this.prodService.editData)\r\n    }\r\n    // else if (this.referenceID) {\r\n    //   this.getOldData({ id: this.referenceID }, true)\r\n    // }\r\n    // if (this.formData[this.activePage].pageType == 'table') {\r\n    if (this.requiredForm.benefi)\r\n      this.reFormatTable(this.requiredForm.benefi.controls)\r\n    // }\r\n  }\r\n\r\n  reFormatTable(controls: ConfigInput[]) {\r\n    this.tableReform = []\r\n    let parentArray: string[] = []\r\n    let tempControls: ConfigInput[] = JSON.parse(JSON.stringify(controls))\r\n    for (let x of tempControls) {\r\n      let skip = false\r\n      x.options = x.options ? x.options : []\r\n      if (!x.isHideView) {\r\n        if (x.tableTitle) {\r\n          let index = parentArray.findIndex(data => data == x.tableTitle)\r\n          if (index < 0) {\r\n            parentArray.push(x.tableTitle)\r\n          } else {\r\n            skip = true\r\n          }\r\n          // parentArray.push()\r\n        }\r\n        if (!skip) {\r\n          let tempName = x.master == 'true' ? x.name + \"Value\" : x.name\r\n          let otherNameObj = {\r\n            name: tempName,\r\n            type: x.input,\r\n            subType: x.type,\r\n            options: (x.master == \"false\" || x.master == false) && x.options.length > 0 ? x.options : []\r\n          }\r\n          let tempObj = {\r\n            title: x.tableTitle || x.label || x.name,\r\n            cols: [otherNameObj],\r\n            type: x.input,\r\n            subType: x.type,\r\n            parent: x.dependency ? x.dependency.parentName : \"\",\r\n            options: (x.master == \"false\" || x.master == false) && x.options.length > 0 ? x.options : []\r\n          }\r\n          this.tableReform.push(tempObj)\r\n        } else {\r\n          let index = this.tableReform.findIndex(data => data.parent == x.dependency.parentName)\r\n          if (index >= 0) {\r\n            let tempName = x.master == 'true' ? x.name + \"Value\" : x.name\r\n            let otherNameObj = {\r\n              name: tempName,\r\n              type: x.input,\r\n              subType: x.type,\r\n              options: (x.master == \"false\" || x.master == false) && x.options.length > 0 ? x.options : []\r\n            }\r\n            this.tableReform[index].cols.push(otherNameObj)\r\n          }\r\n        }\r\n        // return x\r\n      }\r\n    }\r\n    // this.cdRef.detectChanges()\r\n  }\r\n\r\n  getRiskList() {\r\n    this.travelRikService.getMany(this.resourcesId).toPromise().then((res: any) => {\r\n      if (res) {\r\n        this.globalFun.tempFormData[TRAVELID] = res\r\n        this.listData = res || []\r\n        this.cdf.detectChanges()\r\n      }\r\n    })\r\n  }\r\n\r\n  newData(type, detail?: any) {\r\n    let modalRef = this.modalService.open(TravelRiskDetailComponent, { size: 'xl', backdrop: false });\r\n    modalRef.componentInstance.type = type\r\n    modalRef.componentInstance.riskId = detail ? detail.riskId : \"\"\r\n    modalRef.componentInstance.oldData = detail ? detail : {}\r\n    modalRef.componentInstance.resourceId = this.resourcesId\r\n    modalRef.componentInstance.product = this.product\r\n    modalRef.componentInstance.editData = this.editData\r\n    modalRef.componentInstance.premiumAmt = this.premiumAmt\r\n    modalRef.componentInstance.prodDetailForm = this.requiredForm.detail\r\n    modalRef.componentInstance.travelerForm = this.requiredForm.traveler\r\n    modalRef.componentInstance.benefiForm = this.requiredForm.benefi\r\n    modalRef.componentInstance.tableReform = this.tableReform\r\n    if (detail) {\r\n      let travel = this.tempData['travelDetail'].find(x => x.refId == detail.riskId)\r\n      let traveler = this.tempData['traveler'].find(x => x.risk_id == detail.riskId)\r\n      let benefi = this.tempData['benefi'].filter(x => x.risk_id == detail.riskId)\r\n      this.globalFun.tempFormData[this.requiredForm.benefi.tableName + this.requiredForm.benefi.id] = benefi\r\n      modalRef.componentInstance.tempData = {\r\n        travelDetail: travel || {},\r\n        traveler: traveler || {},\r\n        benefi: benefi || [],\r\n      }\r\n\r\n    }\r\n\r\n    modalRef.result.then(() => { }, (res) => {\r\n      if (res) {\r\n        if (res.type == \"save\") {\r\n          // this.surrounding=res.data\r\n          // this.ngZone.run(() => {\r\n          if (detail) {\r\n            let index = this.listData.findIndex(x => x.id == detail.id)\r\n            this.listData[index] = res.data\r\n          } else {\r\n            let index = this.listData.findIndex(x => x.id == res.data.id)\r\n            if (index >= 0)\r\n              this.listData[index] = res.data\r\n            else\r\n              this.listData.push(res.data)\r\n          }\r\n          // })\r\n          this.cdf.detectChanges()\r\n          this.changeTravelDetail(res.detail)\r\n          this.changeTraveler(res.traveler)\r\n          this.changeBenefi(res.benefi, res.detail.refId)\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  changeTravelDetail(data) {\r\n    let index = -1\r\n    if (this.tempData['travelDetail'])\r\n      index = this.tempData['travelDetail'].findIndex(x => x.refId == data.refId)\r\n    if (index < 0) {\r\n      this.tempData['travelDetail'].push(data)\r\n    } else {\r\n      this.tempData['travelDetail'][index] = data\r\n    }\r\n  }\r\n  changeTraveler(data) {\r\n    let index = this.tempData['traveler'].findIndex(x => x.refId == data.refId)\r\n    if (index < 0) {\r\n      this.tempData['traveler'].push(data)\r\n    } else {\r\n      this.tempData['traveler'][index] = data\r\n    }\r\n  }\r\n  changeBenefi(data, refId) {\r\n    let filtered = this.tempData['benefi'].filter(x => x.risk_id != refId)\r\n    this.tempData['benefi'] = [...filtered, ...data]\r\n  }\r\n\r\n  delete(index) {\r\n    this.alertService.activate('Are you sure want to delete?', 'Warning Message').then(result => {\r\n      if (result) {\r\n        this.travelRikService.delete(this.listData[index].id).toPromise()\r\n          .then((res) => {\r\n            if (res) {\r\n              this.listData.splice(index, 1)\r\n              this.cdf.detectChanges()\r\n              this.alertService.activate('This record was deleted', 'Success Message').then(result => {\r\n\r\n              });\r\n            }\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  nextPage() {\r\n    if (this.listData.length > 0) {\r\n      this.globalFun.tempFormData[TRAVELID] = this.listData\r\n      this.savePremimunFire().toPromise().then(res => {\r\n        this.actionEvent.emit({ type: StaticActionType.NEXT })\r\n      })\r\n    }\r\n  }\r\n\r\n  savePremimunFire() {\r\n    let premiumAmt = this.caluPremimun()\r\n    let postData = {\r\n      \"premium\": (Number(this.premiumAmt.split(\" \")[0].split(',').join(\"\")) || 0) + \"\",\r\n      \"premiumView\": this.premiumAmt,\r\n      \"resourceId\": this.resourcesId,\r\n      \"type\": 'policy'\r\n    }\r\n    return this.pageDataService.updatePremimun(postData)\r\n  }\r\n\r\n  caluPremimun() {\r\n    let amt = this.listData.reduce(function (sum, current) {\r\n      return sum + parseInt(current.premium);\r\n    }, 0)\r\n    this.premiumAmt = this.numberPipe.transform(amt) + \" MMK\"\r\n    this.globalFun.paPremiumResult.next(this.premiumAmt)\r\n    return this.premiumAmt\r\n  }\r\n\r\n  replaceT(stringVal: string) {\r\n    return stringVal.replace(\"T-\", \"\").replace(\"TU-\", \"\")\r\n  }\r\n\r\n  backPage() {\r\n    if (this.listData.length > 0) {\r\n      this.globalFun.tempFormData[TRAVELID] = this.listData\r\n      this.savePremimunFire()\r\n    }\r\n    this.actionEvent.emit({ type: StaticActionType.PREV })\r\n\r\n  }\r\n\r\n  getOldData(oldData: QuotationDTO, isRef?: boolean) {\r\n    let counter = 0\r\n\r\n    this.travelForm.forEach((element) => {\r\n\r\n      counter += 1\r\n      if (element.type == PageUIType.DYN) {\r\n\r\n        let view = element.pageType == 'table'\r\n        this.pageDataService.getDetail(element.tableName, oldData.id, element.id, view, element.controls, true).toPromise().then(async (res: any) => {\r\n\r\n          if (res && res.length > 0) {\r\n            let temp = []\r\n            let skipId = isRef\r\n            for (const data of res) {\r\n              let tmpObj = {}\r\n              // tmpObj['risk_id'] = \"\"\r\n              for (const item of data.data) {\r\n                if (item.column == 'id' && !skipId) {\r\n                  tmpObj['refId'] = item.value\r\n                }\r\n                if ((item.value + \"\" as string).includes(\"#-#\")) {\r\n                  // trgi = true\r\n                  tmpObj[item.column] = (item.value + \"\" as string).split(\"#-#\")\r\n                } else if ((item.value + \"\" as string).includes(\"#+#\")) {\r\n                  tmpObj[item.column] = [item.value.replace('#+#', \"\")]\r\n                } else {\r\n                  tmpObj[item.column] = item.value\r\n                }\r\n\r\n              }\r\n              if (Array.isArray(temp)) {\r\n                temp.push(tmpObj)\r\n              }\r\n            };\r\n            let valKey = \"travelDetail\"\r\n            if (element.unitCode == \"traveler_0002\")\r\n              valKey = 'traveler'\r\n            if (element.unitCode == \"trave_benefi_0003\")\r\n              valKey = 'benefi'\r\n            this.tempData[valKey] = temp\r\n            // this.globalFun.tempFormData = this.tempData\r\n            if (element.function && element.pageType == 'form') {\r\n              this.globalFun[element.function](\"\", this.tempData[element.tableName + element.id])\r\n            }\r\n          }\r\n\r\n        }).catch(e => {\r\n\r\n        })\r\n      }\r\n    });\r\n  }\r\n\r\n}","import { DatePipe, DecimalPipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { NgbActiveModal, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { map, of, Subscription, switchMap } from 'rxjs';\r\nimport { GlobalFunctionService } from '../../../../core/global-fun.service';\r\nimport { AuthService } from '../../../../modules/auth';\r\nimport { AlertService } from '../../../../modules/loading-toast/alert-model/alert.service';\r\nimport { MasterDataService } from '../../../../modules/master-data/master-data.service';\r\nimport { CustomerService } from '../../../customer-detail/customer.service';\r\nimport { DynamicFormComponent } from '../../../form-component/dynamic-form.component';\r\nimport { FromGroupData } from '../../../form-component/field.interface';\r\nimport { FormViewModalComponent } from '../../../form-component/form-view-modal/form-view-modal.component';\r\nimport { PageDataService } from '../../../product-form/page-data.service';\r\nimport { PageUI, Product } from '../../../products/models/product.dto';\r\nimport { ProductDataService } from '../../../products/services/products-data.service';\r\nimport { TravelRiskDTO } from '../models&services/travel-risk.dto';\r\nimport { TravelRiskService } from '../models&services/travel-risk.service';\r\n\r\n@Component({\r\n  selector: 'app-travel-risk-detail',\r\n  templateUrl: './travel-risk-detail.component.html',\r\n  styleUrls: ['./travel-risk-detail.component.scss']\r\n})\r\nexport class TravelRiskDetailComponent implements OnInit, OnDestroy {\r\n  @Input() list: any[] = []\r\n  @Input() product: Product\r\n  @Input() editData: any = {}\r\n  @Input() oldData: any = {}\r\n  @Input() resourceId?: string\r\n  @Input() referenceID?: string\r\n  @Input() premiumAmt: string\r\n  @Input() prodDetailForm: PageUI\r\n  @Input() travelerForm: PageUI\r\n  @Input() benefiForm: PageUI\r\n  @Input() riskId: number\r\n  @Input() sumInsured: number\r\n  @ViewChild(DynamicFormComponent) dynForm: DynamicFormComponent\r\n  @ViewChild(DynamicFormComponent) dynFormTraveler: DynamicFormComponent\r\n  @Input() tempData: any = {\r\n    travelDetail: null,\r\n    traveler: null,\r\n    benefi: [],\r\n    cover: []\r\n  }\r\n  stepData = {\r\n    step1: false,\r\n    step2: false,\r\n    step3: false,\r\n    step4: false\r\n  }\r\n  tableReform: any[] = []\r\n  premium: number = 0\r\n  activeBox: string = 'DETAIL'\r\n\r\n  currencyType: string = \"MMK\"\r\n  unsub: Subscription[] = []\r\n  constructor(\r\n    private globalFun: GlobalFunctionService,\r\n    private numberPipe: DecimalPipe,\r\n    private pageDataService: PageDataService,\r\n    private prodService: ProductDataService,\r\n    private datePipe: DatePipe,\r\n    private masterServer: MasterDataService,\r\n    private auth: AuthService,\r\n    private cdRef: ChangeDetectorRef,\r\n    private travelRikService: TravelRiskService,\r\n    private modalService: NgbModal,\r\n    private alert: AlertService,\r\n    private ngModal: NgbActiveModal\r\n  ) { }\r\n\r\n  get validCancel() {\r\n    let tep = this.stepData.step1 || this.stepData.step2 || this.stepData.step3 || this.stepData.step4 ? true : false\r\n    let tep2 = this.stepData.step1 && this.stepData.step2 && this.stepData.step3 && this.stepData.step4 ? false : true\r\n    return tep && tep2\r\n  }\r\n  ngOnDestroy(): void {\r\n    this.unsub.forEach(x => x.unsubscribe())\r\n  }\r\n  ngOnInit(): void {\r\n    console.log(\"tableReform\",this.tableReform);\r\n    \r\n    this.unsub[0] = this.globalFun.currenyValueObs.subscribe((res) => {\r\n      if (this.currencyType != res) {\r\n        this.currencyType = res\r\n      }\r\n    })\r\n    this.unsub[1] = this.globalFun.travelPremiumResult.subscribe(res => {\r\n      this.premium = res\r\n    })\r\n\r\n  }\r\n\r\n  calPremimun() {\r\n    if (this.oldData.id) {\r\n      this.updateTravelRisk()\r\n    } else {\r\n      this.saveTravelRisk()\r\n    }\r\n  }\r\n\r\n  nextCover() {\r\n    let check = this.globalFun.checkPercent(this.tempData['benefi'])\r\n    if (check) {\r\n      this.stepData.step3 = true\r\n      this.activeBox = \"COVER\"\r\n    } else {\r\n      this.alert.activate('Beneficiary percent need to be 100%!', 'Warning Message')\r\n    }\r\n  }\r\n\r\n  coverDone() {\r\n    this.stepData.step4 = true\r\n    this.activeBox = \"COVER\"\r\n  }\r\n\r\n  toggleAccordion(type: string) {\r\n    this.activeBox = type == this.activeBox ? \"\" : type\r\n  }\r\n\r\n  deleteData(index, data) {\r\n    this.alert.activate('Are you sure want to delete?', 'Warning Message').then(result => {\r\n      if (result) {\r\n        // let activeForm = this.formData[this.activePage]\r\n        this.pageDataService.deleteData(this.benefiForm.tableName, data.refId, this.benefiForm.id).toPromise().then((res) => {\r\n          if (res) {\r\n            this.tempData['benefi'].splice(index, 1)\r\n            this.cdRef.detectChanges();\r\n            this.alert.activate('This record was deleted', 'Success Message').then(result => {\r\n\r\n            });\r\n          }\r\n        })\r\n      }\r\n    });\r\n  }\r\n\r\n  download(col, item) {\r\n\r\n  }\r\n  //   travelDetail\r\n  // traveler\r\n  // benefi\r\n\r\n  newData(editData?: any, index?: number) {\r\n    const activeForm = this.benefiForm;\r\n    const modalRef = this.modalService.open(FormViewModalComponent, { size: 'xl' });\r\n    modalRef.componentInstance.controls = activeForm.controls\r\n    modalRef.componentInstance.pageName = activeForm.pageTitle\r\n    modalRef.componentInstance.activateForm = activeForm\r\n    modalRef.componentInstance.benefiArray = this.tempData['benefi']\r\n    modalRef.componentInstance.oldData = index >= 0 ? editData : {}\r\n    modalRef.result.then(() => { }, (res) => {\r\n      if (res) {\r\n        if (res.data && res.type == 'save') {\r\n          if (index >= 0) {\r\n            this.updateDataAPI(activeForm, res.data, this.tempData['benefi'][index].refId, index, \"benefi\")\r\n          } else {\r\n            this.saveDataAPI(activeForm, res.data, \"benefi\")\r\n          }\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  saveTravelerTemp(event) {\r\n    if (this.travelerForm.pageType == \"form\" && this.tempData['traveler']) {\r\n      if (this.tempData['traveler'].refId)\r\n        this.updateDataAPI(this.travelerForm, event, this.tempData['traveler'].refId, -1, \"traveler\")\r\n      else\r\n        this.saveDataAPI(this.travelerForm, event, 'traveler')\r\n    } else\r\n      this.saveDataAPI(this.travelerForm, event, 'traveler')\r\n  }\r\n\r\n  saveDetailTemp(event) {\r\n    if (this.prodDetailForm.pageType == \"form\" && this.tempData['travelDetail']) {\r\n      if (this.tempData['travelDetail'].refId)\r\n        this.updateDataAPI(this.prodDetailForm, event, this.tempData['travelDetail'].refId)\r\n      else\r\n        this.saveDataAPI(this.prodDetailForm, event)\r\n    } else\r\n      this.saveDataAPI(this.prodDetailForm, event)\r\n  }\r\n\r\n\r\n  checkMasterValue(res: any, column, otherResponse: any) {\r\n    // otherResponse =  ? otherResponse[0]['formData'] = res : \r\n    if (Array.isArray(otherResponse)) {\r\n      otherResponse[0]['formData'] = res\r\n    } else {\r\n      otherResponse['formData'] = res\r\n    }\r\n    let tempMasterObj = Object.keys(res).filter(x => (res[x] + \"\").includes(\"T-\"))\r\n    if (tempMasterObj.length > 0) {\r\n      let masterObj = tempMasterObj.map(x => {\r\n        let columnName = column.find(col => col.name == x)\r\n        if (columnName.masterData) {\r\n          return {\r\n            \"codeId\": res[x],\r\n            \"codeType\": columnName.masterData,\r\n            \"langCd\": \"EN\"\r\n          }\r\n        }\r\n      })\r\n      let postData = {\r\n        \"codeBookRequest\": masterObj\r\n      }\r\n      let returnObj = res\r\n      return this.masterServer.getMasterValue(postData).pipe(map((masterValues: any) => {\r\n        tempMasterObj.forEach(x => {\r\n          let colName = column.find(col => col.name == x)\r\n          let index = masterValues.findIndex(master => master.codeId == returnObj[x] && colName.masterData == master.codeType)\r\n          if (index >= 0) {\r\n            returnObj[x + \"Value\"] = masterValues[index].codeName\r\n          }\r\n        })\r\n        if (Array.isArray(otherResponse)) {\r\n          otherResponse[0]['formData'] = returnObj\r\n        } else {\r\n          otherResponse['formData'] = returnObj\r\n        }\r\n        return otherResponse\r\n      }))\r\n    }\r\n    return of(otherResponse)\r\n  }\r\n\r\n  async saveData(formGp, activeForm) {\r\n    if (activeForm.function) {\r\n      let fun = await this.globalFun[activeForm.function](\"\", formGp.form.getRawValue(), [], true);\r\n      if (!fun) {\r\n        return false\r\n      }\r\n    }\r\n    let submited = formGp.handleSubmit()\r\n    if (!submited) return false\r\n  }\r\n\r\n  saveDataAPI(page: FromGroupData, formData: any, type: string = \"travelDetail\") {\r\n    this.premiumAmt = this.premiumAmt ? this.premiumAmt : \"0\"\r\n    let postData = {\r\n      productId: this.product.id,\r\n      type: this.prodService.viewType,\r\n      tableName: page.tableName,\r\n      resourceId: this.resourceId,\r\n      agentId: this.auth.currentUserValue.id || 1,\r\n      quotationId: this.referenceID,\r\n      pageId: page.id,\r\n      customerId: this.prodService.creatingCustomer.customerId,\r\n      leadId: this.prodService.creatingLeadId || null,\r\n      currency: this.currencyType,\r\n      premium: (Number(this.premiumAmt.split(\" \")[0].split(',').join(\"\")) || 0) + \"\",\r\n      premiumView: this.premiumAmt,\r\n      policyNumber: null,\r\n      party: page.party || false,\r\n      pageData: [\r\n        {\r\n          data: []\r\n        }\r\n      ]\r\n    }\r\n    for (const [key, value] of Object.entries(formData)) {\r\n      let input = page.controls.find(x => x.name == key)\r\n      let valueData = value\r\n      if (input) {\r\n        valueData = input.input == \"input\" && input.type == 'number' ? Number(value) : value\r\n        if (Array.isArray(valueData)) {\r\n          valueData = valueData.join(\"#-#\")\r\n          if (!(valueData as string).includes(\"#-#\")) {\r\n            valueData += \"#+#\"\r\n          }\r\n        }\r\n      }\r\n      postData.pageData[0].data.push({\r\n        \"column\": key,\r\n        \"value\": valueData,\r\n        \"party\": input ? input.party || false : false\r\n      })\r\n\r\n    }\r\n    if (type != \"travelDetail\") {\r\n      postData.pageData[0].data.push({\r\n        \"column\": 'risk_id',\r\n        \"value\": this.riskId,\r\n        \"party\": false\r\n      })\r\n    }\r\n    this.pageDataService.save(postData).pipe(switchMap((data: any) => {\r\n      if (page.pageType == 'table') {\r\n        return this.checkMasterValue(formData, page.controls, data)\r\n      }\r\n      return of(data)\r\n    })).toPromise().then((res) => {\r\n\r\n      if (res) {\r\n\r\n        if (!this.resourceId)\r\n          this.resourceId = res[0].resourceId;\r\n        if (page.pageType == 'table') {\r\n          formData = res[0].formData\r\n          if (this.tempData[type]) {\r\n            (this.tempData[type] as any[]).push({ ...formData, refId: res[0].refId, pageId: page.id });\r\n          } else {\r\n            this.tempData[type] = [{ ...formData, refId: res[0].refId }]\r\n          }\r\n          this.globalFun.tempFormData = this.tempData\r\n          this.cdRef.detectChanges()\r\n        } else {\r\n          this.tempData[type] = { ...formData, refId: res[0].refId, pageId: page.id, risk_id: this.riskId }\r\n          if (type == \"travelDetail\") {\r\n            this.riskId = res[0].refId\r\n            this.stepData.step1 = true\r\n            this.activeBox = \"TRAVELER\"\r\n          }\r\n          if (type == \"traveler\") {\r\n            this.stepData.step2 = true\r\n            this.activeBox = \"BENEFI\"\r\n          }\r\n          // if (this.pageOrder.length > this.activePage + 1) {\r\n          //   if (this.formData[this.activePage + 1].controls) {\r\n\r\n          //     this.dynForm.newFormCreate(this.formData[this.activePage + 1].controls, this.tempData[this.formData[this.activePage + 1].tableName + this.formData[this.activePage + 1].id])\r\n          //   }\r\n          //   this.globalFun.tempFormData = this.tempData\r\n          //   this.activePage += 1\r\n          //   this.cdRef.detectChanges();\r\n          //   if (this.formData[this.activePage].pageType == 'table') {\r\n          //     this.reFormatTable(this.formData[this.activePage].controls)\r\n          //   }\r\n          // } else {\r\n          //   this.globalFun.tempFormData = this.tempData\r\n          //   this.goReusltPage()\r\n          // }\r\n        }\r\n\r\n      }\r\n\r\n    })\r\n\r\n  }\r\n\r\n  updateDataAPI(page: FromGroupData, formData: any, refId: number, isTable: number = -1, type: string = \"travelDetail\") {\r\n    this.premiumAmt = this.premiumAmt ? this.premiumAmt : \"0\"\r\n    let postData = {\r\n      productId: this.prodService.createingProd.id,\r\n      type: this.prodService.viewType,\r\n      tableName: page.tableName,\r\n      resourceId: this.resourceId,\r\n      refId: refId,\r\n      customerId: this.prodService.creatingCustomer.customerId,\r\n      quotationId: this.referenceID,\r\n      agentId: this.auth.currentUserValue.id || 1,\r\n      premium: (Number(this.premiumAmt.split(\" \")[0].split(',').join(\"\")) || 0) + \"\",\r\n      premiumView: this.premiumAmt,\r\n      policyNumber: null,\r\n      pageId: page.id,\r\n      leadId: this.prodService.creatingLeadId || null,\r\n      currency: this.currencyType,\r\n      party: page.party || false,\r\n      data: [\r\n\r\n      ]\r\n    }\r\n    for (const [key, value] of Object.entries(formData)) {\r\n      let input = page.controls.find(x => x.name == key)\r\n      let valueData = value\r\n      if (input) {\r\n        valueData = input.input == \"input\" && input.type == 'number' ? Number(value) : value\r\n        if (Array.isArray(valueData)) {\r\n          valueData = valueData.join(\"#-#\");\r\n          if (!(valueData as string).includes(\"#-#\")) {\r\n            valueData += \"#+#\"\r\n          }\r\n        }\r\n      }\r\n      // if (input) {\r\n      //   postData.data.push({\r\n      //     \"column\": key,\r\n      //     \"value\": input.input == \"input\" && input.type == 'number' ? Number(value) : value\r\n      //   })\r\n      // } else {\r\n      postData.data.push({\r\n        \"column\": key,\r\n        \"value\": valueData,\r\n        \"party\": input ? input.party || false : false\r\n      })\r\n      // }\r\n    }\r\n    this.pageDataService.updateNoID(postData).pipe(switchMap((data: any) => {\r\n      if (page.pageType == 'table') {\r\n        return this.checkMasterValue(formData, page.controls, data)\r\n      }\r\n      return of(data)\r\n    })).toPromise().then((res) => {\r\n\r\n      if (res) {\r\n        if (isTable < 0) {\r\n          this.tempData[type] = { ...formData, refId: res.refId }\r\n          if (type == \"travelDetail\") {\r\n            this.stepData.step1 = true\r\n            this.activeBox = \"TRAVELER\"\r\n          }\r\n          if (type == \"traveler\") {\r\n            this.stepData.step2 = true\r\n            this.activeBox = \"BENEFI\"\r\n          }\r\n        } else {\r\n          formData = res.formData\r\n          this.tempData[type][isTable] = { ...formData, refId: res.refId }\r\n          this.globalFun.tempFormData = this.tempData\r\n          this.cdRef.detectChanges();\r\n        }\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  getCoverData() {\r\n\r\n  }\r\n\r\n\r\n\r\n  saveTravelRisk() {\r\n    let postData: TravelRiskDTO = {\r\n      insuredUnit: this.tempData['travelDetail'].insured_unit,\r\n      noOfTraveller: this.tempData['travelDetail'].no_of_traveler,\r\n      premium: this.premium,\r\n      resourceId: this.resourceId,\r\n      totalUnit: parseInt(this.tempData['travelDetail'].travel_unit),\r\n      travelDuration: this.tempData['travelDetail'].travel_duration,\r\n      travelPlan: this.tempData['travelDetail'].travel_plan,\r\n      travellerName: this.tempData['traveler'].traveler_name,\r\n      sumInsured: 0,\r\n      riskId: this.tempData['travelDetail'].refId,\r\n      resourceData: {\r\n        agentId: this.auth.currentUserValue.id || 1,\r\n        customerId: this.prodService.creatingCustomer.customerId,\r\n        policyNumber: null,\r\n        premium: (Number(this.premiumAmt.split(\" \")[0].split(',').join(\"\")) || 0) + \"\",\r\n        premiumView: this.premiumAmt,\r\n        productId: this.prodService.createingProd.id,\r\n        quotationId: this.prodService.referenceID,\r\n        leadId: this.prodService.creatingLeadId || null,\r\n        currency: this.currencyType,\r\n        type: this.prodService.type\r\n      },\r\n    }\r\n    this.travelRikService.save(postData).toPromise().then((result: any) => {\r\n      if (result) {\r\n        this.ngModal.dismiss({\r\n          type: \"save\", data: { ...postData, id: result },\r\n          detail: this.tempData['travelDetail'], traveler: this.tempData['traveler'],\r\n          benefi: this.tempData['benefi'],\r\n          // coverage: this.tempData['coverage']\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  updateTravelRisk() {\r\n    let postData: TravelRiskDTO = {\r\n      id: this.oldData.id,\r\n      insuredUnit: this.tempData['travelDetail'].insured_unit,\r\n      noOfTraveller: this.tempData['travelDetail'].no_of_traveler,\r\n      premium: this.premium,\r\n      resourceId: this.resourceId,\r\n      totalUnit: parseInt(this.tempData['travelDetail'].travel_unit),\r\n      travelDuration: this.tempData['travelDetail'].travel_duration,\r\n      travelPlan: this.tempData['travelDetail'].travel_plan,\r\n      travellerName: this.tempData['traveler'].traveler_name,\r\n      sumInsured: 0,\r\n      riskId: this.tempData['travelDetail'].refId,\r\n      resourceData: {\r\n        agentId: this.auth.currentUserValue.id || 1,\r\n        customerId: this.prodService.creatingCustomer.customerId,\r\n        policyNumber: null,\r\n        premium: (Number(this.premiumAmt.split(\" \")[0].split(',').join(\"\")) || 0) + \"\",\r\n        premiumView: this.premiumAmt,\r\n        productId: this.prodService.createingProd.id,\r\n        quotationId: this.prodService.referenceID,\r\n        currency: this.currencyType,\r\n        leadId: this.prodService.creatingLeadId || null,\r\n        type: this.prodService.type\r\n      },\r\n    }\r\n    this.travelRikService.updateNoID(postData).toPromise().then((result: any) => {\r\n      if (result) {\r\n        this.ngModal.dismiss({\r\n          type: \"save\", data: { ...postData, id: result },\r\n          detail: this.tempData['travelDetail'], traveler: this.tempData['traveler'],\r\n          benefi: this.tempData['benefi'],\r\n          // coverage: this.tempData['coverage']\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  getOtherData(cols: any[], data: any) {\r\n\r\n    for (let col of cols) {\r\n      if (data[col.name]) {\r\n        if ((data[col.name] + \"\").length > 0) {\r\n          let value = \"\"\r\n          if (col.type == \"input\" && col.subType == \"currency\") {\r\n            return this.numberPipe.transform(data[col.name])\r\n          }\r\n          if (col.type == \"date\") {\r\n            return this.datePipe.transform(data[col.name], \"dd/MM/yyyy\")\r\n          }\r\n          if (col.options.length > 0) {\r\n            let valueData = col.options.find(x => x.value == data[col.name])\r\n            if (valueData) {\r\n              return valueData.text\r\n            }\r\n          }\r\n          return data[col.name]\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}