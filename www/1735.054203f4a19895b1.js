"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1735],{23347:(J,x,u)=>{u.d(x,{Ys:()=>oe,ou:()=>ie,p3:()=>re});var D=u(64762),F=u(18260),U=u(91691),C=u(8239);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global&&global;var b=(()=>{return(n=b||(b={})).Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE",b;var n})();class M extends Error{constructor(e,t){super(e),this.message=e,this.code=t}}const X=n=>{var e,t,r,o,l;const v=n.CapacitorCustomPlatform||null,i=n.Capacitor||{},R=i.Plugins=i.Plugins||{},d=n.CapacitorPlatforms,W=(null===(e=null==d?void 0:d.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==v?v.name:(n=>{var e,t;return(null==n?void 0:n.androidBridge)?"android":(null===(t=null===(e=null==n?void 0:n.webkit)||void 0===e?void 0:e.messageHandlers)||void 0===t?void 0:t.bridge)?"ios":"web"})(n)),le=(null===(t=null==d?void 0:d.currentPlatform)||void 0===t?void 0:t.isNativePlatform)||(()=>"web"!==W()),de=(null===(r=null==d?void 0:d.currentPlatform)||void 0===r?void 0:r.isPluginAvailable)||(s=>{const a=I.get(s);return!(!(null==a?void 0:a.platforms.has(W()))&&!K(s))}),K=(null===(o=null==d?void 0:d.currentPlatform)||void 0===o?void 0:o.getPluginHeader)||(s=>{var a;return null===(a=i.PluginHeaders)||void 0===a?void 0:a.find(S=>S.name===s)}),I=new Map,he=(null===(l=null==d?void 0:d.currentPlatform)||void 0===l?void 0:l.registerPlugin)||((s,a={})=>{const S=I.get(s);if(S)return console.warn(`Capacitor plugin "${s}" already registered. Cannot register plugins twice.`),S.proxy;const y=W(),_=K(s);let p;const me=function(){var c=(0,C.Z)(function*(){return!p&&y in a?p=p="function"==typeof a[y]?yield a[y]():a[y]:null!==v&&!p&&"web"in a&&(p=p="function"==typeof a.web?yield a.web():a.web),p});return function(){return c.apply(this,arguments)}}(),z=c=>{let f;const h=(...w)=>{const L=me().then(g=>{const E=((c,f)=>{var h,w;if(!_){if(c)return null===(w=c[f])||void 0===w?void 0:w.bind(c);throw new M(`"${s}" plugin is not implemented on ${y}`,b.Unimplemented)}{const L=null==_?void 0:_.methods.find(g=>f===g.name);if(L)return"promise"===L.rtype?g=>i.nativePromise(s,f.toString(),g):(g,E)=>i.nativeCallback(s,f.toString(),g,E);if(c)return null===(h=c[f])||void 0===h?void 0:h.bind(c)}})(g,c);if(E){const O=E(...w);return f=null==O?void 0:O.remove,O}throw new M(`"${s}.${c}()" is not implemented on ${y}`,b.Unimplemented)});return"addListener"===c&&(L.remove=(0,C.Z)(function*(){return f()})),L};return h.toString=()=>`${c.toString()}() { [capacitor code] }`,Object.defineProperty(h,"name",{value:c,writable:!1,configurable:!1}),h},Z=z("addListener"),V=z("removeListener"),pe=(c,f)=>{const h=Z({eventName:c},f),w=function(){var g=(0,C.Z)(function*(){const E=yield h;V({eventName:c,callbackId:E},f)});return function(){return g.apply(this,arguments)}}(),L=new Promise(g=>h.then(()=>g({remove:w})));return L.remove=(0,C.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield w()}),L},B=new Proxy({},{get(c,f){switch(f){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return _?pe:Z;case"removeListener":return V;default:return z(f)}}});return R[s]=B,I.set(s,{name:s,proxy:B,platforms:new Set([...Object.keys(a),..._?[y]:[]])}),B});return i.convertFileSrc||(i.convertFileSrc=s=>s),i.getPlatform=W,i.handleError=s=>n.console.error(s),i.isNativePlatform=le,i.isPluginAvailable=de,i.pluginMethodNoop=(s,a,S)=>Promise.reject(`${S} does not have an implementation of "${a}".`),i.registerPlugin=he,i.Exception=M,i.DEBUG=!!i.DEBUG,i.isLoggingEnabled=!!i.isLoggingEnabled,i.platform=i.getPlatform(),i.isNative=i.isNativePlatform(),i},A=(n=>n.Capacitor=X(n))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});var P=u(83668),$=u(44522),q=u(87711),ee=u(60807),te=u(18829);const ne=`${F.N.apiUrl}/attachment-uploader`;let re=(()=>{class n extends U.i{constructor(t){super(t,ne),this.httpClient=t}}return n.\u0275fac=function(t){return new(t||n)(P.LFG($.eN))},n.\u0275prov=P.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const N=`${F.N.apiUrl}/attachment-downloader`;let oe=(()=>{class n extends U.i{constructor(t,r,o,l){super(t,N),this.httpClient=t,this.file=r,this.loadingService=o,this.toastService=l}getDownload(t,r){this.httpClient.get(N+"/"+t,{responseType:"blob"}).toPromise().then(o=>{o&&(A.isNativePlatform()?this.mobileDownload(r,o):this.downloadFile(o,r))})}downloadFile(t,r){var o=document.createElement("a");o.href=URL.createObjectURL(t),o.download=r,o.click(),o.remove()}mobileDownload(t,r){return(0,D.mG)(this,void 0,void 0,function*(){URL.createObjectURL(r),this.file.checkDir(this.file.externalRootDirectory,"kbzsale_downloads").then(l=>{this.createFile(t,r)}).catch(l=>{this.file.createDir(this.file.externalRootDirectory,"kbzsale_downloads",!1).then(v=>{this.createFile(t,r)}).catch(v=>(0,D.mG)(this,void 0,void 0,function*(){console.log(v),yield this.loadingService.deactivate(),this.toastService.activate("File Error")}))})})}createFile(t,r){this.file.writeFile(this.file.externalRootDirectory+"/kbzsale_downloads",t,r,{replace:!0}).then(o=>(0,D.mG)(this,void 0,void 0,function*(){yield this.loadingService.deactivate(),this.toastService.activate("Download File")})).catch(o=>(0,D.mG)(this,void 0,void 0,function*(){console.log(o),yield this.loadingService.deactivate(),this.toastService.activate("Download File")}))}}return n.\u0275fac=function(t){return new(t||n)(P.LFG($.eN),P.LFG(q.$),P.LFG(ee.b),P.LFG(te.T))},n.\u0275prov=P.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Y=`${F.N.apiUrl}/attachment-ref`;let ie=(()=>{class n extends U.i{constructor(t){super(t,Y),this.httpClient=t}getAttachmentListRef(t,r){return this.httpClient.get(Y+"?refDocNo="+t+"&refDocType="+r)}}return n.\u0275fac=function(t){return new(t||n)(P.LFG($.eN))},n.\u0275prov=P.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},35618:(J,x,u)=>{u.d(x,{f:()=>H});var D=u(18260),F=u(91691),U=u(83668),C=u(44522);const T=`${D.N.apiUrl}/product`;let H=(()=>{class m extends F.i{constructor(G){super(G,T),this.httpClient=G,this.referenceID=null,this.creatingLeadId=0,this.referenceStatus=null}getAll(){return this.httpClient.get(T+"-view")}}return m.\u0275fac=function(G){return new(G||m)(U.LFG(C.eN))},m.\u0275prov=U.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);