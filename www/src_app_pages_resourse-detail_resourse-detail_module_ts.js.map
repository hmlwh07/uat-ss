{"version":3,"file":"src_app_pages_resourse-detail_resourse-detail_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAAuF;AAC3B;IAY/C,0BAA0B,SAA1B,0BAA0B;IAMrC,YAAmB,KAAqB,EAAU,KAAwB;QAAvD,UAAK,GAAL,KAAK,CAAgB;QAAU,UAAK,GAAL,KAAK,CAAmB;QALjE,eAAU,GAAkB,EAAE;QAC9B,YAAO,GAAY,EAAE;QACrB,gBAAW,GAAoB,EAAE;QACjC,aAAQ,GAAQ,EAAE;QAClB,gBAAW,GAAW,EAAE;IAC6C,CAAC;IAE/E,QAAQ;IAER,CAAC;IAED,WAAW,KAAK,CAAC;IAEjB,QAAQ;QACN,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAC,CAAC,CAAC;QACpB,MAAM,CAAC,KAAK,EAAE,CAAC;QACf,gFAAgF;QAChF,8GAA8G;QAC9G,gDAAgD;QAChD,8BAA8B;QAC9B,qBAAqB;QACrB,qBAAqB;QACrB,qBAAqB;IACvB,CAAC;CAEF;;YAtCQ,sEAAc;YADd,4DAAiB;;;yBAcvB,gDAAK;sBACL,gDAAK;0BACL,gDAAK;uBACL,gDAAK;0BACL,gDAAK;;AALK,0BAA0B;IALtC,wDAAS,CAAC;QACT,QAAQ,EAAE,yBAAyB;QACnC,mLAAmD;;KAEpD,CAAC;GACW,0BAA0B,CA0BtC;AA1BsC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACb2B;AACc;AACvC;AACa;AACiC;AACW;AACnD;AAEU;AACW;AAEM;AACiC;AACjC;AACK;AACC;AACA;IAOnE,uBAAuB,SAAvB,uBAAuB;IAyBlC,YAAoB,cAAkC,EAAU,QAAkB,EAAU,eAAgC,EAAU,QAAyB,EAAU,WAA+B,EAAU,MAAc,EAAU,GAAsB,EAAU,eAA0C,EAAU,UAAuB,EAAU,QAAkB,EAAU,YAAsB,EAAU,aAA4B,EAAS,YAAyB;QAArc,mBAAc,GAAd,cAAc,CAAoB;QAAU,aAAQ,GAAR,QAAQ,CAAU;QAAU,oBAAe,GAAf,eAAe,CAAiB;QAAU,aAAQ,GAAR,QAAQ,CAAiB;QAAU,gBAAW,GAAX,WAAW,CAAoB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAU,QAAG,GAAH,GAAG,CAAmB;QAAU,oBAAe,GAAf,eAAe,CAA2B;QAAU,eAAU,GAAV,UAAU,CAAa;QAAU,aAAQ,GAAR,QAAQ,CAAU;QAAU,iBAAY,GAAZ,YAAY,CAAU;QAAU,kBAAa,GAAb,aAAa,CAAe;QAAS,iBAAY,GAAZ,YAAY,CAAa;QAtBzd,cAAS,GAAQ,EAAE;QAEnB,WAAM,GAAG,MAAM,CAAC;QAChB,UAAK,GAAG,KAAK,CAAC;QAEd,aAAQ,GAAG;YACT,UAAU,EAAE,KAAK;YACjB,IAAI,EAAE,KAAK;YACX,OAAO,EAAE,KAAK;SACf;QACD,UAAK,GAAG;YACN,UAAU,EAAE,KAAK;YACjB,IAAI,EAAE,KAAK;YACX,OAAO,EAAE,KAAK;SACf;QACD,iBAAY,GAAQ,EAAE;QACtB,cAAS,GAAQ,EAAE;QACnB,mBAAc,GAAQ,EAAE;QACxB,gBAAW,GAAQ,EAAE;QACb,iBAAY,GAAG,EAAE;QACzB,gBAAW,GAAgB,EAAE;QAC7B,eAAU,GAAQ,EAAE,CAAC;IACwc,CAAC;IAExd,QAAQ;;YACZ,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,EAAE,EAAE;gBAC/E,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;aACrB;iBAAM;gBACL,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa;gBAC7C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW;gBAC3C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ;gBAClD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,YAAY;gBAClD,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;oBACxB,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;oBACpB,OAAM;iBACP;gBACD,IAAI,MAAM,GAAiB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBAExD,IAAI,IAAI,CAAC,cAAc,CAAC,WAAW,IAAI,WAAW,EAAE;oBAClD,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,IAAI,EAAE;oBACvC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,eAAe,IAAI,EAAE;iBAChD;qBAAM;oBACL,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,WAAW,IAAI,EAAE;oBACzC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,iBAAiB,IAAI,EAAE;iBAClD;gBACD,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,IAAI,QAAQ,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI;gBAC/D,IAAI,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE;oBAC9C,IAAI,CAAC,CAAC,IAAI,IAAI,OAAO;wBACnB,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC;gBAC9C,CAAC,CAAC;gBACF,wCAAwC;gBACxC,oDAAoD;gBACpD,wCAAwC;gBACxC,WAAW;gBACX,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;gBAClD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa;gBAC7C,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;gBAC5B,IAAI;gBAEJ,+DAA+D;gBAC/D,sBAAsB;gBACtB,qDAAqD;gBACrD,yCAAyC;gBACzC,+CAA+C;gBAC/C,MAAM;gBAEN,8CAA8C;gBAC9C,8BAA8B;gBAC9B,YAAY;gBACZ,mCAAmC;gBACnC,gGAAgG;gBAChG,UAAU;gBACV,wBAAwB;gBAExB,QAAQ;gBACR,qCAAqC;gBACrC,sDAAsD;gBACtD,iDAAiD;gBACjD,sDAAsD;gBACtD,QAAQ;gBAER,MAAM;gBAEN,IAAI;gBACJ,yDAAyD;gBACzD,mBAAmB;gBACnB,kDAAkD;gBAClD,sCAAsC;gBACtC,4CAA4C;gBAC5C,MAAM;gBACN,2CAA2C;gBAC3C,8BAA8B;gBAC9B,YAAY;gBACZ,mCAAmC;gBACnC,6FAA6F;gBAC7F,UAAU;gBACV,wBAAwB;gBAExB,QAAQ;gBACR,kCAAkC;gBAClC,sDAAsD;gBACtD,iDAAiD;gBACjD,sDAAsD;gBACtD,QAAQ;gBACR,MAAM;gBACN,IAAI;gBACJ,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE;aACzB;QACH,CAAC;KAAA;IACD,WAAW;QACT,IAAI,CAAC,cAAc,CAAC,aAAa,GAAG,IAAI;QACxC,IAAI,CAAC,cAAc,CAAC,QAAQ,GAAG,IAAI,CAAC;IACtC,CAAC;IAED,SAAS,CAAC,YAAY;QACpB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,EAAE,YAAY,CAAC;IACpD,CAAC;IAED,UAAU,CAAC,OAAY,EAAE,YAAY;QACnC,IAAI,KAAK,GAAG,CAAC;QACb,wCAAwC;QACxC,+EAA+E;QAC/E,IAAI,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM;QACtC,KAAK,IAAI,OAAO,IAAI,IAAI,CAAC,SAAS,EAAE;YAClC,IAAI,OAAO,CAAC,IAAI,IAAI,wEAAc,EAAE;gBAClC,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,OAAO,CAAC,EAAE,CAAC;gBACvD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS;gBAChD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE;gBAClC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ;gBAE9C,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC,GAAU,EAAE,EAAE;oBAEvH,IAAI,GAAG,EAAE;wBACP,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,IAAI,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;wBAC5C,KAAK,MAAM,IAAI,IAAI,GAAG,EAAE;4BACtB,IAAI,MAAM,GAAG,EAAE;4BACf,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,IAAI,EAAE;gCAC5B,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,IAAI,YAAY,IAAI,IAAI,CAAC,MAAM,IAAI,YAAY;oCACnF,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,KAAK;6BACnC;4BACD,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gCACvB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;6BAClB;iCAAM;gCACL,IAAI,GAAG,MAAM;6BACd;yBACF;wBAAA,CAAC;wBACF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI;wBAC/C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAE9D,IAAI,UAAU,IAAI,KAAK,EAAE;4BACvB,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE;yBACzB;qBACF;gBACH,CAAC,CAAC;aACH;YACD,KAAK,IAAI,CAAC;SAEX;QACD,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE;QACxB,MAAM;IAER,CAAC;IAED,QAAQ,CAAC,IAAc,EAAE,IAAS;QAChC,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC;QACzC,IAAI,KAAK,EAAE;YACT,IAAI,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC;YACnD,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,OAAO,EAAE,KAAK,CAAC;SACjD;IACH,CAAC;IAED,cAAc,CAAC,QAAuB;QACpC,uBAAuB;QACvB,iCAAiC;QACjC,yEAAyE;QACzE,gCAAgC;QAChC,qBAAqB;QACrB,yBAAyB;QACzB,0BAA0B;QAC1B,mFAAmF;QACnF,yBAAyB;QACzB,oDAAoD;QACpD,iBAAiB;QACjB,sBAAsB;QACtB,UAAU;QACV,8BAA8B;QAC9B,QAAQ;QACR,mBAAmB;QACnB,wBAAwB;QACxB,oCAAoC;QACpC,0BAA0B;QAC1B,8DAA8D;QAC9D,UAAU;QACV,kCAAkC;QAClC,eAAe;QACf,0FAA0F;QAC1F,wBAAwB;QACxB,+CAA+C;QAC/C,QAAQ;QACR,kBAAkB;QAClB,MAAM;QACN,IAAI;QACJ,qBAAqB;QAErB,IAAI,WAAW,GAAG,EAAE;QACpB,IAAI,WAAW,GAAa,EAAE;QAC9B,IAAI,YAAY,GAAkB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QACtE,KAAK,IAAI,CAAC,IAAI,YAAY,EAAE;YAC1B,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;YACtC,IAAI,IAAI,GAAG,KAAK;YAChB,IAAI,CAAC,CAAC,CAAC,UAAU,EAAE;gBACjB,IAAI,CAAC,CAAC,UAAU,EAAE;oBAChB,IAAI,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,CAAC,UAAU,CAAC;oBAC/D,IAAI,KAAK,GAAG,CAAC,EAAE;wBACb,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC;qBAC/B;yBAAM;wBACL,IAAI,GAAG,IAAI;qBACZ;oBACD,qBAAqB;oBACrB,0CAA0C;iBAC3C;gBACD,IAAI,CAAC,IAAI,EAAE;oBACT,IAAI,QAAQ,GAAG,CAAC,CAAC,IAAI;oBACrB,IAAI,YAAY,GAAG;wBACjB,IAAI,EAAE,QAAQ;wBACd,IAAI,EAAE,CAAC,CAAC,KAAK;wBACb,OAAO,EAAE,CAAC,CAAC,IAAI;wBACf,OAAO,EAAE,CAAC,CAAC,CAAC,MAAM,IAAI,OAAO,IAAI,CAAC,CAAC,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;qBAC7F;oBACD,IAAI,OAAO,GAAG;wBACZ,KAAK,EAAE,CAAC,CAAC,UAAU,IAAI,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,IAAI;wBACxC,IAAI,EAAE,CAAC,YAAY,CAAC;wBACpB,IAAI,EAAE,CAAC,CAAC,KAAK;wBACb,OAAO,EAAE,CAAC,CAAC,IAAI;wBACf,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;wBACnD,OAAO,EAAE,CAAC,CAAC,CAAC,MAAM,IAAI,OAAO,IAAI,CAAC,CAAC,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;qBAC7F;oBACD,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC;iBAC1B;qBAAM;oBACL,IAAI,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC;oBACjF,IAAI,KAAK,IAAI,CAAC,EAAE;wBACd,IAAI,QAAQ,GAAG,CAAC,CAAC,IAAI;wBACrB,IAAI,YAAY,GAAG;4BACjB,IAAI,EAAE,QAAQ;4BACd,IAAI,EAAE,CAAC,CAAC,KAAK;4BACb,OAAO,EAAE,CAAC,CAAC,IAAI;4BACf,OAAO,EAAE,CAAC,CAAC,CAAC,MAAM,IAAI,OAAO,IAAI,CAAC,CAAC,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;yBAC7F;wBACD,WAAW,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC;qBAC3C;iBACF;gBACD,WAAW;aACZ;SACF;QACD,OAAO,WAAW;IACpB,CAAC;IAED,YAAY,CAAC,IAAW,EAAE,IAAS;QACjC,KAAK,IAAI,GAAG,IAAI,IAAI,EAAE;YACpB,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;gBAClB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;oBACpC,IAAI,KAAK,GAAG,EAAE;oBACd,IAAI,GAAG,CAAC,IAAI,IAAI,OAAO,IAAI,GAAG,CAAC,OAAO,IAAI,UAAU,EAAE;wBACpD,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;qBACjD;oBACD,IAAI,GAAG,CAAC,IAAI,IAAI,MAAM,EAAE;wBACtB,OAAO,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,YAAY,CAAC;qBAC7D;oBACD,IAAI,GAAG,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;wBAC1B,IAAI,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;wBAChE,IAAI,SAAS,EAAE;4BACb,OAAO,SAAS,CAAC,IAAI;yBACtB;qBACF;oBACD,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC;iBACtB;aACF;SACF;IACH,CAAC;IAED,aAAa,CAAC,KAAmB,EAAE,KAAa;QAE9C,IAAI,IAAmB;QACvB,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,KAAK,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YACjD,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;gBAAE,SAAQ;YAC3B,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,KAAK,CAAC,CAAC;YACvD,IAAI,IAAI,EAAE;gBACR,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE;oBACpB,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,IAAI,WAAW,IAAI,CAAC,CAAC,KAAK,IAAI,OAAO,EAAE;wBAC3E,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI;wBAC7G,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ;qBAC5H;yBAAM,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,IAAI,OAAO,EAAE;wBACxD,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI;qBAC5H;oBACD,OAAO,CAAC;gBACV,CAAC,CAAC;gBAEF,MAAK;aACN;YACD,QAAQ;SACT;QAED,OAAO,IAAI;IACb,CAAC;IAED,gBAAgB,CAAC,YAAY;QAC3B,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YAC1D,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;YACtC,IAAI,OAAO,CAAC,EAAE,IAAI,UAAU,IAAI,OAAO,CAAC,EAAE,IAAI,OAAO,EAAE;gBACrD,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,OAAO,CAAC,EAAE,CAAC;gBACvD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS;gBAChD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE;gBAClC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ;aAE/C;SACF;QACD,wCAAwC;QACxC,6DAA6D;QAE7D,MAAM;QACN,KAAK;IACP,CAAC;IAED,QAAQ;QACN,kCAAkC;QAClC,8CAA8C;QAC9C,yCAAyC;QACzC,sDAAsD;QACtD,SAAS;QACT,wDAAwD;QACxD,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;IACtB,CAAC;IAED,YAAY;QACV,IAAI,CAAC,cAAc,CAAC,gBAAgB,GAAG,IAAI,CAAC,IAAI;QAChD,IAAI,CAAC,cAAc,CAAC,QAAQ,GAAG,QAAQ;QACvC,IAAI,CAAC,cAAc,CAAC,IAAI,GAAG,QAAQ;QACnC,IAAI,CAAC,cAAc,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,EAAE;QACxD,IAAI,CAAC,cAAc,CAAC,eAAe,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM;QAChE,IAAI,CAAC,cAAc,CAAC,QAAQ,GAAG,IAAI;QACnC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,eAAe,CAAC;IAC5C,CAAC;IACD,QAAQ,CAAC,UAAU,EAAE,SAAS;QAC5B,IAAI,UAAU;YACZ,OAAO,2DAAY,CAAC,UAAU,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE,CAAC;QACvD,OAAO,IAAI;IACb,CAAC;IAED,cAAc,CAAC,KAAK,EAAE,OAAsB,EAAE,EAAU,EAAE,IAAY;QACpE,IAAI,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,KAAK,CAAC;QACnD,IAAI,SAAS,EAAE;YACb,IAAI,IAAI,CAAC,YAAY;gBACnB,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC,IAAI;YAC9C,OAAO,SAAS,CAAC,IAAI;SACtB;QACD,OAAO,KAAK;IACd,CAAC;IAED,SAAS;QACP,MAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,mHAA0B,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;QACrG,QAAQ,CAAC,iBAAiB,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW;QACpE,QAAQ,CAAC,iBAAiB,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ;QAClE,QAAQ,CAAC,iBAAiB,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI;QAC9C,QAAQ,CAAC,iBAAiB,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY;QACvD,QAAQ,CAAC,iBAAiB,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,EAAE;QAC/D,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;QAExC,CAAC,CAAC;IACJ,CAAC;IAED,UAAU;QACR,MAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,0FAAqB,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;QAChG,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;YACtC,IAAI,GAAG,EAAE;gBACP,IAAI,GAAG,CAAC,IAAI,IAAI,MAAM,EAAE;oBACtB,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE;wBAClG,IAAI,QAAQ,EAAE;4BACZ,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,yBAAyB,EAAE,iBAAiB,CAAC,CAAC;4BACzE,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,IAAI;4BAC1B,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,GAAG,CAAC,IAAI;yBAExD;oBACH,CAAC,CAAC;iBACH;aACF;QACH,CAAC,CAAC;IACJ,CAAC;CAEF;;YA/YQ,yFAAkB;YAfK,sDAAQ;YAS/B,4EAAe;YAIf,kFAAe;YACf,wFAAkB;YAZlB,oDAAM;YADN,6DAAiB;YAIjB,sGAAyB;YALf,yDAAW;YAArB,sDAAQ;YAGR,iEAAQ;YAKR,iEAAa;YAJb,iGAAY;;AAmBR,uBAAuB;IALnC,yDAAS,CAAC;QACT,QAAQ,EAAE,qBAAqB;QAC/B,+KAA+C;;KAEhD,CAAC;GACW,uBAAuB,CAuYnC;AAvYmC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBK;AAC6B;AACA;AACJ;AACN;AACkB;AAC/B;AAC0C;AAC9B;AACqB;IAqBnE,oBAAoB,SAApB,oBAAoB;CAAI;AAAxB,oBAAoB;IAnBhC,uDAAQ,CAAC;QACR,YAAY,EAAE,CAAC,+EAAuB,EAAE,yFAAqB,CAAC;QAC9D,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,+DAAmB;YACnB,sEAAc;YACd,sFAAmB;YACnB,iGAAqB;YACrB,qEAAkB;YAClB,mEAAqB,CAAC;gBACpB;oBACE,IAAI,EAAE,EAAE;oBACR,SAAS,EAAE,+EAAuB;iBACnC;aACF,CAAC;SACH;QACD,SAAS,EAAE,CAAC,qDAAQ,EAAE,wDAAW,CAAC;KACnC,CAAC;GACW,oBAAoB,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;AC9B2C;AAChB;AACP;AACkC;AACY;IAQtF,qBAAqB,SAArB,qBAAqB;IAQhC,YAAmB,KAAqB,EAAS,UAAmC,EAAU,YAA0B;QAArG,UAAK,GAAL,KAAK,CAAgB;QAAS,eAAU,GAAV,UAAU,CAAyB;QAAU,iBAAY,GAAZ,YAAY,CAAc;QANxH,wBAAmB,GAAW;YAC5B,UAAU,EAAE,CAAC;YACb,aAAa,EAAE,GAAG;YAClB,cAAc,EAAE,GAAG;SACpB,CAAC;IAE0H,CAAC;IAE7H,QAAQ;IAER,CAAC;IACD,eAAe;QACb,qCAAqC;QACrC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC,8CAA8C;QACpF,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC,CAAC,iDAAiD;IAC9E,CAAC;IACD,SAAS;QACP,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE;IAC3B,CAAC;IACD,QAAQ;QACN,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,CAAC;QAC3C,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACpE,IAAI,WAAW,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,kBAAkB,CAAC;QAC1E,IAAI,IAAI,GAAG;YACT,OAAO,EAAE,MAAM;YACf,QAAQ,EAAE,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE;YAC9B,QAAQ,EAAE,KAAK;YACf,QAAQ,EAAE,WAAW;YACrB,WAAW,EAAE,KAAK;YAClB,aAAa,EAAE,KAAK;SACrB;QACD,0BAA0B;QAC1B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;YAClD,IAAI,GAAG,EAAE;gBACP,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;aAChD;QACH,CAAC,CAAC;IACJ,CAAC;IAED,eAAe;QACb,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,8BAA8B,EAAE,iBAAiB,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;YAC1F,IAAI,MAAM,EAAE;gBACV,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC;aACxC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;CACF;;YA3DQ,sEAAc;YAGd,oGAAuB;YADvB,iGAAY;;;2BAUlB,oDAAS,SAAC,+DAAY;;AADZ,qBAAqB;IALjC,wDAAS,CAAC;QACT,QAAQ,EAAE,qBAAqB;QAC/B,6KAA6C;;KAE9C,CAAC;GACW,qBAAqB,CAgDjC;AAhDiC;;;;;;;;;;;;;;;ACZlC,iEAAe,+1BAA+1B;;;;;;;;;;;;;;ACA92B,iEAAe,sQAAsQ,WAAW,kQAAkQ,kCAAkC,oIAAoI,kTAAkT,6EAA6E,uGAAuG,+YAA+Y,8BAA8B,8oBAA8oB,8DAA8D,KAAK,YAAY,weAAwe,YAAY,4DAA4D,2BAA2B,6QAA6Q,4FAA4F,4GAA4G,iPAAiP,gEAAgE,qJAAqJ,wEAAwE,0CAA0C,0PAA0P,6KAA6K,8CAA8C,sLAAsL,yBAAyB,yCAAyC,sEAAsE,kJAAkJ,6pBAA6pB,4DAA4D,KAAK,YAAY,4GAA4G,+BAA+B,6FAA6F,4EAA4E,+BAA+B,oUAAoU,oDAAoD,KAAK,0JAA0J,+DAA+D,uCAAuC,oCAAoC,8hBAA8hB,oBAAoB,ipCAAipC;;;;;;;;;;;;;;ACAttQ,iEAAe,q2BAAq2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAp3B;AACA;AACA;;AAEA,MAAMO,YAAN,CAAmB;AACfC,EAAAA,WAAW,CAACC,UAAD,EAAa;AACpB;AACA,SAAKA,UAAL,GAAkBA,UAAlB;AACA,SAAKC,OAAL,GAAe,KAAKA,OAAL,IAAgB,EAA/B;AACA,SAAKC,YAAL,GAAoB,IAAIV,uDAAJ,EAApB;AACA,SAAKW,UAAL,GAAkB,IAAIX,uDAAJ,EAAlB;AACH;;AACDY,EAAAA,kBAAkB,GAAG;AACjB,UAAMC,MAAM,GAAG,KAAKL,UAAL,CAAgBM,aAAhB,CAA8BC,aAA9B,CAA4C,QAA5C,CAAf;;AACA,QAAI,KAAKN,OAAL,CAAaO,YAAjB,EAA+B;AAC3BH,MAAAA,MAAM,CAACI,MAAP,GAAgB,KAAKR,OAAL,CAAaO,YAA7B;AACH;;AACD,QAAI,KAAKP,OAAL,CAAaS,WAAjB,EAA8B;AAC1BL,MAAAA,MAAM,CAACM,KAAP,GAAe,KAAKV,OAAL,CAAaS,WAA5B;AACH;;AACD,SAAKE,YAAL,GAAoB,IAAIf,qDAAJ,CAA+BQ,MAA/B,EAAuC,KAAKJ,OAA5C,CAApB;AACA,SAAKW,YAAL,CAAkBE,OAAlB,GAA4B,KAAKA,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAA5B;AACA,SAAKH,YAAL,CAAkBI,KAAlB,GAA0B,KAAKA,KAAL,CAAWD,IAAX,CAAgB,IAAhB,CAA1B;AACH;;AACDE,EAAAA,WAAW,GAAG;AACV,UAAMZ,MAAM,GAAG,KAAKL,UAAL,CAAgBM,aAAhB,CAA8BC,aAA9B,CAA4C,QAA5C,CAAf;AACAF,IAAAA,MAAM,CAACM,KAAP,GAAe,CAAf;AACAN,IAAAA,MAAM,CAACI,MAAP,GAAgB,CAAhB;AACH;;AACDS,EAAAA,YAAY,GAAG;AACX;AACA;AACA;AACA,UAAMC,KAAK,GAAGC,IAAI,CAACC,GAAL,CAASC,MAAM,CAACC,gBAAP,IAA2B,CAApC,EAAuC,CAAvC,CAAd;AACA,UAAMlB,MAAM,GAAG,KAAKO,YAAL,CAAkBP,MAAjC;AACAA,IAAAA,MAAM,CAACM,KAAP,GAAeN,MAAM,CAACmB,WAAP,GAAqBL,KAApC;AACAd,IAAAA,MAAM,CAACI,MAAP,GAAgBJ,MAAM,CAACoB,YAAP,GAAsBN,KAAtC;AACAd,IAAAA,MAAM,CAACqB,UAAP,CAAkB,IAAlB,EAAwBC,KAAxB,CAA8BR,KAA9B,EAAqCA,KAArC;AACA,SAAKP,YAAL,CAAkBgB,KAAlB,GATW,CASgB;AAC9B,GAnCc,CAoCf;;;AACAC,EAAAA,MAAM,GAAG;AACL,QAAI,KAAKjB,YAAT,EAAuB;AACnB,aAAO,KAAKA,YAAL,CAAkBiB,MAAlB,EAAP;AACH,KAFD,MAGK;AACD,aAAO,EAAP;AACH;AACJ,GA5Cc,CA6Cf;;;AACAC,EAAAA,QAAQ,CAACC,MAAD,EAAS;AACb,SAAKnB,YAAL,CAAkBkB,QAAlB,CAA2BC,MAA3B;AACH,GAhDc,CAiDf;;;AACAC,EAAAA,SAAS,CAACC,SAAD,EAAYC,OAAZ,EAAqB;AAC1B,WAAO,KAAKtB,YAAL,CAAkBoB,SAAlB,CAA4BC,SAA5B,EAAuCC,OAAvC,CAAP,CAD0B,CAC8B;AAC3D,GApDc,CAqDf;;;AACAC,EAAAA,WAAW,CAACC,OAAD,EAAUnC,OAAO,GAAG,EAApB,EAAwB;AAC/B;AACA,QAAI,CAACA,OAAO,CAACoC,cAAR,CAAuB,QAAvB,CAAD,IACA,KAAKpC,OAAL,CAAaO,YADjB,EAC+B;AAC3BP,MAAAA,OAAO,CAACQ,MAAR,GAAiB,KAAKR,OAAL,CAAaO,YAA9B;AACH;;AACD,QAAI,CAACP,OAAO,CAACoC,cAAR,CAAuB,OAAvB,CAAD,IAAoC,KAAKpC,OAAL,CAAaS,WAArD,EAAkE;AAC9DT,MAAAA,OAAO,CAACU,KAAR,GAAgB,KAAKV,OAAL,CAAaS,WAA7B;AACH;;AACD,SAAKE,YAAL,CAAkBuB,WAAlB,CAA8BC,OAA9B,EAAuCnC,OAAvC;AACH,GAhEc,CAiEf;;;AACA2B,EAAAA,KAAK,GAAG;AACJ,SAAKhB,YAAL,CAAkBgB,KAAlB;AACH,GApEc,CAqEf;;;AACAU,EAAAA,OAAO,GAAG;AACN,WAAO,KAAK1B,YAAL,CAAkB0B,OAAlB,EAAP;AACH,GAxEc,CAyEf;;;AACAC,EAAAA,GAAG,GAAG;AACF,SAAK3B,YAAL,CAAkB2B,GAAlB;AACH,GA5Ec,CA6Ef;;;AACAC,EAAAA,EAAE,GAAG;AACD,SAAK5B,YAAL,CAAkB4B,EAAlB;AACH,GAhFc,CAiFf;;;AACAC,EAAAA,GAAG,CAACC,MAAD,EAASC,KAAT,EAAgB;AACf,YAAQD,MAAR;AACI,WAAK,cAAL;AACI,aAAK9B,YAAL,CAAkBP,MAAlB,CAAyBI,MAAzB,GAAkCkC,KAAlC;AACA;;AACJ,WAAK,aAAL;AACI,aAAK/B,YAAL,CAAkBP,MAAlB,CAAyBM,KAAzB,GAAiCgC,KAAjC;AACA;;AACJ;AACI,aAAK/B,YAAL,CAAkB8B,MAAlB,IAA4BC,KAA5B;AARR;AAUH,GA7Fc,CA8Ff;;;AACA7B,EAAAA,OAAO,GAAG;AACN,SAAKZ,YAAL,CAAkB0C,IAAlB,CAAuB,IAAvB;AACH,GAjGc,CAkGf;;;AACA5B,EAAAA,KAAK,GAAG;AACJ,SAAKb,UAAL,CAAgByC,IAAhB,CAAqB,IAArB;AACH;;AACDC,EAAAA,QAAQ,GAAG;AACP,WAAO,KAAKjC,YAAZ;AACH;;AAxGc;;AA0GnBd,YAAY,CAACgD,IAAb;AAAA,mBAAyGhD,YAAzG,EAA+FP,+DAA/F,CAAuIA,qDAAvI;AAAA;;AACAO,YAAY,CAACkD,IAAb,kBAD+FzD,+DAC/F;AAAA,QAA6FO,YAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAD+FP,MAAAA,uDACqK,aAApQ;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA,qDAF+FA,+DAE/F,CAA2FO,YAA3F,EAAqH,CAAC;AAC1GmD,IAAAA,IAAI,EAAExD,oDADoG;AAE1GyD,IAAAA,IAAI,EAAE,CAAC;AACCC,MAAAA,QAAQ,EAAE,mBADX;AAECC,MAAAA,QAAQ,EAAE;AAFX,KAAD;AAFoG,GAAD,CAArH,EAM4B,YAAY;AAAE,WAAO,CAAC;AAAEH,MAAAA,IAAI,EAAE1D,qDAAawD;AAArB,KAAD,CAAP;AAAmC,GAN7E,EAM+F;AAAE9C,IAAAA,OAAO,EAAE,CAAC;AAC3FgD,MAAAA,IAAI,EAAEvD,gDAAKA;AADgF,KAAD,CAAX;AAE/EQ,IAAAA,YAAY,EAAE,CAAC;AACf+C,MAAAA,IAAI,EAAEtD,iDAAMA;AADG,KAAD,CAFiE;AAI/EQ,IAAAA,UAAU,EAAE,CAAC;AACb8C,MAAAA,IAAI,EAAEtD,iDAAMA;AADC,KAAD;AAJmE,GAN/F;AAAA;;AAcA,MAAM0D,kBAAN,CAAyB;;AAEzBA,kBAAkB,CAACP,IAAnB;AAAA,mBAA+GO,kBAA/G;AAAA;;AACAA,kBAAkB,CAACC,IAAnB,kBAnB+F/D,8DAmB/F;AAAA,QAAgH8D,kBAAhH;AAAA,iBAAmJvD,YAAnJ;AAAA,YAA4KA,YAA5K;AAAA;AACAuD,kBAAkB,CAACE,IAAnB,kBApB+FhE,8DAoB/F;AAAA,YAA8I,EAA9I;AAAA;;AACA;AAAA,qDArB+FA,+DAqB/F,CAA2F8D,kBAA3F,EAA2H,CAAC;AAChHJ,IAAAA,IAAI,EAAErD,mDAD0G;AAEhHsD,IAAAA,IAAI,EAAE,CAAC;AACCM,MAAAA,YAAY,EAAE,CAAC1D,YAAD,CADf;AAEC2D,MAAAA,OAAO,EAAE,EAFV;AAGCC,MAAAA,OAAO,EAAE,CAAC5D,YAAD;AAHV,KAAD;AAF0G,GAAD,CAA3H;AAAA;AASA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;AClJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,YAAY;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,4FAA4F,aAAa;AACzG;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,aAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,aAAa;AACb,aAAa;;AAEb;AACA;;AAEA;AACA;;AAEA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;;AAEjB;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,kBAAkB,eAAe;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,wBAAwB;AAC1C;;AAEA;AACA,sBAAsB,kBAAkB;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,kBAAkB;AACtC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA,iEAAe,YAAY,EAAC","sources":["./src/app/pages/products/print-preview-modal/print-preview-modal.component.ts","./src/app/pages/resourse-detail/resourse-detail.component.ts","./src/app/pages/resourse-detail/resourse-detail.module.ts","./src/app/pages/resourse-detail/signature-pad/signature-pad.component.ts","./src/app/pages/products/print-preview-modal/print-preview-modal.component.html","./src/app/pages/resourse-detail/resourse-detail.component.html","./src/app/pages/resourse-detail/signature-pad/signature-pad.component.html","./node_modules/angular2-signaturepad/fesm2020/angular2-signaturepad.mjs","./node_modules/signature_pad/dist/signature_pad.mjs"],"sourcesContent":["import { ChangeDetectorRef, Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { FormUIService } from '../../dashboard/services/form-ui.service';\r\nimport { FromGroupData } from '../../form-component/field.interface';\r\nimport { PrintConfig, PrintFormat } from '../models/print-config.interface';\r\nimport { Product } from '../models/product.dto';\r\n\r\n\r\n@Component({\r\n  selector: 'app-print-preview-modal',\r\n  templateUrl: './print-preview-modal.component.html',\r\n  styleUrls: ['./print-preview-modal.component.scss'],\r\n})\r\nexport class PrintPreviewModalComponent implements OnInit, OnDestroy {\r\n  @Input() configData: PrintFormat[] = []\r\n  @Input() product: Product = {}\r\n  @Input() configOrder: FromGroupData[] = []\r\n  @Input() tempData: any = {}\r\n  @Input() resourcesId: string = \"\"\r\n  constructor(public modal: NgbActiveModal, private cdRef: ChangeDetectorRef) { }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  ngOnDestroy() { }\r\n\r\n  printPDf() {\r\n    window.scrollTo(0,0)\r\n    window.print();\r\n    // const printContent = document.getElementById(\"componentID\").cloneNode(true);;\r\n    // const WindowPrt = window.open('', '', 'left=0,top=0,width=900,height=900,toolbar=0,scrollbars=0,status=0');\r\n    // WindowPrt.document.body.append(printContent);\r\n    // WindowPrt.document.close();\r\n    // WindowPrt.focus();\r\n    // WindowPrt.print();\r\n    // WindowPrt.close();\r\n  }\r\n\r\n}\r\n","import { DatePipe, DecimalPipe, Location } from '@angular/common';\nimport { ChangeDetectorRef, Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { AlertService } from 'src/app/modules/loading-toast/alert-model/alert.service';\nimport { AttachmentDownloadService } from '../../_metronic/core/services/attachment-data.service';\nimport { checkVaidDep } from '../check-parent';\nimport { ConfigInput, ConfigPage, FromGroupData, OptionValue } from '../form-component/field.interface';\nimport { PolicyService } from '../policy/policy.service';\nimport { PageDataService } from '../product-form/page-data.service';\nimport { PrintConfig } from '../products/models/print-config.interface';\nimport { PageUIType, ProductPages } from '../products/models/product.dto';\nimport { PrintPreviewModalComponent } from '../products/print-preview-modal/print-preview-modal.component';\nimport { AddOnQuoService } from '../products/services/add-on-quo.service';\nimport { CoverageQuoService } from '../products/services/coverage-quo.service';\nimport { ProductDataService } from '../products/services/products-data.service';\nimport { SignaturePadComponent } from './signature-pad/signature-pad.component';\n\n@Component({\n  selector: 'app-resourse-detail',\n  templateUrl: './resourse-detail.component.html',\n  styleUrls: ['./resourse-detail.component.scss']\n})\nexport class ResourseDetailComponent implements OnInit, OnDestroy {\n  premiumAmt: string\n  item: any\n  resultObj: any = {}\n  type: string\n  Object = Object;\n  Array = Array;\n  pageOrder: any[]\n  coverage = {\n    sumInsured: false,\n    unit: false,\n    premium: false,\n  }\n  addon = {\n    sumInsured: false,\n    unit: false,\n    premium: false,\n  }\n  coverageData: any = {}\n  addOnData: any = {}\n  resourceDetail: any = {}\n  detailInput: any = {}\n  private formatedData = {}\n  printConfig: PrintConfig = {}\n  signFileId: any = \"\";\n  constructor(private productService: ProductDataService, private location: Location, private pageDataService: PageDataService, private addonQuo: AddOnQuoService, private coverageQuo: CoverageQuoService, private router: Router, private cdf: ChangeDetectorRef, private downloadService: AttachmentDownloadService, private numberPipe: DecimalPipe, private datePipe: DatePipe, private modalService: NgbModal, private policyService: PolicyService,private alertService:AlertService) { }\n\n  async ngOnInit() {\n    if (!this.productService.createingProd || !this.productService.createingProd.id) {\n      this.location.back()\n    } else {\n      this.item = this.productService.createingProd\n      this.type = this.productService.previewType\n      this.resourceDetail = this.productService.editData\n      this.signFileId = this.resourceDetail.attachmentId\n      if (!this.resourceDetail) {\n        this.location.back()\n        return\n      }\n      let pageUI: ProductPages = JSON.parse(this.item.config);\n\n      if (this.productService.previewType == 'quotation') {\n        this.pageOrder = pageUI.quotation || []\n        this.detailInput = pageUI.quotation_input || {}\n      } else {\n        this.pageOrder = pageUI.application || []\n        this.detailInput = pageUI.application_input || {}\n      }\n      let dumType = this.type == 'policy' ? 'application' : this.type\n      let tempFormData = this.item.productUIs.map(x => {\n        if (x.type == dumType)\n          return JSON.parse(x.dynamicProduct.config)\n      })\n      // if (this.productService.resultData) {\n      //   this.resultObj = this.productService.resultData\n      //   this.rechangePageData(tempFormData)\n      // } else {\n      this.printConfig = JSON.parse(this.item.pdfConfig)\n      this.item = this.productService.createingProd\n      this.getDetail(tempFormData)\n      // }\n\n      // if (this.item.coverages && this.item.coverages.length > 0) {\n      //   this.coverage = {\n      //     sumInsured: this.item.coverages[0].sumInsured,\n      //     unit: this.item.coverages[0].unit,\n      //     premium: this.item.coverages[0].premium,\n      //   }\n\n      //   for (const item of this.item.coverages) {\n      //     let response: any = {};\n      //     try {\n      //       if (this.resourceDetail) {\n      //         response = await this.coverageQuo.getOne(item.id, this.resourceDetail.id).toPromise()\n      //       }\n      //     } catch (error) {\n\n      //     }\n      //     this.coverageData[item.id] = {\n      //       sum: response ? response.sumInsured || 0 : 0,\n      //       unit: response ? response.unit || 0 : 0,\n      //       premium: response ? response.premium || 0 : 0\n      //     }\n\n      //   }\n\n      // }\n      // if (this.item.addOns && this.item.addOns.length > 0) {\n      //   this.addon = {\n      //     sumInsured: this.item.addOns[0].sumInsured,\n      //     unit: this.item.addOns[0].unit,\n      //     premium: this.item.addOns[0].premium,\n      //   }\n      //   for (const item of this.item.addOns) {\n      //     let response: any = {};\n      //     try {\n      //       if (this.resourceDetail) {\n      //         response = await this.addonQuo.getOne(item.id, this.resourceDetail.id).toPromise()\n      //       }\n      //     } catch (error) {\n\n      //     }\n      //     this.addOnData[item.id] = {\n      //       sum: response ? response.sumInsured || 0 : 0,\n      //       unit: response ? response.unit || 0 : 0,\n      //       premium: response ? response.premium || 0 : 0\n      //     }\n      //   }\n      // }\n      this.cdf.detectChanges()\n    }\n  }\n  ngOnDestroy() {\n    this.productService.createingProd = null\n    this.productService.editData = null;\n  }\n\n  getDetail(tempFormData) {\n    this.getOldData(this.resourceDetail, tempFormData)\n  }\n\n  getOldData(oldData: any, tempFormData) {\n    let index = 0\n    // this.pageOrder.forEach((element) => {\n    // let lengthData = this.pageOrder.filter(x => x.type == PageUIType.DYN).length\n    let lengthData = this.pageOrder.length\n    for (let element of this.pageOrder) {\n      if (element.type == PageUIType.DYN) {\n        let page = this.findPageValue(tempFormData, element.id)\n        this.pageOrder[index].tableName = page.tableName\n        this.pageOrder[index].id = page.id\n        this.pageOrder[index].controls = page.controls\n\n        this.pageDataService.getDetail(page.tableName, oldData.id, page.id, true, page.controls).toPromise().then((res: any[]) => {\n\n          if (res) {\n            let temp = page.pageType == 'form' ? {} : []\n            for (const data of res) {\n              let tmpObj = {}\n              for (const item of data.data) {\n                if (item.column != 'id' && item.column != 'created_at' && item.column != 'updated_at')\n                  tmpObj[item.column] = item.value\n              }\n              if (Array.isArray(temp)) {\n                temp.push(tmpObj)\n              } else {\n                temp = tmpObj\n              }\n            };\n            this.resultObj[page.tableName + page.id] = temp\n            this.formatedData = JSON.parse(JSON.stringify(this.resultObj))\n\n            if (lengthData == index) {\n              this.cdf.detectChanges()\n            }\n          }\n        })\n      }\n      index += 1\n\n    }\n    this.cdf.detectChanges()\n    // });\n\n  }\n\n  download(cols: string[], data: any) {\n    let value = this.getOtherData(cols, data)\n    if (value) {\n      let valueId = value.split(\"].\")[0].replace(\"[\", \"\")\n      this.downloadService.getDownload(valueId, value)\n    }\n  }\n\n  getFormatTable(controls: ConfigInput[]) {\n    // let tableReform = []\n    // let parentArray: string[] = []\n    // let tempControls: ConfigInput[] = JSON.parse(JSON.stringify(controls))\n    // for (let x of tempControls) {\n    //   let skip = false\n    //   if (!x.isHideView) {\n    //     if (x.dependency) {\n    //       let index = parentArray.findIndex(data => data == x.dependency.parentName)\n    //       if (index < 0) {\n    //         parentArray.push(x.dependency.parentName)\n    //       } else {\n    //         skip = true\n    //       }\n    //       // parentArray.push()\n    //     }\n    //     if (!skip) {\n    //       let tempObj = {\n    //         title: x.label || x.name,\n    //         cols: [x.name],\n    //         parent: x.dependency ? x.dependency.parentName : \"\"\n    //       }\n    //       tableReform.push(tempObj)\n    //     } else {\n    //       let index = tableReform.findIndex(data => data.parent == x.dependency.parentName)\n    //       if (index >= 0)\n    //         tableReform[index].cols.push(x.name)\n    //     }\n    //     // return x\n    //   }\n    // }\n    // return tableReform\n\n    let tableReform = []\n    let parentArray: string[] = []\n    let tempControls: ConfigInput[] = JSON.parse(JSON.stringify(controls))\n    for (let x of tempControls) {\n      x.options = x.options ? x.options : []\n      let skip = false\n      if (!x.isHideView) {\n        if (x.tableTitle) {\n          let index = parentArray.findIndex(data => data == x.tableTitle)\n          if (index < 0) {\n            parentArray.push(x.tableTitle)\n          } else {\n            skip = true\n          }\n          // parentArray.push()\n          // x.master == 'true' ? x.name + \"Value\" :\n        }\n        if (!skip) {\n          let tempName = x.name\n          let otherNameObj = {\n            name: tempName,\n            type: x.input,\n            subType: x.type,\n            options: (x.master == \"false\" || x.master == false) && x.options.length > 0 ? x.options : []\n          }\n          let tempObj = {\n            title: x.tableTitle || x.label || x.name,\n            cols: [otherNameObj],\n            type: x.input,\n            subType: x.type,\n            parent: x.dependency ? x.dependency.parentName : \"\",\n            options: (x.master == \"false\" || x.master == false) && x.options.length > 0 ? x.options : []\n          }\n          tableReform.push(tempObj)\n        } else {\n          let index = tableReform.findIndex(data => data.parent == x.dependency.parentName)\n          if (index >= 0) {\n            let tempName = x.name\n            let otherNameObj = {\n              name: tempName,\n              type: x.input,\n              subType: x.type,\n              options: (x.master == \"false\" || x.master == false) && x.options.length > 0 ? x.options : []\n            }\n            tableReform[index].cols.push(otherNameObj)\n          }\n        }\n        // return x\n      }\n    }\n    return tableReform\n  }\n\n  getOtherData(cols: any[], data: any) {\n    for (let col of cols) {\n      if (data[col.name]) {\n        if ((data[col.name] + \"\").length > 0) {\n          let value = \"\"\n          if (col.type == \"input\" && col.subType == \"currency\") {\n            return this.numberPipe.transform(data[col.name])\n          }\n          if (col.type == \"date\") {\n            return this.datePipe.transform(data[col.name], \"dd/MM/yyyy\")\n          }\n          if (col.options.length > 0) {\n            let valueData = col.options.find(x => x.value == data[col.name])\n            if (valueData) {\n              return valueData.text\n            }\n          }\n          return data[col.name]\n        }\n      }\n    }\n  }\n\n  findPageValue(array: ConfigPage[], value: string) {\n\n    let data: FromGroupData\n    for (let index = 0; index < array.length; index++) {\n      if (!array[index]) continue\n      data = array[index].fromGroup.find(x => x.id == value);\n      if (data) {\n        data.controls.map(x => {\n          if (this.detailInput[value] && x.input != \"underline\" && x.input != \"label\") {\n            x.show = this.detailInput[value][x.name] >= 0 ? (this.detailInput[value][x.name] > 0 ? true : false) : x.show\n            x.disabled = this.detailInput[value][x.name] >= 0 ? (this.detailInput[value][x.name] == 2 ? true : x.disabled) : x.disabled\n          } else if (this.detailInput[value] && x.input == \"label\") {\n            x.show = this.detailInput[value][x.placeholder] >= 0 ? (this.detailInput[value][x.placeholder] > 0 ? true : false) : x.show\n          }\n          return x\n        })\n\n        break\n      }\n      // break\n    }\n\n    return data\n  }\n\n  rechangePageData(tempFormData) {\n    for (let index = 0; index < this.pageOrder.length; index++) {\n      const element = this.pageOrder[index];\n      if (element.id != 'coverage' && element.id != 'addon') {\n        let page = this.findPageValue(tempFormData, element.id)\n        this.pageOrder[index].tableName = page.tableName\n        this.pageOrder[index].id = page.id\n        this.pageOrder[index].controls = page.controls\n\n      }\n    }\n    // this.pageOrder.forEach((element) => {\n    //   if (element.id != 'coverage' && element.id != 'addon') {\n\n    //   }\n    // })\n  }\n\n  goToList() {\n    // if (this.type == 'quotation') {\n    //   this.productService.createingProd = null;\n    //   this.productService.editData = null;\n    //   this.router.navigateByUrl(\"/sale/quotation/list\")\n    // } else\n    //   this.router.navigateByUrl(\"/sale/application/list\")\n    this.location.back()\n  }\n\n  createPolicy() {\n    this.productService.createingProdRef = this.item\n    this.productService.viewType = 'policy'\n    this.productService.type = 'policy'\n    this.productService.referenceID = this.resourceDetail.id\n    this.productService.referenceStatus = this.resourceDetail.status\n    this.productService.editData = null\n    this.router.navigateByUrl(\"/product-form\")\n  }\n  checkDep(dependency, checkData) {\n    if (dependency)\n      return checkVaidDep(dependency, { value: checkData })\n    return true\n  }\n\n  getOptionValue(value, options: OptionValue[], id: string, name: string) {\n    let valueData = options.find(x => x.value == value)\n    if (valueData) {\n      if (this.formatedData)\n        this.formatedData[id][name] = valueData.text\n      return valueData.text\n    }\n    return value\n  }\n\n  viewPrint() {\n    const modalRef = this.modalService.open(PrintPreviewModalComponent, { size: 'xl', backdrop: false });\n    modalRef.componentInstance.configData = this.printConfig.printFormat\n    modalRef.componentInstance.configOrder = this.printConfig.prinitUI\n    modalRef.componentInstance.product = this.item\n    modalRef.componentInstance.tempData = this.formatedData\n    modalRef.componentInstance.resourcesId = this.resourceDetail.id\n    modalRef.result.then(() => { }, (res) => {\n\n    })\n  }\n\n  createSign() {\n    const modalRef = this.modalService.open(SignaturePadComponent, { size: 'md', backdrop: false });\n    modalRef.result.then(() => { }, (res) => {\n      if (res) {\n        if (res.type == \"save\") {\n          this.policyService.updateAttachment(this.resourceDetail.id, res.data).toPromise().then((response) => {\n            if (response) {\n              this.alertService.activate('This record was created', 'Success Message');\n              this.signFileId = res.data\n              this.productService.editData['attachmentId'] = res.data\n            \n            }\n          })\n        }\n      }\n    })\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule, DatePipe, DecimalPipe } from '@angular/common';\nimport { ResourseDetailComponent } from './resourse-detail.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgbModalModule } from '@ng-bootstrap/ng-bootstrap';\nimport { FormComponentModule } from '../form-component/form-component.module';\nimport { RouterModule } from '@angular/router';\nimport { StaticPagesViewModule } from '../static-page-review/static-pages-reivew.module';\nimport { SignaturePadModule } from 'angular2-signaturepad';\nimport { SignaturePadComponent } from './signature-pad/signature-pad.component';\n\n@NgModule({\n  declarations: [ResourseDetailComponent, SignaturePadComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    NgbModalModule,\n    FormComponentModule,\n    StaticPagesViewModule,\n    SignaturePadModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: ResourseDetailComponent,\n      },\n    ]),\n  ],\n  providers: [DatePipe, DecimalPipe]\n})\nexport class ResourseDetailModule { }\n","import { AfterViewInit, Component, OnInit, ViewChild } from \"@angular/core\";\nimport { NgbActiveModal } from \"@ng-bootstrap/ng-bootstrap\";\nimport { SignaturePad } from \"angular2-signaturepad\";\nimport { AlertService } from \"src/app/modules/loading-toast/alert-model/alert.service\";\nimport { AttachmentUploadService } from '../../../_metronic/core/services/attachment-data.service';\n\n\n@Component({\n  selector: 'app-resourse-detail',\n  templateUrl: './signature-pad.component.html',\n  styleUrls: ['./signature-pad.component.scss']\n})\nexport class SignaturePadComponent implements OnInit, AfterViewInit {\n  @ViewChild(SignaturePad) signaturePad: SignaturePad;\n  signaturePadOptions: Object = { // passed through to szimek/signature_pad constructor\n    'minWidth': 5,\n    'canvasWidth': 500,\n    'canvasHeight': 300\n  };\n\n  constructor(public modal: NgbActiveModal,private fileUpload: AttachmentUploadService, private alertService: AlertService) { }\n\n  ngOnInit(): void {\n\n  }\n  ngAfterViewInit() {\n    // this.signaturePad is now available\n    this.signaturePad.set('minWidth', 5); // set szimek/signature_pad options at runtime\n    this.signaturePad.clear(); // invoke functions from szimek/signature_pad API\n  }\n  clearSign() {\n    this.signaturePad.clear()\n  }\n  saveSign() {\n    console.log(this.signaturePad.toDataURL());\n    let base64 = this.signaturePad.toDataURL().toString().split(\",\")[1];\n    var sizeInBytes = 4 * Math.ceil((base64.length / 3)) * 0.5624896334383812;\n    let data = {\n      fileStr: base64,\n      fileName: new Date().getTime(),\n      fileType: 'png',\n      fileSize: sizeInBytes,\n      contentType: 'png',\n      fileExtension: 'png',\n    }\n    // this.loading.activate()\n    this.fileUpload.save(data).toPromise().then((res) => {\n      if (res) {\n        this.modal.dismiss({ data: res, type: 'save' })\n      }\n    })\n  }\n\n  deleteEditModal() {\n    this.alertService.activate('Are you sure want to delete?', 'Warning Message').then(result => {\n      if (result) {\n        this.modal.dismiss({ type: 'delete' });\n      }\n    });\n  }\n}","export default \"<div class=\\\"modal-content\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <div class=\\\"modal-title h4 left-border-image\\\" id=\\\"example-modal-sizes-title-lg\\\">\\r\\n      Preview Print Form\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"overlay overlay-block cursor-default modal-body\\\">\\r\\n    <div id=\\\"printable\\\">\\r\\n      <div id=\\\"second-print\\\">\\r\\n        <app-print-view-box [config]=\\\"configData\\\" [product]=\\\"product\\\" [resourcesId]=\\\"resourcesId\\\" [tempData]=\\\"tempData\\\" [configOrder]=\\\"configOrder\\\">\\r\\n        </app-print-view-box>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"modal-footer\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-light btn-elevate mr-2\\\" (click)=\\\"printPDf()\\\">Print</button>\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-light btn-elevate mr-2\\\" (click)=\\\"modal.dismiss()\\\">Close</button>\\r\\n  </div>\\r\\n</div>\";","export default \"<div class=\\\"row\\\">\\n  <div class=\\\"col-12\\\">\\n    <div class=\\\"card card-custom gutter-b\\\">\\n      <div class=\\\"card-body\\\">\\n        <div style=\\\"display:flex\\\">\\n          <div class=\\\"top-box\\\">\\n            PRODUCT <br>\\n            <span *ngIf=\\\"item\\\">{{item.name}}</span>\\n          </div>\\n          <!-- <div class=\\\"top-box\\\">\\n            Customer <br>\\n            <span>Jimmy Tao</span>\\n          </div> -->\\n          <div class=\\\"top-box\\\">\\n            PREMIUM <br>\\n            <span *ngIf=\\\"resourceDetail\\\">{{resourceDetail.premiumView || 0 }}</span>\\n          </div>\\n          <button class=\\\"btn btn-outline-primary\\\" *ngIf=\\\"type == 'policy'\\\" style=\\\"margin-left: auto;\\\" (click)=\\\"viewPrint()\\\">\\n            <i class=\\\"flaticon2-print\\\"></i> Print\\n          </button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n<ng-container *ngIf=\\\"resourceDetail\\\">\\n  <div class=\\\"row\\\">\\n    <ng-container *ngFor=\\\"let page of pageOrder\\\">\\n      <!-- <div class=\\\"{{Array.isArray(resultObj[page.tableName+item.id]) ? 'col-sm-12' : 'col-sm-6'}}\\\"> -->\\n      <div class=\\\"col-md-12 mx-auto\\\">\\n        <ng-container *ngIf=\\\"page.type === 'static';else dynView \\\">\\n          <ng-container staticPageView [compId]=\\\"page.id\\\" [product]=\\\"item\\\" [resourcesId]=\\\"resourceDetail.id\\\">\\n          </ng-container>\\n        </ng-container>\\n        <ng-template #dynView>\\n          <div class=\\\"card card-custom gutter-b\\\">\\n            <div class=\\\"card-header\\\">\\n              <div class=\\\"card-title\\\">\\n                <h3 class=\\\"card-label\\\">{{ page.pageTitle | titlecase }} :</h3>\\n              </div>\\n            </div>\\n            <div class=\\\"card-body customer-card-body\\\">\\n              <ng-container>\\n                <ng-container *ngIf=\\\"resultObj[page.tableName+page.id]\\\">\\n                  <ul class=\\\"list-group\\\" *ngIf=\\\"!Array.isArray(resultObj[page.tableName+page.id])\\\">\\n                    <ng-container *ngFor=\\\"let cont of page.controls\\\">\\n                      <ng-container *ngIf=\\\"cont.show\\\">\\n                        <!-- <hr > -->\\n                        <li *ngIf=\\\"cont.input == 'label'\\\" class=\\\"list-group-item\\\"\\n                          style=\\\"border-top: 0.5px solid #dad9d9 !important;\\\">\\n                          <h5 style=\\\"margin-bottom: 0px;\\\">{{cont.name}} </h5>\\n\\n                        </li>\\n                        <ng-container\\n                          *ngIf=\\\"!cont.isHideView && checkDep(cont.dependency,resultObj[page.tableName+page.id]) && cont.input != 'underline' && cont.input != 'label'\\\">\\n                          <li class=\\\"list-group-item\\\">\\n                            <!-- <span class=\\\"pull-right\\\"> -->\\n                            <!-- <span class=\\\"btn btn-xs btn-default\\\"> -->\\n                            <!-- {{cont.input}}cont.input != 'label' ?  -->\\n                            {{cont.label || cont.name }} :\\n                            <!-- </span> -->\\n                            <!-- </span> -->\\n                            <ng-container\\n                              *ngIf=\\\"(cont.master == 'false' || cont.master == false) && cont.options && cont.options.length > 0 ;else nomalValue\\\">\\n                              <span>\\n                                {{getOptionValue(resultObj[page.tableName+page.id][cont.name],cont.options,page.tableName+page.id,cont.name)}}</span>\\n                            </ng-container>\\n                            <ng-template #nomalValue>\\n                              <span *ngIf=\\\"cont.input == 'input' && cont.type == 'currency'\\\">\\n                                {{ (resultObj[page.tableName+page.id][cont.name] || 0 ) | number }}\\n                              </span>\\n                              <span *ngIf=\\\"cont.input == 'date'\\\">\\n                                <!-- {{resultObj[page.tableName+page.id][cont.name].length > 0 ? true: false}} D -->\\n                                {{ resultObj[page.tableName+page.id][cont.name] &&\\n                                resultObj[page.tableName+page.id][cont.name] != \\\"null\\\" ?\\n                                (resultObj[page.tableName+page.id][cont.name] | date: 'dd/MM/yyyy') : \\\"\\\" }}\\n\\n                              </span>\\n                              <span *ngIf=\\\"cont.type != 'currency' && cont.input != 'date'\\\">\\n                                {{resultObj[page.tableName+page.id][cont.name]}}\\n                              </span>\\n                              <ng-container *ngIf=\\\"cont.input == 'date' && cont.type == 'policy'\\\">\\n                                <!-- {{cont.endLabel == '-' }}  --> -\\n                                {{resultObj[page.tableName+page.id][cont.endName] | date: 'dd/MM/yyyy'}}\\n                              </ng-container>\\n                            </ng-template>\\n                            <div style=\\\"clear: both;\\\"></div>\\n                          </li>\\n\\n                        </ng-container>\\n                      </ng-container>\\n                    </ng-container>\\n                  </ul>\\n                  <div class=\\\"table-responsive angular-bootstrap-table\\\"\\n                    *ngIf=\\\"Array.isArray(resultObj[page.tableName+page.id])\\\">\\n                    <table class=\\\"table table-head-custom table-vertical-center\\\">\\n                      <thead>\\n                        <tr>\\n                          <th>NO</th>\\n                          <ng-container *ngFor=\\\"let cont of getFormatTable(page.controls)\\\">\\n                            <th [ngStyle]=\\\"{'text-align': cont.subType == 'currency' ? 'right' : 'left'}\\\">{{cont.title}}\\n                            </th>\\n                            <!-- <td *ngIf=\\\"cont.input != 'file'\\\">{{ getOtherData(cont.cols,item) }}</td>\\n                            <td *ngIf=\\\"cont.input == 'file'\\\"> <a href=\\\"javascript:;\\\"\\n                                (click)=\\\"download(cont.cols,item)\\\">{{ getOtherData(cont.cols,item) }}</a> </td> -->\\n                          </ng-container>\\n                        </tr>\\n                      </thead>\\n                      <tbody>\\n                        <ng-container *ngIf=\\\"resultObj[page.tableName+page.id]\\\">\\n                          <tr *ngFor=\\\"let result of resultObj[page.tableName+page.id];let i = index\\\">\\n                            <td>{{i+1}}</td>\\n                            <ng-container *ngFor=\\\"let control of getFormatTable(page.controls)\\\">\\n                              <td [ngStyle]=\\\"{'text-align': control.subType == 'currency' ? 'right' : 'left'}\\\">\\n                                {{getOtherData(control.cols,result) }}</td>\\n                            </ng-container>\\n                          </tr>\\n                        </ng-container>\\n                      </tbody>\\n                    </table>\\n                  </div>\\n                </ng-container>\\n              </ng-container>\\n\\n            </div>\\n\\n            <!--begin::Footer-->\\n            <!-- <div class=\\\"card-footer\\\">\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-lg-8\\\">\\n              <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">\\n                Go To {{ type | titlecase }} List\\n              </button>\\n            </div>\\n          </div>\\n        </div> -->\\n            <!--end::Footer-->\\n          </div>\\n        </ng-template>\\n      </div>\\n    </ng-container>\\n  </div>\\n\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-12\\\">\\n      <div class=\\\"card card-custom gutter-b\\\">\\n        <div class=\\\"card-footer\\\">\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-sm-6\\\">\\n              <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-block\\\" (click)=\\\"goToList()\\\">\\n                Back\\n              </button>\\n            </div>\\n            <div class=\\\"col-sm-6\\\" *ngIf=\\\"type == 'quotation'\\\">\\n              <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-block\\\" (click)=\\\"createPolicy()\\\">\\n                Create New Application\\n              </button>\\n            </div>\\n            <div class=\\\"col-sm-6\\\" *ngIf=\\\"type == 'policy'\\\">\\n              <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-block\\\" (click)=\\\"createSign()\\\">\\n                Create Signature\\n              </button>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</ng-container>\";","export default \"<div class=\\\"modal-content\\\">\\n  <div class=\\\"modal-header\\\">\\n    <div class=\\\"modal-title h4 left-border-image\\\" id=\\\"example-modal-sizes-title-lg\\\">\\n      Sign here ...!\\n    </div>\\n\\n  </div>\\n  <div class=\\\"overlay overlay-block cursor-default modal-body\\\">\\n    <signature-pad [options]=\\\"signaturePadOptions\\\"></signature-pad>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <!-- <button type=\\\"button\\\" *ngIf=\\\"id\\\" class=\\\"btn btn-danger btn-elevate mr-2\\\"\\n      (click)=\\\"deleteEditModal()\\\">Delete</button> -->\\n    <button type=\\\"button\\\" class=\\\"btn btn-light btn-elevate mr-2\\\" (click)=\\\"modal.dismiss()\\\">Cancel</button>\\n    <button type=\\\"submit\\\" class=\\\"btn btn-secondary btn-elevate\\\" (click)=\\\"clearSign()\\\">Clear</button>\\n    <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-elevate\\\" (click)=\\\"saveSign()\\\">Save</button>\\n  </div>\\n</div>\";","import * as i0 from '@angular/core';\nimport { EventEmitter, Component, Input, Output, NgModule } from '@angular/core';\nimport * as SignaturePadNative from 'signature_pad';\n\nclass SignaturePad {\n    constructor(elementRef) {\n        // no op\n        this.elementRef = elementRef;\n        this.options = this.options || {};\n        this.onBeginEvent = new EventEmitter();\n        this.onEndEvent = new EventEmitter();\n    }\n    ngAfterContentInit() {\n        const canvas = this.elementRef.nativeElement.querySelector('canvas');\n        if (this.options.canvasHeight) {\n            canvas.height = this.options.canvasHeight;\n        }\n        if (this.options.canvasWidth) {\n            canvas.width = this.options.canvasWidth;\n        }\n        this.signaturePad = new SignaturePadNative.default(canvas, this.options);\n        this.signaturePad.onBegin = this.onBegin.bind(this);\n        this.signaturePad.onEnd = this.onEnd.bind(this);\n    }\n    ngOnDestroy() {\n        const canvas = this.elementRef.nativeElement.querySelector('canvas');\n        canvas.width = 0;\n        canvas.height = 0;\n    }\n    resizeCanvas() {\n        // When zoomed out to less than 100%, for some very strange reason,\n        // some browsers report devicePixelRatio as less than 1\n        // and only part of the canvas is cleared then.\n        const ratio = Math.max(window.devicePixelRatio || 1, 1);\n        const canvas = this.signaturePad.canvas;\n        canvas.width = canvas.offsetWidth * ratio;\n        canvas.height = canvas.offsetHeight * ratio;\n        canvas.getContext('2d').scale(ratio, ratio);\n        this.signaturePad.clear(); // otherwise isEmpty() might return incorrect value\n    }\n    // Returns signature image as an array of point groups\n    toData() {\n        if (this.signaturePad) {\n            return this.signaturePad.toData();\n        }\n        else {\n            return [];\n        }\n    }\n    // Draws signature image from an array of point groups\n    fromData(points) {\n        this.signaturePad.fromData(points);\n    }\n    // Returns signature image as data URL (see https://mdn.io/todataurl for the list of possible paramters)\n    toDataURL(imageType, quality) {\n        return this.signaturePad.toDataURL(imageType, quality); // save image as data URL\n    }\n    // Draws signature image from data URL\n    fromDataURL(dataURL, options = {}) {\n        // set default height and width on read data from URL\n        if (!options.hasOwnProperty('height') &&\n            this.options.canvasHeight) {\n            options.height = this.options.canvasHeight;\n        }\n        if (!options.hasOwnProperty('width') && this.options.canvasWidth) {\n            options.width = this.options.canvasWidth;\n        }\n        this.signaturePad.fromDataURL(dataURL, options);\n    }\n    // Clears the canvas\n    clear() {\n        this.signaturePad.clear();\n    }\n    // Returns true if canvas is empty, otherwise returns false\n    isEmpty() {\n        return this.signaturePad.isEmpty();\n    }\n    // Unbinds all event handlers\n    off() {\n        this.signaturePad.off();\n    }\n    // Rebinds all event handlers\n    on() {\n        this.signaturePad.on();\n    }\n    // set an option on the signaturePad - e.g. set('minWidth', 50);\n    set(option, value) {\n        switch (option) {\n            case 'canvasHeight':\n                this.signaturePad.canvas.height = value;\n                break;\n            case 'canvasWidth':\n                this.signaturePad.canvas.width = value;\n                break;\n            default:\n                this.signaturePad[option] = value;\n        }\n    }\n    // notify subscribers on signature begin\n    onBegin() {\n        this.onBeginEvent.emit(true);\n    }\n    // notify subscribers on signature end\n    onEnd() {\n        this.onEndEvent.emit(true);\n    }\n    queryPad() {\n        return this.signaturePad;\n    }\n}\nSignaturePad.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.0.2\", ngImport: i0, type: SignaturePad, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });\nSignaturePad.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.0.2\", type: SignaturePad, selector: \"signature-pad\", inputs: { options: \"options\" }, outputs: { onBeginEvent: \"onBeginEvent\", onEndEvent: \"onEndEvent\" }, ngImport: i0, template: '<canvas></canvas>', isInline: true });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.0.2\", ngImport: i0, type: SignaturePad, decorators: [{\n            type: Component,\n            args: [{\n                    template: '<canvas></canvas>',\n                    selector: 'signature-pad',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { options: [{\n                type: Input\n            }], onBeginEvent: [{\n                type: Output\n            }], onEndEvent: [{\n                type: Output\n            }] } });\n\nclass SignaturePadModule {\n}\nSignaturePadModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.0.2\", ngImport: i0, type: SignaturePadModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nSignaturePadModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.0.2\", ngImport: i0, type: SignaturePadModule, declarations: [SignaturePad], exports: [SignaturePad] });\nSignaturePadModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.0.2\", ngImport: i0, type: SignaturePadModule, imports: [[]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.0.2\", ngImport: i0, type: SignaturePadModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [SignaturePad],\n                    imports: [],\n                    exports: [SignaturePad],\n                }]\n        }] });\n\n/*\n * Public API Surface of angular2-signaturepad\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { SignaturePad, SignaturePadModule };\n","/*!\n * Signature Pad v1.6.0\n * https://github.com/szimek/signature_pad\n *\n * Copyright 2017 Szymon Nowak\n * Released under the MIT license\n *\n * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:\n * http://corner.squareup.com/2012/07/smoother-signatures.html\n *\n * Implementation of interpolation using cubic Bézier curves is taken from:\n * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript\n *\n * Algorithm for approximated length of a Bézier curve is taken from:\n * http://www.lemoda.net/maths/bezier-length/index.html\n *\n */\n\nfunction Point(x, y, time) {\n  this.x = x;\n  this.y = y;\n  this.time = time || new Date().getTime();\n}\n\nPoint.prototype.velocityFrom = function (start) {\n  return this.time !== start.time ? this.distanceTo(start) / (this.time - start.time) : 1;\n};\n\nPoint.prototype.distanceTo = function (start) {\n  return Math.sqrt(Math.pow(this.x - start.x, 2) + Math.pow(this.y - start.y, 2));\n};\n\nfunction Bezier(startPoint, control1, control2, endPoint) {\n  this.startPoint = startPoint;\n  this.control1 = control1;\n  this.control2 = control2;\n  this.endPoint = endPoint;\n}\n\n// Returns approximated length.\nBezier.prototype.length = function () {\n  var steps = 10;\n  var length = 0;\n  var px = void 0;\n  var py = void 0;\n\n  for (var i = 0; i <= steps; i += 1) {\n    var t = i / steps;\n    var cx = this._point(t, this.startPoint.x, this.control1.x, this.control2.x, this.endPoint.x);\n    var cy = this._point(t, this.startPoint.y, this.control1.y, this.control2.y, this.endPoint.y);\n    if (i > 0) {\n      var xdiff = cx - px;\n      var ydiff = cy - py;\n      length += Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n    }\n    px = cx;\n    py = cy;\n  }\n\n  return length;\n};\n\n/* eslint-disable no-multi-spaces, space-in-parens */\nBezier.prototype._point = function (t, start, c1, c2, end) {\n  return start * (1.0 - t) * (1.0 - t) * (1.0 - t) + 3.0 * c1 * (1.0 - t) * (1.0 - t) * t + 3.0 * c2 * (1.0 - t) * t * t + end * t * t * t;\n};\n\nfunction SignaturePad(canvas, options) {\n  var self = this;\n  var opts = options || {};\n\n  this.velocityFilterWeight = opts.velocityFilterWeight || 0.7;\n  this.minWidth = opts.minWidth || 0.5;\n  this.maxWidth = opts.maxWidth || 2.5;\n  this.dotSize = opts.dotSize || function () {\n    return (this.minWidth + this.maxWidth) / 2;\n  };\n  this.penColor = opts.penColor || 'black';\n  this.backgroundColor = opts.backgroundColor || 'rgba(0,0,0,0)';\n  this.onBegin = opts.onBegin;\n  this.onEnd = opts.onEnd;\n\n  this._canvas = canvas;\n  this._ctx = canvas.getContext('2d');\n  this.clear();\n\n  // We need add these inline so they are available to unbind while still having\n  // access to 'self' we could use _.bind but it's not worth adding a dependency.\n  this._handleMouseDown = function (event) {\n    if (event.which === 1) {\n      self._mouseButtonDown = true;\n      self._strokeBegin(event);\n    }\n  };\n\n  this._handleMouseMove = function (event) {\n    if (self._mouseButtonDown) {\n      self._strokeUpdate(event);\n    }\n  };\n\n  this._handleMouseUp = function (event) {\n    if (event.which === 1 && self._mouseButtonDown) {\n      self._mouseButtonDown = false;\n      self._strokeEnd(event);\n    }\n  };\n\n  this._handleTouchStart = function (event) {\n    if (event.targetTouches.length === 1) {\n      var touch = event.changedTouches[0];\n      self._strokeBegin(touch);\n    }\n  };\n\n  this._handleTouchMove = function (event) {\n    // Prevent scrolling.\n    event.preventDefault();\n\n    var touch = event.targetTouches[0];\n    self._strokeUpdate(touch);\n  };\n\n  this._handleTouchEnd = function (event) {\n    var wasCanvasTouched = event.target === self._canvas;\n    if (wasCanvasTouched) {\n      event.preventDefault();\n      self._strokeEnd(event);\n    }\n  };\n\n  // Enable mouse and touch event handlers\n  this.on();\n}\n\n// Public methods\nSignaturePad.prototype.clear = function () {\n  var ctx = this._ctx;\n  var canvas = this._canvas;\n\n  ctx.fillStyle = this.backgroundColor;\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n  this._data = [];\n  this._reset();\n  this._isEmpty = true;\n};\n\nSignaturePad.prototype.fromDataURL = function (dataUrl) {\n  var _this = this;\n\n  var image = new Image();\n  var ratio = window.devicePixelRatio || 1;\n  var width = this._canvas.width / ratio;\n  var height = this._canvas.height / ratio;\n\n  this._reset();\n  image.src = dataUrl;\n  image.onload = function () {\n    _this._ctx.drawImage(image, 0, 0, width, height);\n  };\n  this._isEmpty = false;\n};\n\nSignaturePad.prototype.toDataURL = function (type) {\n  var _canvas;\n\n  switch (type) {\n    case 'image/svg+xml':\n      return this._toSVG();\n    default:\n      for (var _len = arguments.length, options = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        options[_key - 1] = arguments[_key];\n      }\n\n      return (_canvas = this._canvas).toDataURL.apply(_canvas, [type].concat(options));\n  }\n};\n\nSignaturePad.prototype.on = function () {\n  this._handleMouseEvents();\n  this._handleTouchEvents();\n};\n\nSignaturePad.prototype.off = function () {\n  this._canvas.removeEventListener('mousedown', this._handleMouseDown);\n  this._canvas.removeEventListener('mousemove', this._handleMouseMove);\n  document.removeEventListener('mouseup', this._handleMouseUp);\n\n  this._canvas.removeEventListener('touchstart', this._handleTouchStart);\n  this._canvas.removeEventListener('touchmove', this._handleTouchMove);\n  this._canvas.removeEventListener('touchend', this._handleTouchEnd);\n};\n\nSignaturePad.prototype.isEmpty = function () {\n  return this._isEmpty;\n};\n\n// Private methods\nSignaturePad.prototype._strokeBegin = function (event) {\n  this._data.push([]);\n  this._reset();\n  this._strokeUpdate(event);\n\n  if (typeof this.onBegin === 'function') {\n    this.onBegin(event);\n  }\n};\n\nSignaturePad.prototype._strokeUpdate = function (event) {\n  var x = event.clientX;\n  var y = event.clientY;\n\n  var point = this._createPoint(x, y);\n\n  var _addPoint = this._addPoint(point),\n      curve = _addPoint.curve,\n      widths = _addPoint.widths;\n\n  if (curve && widths) {\n    this._drawCurve(curve, widths.start, widths.end);\n  }\n\n  this._data[this._data.length - 1].push({\n    x: point.x,\n    y: point.y,\n    time: point.time\n  });\n};\n\nSignaturePad.prototype._strokeEnd = function (event) {\n  var canDrawCurve = this.points.length > 2;\n  var point = this.points[0];\n\n  if (!canDrawCurve && point) {\n    this._drawDot(point);\n  }\n\n  if (typeof this.onEnd === 'function') {\n    this.onEnd(event);\n  }\n};\n\nSignaturePad.prototype._handleMouseEvents = function () {\n  this._mouseButtonDown = false;\n\n  this._canvas.addEventListener('mousedown', this._handleMouseDown);\n  this._canvas.addEventListener('mousemove', this._handleMouseMove);\n  document.addEventListener('mouseup', this._handleMouseUp);\n};\n\nSignaturePad.prototype._handleTouchEvents = function () {\n  // Pass touch events to canvas element on mobile IE11 and Edge.\n  this._canvas.style.msTouchAction = 'none';\n  this._canvas.style.touchAction = 'none';\n\n  this._canvas.addEventListener('touchstart', this._handleTouchStart);\n  this._canvas.addEventListener('touchmove', this._handleTouchMove);\n  this._canvas.addEventListener('touchend', this._handleTouchEnd);\n};\n\nSignaturePad.prototype._reset = function () {\n  this.points = [];\n  this._lastVelocity = 0;\n  this._lastWidth = (this.minWidth + this.maxWidth) / 2;\n  this._ctx.fillStyle = this.penColor;\n};\n\nSignaturePad.prototype._createPoint = function (x, y, time) {\n  var rect = this._canvas.getBoundingClientRect();\n\n  return new Point(x - rect.left, y - rect.top, time || new Date().getTime());\n};\n\nSignaturePad.prototype._addPoint = function (point) {\n  var points = this.points;\n  var tmp = void 0;\n\n  points.push(point);\n\n  if (points.length > 2) {\n    // To reduce the initial lag make it work with 3 points\n    // by copying the first point to the beginning.\n    if (points.length === 3) points.unshift(points[0]);\n\n    tmp = this._calculateCurveControlPoints(points[0], points[1], points[2]);\n    var c2 = tmp.c2;\n    tmp = this._calculateCurveControlPoints(points[1], points[2], points[3]);\n    var c3 = tmp.c1;\n    var curve = new Bezier(points[1], c2, c3, points[2]);\n    var widths = this._calculateCurveWidths(curve);\n\n    // Remove the first element from the list,\n    // so that we always have no more than 4 points in points array.\n    points.shift();\n\n    return { curve: curve, widths: widths };\n  }\n\n  return {};\n};\n\nSignaturePad.prototype._calculateCurveControlPoints = function (s1, s2, s3) {\n  var dx1 = s1.x - s2.x;\n  var dy1 = s1.y - s2.y;\n  var dx2 = s2.x - s3.x;\n  var dy2 = s2.y - s3.y;\n\n  var m1 = { x: (s1.x + s2.x) / 2.0, y: (s1.y + s2.y) / 2.0 };\n  var m2 = { x: (s2.x + s3.x) / 2.0, y: (s2.y + s3.y) / 2.0 };\n\n  var l1 = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n  var l2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);\n\n  var dxm = m1.x - m2.x;\n  var dym = m1.y - m2.y;\n\n  var k = l2 / (l1 + l2);\n  var cm = { x: m2.x + dxm * k, y: m2.y + dym * k };\n\n  var tx = s2.x - cm.x;\n  var ty = s2.y - cm.y;\n\n  return {\n    c1: new Point(m1.x + tx, m1.y + ty),\n    c2: new Point(m2.x + tx, m2.y + ty)\n  };\n};\n\nSignaturePad.prototype._calculateCurveWidths = function (curve) {\n  var startPoint = curve.startPoint;\n  var endPoint = curve.endPoint;\n  var widths = { start: null, end: null };\n\n  var velocity = this.velocityFilterWeight * endPoint.velocityFrom(startPoint) + (1 - this.velocityFilterWeight) * this._lastVelocity;\n\n  var newWidth = this._strokeWidth(velocity);\n\n  widths.start = this._lastWidth;\n  widths.end = newWidth;\n\n  this._lastVelocity = velocity;\n  this._lastWidth = newWidth;\n\n  return widths;\n};\n\nSignaturePad.prototype._strokeWidth = function (velocity) {\n  return Math.max(this.maxWidth / (velocity + 1), this.minWidth);\n};\n\nSignaturePad.prototype._drawPoint = function (x, y, size) {\n  var ctx = this._ctx;\n\n  ctx.moveTo(x, y);\n  ctx.arc(x, y, size, 0, 2 * Math.PI, false);\n  this._isEmpty = false;\n};\n\nSignaturePad.prototype._drawCurve = function (curve, startWidth, endWidth) {\n  var ctx = this._ctx;\n  var widthDelta = endWidth - startWidth;\n  var drawSteps = Math.floor(curve.length());\n\n  ctx.beginPath();\n\n  for (var i = 0; i < drawSteps; i += 1) {\n    // Calculate the Bezier (x, y) coordinate for this step.\n    var t = i / drawSteps;\n    var tt = t * t;\n    var ttt = tt * t;\n    var u = 1 - t;\n    var uu = u * u;\n    var uuu = uu * u;\n\n    var x = uuu * curve.startPoint.x;\n    x += 3 * uu * t * curve.control1.x;\n    x += 3 * u * tt * curve.control2.x;\n    x += ttt * curve.endPoint.x;\n\n    var y = uuu * curve.startPoint.y;\n    y += 3 * uu * t * curve.control1.y;\n    y += 3 * u * tt * curve.control2.y;\n    y += ttt * curve.endPoint.y;\n\n    var width = startWidth + ttt * widthDelta;\n    this._drawPoint(x, y, width);\n  }\n\n  ctx.closePath();\n  ctx.fill();\n};\n\nSignaturePad.prototype._drawDot = function (point) {\n  var ctx = this._ctx;\n  var width = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n\n  ctx.beginPath();\n  this._drawPoint(point.x, point.y, width);\n  ctx.closePath();\n  ctx.fill();\n};\n\nSignaturePad.prototype._fromData = function (pointGroups, drawCurve, drawDot) {\n  for (var i = 0; i < pointGroups.length; i += 1) {\n    var group = pointGroups[i];\n\n    if (group.length > 1) {\n      for (var j = 0; j < group.length; j += 1) {\n        var rawPoint = group[j];\n        var point = new Point(rawPoint.x, rawPoint.y, rawPoint.time);\n\n        if (j === 0) {\n          // First point in a group. Nothing to draw yet.\n          this._reset();\n          this._addPoint(point);\n        } else if (j !== group.length - 1) {\n          // Middle point in a group.\n          var _addPoint2 = this._addPoint(point),\n              curve = _addPoint2.curve,\n              widths = _addPoint2.widths;\n\n          if (curve && widths) {\n            drawCurve(curve, widths);\n          }\n        } else {\n          // Last point in a group. Do nothing.\n        }\n      }\n    } else {\n      this._reset();\n      var _rawPoint = group[0];\n      drawDot(_rawPoint);\n    }\n  }\n};\n\nSignaturePad.prototype._toSVG = function () {\n  var _this2 = this;\n\n  var pointGroups = this._data;\n  var canvas = this._canvas;\n  var ratio = Math.max(window.devicePixelRatio || 1, 1);\n  var minX = 0;\n  var minY = 0;\n  var maxX = canvas.width / ratio;\n  var maxY = canvas.height / ratio;\n  var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\n  svg.setAttributeNS(null, 'width', canvas.width);\n  svg.setAttributeNS(null, 'height', canvas.height);\n\n  this._fromData(pointGroups, function (curve, widths) {\n    var path = document.createElement('path');\n\n    // Need to check curve for NaN values, these pop up when drawing\n    // lines on the canvas that are not continuous. E.g. Sharp corners\n    // or stopping mid-stroke and than continuing without lifting mouse.\n    if (!isNaN(curve.control1.x) && !isNaN(curve.control1.y) && !isNaN(curve.control2.x) && !isNaN(curve.control2.y)) {\n      var attr = 'M ' + curve.startPoint.x.toFixed(3) + ',' + curve.startPoint.y.toFixed(3) + ' ' + ('C ' + curve.control1.x.toFixed(3) + ',' + curve.control1.y.toFixed(3) + ' ') + (curve.control2.x.toFixed(3) + ',' + curve.control2.y.toFixed(3) + ' ') + (curve.endPoint.x.toFixed(3) + ',' + curve.endPoint.y.toFixed(3));\n\n      path.setAttribute('d', attr);\n      path.setAttribute('stroke-width', (widths.end * 2.25).toFixed(3));\n      path.setAttribute('stroke', _this2.penColor);\n      path.setAttribute('fill', 'none');\n      path.setAttribute('stroke-linecap', 'round');\n\n      svg.appendChild(path);\n    }\n  }, function (rawPoint) {\n    var circle = document.createElement('circle');\n    var dotSize = typeof _this2.dotSize === 'function' ? _this2.dotSize() : _this2.dotSize;\n    circle.setAttribute('r', dotSize);\n    circle.setAttribute('cx', rawPoint.x);\n    circle.setAttribute('cy', rawPoint.y);\n    circle.setAttribute('fill', _this2.penColor);\n\n    svg.appendChild(circle);\n  });\n\n  var prefix = 'data:image/svg+xml;base64,';\n  var header = '<svg' + ' xmlns=\"http://www.w3.org/2000/svg\"' + ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"' + (' viewBox=\"' + minX + ' ' + minY + ' ' + maxX + ' ' + maxY + '\"') + (' width=\"' + maxX + '\"') + (' height=\"' + maxY + '\"') + '>';\n  var body = svg.innerHTML;\n\n  // IE hack for missing innerHTML property on SVGElement\n  if (body === undefined) {\n    var dummy = document.createElement('dummy');\n    var nodes = svg.childNodes;\n    dummy.innerHTML = '';\n\n    for (var i = 0; i < nodes.length; i += 1) {\n      dummy.appendChild(nodes[i].cloneNode(true));\n    }\n\n    body = dummy.innerHTML;\n  }\n\n  var footer = '</svg>';\n  var data = header + body + footer;\n\n  return prefix + btoa(data);\n};\n\nSignaturePad.prototype.fromData = function (pointGroups) {\n  var _this3 = this;\n\n  this.clear();\n\n  this._fromData(pointGroups, function (curve, widths) {\n    return _this3._drawCurve(curve, widths.start, widths.end);\n  }, function (rawPoint) {\n    return _this3._drawDot(rawPoint);\n  });\n};\n\nSignaturePad.prototype.toData = function () {\n  return this._data;\n};\n\nexport default SignaturePad;\n"],"names":["i0","EventEmitter","Component","Input","Output","NgModule","SignaturePadNative","SignaturePad","constructor","elementRef","options","onBeginEvent","onEndEvent","ngAfterContentInit","canvas","nativeElement","querySelector","canvasHeight","height","canvasWidth","width","signaturePad","default","onBegin","bind","onEnd","ngOnDestroy","resizeCanvas","ratio","Math","max","window","devicePixelRatio","offsetWidth","offsetHeight","getContext","scale","clear","toData","fromData","points","toDataURL","imageType","quality","fromDataURL","dataURL","hasOwnProperty","isEmpty","off","on","set","option","value","emit","queryPad","ɵfac","ElementRef","ɵcmp","type","args","template","selector","SignaturePadModule","ɵmod","ɵinj","declarations","imports","exports"],"sourceRoot":"webpack:///"}