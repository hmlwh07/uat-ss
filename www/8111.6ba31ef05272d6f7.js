"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8111,7975],{92118:(z,P,l)=>{l.d(P,{t7:()=>_});var d=l(83668),T=l(44290),x=l(92070);const D=l.n(x)()||x,t=new d.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function W(Z,q){const s=Array(Z);for(let p=0;p<Z;p++)s[p]=q(p);return s}let _=(()=>{class Z extends T._A{constructor(s,p){super(),this._options=p,this.setLocale(s||D.locale())}setLocale(s){super.setLocale(s);let p=D.localeData(s);this._localeData={firstDayOfWeek:p.firstDayOfWeek(),longMonths:p.months(),shortMonths:p.monthsShort(),dates:W(31,E=>this.createDate(2017,0,E+1).format("D")),longDaysOfWeek:p.weekdays(),shortDaysOfWeek:p.weekdaysShort(),narrowDaysOfWeek:p.weekdaysMin()}}getYear(s){return this.clone(s).year()}getMonth(s){return this.clone(s).month()}getDate(s){return this.clone(s).date()}getDayOfWeek(s){return this.clone(s).day()}getMonthNames(s){return"long"==s?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(s){return"long"==s?this._localeData.longDaysOfWeek:"short"==s?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(s){return this.clone(s).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(s){return this.clone(s).daysInMonth()}clone(s){return s.clone().locale(this.locale)}createDate(s,p,E){const F=this._createMoment({year:s,month:p,date:E}).locale(this.locale);return F.isValid(),F}today(){return this._createMoment().locale(this.locale)}parse(s,p){return s&&"string"==typeof s?this._createMoment(s,p,this.locale):s?this._createMoment(s).locale(this.locale):null}format(s,p){return s=this.clone(s),this.isValid(s),s.format(p)}addCalendarYears(s,p){return this.clone(s).add({years:p})}addCalendarMonths(s,p){return this.clone(s).add({months:p})}addCalendarDays(s,p){return this.clone(s).add({days:p})}toIso8601(s){return this.clone(s).format()}deserialize(s){let p;if(s instanceof Date)p=this._createMoment(s).locale(this.locale);else if(this.isDateInstance(s))return this.clone(s);if("string"==typeof s){if(!s)return null;p=this._createMoment(s,D.ISO_8601).locale(this.locale)}return p&&this.isValid(p)?this._createMoment(p).locale(this.locale):super.deserialize(s)}isDateInstance(s){return D.isMoment(s)}isValid(s){return this.clone(s).isValid()}invalid(){return D.invalid()}_createMoment(s,p,E){const{strict:F,useUtc:Q}=this._options||{};return Q?D.utc(s,p,E,F):D(s,p,E,F)}}return Z.\u0275fac=function(s){return new(s||Z)(d.LFG(T.Ad,8),d.LFG(t,8))},Z.\u0275prov=d.Yz7({token:Z,factory:Z.\u0275fac}),Z})()},49875:(z,P,l)=>{l.d(P,{Ys:()=>L,ou:()=>ot,p3:()=>Y});var d=l(64762),T=l(18260),x=l(91691),b=l(91278),D=(()=>{return(h=D||(D={})).Documents="DOCUMENTS",h.Data="DATA",h.Library="LIBRARY",h.Cache="CACHE",h.External="EXTERNAL",h.ExternalStorage="EXTERNAL_STORAGE",D;var h})();const _=(0,b.fo)("Filesystem",{web:()=>l.e(2571).then(l.bind(l,52571)).then(h=>new h.FilesystemWeb)}),H=(0,b.fo)("BlobWriter");function j(h){const C=new Uint8Array(h);let m="",y=0;for(;!(y>=C.byteLength);)m+=String.fromCharCode(C[y]),y+=1;return window.btoa(m)}function $(h,C,m){if(0===m.size)return Promise.resolve();const y=393216,A=m.slice(0,y);return new window.Response(A).arrayBuffer().then(function(N){return _.appendFile({directory:h,path:C,data:j(N)})}).then(function(){return $(h,C,m.slice(y))})}function J({path:h,directory:C,blob:m,recursive:y}){return _.writeFile({directory:C,path:h,recursive:y,data:""}).then(function({uri:A}){return $(C,h,m).then(function(){return A})})}const q=Object.freeze(function(h){const{path:C,directory:m,blob:y,recursive:A,on_fallback:R}=h;return"ios"!==b.dV.platform&&"android"!==b.dV.platform?J(h):Promise.all([H.get_config(),_.getUri({path:C,directory:m})]).then(function([k,et]){const{base_url:lt,auth_token:at}=k,rt=et.uri.replace("file://","");return Promise.all([fetch(lt+rt+(A?"?recursive=true":""),{headers:{authorization:at},method:"put",body:y}),Promise.resolve(et)])}).then(function([N,k]){if(204!==N.status)throw new Error("Bad HTTP status: "+N.status);return k.uri}).catch(function(k){return void 0!==R&&R(k),J(h)})});var s=l(83668),p=l(44522),E=l(96360),F=l(60807),Q=l(18829),K=l(60940);const it=`${T.N.apiUrl}/attachment-uploader`;let Y=(()=>{class h extends x.i{constructor(m){super(m,it),this.httpClient=m}}return h.\u0275fac=function(m){return new(m||h)(s.LFG(p.eN))},h.\u0275prov=s.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const X=`${T.N.apiUrl}/attachment-downloader`;let L=(()=>{class h extends x.i{constructor(m,y,A,R,N){super(m,X),this.httpClient=m,this.file=y,this.loadingService=A,this.toastService=R,this.alertService=N}getDownload(m,y){this.httpClient.get(X+"/"+m,{responseType:"blob"}).toPromise().then(A=>{A&&(b.dV.isNativePlatform()?this.mobileDownload(y,A):this.downloadFile(A,y))})}downloadFile(m,y){var A=document.createElement("a");A.href=URL.createObjectURL(m),A.download=y,A.click(),A.remove()}mobileDownload(m,y){return(0,d.mG)(this,void 0,void 0,function*(){try{yield _.mkdir({path:"kbzsale_downloads",directory:D.Documents,recursive:!1}),this.createFile(m,y)}catch(A){this.createFile(m,y)}})}createFile(m,y){return(0,d.mG)(this,void 0,void 0,function*(){try{yield q({path:"kbzsale_downloads/"+m,directory:D.Documents,blob:y}),yield this.loadingService.deactivate(),this.alertService.activate('"Download File',"Success Message")}catch(A){yield this.loadingService.deactivate(),this.alertService.activate('"Download Fail',"Error Message")}})}}return h.\u0275fac=function(m){return new(m||h)(s.LFG(p.eN),s.LFG(E.$),s.LFG(F.b),s.LFG(Q.T),s.LFG(K.c))},h.\u0275prov=s.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const tt=`${T.N.apiUrl}/attachment-ref`;let ot=(()=>{class h extends x.i{constructor(m){super(m,tt),this.httpClient=m}getAttachmentListRef(m,y){return this.httpClient.get(tt+"?refDocNo="+m+"&refDocType="+y)}}return h.\u0275fac=function(m){return new(m||h)(s.LFG(p.eN))},h.\u0275prov=s.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},47975:(z,P,l)=>{function d(D){try{JSON.parse(D)}catch(t){return!1}return!0}l.d(P,{cU:()=>d,Gs:()=>T,Ny:()=>b});const T={parse:{dateInput:"DD-MM-YYYY"},display:{dateInput:"DD-MM-YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},b={parse:{dateInput:"MM-YYYY"},display:{dateInput:"MM-YYYY",monthYearLabel:"MM-YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MM-YYYY"}}},87952:(z,P,l)=>{l.d(P,{J:()=>T});var d=l(49133);function T(x,b){let D=b instanceof d.cw?b.getRawValue():b.value,t=D[x.parentName],U=D[x.parentName+"Code"];return x.show?x.isArray?x.value.includes(t)||x.value.includes(U):t==x.value||U==x.value:!!t}},1402:(z,P,l)=>{l.d(P,{it:()=>T,eM:()=>x});var T=(()=>{return(b=T||(T={})).DYN="dyn",b.STATIC="static",T;var b})();const x={"01":"Draft","02":"Active"}},58111:(z,P,l)=>{l.r(P),l.d(P,{ResourseDetailModule:()=>Le});var d=l(86019),T=l(64762),x=l(87952),b=l(1402),D=l(77692),t=l(83668);function U(i,o,e){this.x=i,this.y=o,this.time=e||(new Date).getTime()}function W(i,o,e,n){this.startPoint=i,this.control1=o,this.control2=e,this.endPoint=n}function _(i,o){var e=this,n=o||{};this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.onBegin=n.onBegin,this.onEnd=n.onEnd,this._canvas=i,this._ctx=i.getContext("2d"),this.clear(),this._handleMouseDown=function(a){1===a.which&&(e._mouseButtonDown=!0,e._strokeBegin(a))},this._handleMouseMove=function(a){e._mouseButtonDown&&e._strokeUpdate(a)},this._handleMouseUp=function(a){1===a.which&&e._mouseButtonDown&&(e._mouseButtonDown=!1,e._strokeEnd(a))},this._handleTouchStart=function(a){1===a.targetTouches.length&&e._strokeBegin(a.changedTouches[0])},this._handleTouchMove=function(a){a.preventDefault(),e._strokeUpdate(a.targetTouches[0])},this._handleTouchEnd=function(a){a.target===e._canvas&&(a.preventDefault(),e._strokeEnd(a))},this.on()}U.prototype.velocityFrom=function(i){return this.time!==i.time?this.distanceTo(i)/(this.time-i.time):1},U.prototype.distanceTo=function(i){return Math.sqrt(Math.pow(this.x-i.x,2)+Math.pow(this.y-i.y,2))},W.prototype.length=function(){for(var o=0,e=void 0,n=void 0,a=0;a<=10;a+=1){var c=a/10,r=this._point(c,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),u=this._point(c,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(a>0){var g=r-e,f=u-n;o+=Math.sqrt(g*g+f*f)}e=r,n=u}return o},W.prototype._point=function(i,o,e,n,a){return o*(1-i)*(1-i)*(1-i)+3*e*(1-i)*(1-i)*i+3*n*(1-i)*i*i+a*i*i*i},_.prototype.clear=function(){var i=this._ctx,o=this._canvas;i.fillStyle=this.backgroundColor,i.clearRect(0,0,o.width,o.height),i.fillRect(0,0,o.width,o.height),this._data=[],this._reset(),this._isEmpty=!0},_.prototype.fromDataURL=function(i){var o=this,e=new Image,n=window.devicePixelRatio||1,a=this._canvas.width/n,c=this._canvas.height/n;this._reset(),e.src=i,e.onload=function(){o._ctx.drawImage(e,0,0,a,c)},this._isEmpty=!1},_.prototype.toDataURL=function(i){var o;if("image/svg+xml"===i)return this._toSVG();for(var e=arguments.length,n=Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];return(o=this._canvas).toDataURL.apply(o,[i].concat(n))},_.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},_.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},_.prototype.isEmpty=function(){return this._isEmpty},_.prototype._strokeBegin=function(i){this._data.push([]),this._reset(),this._strokeUpdate(i),"function"==typeof this.onBegin&&this.onBegin(i)},_.prototype._strokeUpdate=function(i){var n=this._createPoint(i.clientX,i.clientY),a=this._addPoint(n),c=a.curve,r=a.widths;c&&r&&this._drawCurve(c,r.start,r.end),this._data[this._data.length-1].push({x:n.x,y:n.y,time:n.time})},_.prototype._strokeEnd=function(i){var e=this.points[0];!(this.points.length>2)&&e&&this._drawDot(e),"function"==typeof this.onEnd&&this.onEnd(i)},_.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},_.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},_.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},_.prototype._createPoint=function(i,o,e){var n=this._canvas.getBoundingClientRect();return new U(i-n.left,o-n.top,e||(new Date).getTime())},_.prototype._addPoint=function(i){var o=this.points,e=void 0;if(o.push(i),o.length>2){3===o.length&&o.unshift(o[0]);var n=(e=this._calculateCurveControlPoints(o[0],o[1],o[2])).c2;e=this._calculateCurveControlPoints(o[1],o[2],o[3]);var c=new W(o[1],n,e.c1,o[2]),r=this._calculateCurveWidths(c);return o.shift(),{curve:c,widths:r}}return{}},_.prototype._calculateCurveControlPoints=function(i,o,e){var n=i.x-o.x,a=i.y-o.y,c=o.x-e.x,r=o.y-e.y,u_x=(i.x+o.x)/2,u_y=(i.y+o.y)/2,g_x=(o.x+e.x)/2,g_y=(o.y+e.y)/2,f=Math.sqrt(n*n+a*a),v=Math.sqrt(c*c+r*r),S=v/(f+v),G=o.x-(g_x+(u_x-g_x)*S),nt=o.y-(g_y+(u_y-g_y)*S);return{c1:new U(u_x+G,u_y+nt),c2:new U(g_x+G,g_y+nt)}},_.prototype._calculateCurveWidths=function(i){var n={start:null,end:null},a=this.velocityFilterWeight*i.endPoint.velocityFrom(i.startPoint)+(1-this.velocityFilterWeight)*this._lastVelocity,c=this._strokeWidth(a);return n.start=this._lastWidth,n.end=c,this._lastVelocity=a,this._lastWidth=c,n},_.prototype._strokeWidth=function(i){return Math.max(this.maxWidth/(i+1),this.minWidth)},_.prototype._drawPoint=function(i,o,e){var n=this._ctx;n.moveTo(i,o),n.arc(i,o,e,0,2*Math.PI,!1),this._isEmpty=!1},_.prototype._drawCurve=function(i,o,e){var n=this._ctx,a=e-o,c=Math.floor(i.length());n.beginPath();for(var r=0;r<c;r+=1){var u=r/c,g=u*u,f=g*u,v=1-u,O=v*v,w=O*v,S=w*i.startPoint.x;S+=3*O*u*i.control1.x,S+=3*v*g*i.control2.x;var I=w*i.startPoint.y;I+=3*O*u*i.control1.y,I+=3*v*g*i.control2.y,this._drawPoint(S+=f*i.endPoint.x,I+=f*i.endPoint.y,o+f*a)}n.closePath(),n.fill()},_.prototype._drawDot=function(i){var o=this._ctx,e="function"==typeof this.dotSize?this.dotSize():this.dotSize;o.beginPath(),this._drawPoint(i.x,i.y,e),o.closePath(),o.fill()},_.prototype._fromData=function(i,o,e){for(var n=0;n<i.length;n+=1){var a=i[n];if(a.length>1)for(var c=0;c<a.length;c+=1){var r=a[c],u=new U(r.x,r.y,r.time);if(0===c)this._reset(),this._addPoint(u);else if(c!==a.length-1){var g=this._addPoint(u),f=g.curve,v=g.widths;f&&v&&o(f,v)}}else this._reset(),e(a[0])}},_.prototype._toSVG=function(){var i=this,o=this._data,e=this._canvas,n=Math.max(window.devicePixelRatio||1,1),r=e.width/n,u=e.height/n,g=document.createElementNS("http://www.w3.org/2000/svg","svg");g.setAttributeNS(null,"width",e.width),g.setAttributeNS(null,"height",e.height),this._fromData(o,function(M,B){var V=document.createElement("path");if(!(isNaN(M.control1.x)||isNaN(M.control1.y)||isNaN(M.control2.x)||isNaN(M.control2.y))){var Re="M "+M.startPoint.x.toFixed(3)+","+M.startPoint.y.toFixed(3)+" C "+M.control1.x.toFixed(3)+","+M.control1.y.toFixed(3)+" "+M.control2.x.toFixed(3)+","+M.control2.y.toFixed(3)+" "+M.endPoint.x.toFixed(3)+","+M.endPoint.y.toFixed(3);V.setAttribute("d",Re),V.setAttribute("stroke-width",(2.25*B.end).toFixed(3)),V.setAttribute("stroke",i.penColor),V.setAttribute("fill","none"),V.setAttribute("stroke-linecap","round"),g.appendChild(V)}},function(M){var B=document.createElement("circle"),V="function"==typeof i.dotSize?i.dotSize():i.dotSize;B.setAttribute("r",V),B.setAttribute("cx",M.x),B.setAttribute("cy",M.y),B.setAttribute("fill",i.penColor),g.appendChild(B)});var v='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+r+" "+u+'" width="'+r+'" height="'+u+'">',O=g.innerHTML;if(void 0===O){var w=document.createElement("dummy"),S=g.childNodes;w.innerHTML="";for(var I=0;I<S.length;I+=1)w.appendChild(S[I].cloneNode(!0));O=w.innerHTML}return"data:image/svg+xml;base64,"+btoa(v+O+"</svg>")},_.prototype.fromData=function(i){var o=this;this.clear(),this._fromData(i,function(e,n){return o._drawCurve(e,n.start,n.end)},function(e){return o._drawDot(e)})},_.prototype.toData=function(){return this._data};const H=_;let j=(()=>{class i{constructor(e){this.elementRef=e,this.options=this.options||{},this.onBeginEvent=new t.vpe,this.onEndEvent=new t.vpe}ngAfterContentInit(){const e=this.elementRef.nativeElement.querySelector("canvas");this.options.canvasHeight&&(e.height=this.options.canvasHeight),this.options.canvasWidth&&(e.width=this.options.canvasWidth),this.signaturePad=new H(e,this.options),this.signaturePad.onBegin=this.onBegin.bind(this),this.signaturePad.onEnd=this.onEnd.bind(this)}ngOnDestroy(){const e=this.elementRef.nativeElement.querySelector("canvas");e.width=0,e.height=0}resizeCanvas(){const e=Math.max(window.devicePixelRatio||1,1),n=this.signaturePad.canvas;n.width=n.offsetWidth*e,n.height=n.offsetHeight*e,n.getContext("2d").scale(e,e),this.signaturePad.clear()}toData(){return this.signaturePad?this.signaturePad.toData():[]}fromData(e){this.signaturePad.fromData(e)}toDataURL(e,n){return this.signaturePad.toDataURL(e,n)}fromDataURL(e,n={}){!n.hasOwnProperty("height")&&this.options.canvasHeight&&(n.height=this.options.canvasHeight),!n.hasOwnProperty("width")&&this.options.canvasWidth&&(n.width=this.options.canvasWidth),this.signaturePad.fromDataURL(e,n)}clear(){this.signaturePad.clear()}isEmpty(){return this.signaturePad.isEmpty()}off(){this.signaturePad.off()}on(){this.signaturePad.on()}set(e,n){switch(e){case"canvasHeight":this.signaturePad.canvas.height=n;break;case"canvasWidth":this.signaturePad.canvas.width=n;break;default:this.signaturePad[e]=n}}onBegin(){this.onBeginEvent.emit(!0)}onEnd(){this.onEndEvent.emit(!0)}queryPad(){return this.signaturePad}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq))},i.\u0275cmp=t.Xpm({type:i,selectors:[["signature-pad"]],inputs:{options:"options"},outputs:{onBeginEvent:"onBeginEvent",onEndEvent:"onEndEvent"},decls:1,vars:0,template:function(e,n){1&e&&t._UZ(0,"canvas")},encapsulation:2}),i})(),$=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[]]}),i})();var J=l(85993),Z=l(49875),q=l(60940);let s=(()=>{class i{constructor(e,n,a){this.modal=e,this.fileUpload=n,this.alertService=a,this.signaturePadOptions={minWidth:5,canvasWidth:500,canvasHeight:300}}ngOnInit(){}ngAfterViewInit(){this.signaturePad.set("minWidth",5),this.signaturePad.clear()}clearSign(){this.signaturePad.clear()}saveSign(){let e=this.signaturePad.toDataURL().toString().split(",")[1];var n=4*Math.ceil(e.length/3)*.5624896334383812;let a={fileStr:e,fileName:(new Date).getTime(),fileType:"png",fileSize:n,contentType:"png",fileExtension:"png"};this.fileUpload.save(a).toPromise().then(c=>{c&&this.modal.dismiss({data:c,type:"save"})})}deleteEditModal(){this.alertService.activate("Are you sure want to delete?","Warning Message").then(e=>{e&&this.modal.dismiss({type:"delete"})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(J.Kz),t.Y36(Z.p3),t.Y36(q.c))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-resourse-detail"]],viewQuery:function(e,n){if(1&e&&t.Gf(j,5),2&e){let a;t.iGM(a=t.CRH())&&(n.signaturePad=a.first)}},decls:13,vars:1,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4","left-border-image"],[1,"overlay","overlay-block","cursor-default","modal-body"],[3,"options"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-secondary","btn-elevate",3,"click"],["type","submit",1,"btn","btn-primary","btn-elevate",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._uU(3," Sign here ...! "),t.qZA(),t.qZA(),t.TgZ(4,"div",3),t._UZ(5,"signature-pad",4),t.qZA(),t.TgZ(6,"div",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return n.modal.dismiss()}),t._uU(8,"Cancel"),t.qZA(),t.TgZ(9,"button",7),t.NdJ("click",function(){return n.clearSign()}),t._uU(10,"Clear"),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return n.saveSign()}),t._uU(12,"Save"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(5),t.Q6J("options",n.signaturePadOptions))},directives:[j],styles:[""]}),i})();var p=l(35618),E=l(552),F=l(43329),Q=l(45570),K=l(4205),it=l(46045),Y=l(23449),X=l(57842),L=l(49133);function tt(i,o){1&i&&(t.TgZ(0,"th"),t._uU(1," Option "),t.qZA())}function ot(i,o){1&i&&(t.TgZ(0,"th",12),t._uU(1," Sum Insured "),t.qZA())}function h(i,o){1&i&&(t.TgZ(0,"th",12),t._uU(1," Unit "),t.qZA())}function C(i,o){1&i&&(t.TgZ(0,"th",12),t._uU(1," Premium "),t.qZA())}function m(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"ng-select",13),t.NdJ("ngModelChange",function(a){t.CHM(e);const c=t.oxw(3).$implicit;return t.oxw().addOnData[c.id].option=a}),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(3).$implicit,n=t.oxw();t.xp6(1),t.Q6J("items",n.fireOptionData[e.code])("ngModel",n.addOnData[e.id].option)("clearable",!1)}}function y(i,o){if(1&i&&(t.TgZ(0,"td"),t.YNc(1,m,2,3,"ng-container",8),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf","FRAD010"==e.code||"FRAD008"==e.code)}}function A(i,o){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(1),t.hij(" ",n.addOnData[e.id].sum>0?t.lcZ(2,1,n.addOnData[e.id].sum):n.addOnData[e.id].sum," ")}}function R(i,o){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(1),t.hij(" ",n.addOnData[e.id]?n.addOnData[e.id].unit:0," ")}}function N(i,o){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(1),t.hij(" ",n.addOnData[e.id].premium>0?t.lcZ(2,1,n.addOnData[e.id].premium):n.addOnData[e.id].premium," ")}}function k(i,o){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",7),t._uU(2),t.qZA(),t.YNc(3,y,2,1,"td",8),t.YNc(4,A,3,3,"td",8),t.YNc(5,R,2,1,"td",8),t.YNc(6,N,3,3,"td",8),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(2),t.Oqu(e.description),t.xp6(1),t.Q6J("ngIf","CLFR01"==n.product.code),t.xp6(1),t.Q6J("ngIf",e.sumInsured),t.xp6(1),t.Q6J("ngIf",e.unit),t.xp6(1),t.Q6J("ngIf",e.premium)}}function et(i,o){if(1&i&&(t.ynx(0),t.YNc(1,k,7,5,"tr",8),t.BQk()),2&i){const e=o.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.addOnData[e.id])}}let at=(()=>{class i{constructor(e,n){this.addonQuo=e,this.globalFun=n,this.addOnData={},this.addon={sumInsured:!1,unit:!1,premium:!1},this.fireOptionData={FRAD008:[{code:"T-001",value:"Building"},{code:"T-002",value:"Furniture"},{code:"T-003",value:"Machine"},{code:"T-004",value:"Goods/Stocks"},{code:"T-005",value:"Water Damage for Goods/Stocks"}],FRAD010:[{code:"T-001",value:"First Class Building"},{code:"T-002",value:"Second Class Building"},{code:"T-003",value:"Third Class Building"},{code:"T-004",value:"Fourth Class Building"}]}}ngOnInit(){if(this.optionId=this.optionId?this.optionId:this.resourcesId,this.product.addOns&&this.product.addOns.length>0){this.addon={sumInsured:this.product.addOns[0].sumInsured,unit:this.product.addOns[0].unit,premium:this.product.addOns[0].premium};for(const e of this.product.addOns)try{this.resourcesId&&this.addonQuo.getOne(e.id,this.resourcesId,this.optionId).toPromise().then(n=>{n&&(this.addOnData[e.id]={sum:n&&n.sumInsured||0,unit:n&&n.unit||0,premium:n&&n.premium||0,option:n&&n.option||"T-001"})})}catch(n){}}}getDetail(){return(0,T.mG)(this,void 0,void 0,function*(){if(this.product.addOns&&this.product.addOns.length>0){this.addon={sumInsured:this.product.addOns[0].sumInsured,unit:this.product.addOns[0].unit,premium:this.product.addOns[0].premium};for(const e of this.product.addOns){let n={};try{this.resourcesId&&(n=yield this.addonQuo.getOne(e.id,this.resourcesId,this.optionId).toPromise())}catch(a){}this.addOnData[e.id]={sum:n&&n.sumInsured||0,unit:n&&n.unit||0,premium:n&&n.premium||0}}}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(F.D),t.Y36(Y.Q))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addon-view"]],inputs:{product:"product",resourcesId:"resourcesId",optionId:"optionId"},decls:18,vars:5,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center"],[2,"text-align","left"],[4,"ngIf"],["style","text-align: right;",4,"ngIf"],[1,"tbody-align"],[4,"ngFor","ngForOf"],[2,"text-align","right"],["bindLabel","value","bindValue","code","disabled","",1,"ng-custom-select",3,"items","ngModel","clearable","ngModelChange"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Addons Coverage :"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"table",6),t.TgZ(8,"thead"),t.TgZ(9,"tr"),t.TgZ(10,"th",7),t._uU(11," Addons Coverage "),t.qZA(),t.YNc(12,tt,2,0,"th",8),t.YNc(13,ot,2,0,"th",9),t.YNc(14,h,2,0,"th",9),t.YNc(15,C,2,0,"th",9),t.qZA(),t.qZA(),t.TgZ(16,"tbody",10),t.YNc(17,et,2,1,"ng-container",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(12),t.Q6J("ngIf","CLFR01"==n.product.code),t.xp6(1),t.Q6J("ngIf",n.addon.sumInsured),t.xp6(1),t.Q6J("ngIf",n.addon.unit),t.xp6(1),t.Q6J("ngIf",n.addon.premium),t.xp6(2),t.Q6J("ngForOf",n.product.addOns))},directives:[d.O5,d.sg,X.w9,L.JJ,L.On],pipes:[d.JJ],styles:[""]}),i})();function rt(i,o){1&i&&(t.TgZ(0,"th",11),t._uU(1," Sum Insured "),t.qZA())}function yt(i,o){1&i&&(t.TgZ(0,"th",11),t._uU(1," Unit "),t.qZA())}function Tt(i,o){1&i&&(t.TgZ(0,"th",11),t._uU(1," Premium "),t.qZA())}function At(i,o){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(1),t.hij(" ",n.coverageData[e.id].sum>0?t.lcZ(2,1,n.coverageData[e.id].sum):n.coverageData[e.id].sum," ")}}function xt(i,o){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(1),t.hij(" ",n.coverageData[e.id]?n.coverageData[e.id].unit:0," ")}}function Dt(i,o){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(1),t.hij(" ",n.coverageData[e.id].premium>0?t.lcZ(2,1,n.coverageData[e.id].premium):n.coverageData[e.id].premium," ")}}function bt(i,o){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",7),t._uU(2),t.qZA(),t.YNc(3,At,3,3,"td",12),t.YNc(4,xt,2,1,"td",12),t.YNc(5,Dt,3,3,"td",12),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.description),t.xp6(1),t.Q6J("ngIf",e.sumInsured),t.xp6(1),t.Q6J("ngIf",e.unit),t.xp6(1),t.Q6J("ngIf",e.premium)}}function wt(i,o){if(1&i&&(t.ynx(0),t.YNc(1,bt,6,4,"tr",12),t.BQk()),2&i){const e=o.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.coverageData[e.id])}}let Ct=(()=>{class i{constructor(e,n){this.coverageQuo=e,this.globalFun=n,this.coverage={sumInsured:!1,unit:!1,premium:!1},this.coverageData={}}ngOnInit(){if(this.optionId=this.optionId?this.optionId:this.resourcesId,this.product.coverages&&this.product.coverages.length>0){this.coverage={sumInsured:this.product.coverages[0].sumInsured,unit:this.product.coverages[0].unit,premium:this.product.coverages[0].premium};for(const e of this.product.coverages)this.resourcesId&&this.coverageQuo.getOne(e.id,this.resourcesId,this.optionId).toPromise().then(a=>{a&&(this.coverageData[e.id]={sum:a&&a.sumInsured||0,unit:a&&a.unit||0,premium:a&&a.premium||0})})}}getDetail(){return(0,T.mG)(this,void 0,void 0,function*(){if(this.product.coverages&&this.product.coverages.length>0){this.coverage={sumInsured:this.product.coverages[0].sumInsured,unit:this.product.coverages[0].unit,premium:this.product.coverages[0].premium};for(const e of this.product.coverages){let n={};try{this.resourcesId&&(n=yield this.coverageQuo.getOne(e.id,this.resourcesId,this.optionId).toPromise().catch(a=>a))}catch(a){}this.coverageData[e.id]={sum:n&&n.sumInsured||0,unit:n&&n.unit||0,premium:n&&n.premium||0}}}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Q.a),t.Y36(Y.Q))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-coverage-view"]],inputs:{product:"product",resourcesId:"resourcesId",optionId:"optionId"},decls:17,vars:4,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center"],[2,"text-align","left"],["style","text-align: right;",4,"ngIf"],[1,"tbody-align"],[4,"ngFor","ngForOf"],[2,"text-align","right"],[4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Basic Coverage :"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"table",6),t.TgZ(8,"thead"),t.TgZ(9,"tr"),t.TgZ(10,"th",7),t._uU(11," Basic Coverage "),t.qZA(),t.YNc(12,rt,2,0,"th",8),t.YNc(13,yt,2,0,"th",8),t.YNc(14,Tt,2,0,"th",8),t.qZA(),t.qZA(),t.TgZ(15,"tbody",9),t.YNc(16,wt,2,1,"ng-container",10),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(12),t.Q6J("ngIf",n.coverage.sumInsured),t.xp6(1),t.Q6J("ngIf",n.coverage.unit),t.xp6(1),t.Q6J("ngIf",n.coverage.premium),t.xp6(2),t.Q6J("ngForOf",n.product.coverages))},directives:[d.O5,d.sg],pipes:[d.JJ],styles:[""]}),i})();var dt=l(27673),ut=l(65937),pt=l(75396);const Ot=["chart"];function qt(i,o){if(1&i&&(t.ynx(0),t._UZ(1,"apx-chart",1),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("series",e.chartOptions.series)("chart",e.chartOptions.chart)("xaxis",e.chartOptions.xaxis)("yaxis",e.chartOptions.yaxis)("title",e.chartOptions.title)("legend",e.chartOptions.legend)("dataLabels",e.chartOptions.dataLabels)("markers",e.chartOptions.markers)}}let Mt=(()=>{class i{constructor(e,n,a,c){this.alertService=e,this.globalFun=n,this.eduPayment=a,this.cdf=c,this.actionEvent=new t.vpe,this.showDatas=[],this.show=!1,this.chartOptions={series:[{name:"Premium Amount",data:[],color:"#005f99"}],chart:{height:450,type:"line",toolbar:{show:!1}},title:{text:"Basic Benefit Illustration",offsetX:0,offsetY:10,floating:!1,style:{fontSize:"1.1rem",fontFamily:"Roboto"}},xaxis:{type:"category",categories:["0","1 year","2 years","3 years","4 years","5 years","6 years","7 years","8 years","9 years","10 years","11 years","12 years","13 years","14 years"],labels:{style:{fontSize:"1rem",fontFamily:"Roboto"}}},yaxis:{min:0,max:5e6,tickAmount:5,labels:{style:{fontSize:"1rem",fontFamily:"Roboto"}}},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5},dataLabels:{enabled:!0,textAnchor:"middle",offsetX:-10,offsetY:-5,enabledOnSeries:[0]},markers:{size:[5,0,0]}}}ngOnInit(){let e=this.parentData.map(n=>n.premiumPaid&&n.premiumPaid>0?n.premiumPaid:null);e.unshift(null),this.chartOptions.series[0].data=e,this.parentData.length>0&&"002"==this.parentData[0].benefitPlan&&(this.chartOptions.title.text="Double Benefit Illustration",this.chartOptions.yaxis.max=1e7,this.chartOptions.series[1]={data:[],name:"Goal"},this.chartOptions.series[2]={data:[],name:"2X Goal"},this.chartOptions.series[1].data=[5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6],this.chartOptions.series[2].data=[1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7])}createListData(){this.eduPayment.getMany(this.resourcesId).toPromise().then(e=>{if(e){let n=e.map(a=>{if(a.premiumPaid)return a.premiumPaid});n.unshift(0),e.length>0&&"002"==e[0].benefitPlan&&(this.chartOptions.title.text="Double Benefit Illustration",this.chartOptions.yaxis.max=1e7),this.chartOptions.series[0].data=n.filter(a=>a>=0),this.show=!0,this.cdf.detectChanges()}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.c),t.Y36(Y.Q),t.Y36(ut.D),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-education-life-grip-view"]],viewQuery:function(e,n){if(1&e&&t.Gf(Ot,5),2&e){let a;t.iGM(a=t.CRH())&&(n.chart=a.first)}},inputs:{product:"product",editData:"editData",resourcesId:"resourcesId",parentData:"parentData"},outputs:{actionEvent:"actionEvent"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"series","chart","xaxis","yaxis","title","legend","dataLabels","markers"]],template:function(e,n){1&e&&t.YNc(0,qt,2,8,"ng-container",0),2&e&&t.Q6J("ngIf",n.parentData)},directives:[d.O5,pt.x],styles:[""]}),i})();function It(i,o){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",6),t._uU(6),t.ALo(7,"number"),t.qZA(),t.TgZ(8,"td",6),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"td",6),t._uU(12),t.ALo(13,"number"),t.qZA(),t.TgZ(14,"td",6),t._uU(15),t.ALo(16,"number"),t.qZA(),t.qZA()),2&i){const e=o.$implicit;t.xp6(2),t.Oqu(e.endOfPolicyYear),t.xp6(2),t.Oqu(e.age),t.xp6(2),t.Oqu(t.lcZ(7,6,e.premiumPaid)||"-"),t.xp6(3),t.Oqu(t.lcZ(10,8,e.deathBenefit)),t.xp6(3),t.Oqu(t.lcZ(13,10,e.surrenderValue)||"-"),t.xp6(3),t.Oqu(t.lcZ(16,12,e.maturityBenefit)||"-")}}function Pt(i,o){if(1&i&&(t.ynx(0),t._UZ(1,"app-education-life-grip-view",10),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("parentData",e.showDatas)}}let Ut=(()=>{class i{constructor(e,n,a,c,r,u,g){this.globalFun=e,this.alertService=n,this.prodService=a,this.eduPreService=c,this.eduSurrService=r,this.eduPayment=u,this.cdf=g,this.actionEvent=new t.vpe,this.premimuRate={"9opt":5,"11opt":7,"14opt":10},this.frequency={monthly:1,quatarly:4,semi_annually:6,annually:12},this.lists=[],this.premiumRate=[],this.surrendRate=[],this.showDatas=[]}ngOnInit(){this.createListData()}createListData(){this.eduPayment.getMany(this.resourcesId).toPromise().then(e=>{e&&(this.showDatas=e,this.cdf.detectChanges())})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Y.Q),t.Y36(q.c),t.Y36(p.f),t.Y36(dt.H),t.Y36(dt.D),t.Y36(ut.D),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-education-life-view"]],inputs:{product:"product",editData:"editData",resourcesId:"resourcesId"},outputs:{actionEvent:"actionEvent"},decls:25,vars:2,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"table","table-bordered"],[2,"text-align","right"],[4,"ngFor","ngForOf"],[1,"mb-5"],[4,"ngIf"],[3,"parentData"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Benefit Illustration"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"table",5),t.TgZ(7,"thead"),t.TgZ(8,"tr"),t.TgZ(9,"th"),t._uU(10,"End of Policy Year"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Age"),t.qZA(),t.TgZ(13,"th",6),t._uU(14,"Premium Paid"),t.qZA(),t.TgZ(15,"th",6),t._uU(16,"Death/PTD Benefit"),t.qZA(),t.TgZ(17,"th",6),t._uU(18,"Surrender Value"),t.qZA(),t.TgZ(19,"th",6),t._uU(20,"Maturity Benefit"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"tbody"),t.YNc(22,It,17,14,"tr",7),t.qZA(),t.qZA(),t._UZ(23,"hr",8),t.YNc(24,Pt,2,1,"ng-container",9),t.qZA(),t.qZA()),2&e&&(t.xp6(22),t.Q6J("ngForOf",n.showDatas),t.xp6(2),t.Q6J("ngIf",n.showDatas.length>0))},directives:[d.sg,d.O5,Mt],pipes:[d.JJ],styles:[""]}),i})();var ht=l(61438);const Yt=["chart"];function St(i,o){if(1&i&&(t.ynx(0),t._UZ(1,"apx-chart",1),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("series",e.chartOptions.series)("chart",e.chartOptions.chart)("xaxis",e.chartOptions.xaxis)("yaxis",e.chartOptions.yaxis)("title",e.chartOptions.title)("legend",e.chartOptions.legend)("dataLabels",e.chartOptions.dataLabels)("markers",e.chartOptions.markers)}}let gt=(()=>{class i{constructor(e,n,a,c){this.alertService=e,this.globalFun=n,this.endoPayment=a,this.cdf=c,this.actionEvent=new t.vpe,this.showDatas=[],this.show=!1,this.chartOptions={series:[{name:"Premium Amount",data:[],color:"#005f99"}],chart:{height:450,type:"line",toolbar:{show:!1}},title:{text:"Basic Benefit Illustration",offsetX:0,offsetY:10,floating:!1,style:{fontSize:"1.1rem",fontFamily:"Roboto"}},xaxis:{type:"category",categories:["0","1 year","2 years","3 years","4 years","5 years","6 years","7 years","8 years","9 years","10 years","11 years","12 years","13 years","14 years"],labels:{style:{fontSize:"1rem",fontFamily:"Roboto"}}},yaxis:{min:0,max:5e6,tickAmount:5,labels:{style:{fontSize:"1rem",fontFamily:"Roboto"}}},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5},dataLabels:{enabled:!0,textAnchor:"middle",offsetX:-10,offsetY:-5,enabledOnSeries:[0]},markers:{size:[5,0,0]}}}ngOnInit(){let e=this.parentData.map(n=>n.premiumPaid&&n.premiumPaid>0?n.premiumPaid:null);e.unshift(null),this.chartOptions.series[0].data=e,this.parentData.length>0&&(this.chartOptions.yaxis.max=parseInt(this.parentData[0].benefit))}createListData(){this.endoPayment.getMany(this.resourcesId).toPromise().then(e=>{if(e){let n=e.map(a=>{if(a.premiumPaid)return a.premiumPaid});n.unshift(0),this.chartOptions.series[0].data=n.filter(a=>a>=0),this.show=!0,this.cdf.detectChanges()}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.c),t.Y36(Y.Q),t.Y36(ht.F),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-endo-grip-view"]],viewQuery:function(e,n){if(1&e&&t.Gf(Yt,5),2&e){let a;t.iGM(a=t.CRH())&&(n.chart=a.first)}},inputs:{product:"product",editData:"editData",resourcesId:"resourcesId",parentData:"parentData"},outputs:{actionEvent:"actionEvent"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"series","chart","xaxis","yaxis","title","legend","dataLabels","markers"]],template:function(e,n){1&e&&t.YNc(0,St,2,8,"ng-container",0),2&e&&t.Q6J("ngIf",n.parentData)},directives:[d.O5,pt.x],styles:[""]}),i})();function Ft(i,o){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",6),t._uU(6),t.ALo(7,"number"),t.qZA(),t.TgZ(8,"td",6),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"td",6),t._uU(12),t.ALo(13,"number"),t.qZA(),t.TgZ(14,"td",6),t._uU(15),t.ALo(16,"number"),t.qZA(),t.qZA()),2&i){const e=o.$implicit;t.xp6(2),t.Oqu(e.endOfPolicyYear),t.xp6(2),t.Oqu(e.age),t.xp6(2),t.Oqu(t.lcZ(7,6,e.premiumPaid)||"-"),t.xp6(3),t.Oqu(t.lcZ(10,8,e.benefit)),t.xp6(3),t.Oqu(t.lcZ(13,10,e.surrenderValue)||"-"),t.xp6(3),t.Oqu(t.lcZ(16,12,e.policyLoan)||"-")}}function Et(i,o){if(1&i&&(t.ynx(0),t._UZ(1,"app-endo-grip-view",10),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("parentData",e.showDatas)}}let Nt=(()=>{class i{constructor(e,n){this.eduPayment=e,this.cdf=n,this.actionEvent=new t.vpe,this.premimuRate={"9opt":5,"11opt":7,"14opt":10},this.frequency={monthly:1,quatarly:4,semi_annually:6,annually:12},this.lists=[],this.premiumRate=[],this.surrendRate=[],this.showDatas=[]}ngOnInit(){this.createListData()}createListData(){this.eduPayment.getMany(this.resourcesId).toPromise().then(e=>{e&&(this.showDatas=e,this.cdf.detectChanges())})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(ht.F),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-endo-view"]],inputs:{product:"product",editData:"editData",resourcesId:"resourcesId"},outputs:{actionEvent:"actionEvent"},decls:25,vars:2,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"table","table-bordered"],[2,"text-align","right"],[4,"ngFor","ngForOf"],[1,"mb-5"],[4,"ngIf"],[3,"parentData"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Benefit Illustration"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"table",5),t.TgZ(7,"thead"),t.TgZ(8,"tr"),t.TgZ(9,"th"),t._uU(10,"End of Policy Year"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Age"),t.qZA(),t.TgZ(13,"th",6),t._uU(14,"Premium Paid"),t.qZA(),t.TgZ(15,"th",6),t._uU(16,"Death/PTD Benefit"),t.qZA(),t.TgZ(17,"th",6),t._uU(18,"Surrender Value"),t.qZA(),t.TgZ(19,"th",6),t._uU(20,"Policy Loan"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"tbody"),t.YNc(22,Ft,17,14,"tr",7),t.qZA(),t.qZA(),t._UZ(23,"hr",8),t.YNc(24,Et,2,1,"ng-container",9),t.qZA(),t.qZA()),2&e&&(t.xp6(22),t.Q6J("ngForOf",n.showDatas),t.xp6(2),t.Q6J("ngIf",n.showDatas.length>0))},directives:[d.sg,d.O5,gt],pipes:[d.JJ],styles:[""]}),i})();var Lt=l(75103);const mt="static_1642920843499";let Rt=(()=>{class i{constructor(e,n,a){this.fireService=e,this.globalFun=n,this.prodService=a,this.showData={}}ngOnInit(){this.refID=this.prodService.referenceID,this.tempResourcesId=this.resourcesId,this.globalFun.tempFormData[mt]?this.showData=this.globalFun.tempFormData[mt]:this.getDataAPI()}getDataAPI(){this.fireService.getOne(this.tempResourcesId).toPromise().then(e=>{e&&(this.showData=e)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Lt.V),t.Y36(Y.Q),t.Y36(p.f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-fire-page-view"]],inputs:{product:"product",resourcesId:"resourcesId"},decls:29,vars:11,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"list-group"],[1,"list-group-item"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Fire Product Details :"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"ul",5),t.TgZ(7,"li",6),t._uU(8," Policy Effective Date (From) : "),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.qZA(),t.TgZ(12,"li",6),t._uU(13," Policy Effective Date (To) : "),t.TgZ(14,"span"),t._uU(15),t.ALo(16,"date"),t.qZA(),t.qZA(),t.TgZ(17,"li",6),t._uU(18," Policy Duration : "),t.TgZ(19,"span"),t._uU(20),t.qZA(),t.qZA(),t.TgZ(21,"li",6),t._uU(22," Policy Type : "),t.TgZ(23,"span"),t._uU(24),t.qZA(),t.qZA(),t.TgZ(25,"li",6),t._uU(26," Currency : "),t.TgZ(27,"span"),t._uU(28),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(10),t.hij(" ",t.xi3(11,5,n.showData.startDate,"dd/MM/yyyy"),""),t.xp6(5),t.hij(" ",t.xi3(16,8,n.showData.endDate,"dd/MM/yyyy"),""),t.xp6(5),t.hij(" ",n.showData.policyDuration," Days"),t.xp6(4),t.hij(" ","T-001"==n.showData.policyType?"Normal":"Declaration",""),t.xp6(4),t.hij(" ","T-001"==n.showData.policyDuration?"MMK":"USD",""))},pipes:[d.uU],styles:[""]}),i})();var Vt=l(66977);function Jt(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td",7),t._uU(5),t.ALo(6,"number"),t.qZA(),t.TgZ(7,"td",7),t._uU(8),t.ALo(9,"number"),t.qZA(),t.qZA(),t.BQk()),2&i){const e=o.$implicit;t.xp6(3),t.Oqu(e.buildingDescription),t.xp6(2),t.Oqu(t.lcZ(6,3,e.riskSi)),t.xp6(3),t.Oqu(t.lcZ(9,5,e.premium))}}let Qt=(()=>{class i{constructor(e){this.fireRiskService=e,this.premiumAmt="",this.listData=[]}ngOnInit(){this.getRiskList()}getRiskList(){this.fireRiskService.getMany(this.resourcesId).toPromise().then(e=>{e&&(this.listData=e)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Vt.U))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-fire-risk-view"]],inputs:{product:"product",editData:"editData",resourcesId:"resourcesId"},decls:18,vars:1,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center","fire-table"],[2,"text-align","right"],[4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Fire Risk"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"table",6),t.TgZ(8,"thead"),t.TgZ(9,"tr"),t.TgZ(10,"th"),t._uU(11,"Building Description"),t.qZA(),t.TgZ(12,"th",7),t._uU(13,"Sum Insured"),t.qZA(),t.TgZ(14,"th",7),t._uU(15,"Premium "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"tbody"),t.YNc(17,Jt,10,7,"ng-container",8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(17),t.Q6J("ngForOf",n.listData))},directives:[d.sg],pipes:[d.JJ],styles:[".fire-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .fire-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left}"]}),i})();var kt=l(93931);function Bt(i,o){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.qZA()),2&i){const e=o.$implicit;t.xp6(2),t.Oqu(e.keyName),t.xp6(2),t.hij("",e.value," Units")}}function Wt(i,o){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"number"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"number"),t.qZA(),t.qZA()),2&i){const e=o.$implicit,n=o.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(t.lcZ(5,4,e.premium)),t.xp6(3),t.Oqu(t.lcZ(8,6,e.levy)),t.xp6(3),t.Oqu(t.lcZ(11,8,e.premium+e.levy))}}let jt=(()=>{class i{constructor(e,n,a,c,r,u,g){this.globalFun=e,this.alertService=n,this.addOnQuoService=a,this.coverageQuoService=c,this.healthPayService=r,this.cdf=u,this.prodService=g,this.refID="",this.showData=[],this.schedule=[],this.totalP=0,this.totalL=0,this.tempResourcesId="",this.tempSchedule=[]}ngOnInit(){this.refID=this.prodService.referenceID,this.tempResourcesId=this.resourcesId,this.getCoverage(),this.getAddon(),this.getSchedule()}getAddon(){this.product.addOns.forEach(e=>(0,T.mG)(this,void 0,void 0,function*(){let n={};try{n=yield this.addOnQuoService.getOne(e.id,this.tempResourcesId,this.tempResourcesId).toPromise(),n&&this.showData.push({keyName:e.description,value:n.sumInsured})}catch(a){}}))}getCoverage(){this.product.coverages.forEach(e=>(0,T.mG)(this,void 0,void 0,function*(){let n={};try{n=yield this.coverageQuoService.getOne(e.id,this.tempResourcesId,this.tempResourcesId).toPromise(),n&&this.showData.unshift({keyName:e.description,value:n.sumInsured})}catch(a){}}))}getSchedule(){this.healthPayService.getMany(this.tempResourcesId).toPromise().then(e=>{if(e&&e.length>0){if(this.totalP=0,this.totalL=0,e.map(n=>{this.totalP+=n.premium,this.totalL+=n.levy}),this.schedule=e,"L"==e[0].paymentTerm)this.tempSchedule=[{premium:this.totalP,levy:this.totalL,total:this.totalP+this.totalL}];else{let n=this.totalP/2;this.tempSchedule=[{premium:n,levy:this.totalL,total:n+this.totalL},{premium:n,levy:0,total:n}]}this.cdf.detectChanges()}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Y.Q),t.Y36(q.c),t.Y36(F.D),t.Y36(Q.a),t.Y36(kt.q),t.Y36(t.sBO),t.Y36(p.f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-health-quo-view"]],inputs:{product:"product",editData:"editData",resourcesId:"resourcesId"},decls:44,vars:11,consts:[[1,"card","card-custom","gutter-b"],[1,"card-body","customer-card-body"],[1,"table","table-bordered","mt-5"],[1,"tbody-align"],[4,"ngFor","ngForOf"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"table","table-bordered"],[2,"text-align","right"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.TgZ(3,"thead",3),t.TgZ(4,"tr"),t.TgZ(5,"th"),t._uU(6," Coverages/Benefit "),t.qZA(),t.TgZ(7,"th"),t._uU(8," Sum Insured "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"tbody",3),t.YNc(10,Bt,5,2,"tr",4),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",0),t.TgZ(12,"div",5),t.TgZ(13,"div",6),t.TgZ(14,"h3",7),t._uU(15,"Payment Schedules :"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",1),t.TgZ(17,"table",8),t.TgZ(18,"thead"),t.TgZ(19,"tr"),t.TgZ(20,"th"),t._uU(21," No. of Installment "),t.qZA(),t.TgZ(22,"th",9),t._uU(23," Premium "),t.qZA(),t.TgZ(24,"th",9),t._uU(25," Levy "),t.qZA(),t.TgZ(26,"th",9),t._uU(27," Total "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"tbody",3),t.YNc(29,Wt,12,10,"tr",4),t.qZA(),t.TgZ(30,"tfoot",3),t.TgZ(31,"tr"),t.TgZ(32,"td"),t.TgZ(33,"b"),t._uU(34,"Total"),t.qZA(),t.qZA(),t.TgZ(35,"td"),t._uU(36),t.ALo(37,"number"),t.qZA(),t.TgZ(38,"td"),t._uU(39),t.ALo(40,"number"),t.qZA(),t.TgZ(41,"td"),t._uU(42),t.ALo(43,"number"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(10),t.Q6J("ngForOf",n.showData),t.xp6(19),t.Q6J("ngForOf",n.tempSchedule),t.xp6(7),t.Oqu(t.lcZ(37,5,n.totalP)),t.xp6(3),t.Oqu(t.lcZ(40,7,n.totalL)),t.xp6(3),t.Oqu(t.lcZ(43,9,n.totalP+n.totalL)))},directives:[d.sg],pipes:[d.JJ],styles:[""]}),i})();var $t=l(92118),_t=l(44290),Gt=l(74464),zt=l(47975),Ht=l(13468),st=l(78480);function Xt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"div",2),t.TgZ(2,"div",10),t.TgZ(3,"div",11),t.TgZ(4,"ng-select",12),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().planOption=a})("toggleChange",function(){return t.CHM(e),t.oxw().changePlan()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",2),t.TgZ(6,"label",13),t._uU(7,"Premium : "),t.TgZ(8,"span"),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("disabled",!0)("ngModel",e.planOption)("items",e.planOptionOption),t.xp6(5),t.hij("$",e.premium,"")}}function Kt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"div",14),t.TgZ(2,"div",10),t.TgZ(3,"label",15),t._uU(4,"Start Date"),t.qZA(),t.TgZ(5,"div",11),t.TgZ(6,"div",16),t.TgZ(7,"input",17),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().startDate=a}),t.qZA(),t._UZ(8,"mat-datepicker-toggle",18),t._UZ(9,"mat-datepicker",19,20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",14),t.TgZ(12,"div",10),t.TgZ(13,"label",15),t._uU(14,"End Date"),t.qZA(),t.TgZ(15,"div",11),t.TgZ(16,"div",16),t.TgZ(17,"input",17),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().endDate=a}),t.qZA(),t._UZ(18,"mat-datepicker-toggle",18),t._UZ(19,"mat-datepicker",19,21),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(10),n=t.MAs(20),a=t.oxw();t.xp6(7),t.Q6J("ngModel",a.startDate)("matDatepicker",e),t.xp6(1),t.Q6J("for",e),t.xp6(9),t.Q6J("ngModel",a.endDate)("matDatepicker",n),t.xp6(1),t.Q6J("for",n)}}function te(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"div",14),t.TgZ(2,"div",10),t.TgZ(3,"label",15),t._uU(4,"Source Place"),t.qZA(),t.TgZ(5,"div",11),t.TgZ(6,"input",22),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().option1=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",14),t.TgZ(8,"div",10),t.TgZ(9,"label",15),t._uU(10,"Destination Place"),t.qZA(),t.TgZ(11,"div",11),t.TgZ(12,"input",23),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().option2=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",14),t.TgZ(14,"div",10),t.TgZ(15,"label",13),t._uU(16,"Premium : "),t.TgZ(17,"span"),t._uU(18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("disabled",!0)("ngModel",e.option1),t.xp6(6),t.Q6J("disabled",!0)("ngModel",e.option2),t.xp6(6),t.hij("$",e.premium,"")}}let ee=(()=>{class i{constructor(e,n){this.globalFun=e,this.prodService=n,this.primary="primary",this.isMedical=!1,this.isCross=!1,this.planOption="basic",this.planOptionOption=[{code:"basic",value:"Basic Plan"},{code:"special",value:"Special Plan"}],this.option1="Digital Source Place",this.option2="Digital Destination Place",this.parentData={},this.addOnsData={}}ngOnInit(){}toggleChange(e){"medical"==e&&(this.isMedical=this.isMedical,this.changePlan()),"cross"==e&&(this.isCross=this.isCross)}changePlan(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Y.Q),t.Y36(p.f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-motor-addon-view"]],inputs:{product:"product"},features:[t._Bn([{provide:Gt._A,useClass:$t.t7,deps:[_t.Ad]},{provide:_t.sG,useValue:zt.Gs}])],decls:23,vars:8,consts:[[1,"form-group"],[1,"row",2,"align-items","center"],[1,"col-sm-6"],[1,"col-sm-6","text-bold"],[1,"col-sm-6","text-bold","left-border-image"],[1,"col-sm-2"],[1,"toggle","ft-right",3,"ngModel","disabled","color","ngModelChange","toggleChange"],["class","row","style","align-items: center; margin-top: 10px;",4,"ngIf"],[1,"row",2,"align-items","center","margin-top","10px"],[1,"toggle","ft-right",3,"ngModel","color","ngModelChange","change"],[1,"form-group","row"],[1,"col-sm-8"],["bindLabel","value","bindValue","code",1,"ng-custom-select",3,"disabled","ngModel","items","ngModelChange","toggleChange"],[1,"col-sm-12","text-bold"],[1,"col-sm-4"],[1,"col-sm-4","col-form-label"],[1,"input-group","input-group-sm"],["matInput","","readonly","",1,"form-control-sm","date-input",2,"width","100%",3,"ngModel","matDatepicker","ngModelChange"],["matSuffix","",3,"for"],["disabled","false"],["start",""],["end",""],["type","text","name","option1","autocomplete","off",1,"form-control","form-control-sm",3,"disabled","ngModel","ngModelChange"],["type","text","name","option2","autocomplete","off",1,"form-control","form-control-sm",3,"disabled","ngModel","ngModelChange"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"label",3),t._uU(4,"Optional Covers"),t.qZA(),t.qZA(),t.qZA(),t._UZ(5,"hr"),t.TgZ(6,"div"),t.TgZ(7,"div",1),t.TgZ(8,"div",2),t.TgZ(9,"label",4),t._uU(10,"Medical Expense"),t.qZA(),t.qZA(),t.TgZ(11,"div",5),t.TgZ(12,"mat-slide-toggle",6),t.NdJ("ngModelChange",function(c){return n.isMedical=c})("toggleChange",function(){return n.toggleChange("medical")}),t.qZA(),t.qZA(),t.qZA(),t.YNc(13,Xt,10,4,"div",7),t.TgZ(14,"div",8),t.TgZ(15,"div",2),t.TgZ(16,"label",4),t._uU(17,"Cross Border"),t.qZA(),t.qZA(),t.TgZ(18,"div",5),t.TgZ(19,"mat-slide-toggle",9),t.NdJ("ngModelChange",function(c){return n.isCross=c})("change",function(){return n.toggleChange("cross")}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(20,Kt,21,6,"div",7),t.YNc(21,te,19,5,"div",7),t.qZA(),t._UZ(22,"hr")),2&e&&(t.xp6(12),t.Q6J("ngModel",n.isMedical)("disabled",!0)("color",n.primary),t.xp6(1),t.Q6J("ngIf",n.isMedical),t.xp6(6),t.Q6J("ngModel",n.isCross)("color",n.primary),t.xp6(1),t.Q6J("ngIf",n.isCross),t.xp6(1),t.Q6J("ngIf",n.isCross))},directives:[Ht.Rr,L.JJ,L.On,d.O5,X.w9,L.Fj,st.hl,st.nW,st.Mq],styles:[".input-group[_ngcontent-%COMP%]   .form-control-sm[_ngcontent-%COMP%]{background-color:#fff;background-clip:padding-box;border:1px solid #E4E6EF;padding:0 .75rem}.input-group[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;right:5px}.active[_ngcontent-%COMP%]{display:block}.inactive[_ngcontent-%COMP%]{display:none}.icon[_ngcontent-%COMP%]{position:relative;border:none;margin:0;font-size:1.5rem;background-color:transparent}.add[_ngcontent-%COMP%]{top:-11px;position:relative;border:none;background:#f2f2f2;margin:0}.add[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:-52px;right:78px;width:110px}.btn-box[_ngcontent-%COMP%]{text-align:end}.btn-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;width:127%;height:100%;opacity:0}h2[_ngcontent-%COMP%]{font-size:13px;color:#005ca2;background:#F2F2F2;border:none;cursor:pointer;position:relative;margin-top:24px;padding:12px 24px 1px}h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:14px;top:5px}h2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:6px;height:12px;float:left}h2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;padding-left:18px}.tab-div[_ngcontent-%COMP%]{position:relative;padding:20px 0 0;background:#d1d7e2;border-bottom:1px solid #d2d2d2;margin:-10px 0 0}.tab-div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}"]}),i})();var ne=l(75291);const ft="static_1634018514043";let vt=(()=>{class i{constructor(e,n,a){this.healthService=e,this.globalFun=n,this.prodService=a,this.showData={}}ngOnInit(){this.refID=this.prodService.referenceID,this.tempResourcesId=this.resourcesId,this.globalFun.tempFormData[ft]?this.showData=this.globalFun.tempFormData[ft]:this.getDataAPI()}getDataAPI(){this.healthService.getOne(this.tempResourcesId).toPromise().then(e=>{e&&(this.showData=e)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(ne.e),t.Y36(Y.Q),t.Y36(p.f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-simple-page-view"]],inputs:{product:"product",resourcesId:"resourcesId"},decls:38,vars:17,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"list-group"],[1,"list-group-item"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Health Product Details :"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"ul",5),t.TgZ(7,"li",6),t._uU(8," Period of Insurance (From) : "),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.qZA(),t.TgZ(12,"li",6),t._uU(13," Period of Insurance (To) : "),t.TgZ(14,"span"),t._uU(15),t.ALo(16,"date"),t.qZA(),t.qZA(),t.TgZ(17,"li",6),t._uU(18," Basic Cover : "),t.TgZ(19,"span"),t._uU(20),t.qZA(),t.qZA(),t.TgZ(21,"li",6),t._uU(22," Date of Birth : "),t.TgZ(23,"span"),t._uU(24),t.ALo(25,"date"),t.qZA(),t.qZA(),t.TgZ(26,"li",6),t._uU(27," Payment Frequency : "),t.TgZ(28,"span"),t._uU(29),t.qZA(),t.qZA(),t.TgZ(30,"li",6),t._uU(31," Sum Insured of Main Cover : "),t.TgZ(32,"span"),t._uU(33),t.qZA(),t.qZA(),t.TgZ(34,"li",6),t._uU(35," Medical Card No : "),t.TgZ(36,"span"),t._uU(37),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(10),t.hij(" ",t.xi3(11,8,n.showData.insuranceStartDate,"dd/MM/yyyy"),""),t.xp6(5),t.hij(" ",t.xi3(16,11,n.showData.insuranceEndDate,"dd/MM/yyyy"),""),t.xp6(5),t.hij(" ","HEALTH"==n.showData.basicCoverId?"Health Insurance":"Critical Illness",""),t.xp6(4),t.hij(" ",t.xi3(25,14,n.showData.dateOfBirth,"dd/MM/yyyy"),""),t.xp6(5),t.hij(" ","L"==n.showData.paymentFrequency?"Lump Sum":"Semi-Annually",""),t.xp6(4),t.AsE(" ",n.showData.sumInsuredMainCover," Unit",n.showData.sumInsuredMainCover>1?"s":"",""),t.xp6(4),t.hij(" ",n.showData.medicalCardNo,""))},pipes:[d.uU],styles:[""]}),i})();var ie=l(6920),oe=l(37780);function ae(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"titlecase"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"titlecase"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"titlecase"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.ALo(21,"number"),t.qZA(),t.qZA(),t.BQk()),2&i){const e=o.$implicit,n=t.oxw();t.xp6(3),t.Oqu(e.riskId),t.xp6(2),t.Oqu(t.lcZ(6,8,n.replaceT(e.travelPlan))),t.xp6(3),t.Oqu(t.lcZ(9,10,n.replaceT(e.insuredUnit))),t.xp6(3),t.Oqu(t.lcZ(12,12,n.replaceT(e.travelDuration))),t.xp6(3),t.Oqu(e.noOfTraveller),t.xp6(2),t.Oqu(e.totalUnit),t.xp6(2),t.Oqu(e.travellerName),t.xp6(2),t.Oqu(t.lcZ(21,14,e.premium))}}const ct={static_1634018514043:vt,addon_1634010770155:at,coverage_1634010995936:Ct,static_1635218894755:jt,static_1635309151504:Ut,static_1635747288508:vt,static_1642920843499:Rt,static_1643116155828:Qt,static_1644896661652:Nt,static_1644896804675:gt,static_1648784270356:(()=>{class i{constructor(e,n,a){this.travelRikService=e,this.cdf=n,this.globalFun=a,this.travelForm=[],this.listData=[]}ngOnInit(){this.getRiskList()}getRiskList(){this.travelRikService.getMany(this.resourcesId).toPromise().then(e=>{e&&(this.globalFun.tempFormData[ie.rf]=e,this.listData=e||[],this.cdf.detectChanges())})}replaceT(e){return e.replace("T-","").replace("TU-","")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(oe.G),t.Y36(t.sBO),t.Y36(Y.Q))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-travel-risk-view"]],inputs:{product:"product",editData:"editData",resourcesId:"resourcesId",referenceID:"referenceID",premiumAmt:"premiumAmt",travelForm:"travelForm"},decls:24,vars:1,consts:[[1,"card","card-custom","gutter-b"],[1,"card-body","customer-card-body"],[1,"table-responsive","angular-bootstrap-table","mt-5"],[1,"table","table-head-custom","table-vertical-center"],[4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"table",3),t.TgZ(4,"thead"),t.TgZ(5,"tr"),t.TgZ(6,"th"),t._uU(7,"Risk No"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Travel Plan"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Insured Unit"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Travel Duration"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"No. Of Traveller"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Total Unit"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Traveller Name"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Premium"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"tbody"),t.YNc(23,ae,22,16,"ng-container",4),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(23),t.Q6J("ngForOf",n.listData))},directives:[d.sg],pipes:[d.rS,d.JJ],encapsulation:2}),i})(),static_1648784270432:ee};let re=(()=>{class i{constructor(e,n){this.resolver=e,this.container=n}ngOnInit(){if(ct[this.compId]){const e=this.resolver.resolveComponentFactory(ct[this.compId]);if(this.component=this.container.createComponent(e),this.component.instance.product=this.product,this.component.instance.resourcesId=this.resourcesId,"static_1635747288508"==this.compId){const n=this.resolver.resolveComponentFactory(ct.static_1635218894755);this.component2=this.container.createComponent(n),this.component2.instance.product=this.product,this.component2.instance.resourcesId=this.resourcesId}}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t._Vd),t.Y36(t.s_b))},i.\u0275dir=t.lG2({type:i,selectors:[["","staticPageView",""]],inputs:{compId:"compId",product:"product",resourcesId:"resourcesId"}}),i})();function se(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.item.name)}}function ce(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.resourceDetail.premiumView||0)}}function le(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,"in_progress"==e.resourceDetail.status?"In Progress":e.resourceDetail.status))}}function de(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,e.resourceDetail.apiStatus))}}function ue(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().viewPrint()}),t._UZ(1,"i",9),t._uU(2," Print "),t.qZA()}}function pe(i,o){if(1&i&&(t.ynx(0),t.GkF(1,18),t.BQk()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("compId",e.id)("product",n.item)("resourcesId",n.resourceDetail.id)}}function he(i,o){if(1&i&&(t.TgZ(0,"li",27),t.TgZ(1,"h5",28),t._uU(2),t.qZA(),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(2),t.hij("",e.name," ")}}function ge(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.BQk()),2&i){const e=t.oxw(3).$implicit,n=t.oxw(4).$implicit,a=t.oxw(2);t.xp6(2),t.hij(" ",a.getOptionValue(a.resultObj[n.tableName+n.id][e.name],e.options,n.tableName+n.id,e.name),"")}}function me(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw(4).$implicit,n=t.oxw(4).$implicit,a=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,a.resultObj[n.tableName+n.id][e.name]||0)," ")}}function _e(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw(4).$implicit,n=t.oxw(4).$implicit,a=t.oxw(2);t.xp6(1),t.hij(" ",a.resultObj[n.tableName+n.id][e.name]&&"null"!=a.resultObj[n.tableName+n.id][e.name]?t.xi3(2,1,a.resultObj[n.tableName+n.id][e.name],"dd/MM/yyyy"):""," ")}}function fe(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4).$implicit,n=t.oxw(4).$implicit,a=t.oxw(2);t.xp6(1),t.hij(" ",a.resultObj[n.tableName+n.id][e.name]," ")}}function ve(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.ALo(2,"date"),t.BQk()),2&i){const e=t.oxw(4).$implicit,n=t.oxw(4).$implicit,a=t.oxw(2);t.xp6(1),t.hij(" - ",t.xi3(2,1,a.resultObj[n.tableName+n.id][e.endName],"dd/MM/yyyy")," ")}}function Ze(i,o){if(1&i&&(t.YNc(0,me,3,3,"span",6),t.YNc(1,_e,3,4,"span",6),t.YNc(2,fe,2,1,"span",6),t.YNc(3,ve,3,4,"ng-container",6)),2&i){const e=t.oxw(3).$implicit;t.Q6J("ngIf","input"==e.input&&"currency"==e.type),t.xp6(1),t.Q6J("ngIf","date"==e.input),t.xp6(1),t.Q6J("ngIf","currency"!=e.type&&"date"!=e.input),t.xp6(1),t.Q6J("ngIf","date"==e.input&&"policy"==e.type)}}function ye(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"li",29),t._uU(2),t.YNc(3,ge,3,1,"ng-container",16),t.YNc(4,Ze,4,4,"ng-template",null,30,t.W1O),t._UZ(6,"div",31),t.qZA(),t.BQk()),2&i){const e=t.MAs(5),n=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",n.label||n.name," : "),t.xp6(1),t.Q6J("ngIf",("false"==n.master||0==n.master)&&n.options&&n.options.length>0)("ngIfElse",e)}}function Te(i,o){if(1&i&&(t.ynx(0),t.YNc(1,he,3,1,"li",26),t.YNc(2,ye,7,3,"ng-container",6),t.BQk()),2&i){const e=t.oxw().$implicit,n=t.oxw(4).$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("ngIf","label"==e.input),t.xp6(1),t.Q6J("ngIf",!e.isHideView&&a.checkDep(e.dependency,a.resultObj[n.tableName+n.id])&&"underline"!=e.input&&"label"!=e.input)}}function Ae(i,o){if(1&i&&(t.ynx(0),t.YNc(1,Te,3,2,"ng-container",6),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.show)}}function xe(i,o){if(1&i&&(t.TgZ(0,"ul",25),t.YNc(1,Ae,2,1,"ng-container",10),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngForOf",e.controls)}}const Zt=function(i){return{"text-align":i}};function De(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"th",34),t._uU(2),t.qZA(),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("ngStyle",t.VKq(2,Zt,"currency"==e.subType?"right":"left")),t.xp6(1),t.hij("",e.title," ")}}function be(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"td",34),t._uU(2),t.qZA(),t.BQk()),2&i){const e=o.$implicit,n=t.oxw().$implicit,a=t.oxw(7);t.xp6(1),t.Q6J("ngStyle",t.VKq(2,Zt,"currency"==e.subType?"right":"left")),t.xp6(1),t.hij(" ",a.getOtherData(e.cols,n),"")}}function we(i,o){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.YNc(3,be,3,4,"ng-container",10),t.qZA()),2&i){const e=o.index,n=t.oxw(5).$implicit,a=t.oxw(2);t.xp6(2),t.Oqu(e+1),t.xp6(1),t.Q6J("ngForOf",a.getFormatTable(n.controls))}}function Ce(i,o){if(1&i&&(t.ynx(0),t.YNc(1,we,4,2,"tr",10),t.BQk()),2&i){const e=t.oxw(4).$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",n.resultObj[e.tableName+e.id])}}function Oe(i,o){if(1&i&&(t.TgZ(0,"div",32),t.TgZ(1,"table",33),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5,"NO"),t.qZA(),t.YNc(6,De,3,4,"ng-container",10),t.qZA(),t.qZA(),t.TgZ(7,"tbody"),t.YNc(8,Ce,2,1,"ng-container",6),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(3).$implicit,n=t.oxw(2);t.xp6(6),t.Q6J("ngForOf",n.getFormatTable(e.controls)),t.xp6(2),t.Q6J("ngIf",n.resultObj[e.tableName+e.id])}}function qe(i,o){if(1&i&&(t.ynx(0),t.YNc(1,xe,2,1,"ul",23),t.YNc(2,Oe,9,2,"div",24),t.BQk()),2&i){const e=t.oxw(2).$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!n.Array.isArray(n.resultObj[e.tableName+e.id])),t.xp6(1),t.Q6J("ngIf",n.Array.isArray(n.resultObj[e.tableName+e.id]))}}function Me(i,o){if(1&i&&(t.TgZ(0,"div",2),t.TgZ(1,"div",19),t.TgZ(2,"div",20),t.TgZ(3,"h3",21),t._uU(4),t.ALo(5,"titlecase"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",22),t.ynx(7),t.YNc(8,qe,3,2,"ng-container",6),t.BQk(),t.qZA(),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(4),t.hij("",t.lcZ(5,2,e.pageTitle)," :"),t.xp6(4),t.Q6J("ngIf",n.resultObj[e.tableName+e.id])}}function Ie(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"div",15),t.YNc(2,pe,2,3,"ng-container",16),t.YNc(3,Me,9,4,"ng-template",null,17,t.W1O),t.qZA(),t.BQk()),2&i){const e=o.$implicit,n=t.MAs(4);t.xp6(2),t.Q6J("ngIf","static"===e.type)("ngIfElse",n)}}function Pe(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",35),t.TgZ(1,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).createPolicy()}),t._uU(2," Create New Application "),t.qZA(),t.qZA()}}function Ue(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",36),t.TgZ(1,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).createSign()}),t._uU(2," Create Signature "),t.qZA(),t.qZA()}}function Ye(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",36),t.TgZ(1,"button",37),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).submitPolicy()}),t._uU(2," Submit Application "),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled","sending"==e.resourceDetail.apiStatus||"success"==e.resourceDetail.apiStatus)}}function Se(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",0),t.YNc(2,Ie,5,2,"ng-container",10),t.qZA(),t.TgZ(3,"div",0),t.TgZ(4,"div",1),t.TgZ(5,"div",2),t.TgZ(6,"div",11),t.TgZ(7,"div",0),t.TgZ(8,"div"),t.TgZ(9,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().goToList()}),t._uU(10," Go Back "),t.qZA(),t.qZA(),t.YNc(11,Pe,3,0,"div",13),t.YNc(12,Ue,3,0,"div",14),t.YNc(13,Ye,3,1,"div",14),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.pageOrder),t.xp6(6),t.Tol("quotation"==e.type?"col-sm-6":"col-sm-4"),t.xp6(3),t.Q6J("ngIf","quotation"==e.type),t.xp6(1),t.Q6J("ngIf","policy"==e.type),t.xp6(1),t.Q6J("ngIf","policy"==e.type)}}let Fe=(()=>{class i{constructor(e,n,a,c,r,u,g,f,v,O,w,S,I){this.productService=e,this.location=n,this.pageDataService=a,this.addonQuo=c,this.coverageQuo=r,this.router=u,this.cdf=g,this.downloadService=f,this.numberPipe=v,this.datePipe=O,this.modalService=w,this.policyService=S,this.alertService=I,this.resultObj={},this.Object=Object,this.Array=Array,this.coverage={sumInsured:!1,unit:!1,premium:!1},this.addon={sumInsured:!1,unit:!1,premium:!1},this.coverageData={},this.addOnData={},this.resourceDetail={},this.detailInput={},this.formatedData={},this.printConfig={},this.signFileId=""}ngOnInit(){return(0,T.mG)(this,void 0,void 0,function*(){if(this.productService.createingProd&&this.productService.createingProd.id){if(this.item=this.productService.createingProd,this.type=this.productService.previewType,this.resourceDetail=this.productService.editData,this.resourceDetail.status=this.resourceDetail.status?this.resourceDetail.status:"in_progress",this.signFileId=this.resourceDetail.attachmentId,!this.resourceDetail)return void this.location.back();let e=JSON.parse(this.item.config);"quotation"==this.productService.previewType?(this.pageOrder=e.quotation||[],this.detailInput=e.quotation_input||{}):(this.pageOrder=e.application||[],this.detailInput=e.application_input||{});let n="policy"==this.type?"application":this.type,a=this.item.productUIs.map(r=>{if(r.type==n)return JSON.parse(r.dynamicProduct.config)});if(this.printConfig=JSON.parse(this.item.pdfConfig),this.item=this.productService.createingProd,this.getDetail(a),this.pageOrder.findIndex(r=>"static_1648784270356"==r.id)>=0){let r=this.pageOrder.findIndex(v=>"travel_detail"==v.tableName);r>=0&&this.pageOrder.splice(r,1);let u=this.pageOrder.findIndex(v=>"traveler_detail"==v.tableName);u>=0&&this.pageOrder.splice(u,1);let g=this.pageOrder.findIndex(v=>"trave_beneficiary"==v.tableName);g>=0&&this.pageOrder.splice(g,1);let f=this.pageOrder.findIndex(v=>"coverage_1634010995936"==v.id);f>=0&&this.pageOrder.splice(f,1)}this.cdf.detectChanges()}else this.location.back()})}ngOnDestroy(){this.productService.createingProd=null,this.productService.editData=null}getDetail(e){this.getOldData(this.resourceDetail,e)}getOldData(e,n){let a=0,c=this.pageOrder.length;for(let r of this.pageOrder){if(r.type==b.it.DYN){let u=this.findPageValue(n,r.id);this.pageOrder[a].tableName=u.tableName,this.pageOrder[a].id=u.id,this.pageOrder[a].controls=u.controls,this.pageDataService.getDetail(u.tableName,e.id,u.id,!0,u.controls).toPromise().then(g=>{if(g){let f="form"==u.pageType?{}:[];for(const v of g){let O={};for(const w of v.data)"id"!=w.column&&"created_at"!=w.column&&"updated_at"!=w.column&&(O[w.column]=w.value),w.valueCode&&(O[w.column+"Code"]=w.valueCode);Array.isArray(f)?f.push(O):f=O}this.resultObj[u.tableName+u.id]=f,this.formatedData=JSON.parse(JSON.stringify(this.resultObj)),c==a&&this.cdf.detectChanges()}})}a+=1}this.cdf.detectChanges()}download(e,n){let a=this.getOtherData(e,n);if(a){let c=a.split("].")[0].replace("[","");this.downloadService.getDownload(c,a)}}getFormatTable(e){let n=[],a=[],c=JSON.parse(JSON.stringify(e));for(let r of c){r.options=r.options?r.options:[];let u=!1;if(!r.isHideView)if(r.tableTitle&&(a.findIndex(f=>f==r.tableTitle)<0?a.push(r.tableTitle):u=!0),u){let g=n.findIndex(f=>f.parent==r.dependency.parentName);g>=0&&n[g].cols.push({name:r.name,type:r.input,subType:r.type,options:("false"==r.master||0==r.master)&&r.options.length>0?r.options:[]})}else n.push({title:r.tableTitle||r.label||r.name,cols:[{name:r.name,type:r.input,subType:r.type,options:("false"==r.master||0==r.master)&&r.options.length>0?r.options:[]}],type:r.input,subType:r.type,parent:r.dependency?r.dependency.parentName:"",options:("false"==r.master||0==r.master)&&r.options.length>0?r.options:[]})}return n}getOtherData(e,n){for(let a of e)if(n[a.name]&&(n[a.name]+"").length>0){if("input"==a.type&&"currency"==a.subType)return this.numberPipe.transform(n[a.name]);if("date"==a.type)return this.datePipe.transform(n[a.name],"dd/MM/yyyy");if(a.options.length>0){let r=a.options.find(u=>u.value==n[a.name]);if(r)return r.text}return n[a.name]}}findPageValue(e,n){let a;for(let c=0;c<e.length;c++)if(e[c]&&(a=e[c].fromGroup.find(r=>r.id==n),a)){a.controls.map(r=>(this.detailInput[n]&&"underline"!=r.input&&"label"!=r.input?(r.show=this.detailInput[n][r.name]>=0?this.detailInput[n][r.name]>0:r.show,r.disabled=this.detailInput[n][r.name]>=0&&2==this.detailInput[n][r.name]||r.disabled):this.detailInput[n]&&"label"==r.input&&(r.show=this.detailInput[n][r.placeholder]>=0?this.detailInput[n][r.placeholder]>0:r.show),r));break}return a}rechangePageData(e){for(let n=0;n<this.pageOrder.length;n++){const a=this.pageOrder[n];if("coverage"!=a.id&&"addon"!=a.id){let c=this.findPageValue(e,a.id);this.pageOrder[n].tableName=c.tableName,this.pageOrder[n].id=c.id,this.pageOrder[n].controls=c.controls}}}goToList(){this.location.back()}createPolicy(){this.productService.createingProdRef=this.item,this.productService.viewType="policy",this.productService.type="policy",this.productService.referenceID=this.resourceDetail.id,this.productService.referenceStatus=this.resourceDetail.status,this.productService.creatingLeadId=this.resourceDetail.leadId,this.productService.editData=null,this.router.navigateByUrl("/product-form")}checkDep(e,n){return!e||(0,x.J)(e,{value:n})}getOptionValue(e,n,a,c){let r=n.find(u=>u.value==e);return r?(this.formatedData&&(this.formatedData[a][c]=r.text),r.text):e}viewPrint(){const e=this.modalService.open(D.s,{size:"xl",backdrop:!1});e.componentInstance.configData=this.printConfig.printFormat,e.componentInstance.configOrder=this.printConfig.prinitUI,e.componentInstance.product=this.item,e.componentInstance.tempData=this.formatedData,e.componentInstance.resourcesId=this.resourceDetail.id,e.result.then(()=>{},n=>{})}createSign(){this.modalService.open(s,{size:"md",backdrop:!1}).result.then(()=>{},n=>{n&&"save"==n.type&&this.policyService.updateAttachment(this.resourceDetail.id,n.data).toPromise().then(a=>{a&&(this.alertService.activate("This record was created","Success Message"),this.signFileId=n.data,this.productService.editData.attachmentId=n.data)})})}submitPolicy(){this.policyService.submitPolicy(this.resourceDetail.id).toPromise().then(e=>{e&&(this.alertService.activate("This record was submitted","Success Message"),this.resourceDetail.apiStatus="sending",this.resourceDetail.status="submitted",this.cdf.detectChanges())})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.f),t.Y36(d.Ye),t.Y36(E.Q),t.Y36(F.D),t.Y36(Q.a),t.Y36(K.F0),t.Y36(t.sBO),t.Y36(Z.Ys),t.Y36(d.JJ),t.Y36(d.uU),t.Y36(J.FF),t.Y36(it.d),t.Y36(q.c))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-resourse-detail"]],decls:23,vars:6,consts:[[1,"row"],[1,"col-12"],[1,"card","card-custom","gutter-b"],[1,"card-body"],[2,"display","flex"],[1,"top-box"],[4,"ngIf"],["class","btn btn-outline-primary","style","margin-left: auto;",3,"click",4,"ngIf"],[1,"btn","btn-outline-primary",2,"margin-left","auto",3,"click"],[1,"flaticon2-print"],[4,"ngFor","ngForOf"],[1,"card-footer"],["type","submit",1,"btn","btn-primary","btn-block",3,"click"],["class","col-sm-6",4,"ngIf"],["class","col-sm-4",4,"ngIf"],[1,"col-md-12","mx-auto"],[4,"ngIf","ngIfElse"],["dynView",""],["staticPageView","",3,"compId","product","resourcesId"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],["class","list-group",4,"ngIf"],["class","table-responsive angular-bootstrap-table",4,"ngIf"],[1,"list-group"],["class","list-group-item","style","border-top: 0.5px solid #dad9d9 !important;",4,"ngIf"],[1,"list-group-item",2,"border-top","0.5px solid #dad9d9 !important"],[2,"margin-bottom","0px"],[1,"list-group-item"],["nomalValue",""],[2,"clear","both"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center"],[3,"ngStyle"],[1,"col-sm-6"],[1,"col-sm-4"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._uU(6," PRODUCT "),t._UZ(7,"br"),t.YNc(8,se,2,1,"span",6),t.qZA(),t.TgZ(9,"div",5),t._uU(10," PREMIUM "),t._UZ(11,"br"),t.YNc(12,ce,2,1,"span",6),t.qZA(),t.TgZ(13,"div",5),t._uU(14," Application Status "),t._UZ(15,"br"),t.YNc(16,le,3,3,"span",6),t.qZA(),t.TgZ(17,"div",5),t._uU(18," TCS Status "),t._UZ(19,"br"),t.YNc(20,de,3,3,"span",6),t.qZA(),t.YNc(21,ue,3,0,"button",7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(22,Se,14,7,"ng-container",6)),2&e&&(t.xp6(8),t.Q6J("ngIf",n.item),t.xp6(4),t.Q6J("ngIf",n.resourceDetail),t.xp6(4),t.Q6J("ngIf",n.resourceDetail),t.xp6(4),t.Q6J("ngIf",n.resourceDetail),t.xp6(1),t.Q6J("ngIf","policy"==n.type),t.xp6(1),t.Q6J("ngIf",n.resourceDetail))},directives:[d.O5,d.sg,re,d.PC],pipes:[d.rS,d.JJ,d.uU],styles:[".top-box[_ngcontent-%COMP%]{color:#b5b5c3;margin-left:50px}.top-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}"]}),i})();var Ee=l(70933),Ne=l(18410);let Le=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[d.uU,d.JJ],imports:[[d.ez,L.u5,L.UX,J.bz,Ee.Q,Ne.J,$,K.Bz.forChild([{path:"",component:Fe}])]]}),i})()}}]);