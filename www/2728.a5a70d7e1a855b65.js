"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2728],{50858:(B,M,s)=>{s.d(M,{Z:()=>I});var t,p=new Uint8Array(16);function a(){if(!t&&!(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(p)}const u=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,d=function(r){return"string"==typeof r&&u.test(r)};for(var N=[],D=0;D<256;++D)N.push((D+256).toString(16).substr(1));const I=function(r,x,v){var f=(r=r||{}).random||(r.rng||a)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,x){v=v||0;for(var Z=0;Z<16;++Z)x[v+Z]=f[Z];return x}return function(r){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,v=(N[r[x+0]]+N[r[x+1]]+N[r[x+2]]+N[r[x+3]]+"-"+N[r[x+4]]+N[r[x+5]]+"-"+N[r[x+6]]+N[r[x+7]]+"-"+N[r[x+8]]+N[r[x+9]]+"-"+N[r[x+10]]+N[r[x+11]]+N[r[x+12]]+N[r[x+13]]+N[r[x+14]]+N[r[x+15]]).toLowerCase();if(!d(v))throw TypeError("Stringified UUID is invalid");return v}(f)}},49875:(B,M,s)=>{s.d(M,{Ys:()=>U,ou:()=>$,p3:()=>j});var t=s(64762),p=s(18260),a=s(91691),u=s(91278),y=(()=>{return(m=y||(y={})).Documents="DOCUMENTS",m.Data="DATA",m.Library="LIBRARY",m.Cache="CACHE",m.External="EXTERNAL",m.ExternalStorage="EXTERNAL_STORAGE",y;var m})();const F=(0,u.fo)("Filesystem",{web:()=>s.e(2571).then(s.bind(s,52571)).then(m=>new m.FilesystemWeb)}),g=(0,u.fo)("BlobWriter");function T(m){const Y=new Uint8Array(m);let h="",b=0;for(;!(b>=Y.byteLength);)h+=String.fromCharCode(Y[b]),b+=1;return window.btoa(h)}function I(m,Y,h){if(0===h.size)return Promise.resolve();const b=393216,A=h.slice(0,b);return new window.Response(A).arrayBuffer().then(function(J){return F.appendFile({directory:m,path:Y,data:T(J)})}).then(function(){return I(m,Y,h.slice(b))})}function r({path:m,directory:Y,blob:h,recursive:b}){return F.writeFile({directory:Y,path:m,recursive:b,data:""}).then(function({uri:A}){return I(Y,m,h).then(function(){return A})})}const v=Object.freeze(function(m){const{path:Y,directory:h,blob:b,recursive:A,on_fallback:Q}=m;return"ios"!==u.dV.platform&&"android"!==u.dV.platform?r(m):Promise.all([g.get_config(),F.getUri({path:Y,directory:h})]).then(function([P,G]){const{base_url:X,auth_token:tt}=P,nt=G.uri.replace("file://","");return Promise.all([fetch(X+nt+(A?"?recursive=true":""),{headers:{authorization:tt},method:"put",body:b}),Promise.resolve(G)])}).then(function([J,P]){if(204!==J.status)throw new Error("Bad HTTP status: "+J.status);return P.uri}).catch(function(P){return void 0!==Q&&Q(P),r(m)})});var f=s(83668),Z=s(44522),L=s(96360),q=s(60807),H=s(18829),z=s(60940);const W=`${p.N.apiUrl}/attachment-uploader`;let j=(()=>{class m extends a.i{constructor(h){super(h,W),this.httpClient=h}}return m.\u0275fac=function(h){return new(h||m)(f.LFG(Z.eN))},m.\u0275prov=f.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const R=`${p.N.apiUrl}/attachment-downloader`;let U=(()=>{class m extends a.i{constructor(h,b,A,Q,J){super(h,R),this.httpClient=h,this.file=b,this.loadingService=A,this.toastService=Q,this.alertService=J}getDownload(h,b){this.httpClient.get(R+"/"+h,{responseType:"blob"}).toPromise().then(A=>{A&&(u.dV.isNativePlatform()?this.mobileDownload(b,A):this.downloadFile(A,b))})}downloadFile(h,b){var A=document.createElement("a");A.href=URL.createObjectURL(h),A.download=b,A.click(),A.remove()}mobileDownload(h,b){return(0,t.mG)(this,void 0,void 0,function*(){try{let A=yield F.mkdir({path:"kbzsale_downloads",directory:y.Documents,recursive:!1});console.log("folder ",A),this.createFile(h,b)}catch(A){this.createFile(h,b)}})}createFile(h,b){return(0,t.mG)(this,void 0,void 0,function*(){try{yield v({path:"kbzsale_downloads/"+h,directory:y.Documents,blob:b}),yield this.loadingService.deactivate(),this.alertService.activate('"Download File',"Success Message")}catch(A){yield this.loadingService.deactivate(),this.alertService.activate('"Download Fail',"Error Message")}})}}return m.\u0275fac=function(h){return new(h||m)(f.LFG(Z.eN),f.LFG(L.$),f.LFG(q.b),f.LFG(H.T),f.LFG(z.c))},m.\u0275prov=f.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const V=`${p.N.apiUrl}/attachment-ref`;let $=(()=>{class m extends a.i{constructor(h){super(h,V),this.httpClient=h}getAttachmentListRef(h,b){return this.httpClient.get(V+"?refDocNo="+h+"&refDocType="+b)}}return m.\u0275fac=function(h){return new(h||m)(f.LFG(Z.eN))},m.\u0275prov=f.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},94115:(B,M,s)=>{s.d(M,{n:()=>g});var t=s(83668),p=s(86019);function a(T,I){if(1&T&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t._uU(2),t.qZA(),t.qZA()),2&T){const r=t.oxw(2);t.xp6(2),t.Oqu(r.getMsg("required"))}}function u(T,I){if(1&T&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t._uU(2),t.qZA(),t.qZA()),2&T){const r=t.oxw(2);t.xp6(2),t.Oqu(r.getMsg("min"))}}function y(T,I){if(1&T&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t._uU(2),t.qZA(),t.qZA()),2&T){const r=t.oxw(2);t.xp6(2),t.Oqu(r.getMsg("max"))}}function d(T,I){if(1&T&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t._uU(2),t.qZA(),t.qZA()),2&T){const r=t.oxw(2);t.xp6(2),t.Oqu(r.getMsg("min"))}}function N(T,I){if(1&T&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t._uU(2),t.qZA(),t.qZA()),2&T){const r=t.oxw(2);t.xp6(2),t.Oqu(r.getMsg("max"))}}function D(T,I){1&T&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t._uU(2,"Email format is invalid"),t.qZA(),t.qZA())}function F(T,I){if(1&T&&(t.TgZ(0,"div",1),t.YNc(1,a,3,1,"div",2),t.YNc(2,u,3,1,"div",2),t.YNc(3,y,3,1,"div",2),t.YNc(4,d,3,1,"div",2),t.YNc(5,N,3,1,"div",2),t.YNc(6,D,3,0,"div",2),t.qZA()),2&T){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.control.errors.required),t.xp6(1),t.Q6J("ngIf",r.control.errors.minlength),t.xp6(1),t.Q6J("ngIf",r.control.errors.maxlength),t.xp6(1),t.Q6J("ngIf",r.control.errors.min),t.xp6(1),t.Q6J("ngIf",r.control.errors.max),t.xp6(1),t.Q6J("ngIf",r.control.errors.email)}}let g=(()=>{class T{constructor(){this.valid=[]}getMsg(r){return this.valid.length>0?this.valid.find(x=>x.type==r).message:"This input box is required!"}}return T.\u0275fac=function(r){return new(r||T)},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-print-error"]],inputs:{control:"control",valid:"valid"},features:[t._Bn([])],decls:1,vars:1,consts:[["class","text-danger error-message help-text-message",4,"ngIf"],[1,"text-danger","error-message","help-text-message"],[4,"ngIf"]],template:function(r,x){1&r&&t.YNc(0,F,7,6,"div",0),2&r&&t.Q6J("ngIf",x.control&&x.control.errors&&x.control.invalid)},directives:[p.O5],encapsulation:2}),T})()},31248:(B,M,s)=>{function t(){const p=new FileReader;return p.__zone_symbol__originalInstance||p}s.d(M,{y:()=>t})},53489:(B,M,s)=>{s.d(M,{w:()=>p});var t=s(49133);function p(a){Object.keys(a.controls).forEach(u=>{const y=a.get(u);y instanceof t.NI?y.markAsTouched({onlySelf:!0}):y instanceof t.cw&&this.validateAllFields(y)})}},87952:(B,M,s)=>{s.d(M,{J:()=>p});var t=s(49133);function p(a,u){let d=(u instanceof t.cw?u.getRawValue():u.value)[a.parentName];return a.show?a.isArray?a.value.includes(d):d==a.value:!!d}},77720:(B,M,s)=>{s.d(M,{P:()=>a});var t=s(83668);const p=["app-button-box",""];let a=(()=>{class u{constructor(d){this.el=d,this.editStage=!0,this.eventE=new t.vpe}ngOnInit(){}onClick(){this.eventE.emit(this.editStage?this.index+"":this.config.type)}}return u.\u0275fac=function(d){return new(d||u)(t.Y36(t.SBq))},u.\u0275cmp=t.Xpm({type:u,selectors:[["","app-button-box",""]],inputs:{config:"config",index:"index",editStage:"editStage"},outputs:{eventE:"eventE"},attrs:p,decls:2,vars:5,consts:[["type","button",3,"click"]],template:function(d,N){1&d&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return N.onClick()}),t._uU(1),t.qZA()),2&d&&(t.MT6("btn btn-block btn-",!0===N.config.fill?"":"outline-","",N.config.color,""),t.xp6(1),t.Oqu(N.config.label))},styles:[""]}),u})()},14246:(B,M,s)=>{s.d(M,{r:()=>bn});var t=s(83668),p=s(49133),a=s(92070),u=s(21558),y=s(23449),d=s(86019),N=s(87952),D=s(54753),F=s(26697),g=s(94115),T=s(12053);function I(o,l){if(1&o&&(t.TgZ(0,"label",5),t._uU(1),t.qZA()),2&o){const n=t.oxw(2);t.Gre("col-",n.config.inlineStyle?n.config.labelSize:"12",""),t.xp6(1),t.hij("",n.config.label,":")}}const r=function(){return{standalone:!0}};function x(o,l){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"mat-checkbox",6),t.NdJ("change",function(i){return t.CHM(n),t.oxw(2).checkData(i)})("ngModelChange",function(i){const _=t.CHM(n).$implicit;return t.oxw(2).data["v"+_.value]=i}),t._uU(2),t.qZA(),t.BQk()}if(2&o){const n=l.$implicit,e=t.oxw(2);t.xp6(1),t.s9C("name",n.value),t.Q6J("ngModel",e.data["v"+n.value])("ngModelOptions",t.DdM(5,r))("disabled",e.isDisabled),t.xp6(1),t.hij(" ",n.text," ")}}function v(o,l){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",1),t.YNc(2,I,2,4,"label",2),t.TgZ(3,"div"),t.YNc(4,x,3,6,"ng-container",3),t.TgZ(5,"div"),t._UZ(6,"app-print-error",4),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.config.isLabel),t.xp6(1),t.Gre("col-",n.config.inlineStyle?n.config.inputSize:"12",""),t.xp6(1),t.Q6J("ngForOf",n.config.options),t.xp6(2),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}let f=(()=>{class o{constructor(n,e,i){this.globalFun=n,this.masterData=e,this.cdf=i,this.data={},this.unSub=[],this.masterOption=[],this.oldValue=""}ngOnDestroy(){this.unSub.forEach(n=>n.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==u.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue())}listenFunData(){this.config.isFun&&this.config.inpFunction.type==u.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(n=>{this.group.controls[this.config.name].setValue(n)}))}loadData(){"true"==this.config.master?this.config.dependency||this.getOptions():(this.masterOption=this.config.options,this.masterOption.forEach(n=>{if(this.config.multi){let e=this.config.value,c=(Array.isArray(e)?e:[]).findIndex(_=>_==n.value);this.data["v"+n.value]=!(c<0)}else this.data["v"+n.value]=this.config.value==n.value}))}ngOnInit(){this.loadData(),this.unSub[1]=this.globalFun.optionResultChange.subscribe(n=>{n&&this.loadData()}),this.listenFunData()}checkData(n){let e=n.source.name,i=this.group.value[this.config.name];if(this.config.multi)if(i=Array.isArray(i)?i:[],n.checked)i.push(e);else{let c=i.findIndex(_=>_==e);i.splice(c,1)}else n.checked?(this.masterOption.forEach(c=>{c.value!=e&&(this.data["v"+c.value]=!1)}),i=e):i=null;this.group.controls[this.config.name].setValue(i),this.doFunction()}get isDisabled(){return this.group.controls[this.config.name].disabled}getOptions(){let n=this.config.valueField,e=this.config.showField;this.masterData.getDataByType(this.config.masterData).toPromise().then(i=>{i&&(this.masterOption=i.map(c=>Object.assign({value:c[n],text:c[e]},c)),this.masterOption.forEach(c=>{if(this.config.multi){let _=this.config.value,w=(Array.isArray(_)?_:[]).findIndex(C=>C==c.value);this.data["v"+c.value]=!(w<0)}else this.data["v"+c.value]=this.config.value==c.value}),this.cdf.detectChanges(),this.doFunction())})}reGetOption(n){if(n==this.oldValue)return!1;let e=this.config.dependency,i=this.config.valueField,c=this.config.showField,_=this.group.getRawValue()[this.config.name]||this.config.value,S=!1;this.oldValue=n,this.masterData.getDataByType(this.config.masterData).pipe((0,D.U)(w=>w.filter(C=>C[e.relatedField]==n))).toPromise().then(w=>{w&&(this.masterOption=w.map(C=>(C[i]==_&&(S=!0),Object.assign({value:C[i],text:C[c]},C))),this.masterOption.forEach(C=>{if(this.config.multi){let E=this.config.value,O=(Array.isArray(E)?E:[]).findIndex(k=>k==C.value);this.data["v"+C.value]=!(O<0)}else this.data["v"+C.value]=this.config.value==C.value}),S?this.group.controls[this.config.name].setValue(_):this.masterOption.length>0&&this.group.controls[this.config.name].setValue(this.masterOption[0].value),this.cdf.detectChanges(),this.doFunction())})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(y.Q),t.Y36(F.D),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-checkbox-box"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"form-group","row"],["style","padding-top: 10px;",3,"class",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"control","valid"],[2,"padding-top","10px"],[1,"example-margin",3,"ngModel","ngModelOptions","name","disabled","change","ngModelChange"]],template:function(n,e){1&n&&t.YNc(0,v,7,7,"div",0),2&n&&t.Q6J("ngIf",e.config)},directives:[d.O5,d.sg,g.n,T.oG,p.JJ,p.On],styles:[""]}),o})();var Z=s(85378),L=s(21177),q=s(44290),H=s(92118),z=s(47975),W=s(35618),j=s(60940),R=s(57730),U=s(78480),V=s(86031);function $(o,l){if(1&o&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&o){const n=t.oxw(3);t.Tol(n.config.inlineStyle?"col-"+n.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(n.config.label)}}function m(o,l){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",7),t._UZ(2,"input",8),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",10,11),t._UZ(6,"app-print-error",12),t.qZA(),t.qZA()),2&o){const n=t.MAs(5),e=t.oxw(3);t.xp6(2),t.Q6J("formControlName",e.config.name)("min",e.fromMinDate)("max",e.fromMaxDate)("matDatepicker",n),t.xp6(1),t.Q6J("for",n),t.xp6(1),t.s9C("disabled",e.isDisabled),t.xp6(2),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}function Y(o,l){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",7),t._UZ(2,"input",8),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",10,11),t._UZ(6,"app-print-error",12),t.qZA(),t.qZA()),2&o){const n=t.MAs(5),e=t.oxw(3);t.Gre("col-",e.config.inputSize,""),t.xp6(2),t.Q6J("formControlName",e.config.name)("min",e.fromMinDate)("max",e.fromMaxDate)("matDatepicker",n),t.xp6(1),t.Q6J("for",n),t.xp6(1),t.s9C("disabled",e.isDisabled),t.xp6(2),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}const h=function(o){return{row:o}};function b(o,l){if(1&o&&(t.ynx(0),t.TgZ(1,"div",4),t.YNc(2,$,2,4,"label",5),t.YNc(3,m,7,8,"div",2),t.YNc(4,Y,7,11,"ng-template",null,6,t.W1O),t.qZA(),t.BQk()),2&o){const n=t.MAs(5),e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(4,h,e.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",e.config.isLabel),t.xp6(1),t.Q6J("ngIf",!e.config.inlineStyle)("ngIfElse",n)}}function A(o,l){if(1&o&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&o){const n=t.oxw(3);t.Tol(n.config.inlineStyle?"col-"+n.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(n.config.label)}}function Q(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",7),t.TgZ(2,"input",16),t.NdJ("dateChange",function(){return t.CHM(n),t.oxw(3).doValid()}),t.qZA(),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",10,11),t._UZ(6,"app-print-error",12),t.qZA(),t.qZA()}if(2&o){const n=t.MAs(5),e=t.oxw(3);t.xp6(2),t.Q6J("formControlName",e.config.name)("min",e.fromMinDate)("max",e.fromMaxDate)("matDatepicker",n),t.xp6(1),t.Q6J("for",n),t.xp6(1),t.s9C("disabled",e.isDisabled),t.xp6(2),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}function J(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",7),t.TgZ(2,"input",16),t.NdJ("dateChange",function(){return t.CHM(n),t.oxw(3).doValid()}),t.qZA(),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",10,11),t._UZ(6,"app-print-error",12),t.qZA(),t.qZA()}if(2&o){const n=t.MAs(5),e=t.oxw(3);t.Gre("col-",e.config.inputSize,""),t.xp6(2),t.Q6J("formControlName",e.config.name)("min",e.fromMinDate)("max",e.fromMaxDate)("matDatepicker",n),t.xp6(1),t.Q6J("for",n),t.xp6(1),t.s9C("disabled",e.isDisabled),t.xp6(2),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}function P(o,l){if(1&o&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&o){const n=t.oxw(3);t.Tol(n.config.inlineStyle?"col-"+n.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(n.config.endLabel)}}function G(o,l){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",7),t._UZ(2,"input",8),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",17,18),t.qZA(),t.qZA()),2&o){const n=t.MAs(5),e=t.oxw(3);t.xp6(2),t.Q6J("formControlName",e.config.endName)("min",e.toMinDate)("max",e.toMaxDate)("matDatepicker",n),t.xp6(1),t.Q6J("for",n)}}function X(o,l){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",7),t._UZ(2,"input",8),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",17,18),t.qZA(),t.qZA()),2&o){const n=t.MAs(5),e=t.oxw(3);t.Gre("col-",e.config.inputSize,""),t.xp6(2),t.Q6J("formControlName",e.config.endName)("min",e.toMinDate)("max",e.toMaxDate)("matDatepicker",n),t.xp6(1),t.Q6J("for",n)}}function tt(o,l){if(1&o&&(t.TgZ(0,"div",13),t.TgZ(1,"div",14),t.TgZ(2,"div",4),t.YNc(3,A,2,4,"label",5),t.YNc(4,Q,7,8,"div",2),t.YNc(5,J,7,11,"ng-template",null,6,t.W1O),t.qZA(),t.qZA(),t.TgZ(7,"div",14),t.TgZ(8,"div",4),t.YNc(9,P,2,4,"label",5),t.YNc(10,G,6,5,"div",2),t.YNc(11,X,6,8,"ng-template",null,15,t.W1O),t.qZA(),t.qZA(),t.qZA()),2&o){const n=t.MAs(6),e=t.MAs(12),i=t.oxw(2);t.xp6(2),t.Q6J("ngClass",t.VKq(8,h,i.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",i.config.isLabel),t.xp6(1),t.Q6J("ngIf",!i.config.inlineStyle)("ngIfElse",n),t.xp6(4),t.Q6J("ngClass",t.VKq(10,h,i.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",i.config.isLabel),t.xp6(1),t.Q6J("ngIf",!i.config.inlineStyle)("ngIfElse",e)}}function nt(o,l){if(1&o&&(t.TgZ(0,"div",1),t.YNc(1,b,6,6,"ng-container",2),t.YNc(2,tt,13,12,"ng-template",null,3,t.W1O),t.qZA()),2&o){const n=t.MAs(3),e=t.oxw();t.Q6J("formGroup",e.group),t.xp6(1),t.Q6J("ngIf","date"==e.config.type)("ngIfElse",n)}}let ct=(()=>{class o{constructor(n,e,i){this.globalFun=n,this.prodService=e,this.alert=i,this.unSub=[],this.toMinDate=null,this.fromMinDate=null,this.toMaxDate=null,this.fromMaxDate=null,this.valid={value:"",type:""},this.isDisabled=!1}ngOnInit(){this.isDisabled=this.config.disabled,this.listenFunData();let n=this.config.validation;if("policy"!=this.config.type){for(const e of n)if(e.type==u.xT.DATE){let i;if(i=e.dateType==u.Uv.DAY?"days":e.dateType==u.Uv.MONTH?"months":"years",e.from){let c=a().subtract(e.from,i);this.fromMinDate=c.format("YYYY-MM-DD")}else this.fromMinDate=null;if(e.to){let c=a().add(e.to,i);this.fromMaxDate=c.format("YYYY-MM-DD")}else this.fromMaxDate=null}else if(e.type==u.xT.MAX&&e.isAge){let i=a().subtract(e.value,"years");this.fromMinDate=i.format("YYYY-MM-DD")}else if(e.type==u.xT.MIN&&e.isAge){let i=a().subtract(e.value,"years");this.fromMaxDate=i.format("YYYY-MM-DD")}}else{let e=this.prodService.createingProd;if(e){if("no"==e.isAllowBackDate){let i=a();this.fromMinDate=i.format("YYYY-MM-DD"),this.toMinDate=i.format("YYYY-MM-DD")}else if("yes"==e.isAllowBackDate&&e.allowDays>0){let i=a().subtract(e.allowDays,"days");this.fromMinDate=i.format("YYYY-MM-DD"),this.toMinDate=i.format("YYYY-MM-DD")}this.listenValid()}}}ngOnDestroy(){this.unSub.forEach(n=>n.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==u.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue())}listenFunData(){this.config.isFun&&this.config.inpFunction.type==u.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(n=>{this.group.controls[this.config.name].setValue(n)}))}listenValid(){this.unSub[1]=this.globalFun.paPolicyValidationResult.subscribe(n=>{if(n){let e,i;this.valid.value=n.validationValue,e="DAY"==n.validationType?"days":"MONTH"==n.validationType?"months":"years",this.valid.type=e,this.group.controls[this.config.name].value?i=a(this.group.controls[this.config.name].value).add(n.validationValue,e):(i=a().add(n.validationValue,e),this.group.controls[this.config.name].setValue(a().format("YYYY-MM-DD"))),this.toMaxDate={year:parseInt(i.format("YYYY")),month:parseInt(i.format("M")),day:parseInt(i.format("D"))},this.group.controls[this.config.endName].setValue(i.format("YYYY-MM-DD"))}})}doValid(){if(this.group.controls[this.config.name].value&&this.valid.value){let e=a(this.group.controls[this.config.name].value).add(this.valid.value,this.valid.type);this.toMaxDate={year:parseInt(e.format("YYYY")),month:parseInt(e.format("M")),day:parseInt(e.format("D"))},this.group.controls[this.config.endName].setValue(e.format("YYYY-MM-DD"))}}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(y.Q),t.Y36(W.f),t.Y36(j.c))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-date-box"]],features:[t._Bn([{provide:Z.DO,useClass:L.Wv},{provide:Z.NG,useClass:L.ke},{provide:q._A,useClass:H.t7,deps:[q.Ad]},{provide:q.sG,useValue:z.G}])],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[4,"ngIf","ngIfElse"],["policyDate",""],[1,"form-group",3,"ngClass"],[3,"class",4,"ngIf"],["InlineForm",""],[1,"input-group"],["matInput","","readonly","",1,"form-control-sm","date-input",3,"formControlName","min","max","matDatepicker"],["matSuffix","",3,"for"],[3,"disabled"],["picker",""],[3,"control","valid"],[1,"row"],[1,"col-sm-6"],["InlineForm2",""],["matInput","","readonly","",1,"form-control-sm","date-input",3,"formControlName","min","max","matDatepicker","dateChange"],["disabled","true"],["picker2",""]],template:function(n,e){1&n&&t.YNc(0,nt,4,3,"div",0),2&n&&t.Q6J("ngIf",e.config)},directives:[d.O5,p.JL,p.sg,d.mk,R.Nt,p.Fj,U.hl,p.JJ,p.u,U.nW,V.R9,U.Mq,g.n],styles:[".input-group[_ngcontent-%COMP%]   .form-control-sm[_ngcontent-%COMP%]{background-color:#fff;background-clip:padding-box;border:1px solid #E4E6EF;padding:0 .75rem}.input-group[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;right:5px}"]}),o})();var st=s(37025);function rt(o,l){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-customer-list",9),t.NdJ("selectedUser",function(i){return t.CHM(n),t.oxw().selectedUser(i)}),t.qZA(),t.BQk()}2&o&&(t.xp6(1),t.Q6J("isPopup",!0)("isDynamic",!0))}let pt=(()=>{class o{constructor(n,e){this.fb=n,this.modal=e,this.internalConfig=[],this.subscriptions=[]}ngOnInit(){}ngOnDestroy(){}save(){if(this.selectedData&&this.selectedData[this.config.valueField]){this.group.controls[this.config.name].setValue(this.selectedData[this.config.valueField]);for(let n of this.config.autoFields){const e=this.group.get(n.value);let i=this.internalConfig.find(c=>c.name==n.value);if(e)if(i){let c="date"==i.input?a(this.selectedData[n.field]):this.selectedData[n.field];console.log("data",c,i),e.setValue(c)}else e.setValue(this.selectedData[n.field])}}this.modal.dismiss()}selectedUser(n){console.log(n),this.selectedData=n}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(p.qu),t.Y36(Z.Kz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-custom-dialog"]],inputs:{group:"group",config:"config",internalConfig:"internalConfig"},decls:13,vars:2,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4","left-border-image"],[1,"text-muted","font-weight-bold","font-size-sm","mt-1"],[1,"overlay","overlay-block","cursor-default","modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-primary","btn-elevate",3,"click"],[3,"isPopup","isDynamic","selectedUser"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._uU(3),t.TgZ(4,"span",3),t._uU(5,"Please select in table list"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",4),t.YNc(7,rt,2,2,"ng-container",5),t.qZA(),t.TgZ(8,"div",6),t.TgZ(9,"button",7),t.NdJ("click",function(){return e.modal.dismiss()}),t._uU(10,"Cancel"),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return e.save()}),t._uU(12,"Save"),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(3),t.hij(" ",e.config.label," "),t.xp6(4),t.Q6J("ngIf","user"==e.config.type))},directives:[d.O5,st.b],styles:[".active[_ngcontent-%COMP%]{background-color:#3699ff!important;color:#fff}"]}),o})();var gt=s(22030);function ut(o,l){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"input",5),t._UZ(2,"app-print-error",6),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.s9C("name",n.config.name),t.s9C("placeholder",n.config.placeholder),t.Q6J("formControlName",n.config.name),t.xp6(1),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}function ft(o,l){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"input",7),t._UZ(2,"app-print-error",6),t.qZA()),2&o){const n=t.oxw(2);t.Gre("col-",n.config.inputSize,""),t.xp6(1),t.s9C("type",n.config.type),t.s9C("name",n.config.name),t.s9C("placeholder",n.config.placeholder),t.Q6J("formControlName",n.config.name),t.xp6(1),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}const mt=function(o){return{row:o}};function dt(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.NdJ("click",function(){return t.CHM(n),t.oxw().openModal()}),t.TgZ(2,"label"),t._uU(3),t.qZA(),t.YNc(4,ut,3,5,"div",3),t.YNc(5,ft,3,9,"ng-template",null,4,t.W1O),t.qZA(),t.qZA()}if(2&o){const n=t.MAs(6),e=t.oxw();t.Q6J("formGroup",e.group),t.xp6(1),t.Q6J("ngClass",t.VKq(8,mt,e.config.inlineStyle)),t.xp6(1),t.Tol(e.config.inlineStyle?"col-"+e.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(e.config.label),t.xp6(1),t.Q6J("ngIf",!e.config.inlineStyle)("ngIfElse",n)}}let _t=(()=>{class o{constructor(n,e){this.globalFun=n,this.modalService=e,this.unSub=[],this.isNrc=!1,this.internalConfig=[]}ngOnInit(){this.listenFunData()}ngOnDestroy(){this.unSub.forEach(n=>n.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==u.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue())}listenFunData(){this.config.isFun&&this.config.inpFunction.type==u.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(n=>{this.group.controls[this.config.name].setValue(n)}))}openModal(){if(this.editStage||this.config.disabled)return!1;let n;n=this.modalService.open(this.isNrc?gt.V:pt,{size:"xl",backdrop:!1}),n.componentInstance.config=this.config,n.componentInstance.group=this.group,n.componentInstance.internalConfig=this.internalConfig,n.result.then(()=>{},e=>{"save"==e&&this.doFunction()})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(y.Q),t.Y36(Z.FF))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dialog-box"]],inputs:{internalConfig:"internalConfig"},decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group",3,"ngClass","click"],[4,"ngIf","ngIfElse"],["InlineForm",""],["type","text",1,"form-control","form-control-sm",3,"name","placeholder","formControlName"],[3,"control","valid"],[1,"form-control","form-control-sm",3,"type","name","placeholder","formControlName"]],template:function(n,e){1&n&&t.YNc(0,dt,7,10,"div",0),2&n&&t.Q6J("ngIf",e.config)},directives:[d.O5,p.JL,p.sg,d.mk,p.Fj,p.JJ,p.u,g.n],styles:[""]}),o})();var ht=s(31248),xt=s(49875),vt=s(60807);const Nt=["selectedFile"];function Tt(o,l){if(1&o&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&o){const n=t.oxw(2);t.Tol(n.config.inlineStyle?"col-"+n.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(n.config.label)}}function Ct(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"input",6,7),t.NdJ("change",function(i){return t.CHM(n),t.oxw(2).doFunction(i)}),t.qZA(),t.TgZ(3,"div",8),t._UZ(4,"input",9),t.TgZ(5,"div",10),t.TgZ(6,"button",11),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).openFile()}),t._uU(7,"Browse"),t.qZA(),t.qZA(),t.qZA(),t._UZ(8,"app-print-error",12),t.qZA()}if(2&o){const n=t.oxw(2);t.xp6(1),t.s9C("accept","all"==n.config.type||n.config.value?n.config.value:n.config.type),t.s9C("placeholder",n.config.placeholder),t.xp6(3),t.Q6J("formControlName",n.config.name),t.xp6(4),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}function yt(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"input",13,7),t.NdJ("change",function(i){return t.CHM(n),t.oxw(2).doFunction(i)}),t.qZA(),t.TgZ(3,"div",8),t._UZ(4,"input",9),t.TgZ(5,"div",10),t.TgZ(6,"button",11),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).openFile()}),t._uU(7,"Browse"),t.qZA(),t.qZA(),t.qZA(),t._UZ(8,"app-print-error",12),t.qZA()}if(2&o){const n=t.oxw(2);t.Gre("col-",n.config.inputSize,""),t.xp6(1),t.s9C("name",n.config.name),t.s9C("placeholder",n.config.placeholder),t.xp6(3),t.Q6J("formControlName",n.config.name),t.xp6(4),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}const bt=function(o){return{row:o}};function Zt(o,l){if(1&o&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.YNc(2,Tt,2,4,"label",3),t.YNc(3,Ct,9,5,"div",4),t.YNc(4,yt,9,8,"ng-template",null,5,t.W1O),t.qZA(),t.qZA()),2&o){const n=t.MAs(5),e=t.oxw();t.Q6J("formGroup",e.group),t.xp6(1),t.Q6J("ngClass",t.VKq(5,bt,e.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",e.config.isLabel),t.xp6(1),t.Q6J("ngIf",!e.config.inlineStyle)("ngIfElse",n)}}let At=(()=>{class o{constructor(n,e,i){this.globalFun=n,this.fileUpload=e,this.loading=i,this.unSub=[]}ngOnInit(){this.listenFunData()}ngOnDestroy(){this.unSub.forEach(n=>n.unsubscribe())}doFunction(n){this.config.isFun&&this.config.inpFunction.type==u.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue()),this.handleUpload(n)}handleUpload(n){if(n){const e=n.target.files[0];console.log(e);const i=(0,ht.y)();i.readAsDataURL(e),i.onload=()=>{if(i.result){let _={fileStr:i.result.toString().split(",")[1],fileName:e.name,fileType:e.type,fileSize:e.size,contentType:e.type,fileExtension:e.name.split(".").pop()};this.loading.activate(),this.fileUpload.save(_).toPromise().then(S=>{S&&this.group.controls[this.config.name].setValue(`[${S}].${_.fileName}`),this.loading.deactivate()}).catch(S=>{this.loading.deactivate()})}}}}listenFunData(){this.config.isFun&&this.config.inpFunction.type==u.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(n=>{this.group.controls[this.config.name].setValue(n)}))}openFile(){if(this.editStage)return!1;this.selectedFileEl.nativeElement.click()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(y.Q),t.Y36(xt.p3),t.Y36(vt.b))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-file-box"]],viewQuery:function(n,e){if(1&n&&t.Gf(Nt,5),2&n){let i;t.iGM(i=t.CRH())&&(e.selectedFileEl=i.first)}},decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group",3,"ngClass"],[3,"class",4,"ngIf"],[4,"ngIf","ngIfElse"],["InlineForm",""],["type","file","name","phone",1,"form-control","form-control-sm",2,"display","none",3,"accept","placeholder","change"],["selectedFile",""],[1,"input-group"],["type","text",1,"form-control","form-control-sm",3,"formControlName"],[1,"input-group-append"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[3,"control","valid"],["type","file",1,"form-control","form-control-sm",2,"display","none",3,"name","placeholder","change"]],template:function(n,e){1&n&&t.YNc(0,Zt,6,7,"div",0),2&n&&t.Q6J("ngIf",e.config)},directives:[d.O5,p.JL,p.sg,d.mk,p.Fj,p.JJ,p.u,g.n],styles:[""]}),o})();var Mt=s(99765);function Ft(o,l){if(1&o&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&o){const n=t.oxw(2);t.Tol(n.config.inlineStyle?"col-"+n.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(n.config.label)}}function Dt(o,l){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"textarea",8),t.NdJ("change",function(){return t.CHM(n),t.oxw(3).doFunction()}),t.qZA(),t.BQk()}if(2&o){const n=t.oxw(3);t.xp6(1),t.s9C("name",n.config.name),t.s9C("placeholder",n.config.placeholder),t.Q6J("formControlName",n.config.name)}}const ot=function(){return{prefix:"",thousands:",",precision:0,allowNegative:!1,align:"left"}};function It(o,l){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"input",10),t.NdJ("focusout",function(){return t.CHM(n),t.oxw(4).doFunction()}),t.qZA(),t.BQk()}if(2&o){const n=t.oxw(4);t.xp6(1),t.s9C("name",n.config.name),t.s9C("placeholder",n.config.placeholder),t.Q6J("options",t.DdM(4,ot))("formControlName",n.config.name)}}function Yt(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"input",11),t.NdJ("change",function(){return t.CHM(n),t.oxw(4).doFunction()}),t.qZA()}if(2&o){const n=t.oxw(4);t.s9C("type",n.config.type),t.s9C("name",n.config.name),t.s9C("placeholder",n.config.placeholder),t.Q6J("formControlName",n.config.name)}}function St(o,l){if(1&o&&(t.YNc(0,It,2,5,"ng-container",4),t.YNc(1,Yt,1,4,"ng-template",null,9,t.W1O)),2&o){const n=t.MAs(2),e=t.oxw(3);t.Q6J("ngIf","currency"==e.config.type)("ngIfElse",n)}}function wt(o,l){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Dt,2,3,"ng-container",4),t.YNc(2,St,3,2,"ng-template",null,6,t.W1O),t._UZ(4,"app-print-error",7),t.qZA()),2&o){const n=t.MAs(3),e=t.oxw(2);t.xp6(1),t.Q6J("ngIf","textarea"===e.config.type)("ngIfElse",n),t.xp6(3),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}function Et(o,l){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"textarea",8),t.NdJ("change",function(){return t.CHM(n),t.oxw(3).doFunction()}),t.qZA(),t.BQk()}if(2&o){const n=t.oxw(3);t.xp6(1),t.s9C("name",n.config.name),t.s9C("placeholder",n.config.placeholder),t.Q6J("formControlName",n.config.name)}}function Ot(o,l){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"input",10),t.NdJ("focusout",function(){return t.CHM(n),t.oxw(4).doFunction()}),t.qZA(),t.BQk()}if(2&o){const n=t.oxw(4);t.xp6(1),t.s9C("name",n.config.name),t.s9C("placeholder",n.config.placeholder),t.Q6J("options",t.DdM(4,ot))("formControlName",n.config.name)}}function Jt(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"input",11),t.NdJ("change",function(){return t.CHM(n),t.oxw(4).doFunction()}),t.qZA()}if(2&o){const n=t.oxw(4);t.s9C("type",n.config.type),t.s9C("name",n.config.name),t.s9C("placeholder",n.config.placeholder),t.Q6J("formControlName",n.config.name)}}function Bt(o,l){if(1&o&&(t.YNc(0,Ot,2,5,"ng-container",4),t.YNc(1,Jt,1,4,"ng-template",null,13,t.W1O)),2&o){const n=t.MAs(2),e=t.oxw(3);t.Q6J("ngIf","currency"==e.config.type)("ngIfElse",n)}}function Qt(o,l){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Et,2,3,"ng-container",4),t.YNc(2,Bt,3,2,"ng-template",null,12,t.W1O),t._UZ(4,"app-print-error",7),t.qZA()),2&o){const n=t.MAs(3),e=t.oxw(2);t.Gre("col-",e.config.inputSize,""),t.xp6(1),t.Q6J("ngIf","textarea"===e.config.type)("ngIfElse",n),t.xp6(3),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}const Pt=function(o){return{row:o}};function Kt(o,l){if(1&o&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.YNc(2,Ft,2,4,"label",3),t.YNc(3,wt,5,4,"div",4),t.YNc(4,Qt,5,7,"ng-template",null,5,t.W1O),t.qZA(),t.qZA()),2&o){const n=t.MAs(5),e=t.oxw();t.Q6J("formGroup",e.group),t.xp6(1),t.Q6J("ngClass",t.VKq(5,Pt,e.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",e.config.isLabel),t.xp6(1),t.Q6J("ngIf",!e.config.inlineStyle)("ngIfElse",n)}}let qt=(()=>{class o{constructor(n){this.globalFun=n,this.unSub=[]}ngOnInit(){this.listenFunData()}ngOnDestroy(){this.unSub.forEach(n=>n.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==u.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue())}listenFunData(){this.config.isFun&&this.config.inpFunction.type==u.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(n=>{this.group.controls[this.config.name].setValue(n)}))}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(y.Q))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-input-box"]],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group",3,"ngClass"],[3,"class",4,"ngIf"],[4,"ngIf","ngIfElse"],["InlineForm",""],["inputNoraml",""],[3,"control","valid"],[1,"form-control","form-control-sm",3,"name","placeholder","formControlName","change"],["inputText",""],["type","tel","currencyMask","",1,"form-control","form-control-sm",3,"options","name","placeholder","formControlName","focusout"],[1,"form-control","form-control-sm",3,"type","name","placeholder","formControlName","change"],["inputNoraml2",""],["inputText2",""]],template:function(n,e){1&n&&t.YNc(0,Kt,6,7,"div",0),2&n&&t.Q6J("ngIf",e.config)},directives:[d.O5,p.JL,p.sg,d.mk,g.n,p.Fj,p.JJ,p.u,Mt.g1],styles:[""]}),o})();const Ut=["app-label-box",""];let kt=(()=>{class o{constructor(){}ngOnInit(){this.config.labelSize=this.config.labelSize||1,this.config.endLabel=this.config.endLabel||"rem",this.config.endLabelMM=this.config.endLabelMM||"normal"}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["","app-label-box",""]],attrs:Ut,decls:2,vars:17,consts:[[1,"default"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t._uU(1),t.qZA()),2&n&&(t.Udp("background-color",e.config.label)("color",e.config.coreName)("font-size",e.config.labelSize+e.config.endLabel)("font-weight",e.config.endLabelMM)("border-top",e.config.multi?"1px solid rgba(0, 0, 0, 0.1)":"none")("border-right",e.config.inlineStyle?"1px solid rgba(0, 0, 0, 0.1)":"none")("border-bottom",e.config.readonly?"1px solid rgba(0, 0, 0, 0.1)":"none")("border-left",e.config.disabled?"1px solid rgba(0, 0, 0, 0.1)":"none"),t.xp6(1),t.hij(" ",e.config.name,"\n"))},styles:[".default[_ngcontent-%COMP%]{padding:20px 10px;margin-left:-10px;margin-right:-10px}"]}),o})();var at=s(55167);function Lt(o,l){if(1&o&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&o){const n=t.oxw(2);t.Gre("col-",n.config.inlineStyle?n.config.labelSize:"12",""),t.xp6(1),t.Oqu(n.config.label)}}function Rt(o,l){if(1&o&&(t.TgZ(0,"mat-radio-button",7),t._uU(1),t.qZA()),2&o){const n=l.$implicit;t.s9C("value",n.value),t.xp6(1),t.hij("",n.text," ")}}function Vt(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"section",1),t.TgZ(1,"div",2),t.YNc(2,Lt,2,4,"label",3),t.TgZ(3,"mat-radio-group",4),t.NdJ("change",function(){return t.CHM(n),t.oxw().doFunction()}),t.YNc(4,Rt,2,2,"mat-radio-button",5),t.qZA(),t.qZA(),t.TgZ(5,"div"),t._UZ(6,"app-print-error",6),t.qZA(),t.qZA()}if(2&o){const n=t.oxw();t.Q6J("formGroup",n.group),t.xp6(2),t.Q6J("ngIf",n.config.isLabel),t.xp6(1),t.Gre("col-",n.config.inlineStyle?n.config.inputSize:"12",""),t.Q6J("formControlName",n.config.name),t.xp6(1),t.Q6J("ngForOf",n.masterOption),t.xp6(2),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}let Gt=(()=>{class o{constructor(n,e,i){this.globalFun=n,this.masterData=e,this.cdf=i,this.unSub=[],this.masterOption=[],this.oldValue=""}ngOnInit(){"true"==this.config.master?this.config.dependency||this.getOptions():this.masterOption=this.config.options,this.listenFunData()}ngOnDestroy(){this.unSub.forEach(n=>n.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==u.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue())}listenFunData(){this.config.isFun&&this.config.inpFunction.type==u.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(n=>{this.group.controls[this.config.name].setValue(n)}))}getOptions(){let n=this.config.valueField,e=this.config.showField;this.masterData.getDataByType(this.config.masterData).toPromise().then(i=>{i&&(this.masterOption=i.map(c=>Object.assign({value:c[n],text:c[e]},c)),this.cdf.detectChanges(),this.doFunction())})}reGetOption(n){if(n==this.oldValue)return!1;let e=this.config.dependency,i=this.config.valueField,c=this.config.showField,_=this.group.getRawValue()[this.config.name]||this.config.value,S=!1;this.oldValue=n,this.masterData.getDataByType(this.config.masterData).pipe((0,D.U)(w=>w.filter(C=>C[e.relatedField]==n))).toPromise().then(w=>{w&&(this.masterOption=w.map(C=>(C[i]==_&&(S=!0),Object.assign({value:C[i],text:C[c]},C))),S?this.group.controls[this.config.name].setValue(_):this.masterOption.length>0&&this.group.controls[this.config.name].setValue(this.masterOption[0].value),this.cdf.detectChanges(),this.doFunction())})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(y.Q),t.Y36(F.D),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-radio-box"]],decls:1,vars:1,consts:[["class","example-section",3,"formGroup",4,"ngIf"],[1,"example-section",3,"formGroup"],[1,"form-group","row"],[3,"class",4,"ngIf"],[3,"formControlName","change"],["class","mx-1",3,"value",4,"ngFor","ngForOf"],[3,"control","valid"],[1,"mx-1",3,"value"]],template:function(n,e){1&n&&t.YNc(0,Vt,7,9,"section",0),2&n&&t.Q6J("ngIf",e.config)},directives:[d.O5,p.JL,p.sg,at.VQ,p.JJ,p.u,d.sg,g.n,at.U0],styles:[""]}),o})();var it=s(57842),Ht=s(76475);function zt(o,l){if(1&o&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&o){const n=t.oxw(2);t.Tol(n.config.inlineStyle?"col-"+n.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(n.config.label)}}function Wt(o,l){if(1&o&&(t.TgZ(0,"ng-option",10),t._uU(1),t.qZA()),2&o){const n=l.$implicit;t.Q6J("value",n.value),t.xp6(1),t.Oqu(n.text)}}function jt(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Wt,2,2,"ng-option",9),t.BQk()),2&o){const n=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",n.masterOption)}}function $t(o,l){if(1&o&&(t.TgZ(0,"ng-option",10),t._uU(1),t.qZA()),2&o){const n=l.$implicit;t.Q6J("value",n.value),t.xp6(1),t.Oqu(n.text)}}function Xt(o,l){if(1&o&&t.YNc(0,$t,2,2,"ng-option",9),2&o){const n=t.oxw(3);t.Q6J("ngForOf",n.config.options)}}function tn(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"ng-select",6),t.NdJ("change",function(){return t.CHM(n),t.oxw(2).doFunction()}),t.YNc(2,jt,2,1,"ng-container",4),t.YNc(3,Xt,1,1,"ng-template",null,7,t.W1O),t.qZA(),t._UZ(5,"app-print-error",8),t.qZA()}if(2&o){const n=t.MAs(4),e=t.oxw(2);t.xp6(1),t.s9C("placeholder",e.config.placeholder),t.Q6J("formControlName",e.config.name),t.xp6(1),t.Q6J("ngIf","true"==e.config.master)("ngIfElse",n),t.xp6(3),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}function nn(o,l){if(1&o&&(t.TgZ(0,"ng-option",10),t._uU(1),t.qZA()),2&o){const n=l.$implicit;t.Q6J("value",n.value),t.xp6(1),t.Oqu(n.text)}}function en(o,l){if(1&o&&(t.ynx(0),t.YNc(1,nn,2,2,"ng-option",9),t.BQk()),2&o){const n=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",n.masterOption)}}function on(o,l){if(1&o&&(t.TgZ(0,"ng-option",10),t._uU(1),t.qZA()),2&o){const n=l.$implicit;t.Q6J("value",n.value),t.xp6(1),t.Oqu(n.text)}}function an(o,l){if(1&o&&t.YNc(0,on,2,2,"ng-option",9),2&o){const n=t.oxw(3);t.Q6J("ngForOf",n.config.options)}}function ln(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"ng-select",6),t.NdJ("change",function(){return t.CHM(n),t.oxw(2).doFunction()}),t.YNc(2,en,2,1,"ng-container",4),t.YNc(3,an,1,1,"ng-template",null,11,t.W1O),t.qZA(),t._UZ(5,"app-print-error",8),t.qZA()}if(2&o){const n=t.MAs(4),e=t.oxw(2);t.Gre("col-",e.config.inputSize,""),t.xp6(1),t.s9C("placeholder",e.config.placeholder),t.Q6J("formControlName",e.config.name),t.xp6(1),t.Q6J("ngIf","true"==e.config.master)("ngIfElse",n),t.xp6(3),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}const lt=function(o){return{row:o}};function cn(o,l){if(1&o&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.YNc(2,zt,2,4,"label",3),t.YNc(3,tn,6,6,"div",4),t.YNc(4,ln,6,9,"ng-template",null,5,t.W1O),t.qZA(),t.qZA()),2&o){const n=t.MAs(5),e=t.oxw();t.Q6J("formGroup",e.group),t.xp6(1),t.Q6J("ngClass",t.VKq(5,lt,e.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",e.config.isLabel),t.xp6(1),t.Q6J("ngIf",!e.config.inlineStyle)("ngIfElse",n)}}function sn(o,l){if(1&o&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&o){const n=t.oxw(2);t.Tol(n.config.inlineStyle?"col-"+n.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(n.config.label)}}function rn(o,l){if(1&o&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&o){const n=l.$implicit;t.s9C("value",n.value),t.xp6(1),t.Oqu(n.text)}}function pn(o,l){if(1&o&&(t.ynx(0),t.YNc(1,rn,2,2,"mat-option",9),t.BQk()),2&o){const n=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",n.masterOption)}}function gn(o,l){if(1&o&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&o){const n=l.$implicit;t.s9C("value",n.value),t.xp6(1),t.Oqu(n.text)}}function un(o,l){if(1&o&&t.YNc(0,gn,2,2,"mat-option",9),2&o){const n=t.oxw(3);t.Q6J("ngForOf",n.config.options)}}function fn(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"mat-select",12),t.NdJ("change",function(){return t.CHM(n),t.oxw(2).doFunction()}),t.YNc(2,pn,2,1,"ng-container",4),t.YNc(3,un,1,1,"ng-template",null,13,t.W1O),t.qZA(),t._UZ(5,"app-print-error",8),t.qZA()}if(2&o){const n=t.MAs(4),e=t.oxw(2);t.xp6(1),t.Q6J("formControlName",e.config.name),t.xp6(1),t.Q6J("ngIf","true"==e.config.master)("ngIfElse",n),t.xp6(3),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}function mn(o,l){if(1&o&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&o){const n=l.$implicit;t.s9C("value",n.value),t.xp6(1),t.Oqu(n.text)}}function dn(o,l){if(1&o&&(t.ynx(0),t.YNc(1,mn,2,2,"mat-option",9),t.BQk()),2&o){const n=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",n.masterOption)}}function _n(o,l){if(1&o&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&o){const n=l.$implicit;t.s9C("value",n.value),t.xp6(1),t.Oqu(n.text)}}function hn(o,l){if(1&o&&t.YNc(0,_n,2,2,"mat-option",9),2&o){const n=t.oxw(3);t.Q6J("ngForOf",n.config.options)}}function xn(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"mat-select",12),t.NdJ("change",function(){return t.CHM(n),t.oxw(2).doFunction()}),t.YNc(2,dn,2,1,"ng-container",4),t.YNc(3,hn,1,1,"ng-template",null,14,t.W1O),t.qZA(),t._UZ(5,"app-print-error",8),t.qZA()}if(2&o){const n=t.MAs(4),e=t.oxw(2);t.Gre("col-",e.config.inputSize,""),t.xp6(1),t.Q6J("formControlName",e.config.name),t.xp6(1),t.Q6J("ngIf","true"==e.config.master)("ngIfElse",n),t.xp6(3),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}function vn(o,l){if(1&o&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.YNc(2,sn,2,4,"label",3),t.YNc(3,fn,6,5,"div",4),t.YNc(4,xn,6,8,"ng-template",null,5,t.W1O),t.qZA(),t.qZA()),2&o){const n=t.MAs(5),e=t.oxw();t.Q6J("formGroup",e.group),t.xp6(1),t.Q6J("ngClass",t.VKq(5,lt,e.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",e.config.isLabel),t.xp6(1),t.Q6J("ngIf",!e.config.inlineStyle)("ngIfElse",n)}}const et={date:ct,input:qt,select:(()=>{class o{constructor(n,e,i){this.masterData=n,this.cdf=e,this.globalFun=i,this.config={},this.masterOption=[],this.unSub=[],this.oldValue=""}ngOnInit(){"true"==this.config.master&&(this.config.dependency||this.getOptions())}ngOnDestroy(){this.unSub.forEach(n=>n.unsubscribe())}doFunction(){if(this.config.isFun&&this.config.inpFunction.type==u.Ck.TRIGGER){if("paPolicyValidation"==this.config.inpFunction.funName)return!1;this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue(),this.masterOption)}if(this.config.policyterm){let n=this.group.getRawValue()[this.config.name]||this.config.value;this.globalFun.paPolicyValidation(n,this.masterOption)}}listenFunData(){this.config.isFun&&this.config.inpFunction.type==u.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(n=>{this.group.controls[this.config.name].setValue(n)}))}getOptions(){let n=this.config.valueField,e=this.config.showField;this.masterData.getDataByType(this.config.masterData,"address"==this.config.type).toPromise().then(c=>{c&&(this.masterOption=c.map(_=>Object.assign({value:_[n],text:_[e]},_)),this.cdf.detectChanges(),this.doFunction())})}reGetOption(n){if(n==this.oldValue)return!1;let e=this.config.dependency,i=this.config.valueField,c=this.config.showField,_=this.group.getRawValue()[this.config.name]||this.config.value,S=!1;this.oldValue=n,this.masterData.getDataByType(this.config.masterData,"address"==this.config.type).pipe((0,D.U)(C=>C.filter(E=>E[e.relatedField]==n))).toPromise().then(C=>{C&&(this.masterOption=C.map(E=>(E[i]==_&&(S=!0),Object.assign({value:E[i],text:E[c]},E))),S?this.group.controls[this.config.name].setValue(_):this.masterOption.length>0&&this.group.controls[this.config.name].setValue(this.masterOption[0].value),this.cdf.detectChanges(),this.doFunction())})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(F.D),t.Y36(t.sBO),t.Y36(y.Q))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-select-box"]],decls:2,vars:2,consts:[["class","config.size",3,"formGroup",4,"ngIf"],[1,"config.size",3,"formGroup"],[1,"form-group",3,"ngClass"],[3,"class",4,"ngIf"],[4,"ngIf","ngIfElse"],["InlineForm",""],[1,"ng-custom-select",3,"formControlName","placeholder","change"],["Otheroption",""],[3,"control","valid"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["Otheroption2",""],["multiple","",1,"form-control","form-control-sm",3,"formControlName","change"],["Otheroption3",""],["Otheroption4",""]],template:function(n,e){1&n&&(t.YNc(0,cn,6,7,"div",0),t.YNc(1,vn,6,7,"div",0)),2&n&&(t.Q6J("ngIf",e.config&&(!e.config.multi||"false"==e.config.multi)),t.xp6(1),t.Q6J("ngIf",e.config&&e.config.multi&&"true"==e.config.multi))},directives:[d.O5,p.JL,p.sg,d.mk,it.w9,p.JJ,p.u,g.n,d.sg,it.xv,Ht.gD,q.ey],styles:[""]}),o})(),radio:Gt,checkbox:f,file:At,dialog:_t,label:kt};let Nn=(()=>{class o{constructor(n,e,i,c){this.resolver=n,this.container=e,this.renderer=i,this.cd=c,this.editStage=!1,this.i=0,this.onEdit=new t.vpe,this.divBreaked=[],this.internalConfig=[]}ngAfterViewInit(){this.cd.detectChanges()}ngOnChanges(){if(this.component&&(this.component.instance.config=this.config,this.component.instance.group=this.group,this.component.instance.internalConfig=this.internalConfig,this.editStage&&"true"===this.config.break)){let n=this.component.location.nativeElement,e=n.parentElement.getElementsByClassName("custom"+this.config.name);if(e.length>0)for(let i=0;i<e.length;i++)n.parentNode.removeChild(e[i]);n.insertAdjacentHTML("beforebegin","<div class='w-100 custom"+this.config.name+"'></div>")}}ngOnDestroy(){this.component&&this.divBreaked.forEach(n=>{let e=this.component.location.nativeElement;if("true"===n.break){let i=e.parentElement.getElementsByClassName("custom"+n.name);for(let c=0;c<i.length;c++)e.parentNode.removeChild(i[c])}})}ngOnInit(){if(this.config.show||this.editStage){if(!et[this.config.input]){const c=Object.keys(et).join(", ");throw new Error(`Trying to use an unsupported type (${this.config.input}).\n        Supported types: ${c}`)}const e=this.resolver.resolveComponentFactory(et["input"==this.config.input&&"nrc"==this.config.type?"dialog":this.config.input]);this.component=this.container.createComponent(e),this.component.instance.config=this.config,this.component.instance.group=this.group,this.component.instance.internalConfig=this.internalConfig,"input"==this.config.input&&"nrc"==this.config.type&&(this.component.instance.isNrc=!0,this.component.instance.editStage=this.editStage),("dialog"==this.config.input||"file"==this.config.input)&&(this.component.instance.editStage=this.editStage);let i=this.component.location.nativeElement;if(i.classList.toggle(`col-xs-${this.config.size}`),i.classList.toggle(`col-sm-${this.config.mdSize}`),i.classList.toggle(`col-lg-${this.config.mdSize}`),!this.editStage&&"label"!=this.config.input&&(this.component.instance.doFunction(),this.config.dependency&&(this.checkDep(this.config.dependency)||i.classList.add("show-off"))),!0===this.editStage&&this.renderer.listen(this.component.location.nativeElement,"click",c=>{this.clickedEvent()}),"true"===this.config.break)0===i.parentElement.getElementsByClassName("custom"+this.config.name).length&&i.insertAdjacentHTML("beforebegin","<div class='w-100 custom"+this.config.name+"'></div>");else{let c=i.parentElement.getElementsByClassName("custom"+this.config.name);c.length>0&&i.parentNode.removeChild(c[0])}}}checkDep(n){return(0,N.J)(n,this.group)}clickedEvent(){!0===this.editStage&&this.onEdit.emit(this.index)}ngAfterContentChecked(){if(!this.editStage&&this.config.show&&"label"!=this.config.input&&this.config.dependency){let n=this.component.location.nativeElement;if(this.checkDep(this.config.dependency)){if("true"==this.config.master){let e=this.config.dependency;this.component.instance.reGetOption(this.group.getRawValue()[e.parentName])}if(n.classList.remove("show-off"),this.component.instance.group){this.component.instance.group.controls[this.config.name].setValidators(null);let e=[];if(this.config.validation){let i=this.config.validation;for(let c of i)if(c.type==u.xT.REQUIRED)e.push(p.kI.required);else if(c.type==u.xT.MAX&&"date"!=this.config.type){let _="number"==this.config.type?p.kI.max(c.value):p.kI.maxLength(c.value);e.push(_)}else if(c.type==u.xT.MIN&&"date"!=this.config.type){let _="number"==this.config.type?p.kI.max(c.value):p.kI.maxLength(c.value);e.push(_)}}"input"==this.config.input&&"email"==this.config.type&&e.push(p.kI.email),this.component.instance.group.controls[this.config.name].setValidators(e),this.component.instance.group.controls[this.config.name].updateValueAndValidity()}}else this.component.instance.group&&(this.component.instance.group.controls[this.config.name].setValue(""),this.component.instance.group.controls[this.config.name].setValidators(null),this.component.instance.group.controls[this.config.name].updateValueAndValidity()),n.classList.add("show-off")}}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(t._Vd),t.Y36(t.s_b),t.Y36(t.Qsj),t.Y36(t.sBO))},o.\u0275dir=t.lG2({type:o,selectors:[["","dynamicField",""]],inputs:{config:"config",group:"group",index:"index",editStage:"editStage",divBreaked:"divBreaked",internalConfig:"internalConfig"},outputs:{onEdit:"onEdit"},features:[t.TTD]}),o})();function Tn(o,l){if(1&o){const n=t.EpF();t.ynx(0,4),t.NdJ("onEdit",function(i){return t.CHM(n),t.oxw(2).Edited(i)}),t.BQk()}if(2&o){const n=t.oxw(),e=n.$implicit,i=n.index,c=t.oxw();t.Q6J("config",e)("internalConfig",c.internalConfig)("index",i)("group",c.form)("editStage",c.editStage)("divBreaked",c.getBreaked())}}function Cn(o,l){if(1&o){const n=t.EpF();t.ynx(0),t._UZ(1,"div",5),t.TgZ(2,"div",6),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().index;return t.oxw().Edited(i)}),t._UZ(3,"hr"),t.qZA(),t.BQk()}}function yn(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Tn,1,6,"ng-container",2),t.YNc(2,Cn,4,0,"ng-container",3),t.BQk()),2&o){const n=l.$implicit;t.xp6(1),t.Q6J("ngIf","underline"!==n.input),t.xp6(1),t.Q6J("ngIf","underline"==n.input)}}let bn=(()=>{class o{constructor(n,e){this.fb=n,this.globalFun=e,this.config=[],this.tempData={},this.submit=new t.vpe,this.onEdit=new t.vpe,this.internalConfig=[]}get controls(){return this.internalConfig.filter(({type:n})=>"button"!==n)}get valid(){return this.form.valid}get value(){return this.form.value}ngOnInit(){this.internalConfig=JSON.parse(JSON.stringify(this.config)),this.form=this.createGroup()}createGroup(n=!1){const e=this.fb.group({});let i=0;return this.controls.forEach(c=>{i+=1,"label"!=c.input&&"underline"!=c.input&&(e.addControl(c.name,this.createControl(c)),"date"==c.input&&"policy"==c.type&&e.addControl(c.endName,this.createControl(c,"policy")))}),e}createControl(n,e){let{disabled:i,value:c,name:_,validation:S,endName:w}=n,C=[];if((this.editStage||n.input==u.Xu.DIALOG||n.input==u.Xu.INPUT&&"nrc"==n.type)&&(i=!0),S&&n.show)for(let O of S)if(O.type==u.xT.REQUIRED)C.push(p.kI.required);else if(O.type==u.xT.MAX&&"date"!=n.type){let k="number"==n.type||"currency"==n.type?p.kI.max(O.value):p.kI.maxLength(O.value);C.push(k)}else if(O.type==u.xT.MIN&&"date"!=n.type){let k="number"==n.type||"currency"==n.type?p.kI.min(O.value):p.kI.minLength(O.value);C.push(k)}"input"==n.input&&"email"==n.type&&n.show&&C.push(p.kI.email);let E=e?w:_;if("file"==n.input)return this.fb.control({disabled:!0,value:this.tempData[_]&&this.tempData[_]||null},[...C]);let K=this.tempData[E]?this.tempData[E]:c;return n.value=K,"date"==n.input&&(K=K&&a(K)),this.fb.control({disabled:i,value:K||null},[...C])}handleSubmit(){return!this.form.invalid&&(this.submit.emit(this.form.getRawValue()),!0)}reCreateFrom(){this.internalConfig=JSON.parse(JSON.stringify(this.config)),this.form=this.createGroup(!0),this.globalFun.optionResultChange.next(!0)}newFormCreate(n,e){let i=JSON.parse(JSON.stringify(n));this.internalConfig=i;const c=this.fb.group({});e&&(this.tempData=e),i.forEach(_=>{"label"!=_.input&&"underline"!=_.input&&(c.addControl(_.name,this.createControl(_)),"date"==_.input&&"policy"==_.type&&c.addControl(_.endName,this.createControl(_,"policy")))}),this.form=c}Edited(n){this.onEdit.emit(n)}getBreaked(){return this.config.filter(n=>"true"===n.break)}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(p.qu),t.Y36(y.Q))},o.\u0275cmp=t.Xpm({type:o,selectors:[["dynamic-form"]],inputs:{config:"config",tempData:"tempData",editStage:"editStage"},outputs:{submit:"submit",onEdit:"onEdit"},exportAs:["dynamicForm"],decls:2,vars:2,consts:[[1,"dynamic-form","row",2,"align-items","center",3,"formGroup"],[4,"ngFor","ngForOf"],["dynamicField","",3,"config","internalConfig","index","group","editStage","divBreaked","onEdit",4,"ngIf"],[4,"ngIf"],["dynamicField","",3,"config","internalConfig","index","group","editStage","divBreaked","onEdit"],[1,"w-100"],[1,"col-12",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"form",0),t.YNc(1,yn,3,2,"ng-container",1),t.qZA()),2&n&&(t.Q6J("formGroup",e.form),t.xp6(1),t.Q6J("ngForOf",e.internalConfig))},directives:[p._Y,p.JL,p.sg,d.sg,d.O5,Nn],encapsulation:2}),o})()},21558:(B,M,s)=>{s.d(M,{Ck:()=>t,xT:()=>a,Uv:()=>u,Us:()=>d,M:()=>N,m0:()=>D,Xu:()=>F});var t=(()=>{return(g=t||(t={})).TRIGGER="trigger",g.GETDATA="getdata",t;var g})(),a=(()=>{return(g=a||(a={})).REQUIRED="required",g.MIN="min",g.MAX="max",g.DATE="date",a;var g})(),u=(()=>{return(g=u||(u={})).WEEK="week",g.MONTH="month",g.DAY="day",g.YEAR="year",u;var g})(),d=(()=>{return(g=d||(d={})).SUBMIT="submit",g.NEXT="next",g.PREVIOUS="previous",g.RESET="reset",d;var g})(),N=(()=>{return(g=N||(N={})).NONE="",g.CENTER="mx-auto",g.LEFT="ml-auto",g.RIGHT="mr-auto",N;var g})(),D=(()=>{return(g=D||(D={})).PRIMARY="primary",g.SECONDARY="secondary",g.SUCCESS="success",g.WARNING="warning",g.DANGER="danger",g.INFO="info",g.DARK="dark",g.LIGHT="light",D;var g})(),F=(()=>{return(g=F||(F={})).INPUT="input",g.CHECKBOX="checkbox",g.DIALOG="dialog",g.FILE="file",g.RADIO="radio",g.SELECT="select",g.DATE="date",F;var g})()},22030:(B,M,s)=>{s.d(M,{V:()=>I});var t=s(49133);const p=[{stage:"01",township:["KhaPhaNa","KhaLaNa","SaLaNa","SaPaBa","TaNaNa","NaMaNa","PaTaAh","PhaKaNa","BaMaNa","MaKaNa","MaNyaNa","MaKaNa","MaHsaNa","MaKhaBa","MaMaNa","YaKaNa","WaMaNa","AhGaYa"]},{stage:"02",township:["DaMaSa","PhaSaNa","PhaYaSa","BaLaKha","MaHsaNa","YaTaNa","YaThaNa","LaKaNa"]},{stage:"03",township:["KaKaYa","KaSaKa","PhaPaNa","BaAhNa","MaWaTa","LaBaNa","ThaTaNa"]},{stage:"04",township:["KaPaLa","TaTaNa","TaZaNa","HtaTaLa","PaLaWa","PhaLaNa","MaTaNa","MaTaPa","HaKhaNa"]},{stage:"05",township:["KaLaNa","KhaNaTa","KaThaNa","KaBaLa","MaLaNa","MaYaNa","YaBaNa","TaMaNa","YaMaPa","AhYaTa","BaTaLa","KhaOuNa","DaPaYa","HaMaLa","AhTaNa","KaLaWa","KaNaNa","KaLaNa","KhaOuNa","KaLaNa","MaMaNa","MaMaNa","PaLaNa","PhaPaNa","PaLaBa","SaLaKa","HsaKaNa","TaSaNa","HtaKhaNa","WaLaNa","WaThaNa","BaMaNa","NaYaNa","YaOuNa","MaKaNa","LaYaNa","LaHaNa"]},{stage:"06",township:["HtaWaNa","MaMaNa","KaThaNa","LaLaNa","ThaYaKha","YaPhaNa","KaHsaNa","PaLaNa","BaPaNa","PaLaNa"]},{stage:"07",township:["PaKhaNa","KaTaKha","ZaKaNa","NyaLaPa","TaNgaNa","NaTaLa","KaWaNa","PaMaNa","PaTaNa","PhaMaNa","MaLaNa","YaTaYa","LaPaTa","WaMaNa","ThaWaTa","ThaKaNa","AhPhaNa","MaNyaNa","PaKhaNa","DaOuNa","ThaNaPa","HtaTaPa","AhTaNa","KaKaNa","YaKaNa","KaPaKa","YaTaNa","PaTaNa"]},{stage:"08",township:["MaKaNa","KhaMaNa","PaKhaKa","ThaYaNa","GaGaNa","NaMaNa","MaThaNa","YaNaKha","TaTaKa","MaBaNa","PaPhaNa","HsaLaNa","NgaPhaNa","HsaTaYa","SaPhaNa","YaHsaKa","MaMaNa","PaMaNa","HtaLaNa","SaMaNa","AhLaNa","SaPaWa","MaTaNa","MaLaNa","KaMaNa"]},{stage:"09",township:["KaSaNa","MaHtaLa","MaKhaNa","NyaOuNa","PaOuLa","YaMaTha","AhMaZa","KhaAhZa","MaHaMa","KhaMaHsa","PaKaKha","AhMaYa","PaThaKa","MaTaYa","HsaKaNa","MaKaNa","ThaPaKa","HsaKaNa","MaThaNa","TaTaOu","TaThaNa","NaHtaKa","KaPaTa","NgaZaNa","PaBaNa","MaLaNa","ThaHsaNa","WaTaNa"]},{stage:"10",township:["ThaHtaNa","MaLaMa","KaMaYa","KaHtaNa","KhaSaNa","PaMaNa","BaLaNa","MaDaNa","YaMaNa","ThaPhaYa"]},{stage:"11",township:["AhMaNa","GaMaNa","KaTaNa","MaPaNa","MaOuNa","MaAhNa","MaPaNa","PaTaNa","PaNaKa","YaBaNa","YaThaTa","TaKaNa","HsaTaNa","BaThaTa","MaTaNa","KaPhaNa","ThaTaNa"]},{stage:"12",township:["TaMaNa","OuKaTa","DaGaSa","DaGaTa","DaGaMa","DaGaYa","DaPaNa","PaZaTa","BaTaHta","MaGaTa","OuKaMa","YaKaNa","ThaGaKa","ThaKaTa","KaMaYa","KaTaTa","KaMaTa","HsaKhaNa","SaKaNa","DaGaNa","PaBaTa","BaHaNa","MaYaKa","LaMaTa","LaThaNa","LaMaNa","AhLaNa","TaKaNa","HtaTaPa","MaGaDa","MaBaNa","YaPaTha","LaKaNa","LaThaYa","AhHsaNa","KaTaNa","KaKhaKa","KaKaKa","KaMaNa","KhaYaNa","SaKaKha","TaTaNa","DaLaNa","ThaLaNa","ThaKhaNa"]},{stage:"13",township:["TaKaNa","LaYaNa","KaTaNa","LaLaNa","LaKaNa","LaKhaNa","KaMaNa","MaSaNa","KaLaNa","TaKhaLa","MaSaNa","MaPhaNa","HaPaNa","HaPaNa","PaTaYa","NaSaNa","NaMaTa","NaKhaNa","ThaPaNa","MaTaNa","MaMaNa","MaBaNa","NaKhaNa","KaKhaNa","TaYaNa","MaYaNa","MaMaNa","NaHsaNa","YaSaKa","YaNgaNa","NyaYaNa","PaLaNa","SaSaNa","MaNaNa","MaPaNa","MaKaNa","KaHaNa","KaKaNa","MaKhaNa","PhaKhaNa","LaKhaNa","MaMaNa","KaThaNa","KaLaNa","MaYaNa","MaPaNa","MaTaNa","MaYaNa","MaLaNa","MaYaNa","MaMaNa","AhPaNa","YaNyaNa","AhThaYa","KaTaLa","NaTaYa","PaLaNa","KaTaNa","HaMaNa","AhTaNa","MaNaMa","MaNgaNa","TaMaNya","MaKaNa","MaHaYa","KhaYaHa","NaTaNa","TaTaNa","TaLaNa","KaLaNa","MaYaNa","MaKhaNa","MaPaNa"]},{stage:"14",township:["PaThaNa","HaThaTa","MaAhPa","MaMaNa","PhaPaNa","LaPaTa","KaKaHta","NgaPaTa","ThaPaNa","KaKaNa","KaPaNa","YaKaNa","ZaLaNa","LaMaNa","MaAhNa","KaKhaNa","AhGaPa","AhMaNa","WaKhaMa","PaTaNa","NyaTaNa","DaNaPha","BaKaLa","KaLaNa","DaDaYa","MaMaKa"]}];var a=s(83668),u=s(85378),y=s(57842),d=s(86019);function N(r,x){1&r&&(a.TgZ(0,"div",19),a._uU(1,"State No is required"),a.qZA())}function D(r,x){if(1&r&&(a.ynx(0),a.TgZ(1,"ng-option",10),a._uU(2),a.qZA(),a.BQk()),2&r){const v=x.$implicit;a.xp6(1),a.Q6J("value",v),a.xp6(1),a.Oqu(v)}}function F(r,x){1&r&&(a.TgZ(0,"div",19),a._uU(1,"District is required"),a.qZA())}function g(r,x){1&r&&(a.TgZ(0,"div",19),a._uU(1,"Type is required"),a.qZA())}function T(r,x){1&r&&(a.TgZ(0,"div",19),a._uU(1,"NRC No is required"),a.qZA())}let I=(()=>{class r{constructor(v,f){this.modal=v,this.cdf=f,this.nrcStage=p,this.submited=!1,this.townShip=[]}ngOnInit(){this.setForm()}setForm(){this.nrcForm=new t.cw({stage:new t.NI(null,[t.kI.required]),township:new t.NI(null,[t.kI.required]),prefix:new t.NI("N",[t.kI.required]),nrc:new t.NI(null,[t.kI.required,t.kI.maxLength(6),t.kI.minLength(6)])})}save(){if(this.submited=!0,this.nrcForm.invalid)return!1;let v=this.nrcForm.value;this.group.controls[this.config.name].setValue(`${v.stage}/${v.township}(${v.prefix})${v.nrc}`),this.modal.dismiss("save")}dismiss(){this.modal.dismiss()}changeStage(){let v=this.nrcForm.value.stage;if(v){let f=this.nrcStage.findIndex(Z=>Z.stage==v);this.townShip=f>=0?this.nrcStage[f].township:[],this.nrcForm.controls.township.setValue(this.townShip[0]),this.cdf.detectChanges()}}isControlValid(v){const f=this.nrcForm.controls[v];return f.valid&&(f.dirty||f.touched)}isControlInvalid(v){const f=this.nrcForm.controls[v];return f.invalid&&(f.dirty||f.touched)}controlHasError(v,f){const Z=this.nrcForm.controls[f];return Z.hasError(v)&&(Z.dirty||Z.touched)}isControlTouched(v){const f=this.nrcForm.controls[v];return f.dirty||f.touched}}return r.\u0275fac=function(v){return new(v||r)(a.Y36(u.Kz),a.Y36(a.sBO))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-nrc-popup"]],inputs:{group:"group",config:"config"},decls:75,vars:35,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4","left-border-image"],[1,"overlay","overlay-block","cursor-default","modal-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-3"],[1,"form-group"],[1,"form-label"],["placeholder","State No","formControlName","stage",1,"ng-custom-select",3,"change"],[3,"value"],["class","invalid-feedback",4,"ngIf"],["placeholder","District","formControlName","township",1,"ng-custom-select"],[4,"ngFor","ngForOf"],["placeholder","Type","formControlName","prefix",1,"ng-custom-select"],["type","tel","name","nrc","autocomplete","off","formControlName","nrc","minLength","6","maxLength","6",1,"form-control","form-control-sm"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-primary","btn-elevate",3,"click"],[1,"invalid-feedback"]],template:function(v,f){1&v&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a._uU(3," NRC ID "),a.qZA(),a.qZA(),a.TgZ(4,"div",3),a.TgZ(5,"form",4),a.NdJ("ngSubmit",function(){return f.save()}),a.TgZ(6,"div",5),a.TgZ(7,"div",6),a.TgZ(8,"div",7),a.TgZ(9,"label",8),a._uU(10,"State No"),a.qZA(),a.TgZ(11,"ng-select",9),a.NdJ("change",function(){return f.changeStage()}),a.TgZ(12,"ng-option",10),a._uU(13,"01(Kachin)"),a.qZA(),a.TgZ(14,"ng-option",10),a._uU(15,"02(Kayar)"),a.qZA(),a.TgZ(16,"ng-option",10),a._uU(17,"03(Kayin)"),a.qZA(),a.TgZ(18,"ng-option",10),a._uU(19,"04(Chin)"),a.qZA(),a.TgZ(20,"ng-option",10),a._uU(21,"05(Sagaing)"),a.qZA(),a.TgZ(22,"ng-option",10),a._uU(23,"06(Tanintharyi)"),a.qZA(),a.TgZ(24,"ng-option",10),a._uU(25,"07(Bago)"),a.qZA(),a.TgZ(26,"ng-option",10),a._uU(27,"08(Magwe)"),a.qZA(),a.TgZ(28,"ng-option",10),a._uU(29,"09(Mandalay)"),a.qZA(),a.TgZ(30,"ng-option",10),a._uU(31,"10(Mon)"),a.qZA(),a.TgZ(32,"ng-option",10),a._uU(33,"11(Rakhine)"),a.qZA(),a.TgZ(34,"ng-option",10),a._uU(35,"12(Yangon)"),a.qZA(),a.TgZ(36,"ng-option",10),a._uU(37,"13(Shan)"),a.qZA(),a.TgZ(38,"ng-option",10),a._uU(39,"14(Ayarwaddy)"),a.qZA(),a.qZA(),a.YNc(40,N,2,0,"div",11),a.qZA(),a.qZA(),a.TgZ(41,"div",6),a.TgZ(42,"div",7),a.TgZ(43,"label",8),a._uU(44,"District"),a.qZA(),a.TgZ(45,"ng-select",12),a.YNc(46,D,3,2,"ng-container",13),a.qZA(),a.YNc(47,F,2,0,"div",11),a.qZA(),a.qZA(),a.TgZ(48,"div",6),a.TgZ(49,"div",7),a.TgZ(50,"label",8),a._uU(51,"Type"),a.qZA(),a.TgZ(52,"ng-select",14),a.TgZ(53,"ng-option",10),a._uU(54,"N"),a.qZA(),a.TgZ(55,"ng-option",10),a._uU(56,"P"),a.qZA(),a.TgZ(57,"ng-option",10),a._uU(58,"Y"),a.qZA(),a.TgZ(59,"ng-option",10),a._uU(60,"E"),a.qZA(),a.TgZ(61,"ng-option",10),a._uU(62,"T"),a.qZA(),a.qZA(),a.YNc(63,g,2,0,"div",11),a.qZA(),a.qZA(),a.TgZ(64,"div",6),a.TgZ(65,"div",7),a.TgZ(66,"label",8),a._uU(67,"NRC No"),a.qZA(),a._UZ(68,"input",15),a.YNc(69,T,2,0,"div",11),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(70,"div",16),a.TgZ(71,"button",17),a.NdJ("click",function(){return f.modal.dismiss()}),a._uU(72,"Cancel"),a.qZA(),a.TgZ(73,"button",18),a.NdJ("click",function(){return f.save()}),a._uU(74,"Save"),a.qZA(),a.qZA(),a.qZA()),2&v&&(a.xp6(5),a.Q6J("formGroup",f.nrcForm),a.xp6(6),a.ekj("is-invalid",f.isControlInvalid("stage")),a.xp6(1),a.Q6J("value","01"),a.xp6(2),a.Q6J("value","02"),a.xp6(2),a.Q6J("value","03"),a.xp6(2),a.Q6J("value","04"),a.xp6(2),a.Q6J("value","05"),a.xp6(2),a.Q6J("value","06"),a.xp6(2),a.Q6J("value","07"),a.xp6(2),a.Q6J("value","08"),a.xp6(2),a.Q6J("value","09"),a.xp6(2),a.Q6J("value","10"),a.xp6(2),a.Q6J("value","11"),a.xp6(2),a.Q6J("value","12"),a.xp6(2),a.Q6J("value","13"),a.xp6(2),a.Q6J("value","14"),a.xp6(2),a.Q6J("ngIf",f.controlHasError("required","stage")),a.xp6(5),a.ekj("is-invalid",f.isControlInvalid("township")),a.xp6(1),a.Q6J("ngForOf",f.townShip),a.xp6(1),a.Q6J("ngIf",f.controlHasError("required","township")),a.xp6(5),a.ekj("is-invalid",f.isControlInvalid("prefix")),a.xp6(1),a.Q6J("value","N"),a.xp6(2),a.Q6J("value","P"),a.xp6(2),a.Q6J("value","Y"),a.xp6(2),a.Q6J("value","E"),a.xp6(2),a.Q6J("value","T"),a.xp6(2),a.Q6J("ngIf",f.controlHasError("required","prefix")),a.xp6(5),a.ekj("is-invalid",f.isControlInvalid("nrc"))("is-valid",f.isControlValid("nrc")),a.xp6(1),a.Q6J("ngIf",f.controlHasError("required","nrc")))},directives:[t._Y,t.JL,t.sg,y.w9,t.JJ,t.u,y.xv,d.O5,d.sg,t.Fj],styles:[".rowStyle[_ngcontent-%COMP%]{margin-top:10px;color:#000}.columnStyle[_ngcontent-%COMP%]{text-align:center;font-size:var(--label-size)}.input[_ngcontent-%COMP%]{border-bottom:1px #A1AAAD solid;width:100%;display:inline-block;text-align:center;font-size:8pt!important;color:gray}.input-box[_ngcontent-%COMP%]{border-bottom:1px #A1AAAD solid;width:100%;display:inline-block;margin:15px 0;text-align:center}.textColor[_ngcontent-%COMP%]{color:#2c66ff}.header-style[_ngcontent-%COMP%]{box-shadow:0 4px 5px #ccc;padding:15px 20px;margin-bottom:20px}.input-border[_ngcontent-%COMP%]{border:.5px solid #333;border-radius:2px;width:100%;margin:10px 0}"]}),r})()}}]);