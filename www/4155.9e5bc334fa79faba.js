"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4155],{53489:(F,g,o)=>{o.d(g,{w:()=>v});var d=o(49133);function v(n){Object.keys(n.controls).forEach(y=>{const m=n.get(y);m instanceof d.NI?m.markAsTouched({onlySelf:!0}):m instanceof d.cw&&this.validateAllFields(m)})}},84155:(F,g,o)=>{o.r(g),o.d(g,{ActivityManagementDetailModule:()=>nt});var d=o(86019),v=o(4205),n=o(49133),y=o(54753),m=o(90949),r=o(18510);const T={quotation:{ELEMENT_COL:[{title:"Quotation ID",type:r.Y.FEILD,field:"id"},{title:"Product Name",type:r.Y.FEILD,field:"productName"},{title:"Product Code",type:r.Y.FEILD,field:"productCode"},{title:"Agent Name",type:r.Y.FEILD,field:"agentFirstName"},{title:"Premium",type:r.Y.FEILD,field:"premium",amtFormat:!0},{title:"Status",type:r.Y.FEILD,field:"status",isTitle:!0}],displayedColumns:["id","productName","productCode","agentFirstName","premium","status"]},policy:{ELEMENT_COL:[{title:"Quotation ID",type:r.Y.FEILD,field:"id"},{title:"Product Name",type:r.Y.FEILD,field:"productName"},{title:"Product Code",type:r.Y.FEILD,field:"productCode"},{title:"Agent Name",type:r.Y.FEILD,field:"agentFirstName"},{title:"Premium",type:r.Y.FEILD,field:"premium",amtFormat:!0},{title:"Status",type:r.Y.FEILD,field:"status",isTitle:!0}],displayedColumns:["id","productName","productCode","agentFirstName","premium","status"]},customer:{ELEMENT_COL:[{title:"ID",type:r.Y.FEILD,field:"id"},{title:"Title",type:r.Y.FEILD,field:"title"},{title:"First Name",type:r.Y.FEILD,field:"firstName"},{title:"Last Name",type:r.Y.FEILD,field:"lastName"},{title:"Identity Type",type:r.Y.FEILD,field:"identityType"},{title:"Identity Number",type:r.Y.FEILD,field:"identityNumber"},{title:"Gender",type:r.Y.FEILD,field:"gender"}],displayedColumns:["id","title","firstName","lastName","identityType","identityNumber","gender"]},agent:{ELEMENT_COL:[{title:"Emp No",type:r.Y.FEILD,field:"empNo"},{title:"Email",type:r.Y.FEILD,field:"email"},{title:"First Name",type:r.Y.FEILD,field:"firstName"},{title:"Last Name",type:r.Y.FEILD,field:"lastName"},{title:"Mobile No",type:r.Y.FEILD,field:"mobileNo"}],displayedColumns:["empNo","email","firstName","lastName","mobileNo"]}};var t=o(83668),p=o(85993),A=o(80842),u=o(46045),Z=o(18260),f=o(91691),D=o(44522);const S=`${Z.N.apiUrl}/customer`;let U=(()=>{class a extends f.i{constructor(e){super(e,S),this.httpClient=e}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(D.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Y=`${Z.N.apiUrl}/employee`;let q=(()=>{class a extends f.i{constructor(e){super(e,Y),this.httpClient=e}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(D.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var O=o(60940),x=o(15346);function P(a,c){if(1&a&&(t.TgZ(0,"option",12),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&a){const e=c.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(t.lcZ(2,2,e))}}function R(a,c){if(1&a){const e=t.EpF();t.TgZ(0,"div",9),t.TgZ(1,"select",10),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().type=l})("change",function(){return t.CHM(e),t.oxw().getDatalist()}),t.YNc(2,P,3,4,"option",11),t.qZA(),t.qZA()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.type),t.xp6(1),t.Q6J("ngForOf",e.types)}}let b=(()=>{class a{constructor(e,i,l,s,M,N,I){this.modal=e,this.quotService=i,this.policyService=l,this.customerService=s,this.employeeService=M,this.cdf=N,this.alertService=I,this.tableData=T,this.types=["quotation","policy"],this.type="customer",this.dataList=[]}ngOnInit(){this.selected&&"quotation"==this.type&&(this.type=(this.selected+"").includes("QUO")?"quotation":"policy"),this.getDatalist()}selectedProd(e,i){this.selecteditem==e&&(this.selecteditem=null),this.selecteditem=e,this.selectedName="customer"==this.type?this.dataList[i].name:this.dataList[i].firstName||""}getDatalist(){if("customer"==this.type)this.getCustomerList();else{let e;e="quotation"==this.type?this.quotService:"policy"==this.type?this.policyService:this.employeeService,e.findAll().toPromise().then(i=>{i&&(this.dataList=i,this.cdf.detectChanges(),this.matTable.reChangeData())})}}getCustomerList(){this.customerService.findAll().pipe((0,y.U)(e=>e.map(i=>i.individualCustomer))).toPromise().then(e=>{e&&(this.dataList=e),this.cdf.detectChanges(),this.matTable.reChangeData()})}get selected(){let e;return this.matTable&&(e=this.matTable.selection.selected[0]),e||{id:0}}save(){this.selectedName="customer"==this.type?this.selected.name:this.selected.firstName||"",this.selectedName="agent"==this.type?(this.selected.firstName||"")+" "+(this.selected.middleName||"")+" "+(this.selected.lastName||""):"",this.modal.dismiss({data:this.selected.id||this.selected.empId,type:"save",dataName:this.selectedName})}actionBtn(e){}deleteEditModal(){this.alertService.activate("Are you sure want to delete?","Warning Message").then(e=>{e&&this.modal.dismiss({type:"delete"})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(p.Kz),t.Y36(A.G),t.Y36(u.d),t.Y36(U),t.Y36(q),t.Y36(t.sBO),t.Y36(O.c))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-related-to"]],viewQuery:function(e,i){if(1&e&&t.Gf(m.I,5),2&e){let l;t.iGM(l=t.CRH())&&(i.matTable=l.first)}},decls:15,vars:15,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4","left-border-image"],[1,"overlay","overlay-block","cursor-default","modal-body"],["class","form-group",4,"ngIf"],[3,"selectable","data","colum","displayedColumns","emitter"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-primary","btn-elevate",3,"disabled","click"],[1,"form-group"],[1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._uU(3),t.ALo(4,"titlecase"),t.qZA(),t.qZA(),t.TgZ(5,"div",3),t.YNc(6,R,3,2,"div",4),t.TgZ(7,"app-material-table-view",5),t.NdJ("emitter",function(s){return i.actionBtn(s)}),t.qZA(),t.qZA(),t.TgZ(8,"div",6),t.TgZ(9,"button",7),t.NdJ("click",function(){return i.modal.dismiss()}),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"button",8),t.NdJ("click",function(){return i.save()}),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.hij(" Select ( ","policy"==i.type?"Application":t.lcZ(4,9,i.type)," ) in list "),t.xp6(3),t.Q6J("ngIf","quotation"==i.type||"policy"==i.type),t.xp6(1),t.Q6J("selectable",!0)("data",i.dataList)("colum",i.tableData[i.type].ELEMENT_COL)("displayedColumns",i.tableData[i.type].displayedColumns),t.xp6(3),t.Oqu(t.lcZ(11,11,"FORM.btn_cancel")),t.xp6(2),t.Q6J("disabled",!i.selected.id&&!i.selected.empId),t.xp6(1),t.Oqu(t.lcZ(14,13,"FORM.btn_save")))},directives:[d.O5,m.I,n.EJ,n.JJ,n.On,d.sg,n.YN,n.Kr],pipes:[d.rS,x.X],encapsulation:2}),a})();var h=o(92070),J=o(53489),j=o(11918),C=o(44290),k=o(92118),Q=o(47975),w=o(95976),V=o(37632),E=o(57730),_=o(78480),B=o(86031);function z(a,c){if(1&a&&(t.ynx(0),t._uU(1),t.ALo(2,"date"),t.BQk()),2&a){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.xi3(2,1,e.actForm.controls.planDateStr.value,"dd-MM-YYYY")," ")}}function K(a,c){if(1&a&&(t.TgZ(0,"div",3),t.TgZ(1,"div",4),t.TgZ(2,"div",5),t.TgZ(3,"div",6),t.TgZ(4,"div",7),t.TgZ(5,"div",1),t.TgZ(6,"div",8),t._uU(7),t.ALo(8,"translate"),t._UZ(9,"br"),t._uU(10),t.qZA(),t.TgZ(11,"div",8),t._uU(12),t.ALo(13,"translate"),t._UZ(14,"br"),t._uU(15),t.qZA(),t.TgZ(16,"div",8),t._uU(17),t.ALo(18,"translate"),t._UZ(19,"br"),t._uU(20),t.qZA(),t.TgZ(21,"div",8),t._uU(22),t.ALo(23,"translate"),t._UZ(24,"br"),t.YNc(25,z,3,4,"ng-container",9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&a){const e=t.oxw(2);t.xp6(7),t.hij(" ",t.lcZ(8,8,"FORM.related_to")," "),t.xp6(3),t.hij(" ",e.actForm.controls.relatedTo.value," "),t.xp6(2),t.hij(" ",t.lcZ(13,10,"FORM.owner")," "),t.xp6(3),t.hij(" ",e.actForm.controls.assignName.value," "),t.xp6(2),t.hij(" ",t.lcZ(18,12,"FORM.status")," "),t.xp6(3),t.hij(" ",e.activityStatus[e.actForm.controls.status.value]," "),t.xp6(2),t.hij(" ",t.lcZ(23,14,"FORM.date")," "),t.xp6(3),t.Q6J("ngIf",e.actForm.controls.planDateStr.value)}}function W(a,c){if(1&a&&(t.TgZ(0,"div",1),t.YNc(1,K,26,16,"div",2),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.actForm)}}function G(a,c){if(1&a&&(t.TgZ(0,"div",19),t.TgZ(1,"div",13),t.TgZ(2,"label",14),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"input",43),t.qZA(),t.qZA()),2&a){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,5,"FORM.act_no")),t.xp6(2),t.ekj("is-invalid",e.isControlInvalid("activityNo"))("is-valid",e.isControlValid("activityNo"))}}function H(a,c){if(1&a&&(t.TgZ(0,"option",44),t._uU(1),t.qZA()),2&a){const e=c.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(e)}}function X(a,c){1&a&&(t.TgZ(0,"button",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"FORM.btn_save")))}function $(a,c){if(1&a){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",3),t.TgZ(2,"div",4),t.TgZ(3,"div",5),t.TgZ(4,"form",10),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().doActivity()}),t.TgZ(5,"div",1),t.YNc(6,G,6,7,"div",11),t.TgZ(7,"div",12),t.TgZ(8,"div",13),t.TgZ(9,"label",14),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"select",15),t.TgZ(13,"option",16),t._uU(14,"Select Activity Type"),t.qZA(),t.YNc(15,H,2,2,"option",17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",12),t.TgZ(17,"div",13),t.TgZ(18,"label",14),t._uU(19),t.ALo(20,"translate"),t.qZA(),t._UZ(21,"input",18),t.qZA(),t.qZA(),t.TgZ(22,"div",19),t.TgZ(23,"div",13),t.TgZ(24,"label",14),t._uU(25),t.ALo(26,"translate"),t.qZA(),t._UZ(27,"textarea",20),t.qZA(),t.qZA(),t.TgZ(28,"div",21),t.TgZ(29,"div",13),t.TgZ(30,"label",14),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"div",22),t._UZ(34,"input",23),t._UZ(35,"mat-datepicker-toggle",24),t._UZ(36,"mat-datepicker",25,26),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"div",21),t.TgZ(39,"div",13),t.TgZ(40,"label",14),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"div",22),t._UZ(44,"input",27),t._UZ(45,"mat-datepicker-toggle",24),t._UZ(46,"mat-datepicker",25,28),t.qZA(),t.qZA(),t.qZA(),t.TgZ(48,"div",21),t.TgZ(49,"div",13),t.TgZ(50,"label",14),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"div",22),t._UZ(54,"input",29),t._UZ(55,"mat-datepicker-toggle",24),t._UZ(56,"mat-datepicker",25,30),t.qZA(),t.qZA(),t.qZA(),t.TgZ(58,"div",21),t.TgZ(59,"div",31),t.NdJ("click",function(){return t.CHM(e),t.oxw().openModal("quotation")}),t.TgZ(60,"label",14),t._uU(61),t.ALo(62,"translate"),t.qZA(),t._UZ(63,"input",32),t.TgZ(64,"span",33),t.NdJ("click",function(l){return t.CHM(e),t.oxw().clearDate("relatedTo"),l.stopPropagation()}),t.TgZ(65,"span",34),t._uU(66,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(67,"div",21),t.TgZ(68,"div",31),t.NdJ("click",function(){return t.CHM(e),t.oxw().viewCustomer()}),t.TgZ(69,"label",14),t._uU(70),t.ALo(71,"translate"),t.qZA(),t._UZ(72,"input",35),t.qZA(),t.qZA(),t.TgZ(73,"div",21),t.TgZ(74,"div",31),t.NdJ("click",function(){return t.CHM(e),t.oxw().viewAgent("agent")}),t.TgZ(75,"label",14),t._uU(76),t.ALo(77,"translate"),t.qZA(),t._UZ(78,"input",36),t.qZA(),t.qZA(),t.TgZ(79,"div",19),t.TgZ(80,"div",13),t.TgZ(81,"label",14),t._uU(82),t.ALo(83,"translate"),t.qZA(),t.TgZ(84,"select",37),t.TgZ(85,"option",38),t._uU(86,"Open"),t.qZA(),t.TgZ(87,"option",39),t._uU(88,"Complete"),t.qZA(),t.TgZ(89,"option",40),t._uU(90,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(91,"button",41),t.NdJ("click",function(){return t.CHM(e),t.oxw().backLocation()}),t._uU(92),t.ALo(93,"translate"),t.qZA(),t.YNc(94,X,3,3,"button",42),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=t.MAs(37),i=t.MAs(47),l=t.MAs(57),s=t.oxw();t.xp6(4),t.Q6J("formGroup",s.actForm),t.xp6(2),t.Q6J("ngIf","edit"==s.pageStatus),t.xp6(4),t.Oqu(t.lcZ(11,45,"FORM.act_type")),t.xp6(2),t.ekj("is-invalid",s.isControlInvalid("activityType"))("is-valid",s.isControlValid("activityType")),t.xp6(3),t.Q6J("ngForOf",s.activityType),t.xp6(4),t.Oqu(t.lcZ(20,47,"FORM.act_title")),t.xp6(2),t.ekj("is-invalid",s.isControlInvalid("activityTitle"))("is-valid",s.isControlValid("activityTitle")),t.xp6(4),t.Oqu(t.lcZ(26,49,"FORM.act_desc")),t.xp6(2),t.ekj("is-invalid",s.isControlInvalid("activityDescription"))("is-valid",s.isControlValid("activityDescription")),t.xp6(4),t.hij("",t.lcZ(32,51,"FORM.plan_date")," "),t.xp6(3),t.Q6J("matDatepicker",e),t.xp6(1),t.Q6J("for",e),t.xp6(6),t.Oqu(t.lcZ(42,53,"FORM.actual_date")),t.xp6(3),t.Q6J("matDatepicker",i),t.xp6(1),t.Q6J("for",i),t.xp6(6),t.Oqu(t.lcZ(52,55,"FORM.due_date")),t.xp6(3),t.Q6J("matDatepicker",l),t.xp6(1),t.Q6J("for",l),t.xp6(6),t.Oqu(t.lcZ(62,57,"FORM.related_to")),t.xp6(9),t.Oqu(t.lcZ(71,59,"FORM.customer_name")),t.xp6(2),t.ekj("is-invalid",s.isControlInvalid("customerId"))("is-valid",s.isControlValid("customerId")),t.xp6(4),t.Oqu(t.lcZ(77,61,"FORM.assign_to")),t.xp6(2),t.ekj("is-invalid",s.isControlInvalid("assignTo"))("is-valid",s.isControlValid("assignTo")),t.xp6(4),t.Oqu(t.lcZ(83,63,"FORM.status")),t.xp6(2),t.ekj("is-invalid",s.isControlInvalid("status"))("is-valid",s.isControlValid("status")),t.xp6(8),t.Oqu(t.lcZ(93,65,"FORM.btn_cancel")),t.xp6(2),t.Q6J("ngIf",s.dataAccess.edit)}}let tt=(()=>{class a{constructor(e,i,l,s,M,N,I,st){this.route=e,this.modalService=i,this.activityManageService=l,this.location=s,this.cdf=M,this.alertService=N,this.menuService=I,this.ngZone=st,this.isLead=!1,this.activityStatus={"01":"Open","02":"Complete","03":"Cancel"},this.activityType=["Face to Face","Online","Phone Call"],this.dataAccess={view:!0,create:!0,edit:!0,delete:!0}}ngOnInit(){this.checkPremission(),this.route.queryParams.subscribe(e=>{this.pageStatus=e.pageStatus,"create"!=this.pageStatus?(this.oldId=e.pageId,this.getOld()):(this.loadForm(),this.actForm.controls.assignTo.setValue(e.assignTo),this.actForm.controls.assignName.setValue(e.assignToName),this.actForm.controls.customerId.setValue(e.customerId),this.actForm.controls.customerName.setValue(e.name),e.leadId&&(this.leadId=e.leadId,this.isLead=e.isLead))})}checkPremission(){this.menuService.dataAccess.subscribe(e=>{e&&(this.dataAccess=e.activity,this.dataAccess.view||this.location.back())})}ngAfterViewInit(){}clearDate(e){this.actForm.controls[e].setValue(null)}getOld(){this.activityManageService.findOne(this.oldId).toPromise().then(e=>{e&&(this.oldData=e,this.leadId=e.leadId,this.isLead=!!e.leadId,this.loadForm(e),this.cdf.detectChanges())})}loadForm(e){this.actForm=new n.cw({activityNo:new n.NI({value:e?e.activityNo:null,disabled:!0}),activityType:new n.NI(e?e.activityType:"",n.kI.required),activityTitle:new n.NI(e?e.activityTitle:null,n.kI.required),activityDescription:new n.NI(e?e.activityDescription:null,n.kI.required),planDateStr:new n.NI(e&&e.planDate?h(e.planDate):null),actualDateStr:new n.NI(e&&e.actualDate?h(e.actualDate):null),dueDateStr:new n.NI(e&&e.dueDate?h(e.dueDate):null),relatedTo:new n.NI({value:e?e.relatedTo:null,disabled:!0}),customerId:new n.NI(e?e.customerId:null,n.kI.required),customerName:new n.NI({value:e?e.customerName:null,disabled:!0}),assignTo:new n.NI(e?e.assignTo:null,n.kI.required),assignName:new n.NI({value:e?e.assignName:null,disabled:!0}),status:new n.NI({value:e?e.status:"01",disabled:!e})}),this.relatedType=e?e.relatedType:"",this.cdf.detectChanges()}openModal(e){let i;"quotation"==e&&(i=this.actForm.controls.relatedTo);const l=this.modalService.open(b,{size:"xl",backdrop:!1});l.componentInstance.type=e,l.componentInstance.selecteditem=i.value,l.result.then(()=>{},s=>{s&&"save"==s.type&&(this.relatedType=(s.data+"").includes("QUO")?"quotation":"policy",i.setValue(s.data))})}viewAgent(e){if(!this.isLead){let i;"agent"==e&&(i=this.actForm.controls.assignTo);const l=this.modalService.open(b,{size:"xl",backdrop:!1});l.componentInstance.type=e,l.componentInstance.selecteditem=i.value,l.result.then(()=>{},s=>{s&&"save"==s.type&&"agent"==e&&(this.actForm.controls.assignTo.setValue(s.data),this.actForm.controls.assignName.setValue(s.dataName))})}}viewCustomer(){if(!this.isLead){let e;e=this.modalService.open(j.b,{size:"xl",backdrop:!1}),e.componentInstance.isPopup=!0,e.result.then(()=>{},i=>{if(i&&"save"==i.type){let l=i.data,s=(l.firstName||"")+" "+(l.middleName||"")+" "+(l.lastName||"");this.actForm.controls.customerId.setValue(l.customerId),this.actForm.controls.customerName.setValue(s)}})}}isControlValid(e){const i=this.actForm.controls[e];return i.valid&&(i.dirty||i.touched)}isControlInvalid(e){const i=this.actForm.controls[e];return i.invalid&&(i.dirty||i.touched)}controlHasError(e,i){const l=this.actForm.controls[i];return l.hasError(e)&&(l.dirty||l.touched)}isControlTouched(e){const i=this.actForm.controls[e];return i.dirty||i.touched}doActivity(){if(this.actForm.invalid)return(0,J.w)(this.actForm),!0;{let e=this.actForm.getRawValue();e.dueDate=e.dueDateStr,e.actualDate=e.actualDateStr,e.planDate=e.planDateStr,e.dueDateStr=h(e.dueDate).format("YYYY-MM-DD"),e.actualDateStr=h(e.actualDate).format("YYYY-MM-DD"),e.planDateStr=h(e.planDate).format("YYYY-MM-DD"),"create"==this.pageStatus?this.create(e):this.edit(e)}}create(e){let i=Object.assign(Object.assign({},e),{relatedType:this.relatedType||null,status:"01"});this.isLead&&(i=Object.assign(Object.assign({},e),{relatedType:this.relatedType||null,status:"01",leadId:this.leadId})),this.activityManageService.save(i).toPromise().then(l=>{l&&(this.alertService.activate("This record was created","Success Message"),this.location.back())})}edit(e){let i=Object.assign(Object.assign({},e),{activityNo:this.oldId,relatedType:this.relatedType||null});this.isLead&&(i=Object.assign(Object.assign({},e),{relatedType:this.relatedType||null,leadId:this.leadId})),this.activityManageService.updateNoID(i).toPromise().then(l=>{l&&(this.alertService.activate("This record was updated","Success Message"),this.location.back())})}backLocation(){this.isLead?this.ngZone.run(()=>{this.location.back()}):this.loadForm(this.oldData)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(v.gz),t.Y36(p.FF),t.Y36(w.e),t.Y36(d.Ye),t.Y36(t.sBO),t.Y36(O.c),t.Y36(V.q),t.Y36(t.R0b))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-activity-management-detail"]],features:[t._Bn([{provide:C._A,useClass:k.t7,deps:[C.Ad]},{provide:C.sG,useValue:Q.Gs}])],decls:2,vars:2,consts:[["class","row",4,"ngIf"],[1,"row"],["class","col-12",4,"ngIf"],[1,"col-12"],[1,"card","card-custom","gutter-b"],[1,"card-body"],[1,"table-responsive","angular-bootstrap-table"],[1,"container"],[1,"col-sm"],[4,"ngIf"],["action","#",1,"form",3,"formGroup","ngSubmit"],["class","col-sm-12",4,"ngIf"],[1,"col-sm-6"],[1,"form-group"],[1,"form-label"],["name","actType","autocomplete","off","formControlName","activityType",1,"form-control","form-control-sm"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","name","actTitle","autocomplete","off","formControlName","activityTitle",1,"form-control","form-control-sm"],[1,"col-sm-12"],["name","","maxlength","500","rows","4","name","actDesc","autocomplete","off","formControlName","activityDescription",1,"form-control","form-control-sm",2,"resize","false"],[1,"col-sm-4"],[1,"input-group"],["matInput","","formControlName","planDateStr","readonly","",1,"form-control-sm","date-input",2,"width","100%",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["planDateStr",""],["matInput","","formControlName","actualDateStr","readonly","",1,"form-control-sm","date-input",2,"width","100%",3,"matDatepicker"],["actualDateStr",""],["matInput","","formControlName","dueDateStr","readonly","",1,"form-control-sm","date-input",2,"width","100%",3,"matDatepicker"],["dueDateStr",""],[1,"form-group",3,"click"],["type","text","name","relatedTo","autocomplete","off","formControlName","relatedTo",1,"form-control","form-control-sm"],["title","Clear all",1,"ng-clear-wrapper",3,"click"],["aria-hidden","true",1,"ng-clear"],["type","text","name","customerName","autocomplete","off","formControlName","customerName",1,"form-control","form-control-sm"],["type","text","name","assignName","autocomplete","off","formControlName","assignName",1,"form-control","form-control-sm"],["name","status","autocomplete","off","formControlName","status",1,"form-control","form-control-sm"],["value","01"],["value","02"],["value","03"],["type","button",1,"btn","btn-default","btn-elevate",3,"click"],["type","submit","class","btn btn-primary btn-elevate mx-2",4,"ngIf"],["type","text","name","activityNo","autocomplete","off","formControlName","activityNo",1,"form-control","form-control-sm"],[3,"value"],["type","submit",1,"btn","btn-primary","btn-elevate","mx-2"]],template:function(e,i){1&e&&(t.YNc(0,W,2,1,"div",0),t.YNc(1,$,95,67,"div",0)),2&e&&(t.Q6J("ngIf","edit"==i.pageStatus),t.xp6(1),t.Q6J("ngIf",i.actForm))},directives:[d.O5,n._Y,n.JL,n.sg,n.EJ,n.JJ,n.u,n.YN,n.Kr,d.sg,n.Fj,n.nD,E.Nt,_.hl,_.nW,B.R9,_.Mq],pipes:[x.X,d.uU],styles:[".input-group[_ngcontent-%COMP%]   .form-control-sm[_ngcontent-%COMP%]{background-color:#fff;background-clip:padding-box;border:1px solid #E4E6EF;padding:0 .75rem}.input-group[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;right:5px}.ng-clear-wrapper[_ngcontent-%COMP%]   .ng-clear[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:2rem;top:2.3rem;font-size:1.2rem;color:#999}.ng-clear-wrapper[_ngcontent-%COMP%]   .ng-clear[_ngcontent-%COMP%]:hover{color:#d0021b}"]}),a})();var et=o(45598),it=o(45479),at=o(90860),ot=o(57842),lt=o(63699);let nt=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[d.ez,n.u5,n.UX,it.U8,et.fA,p.M,_.FA,E.c,ot.A0,p.bz,at.m,lt.j,v.Bz.forChild([{path:"",component:tt}])]]}),a})()},90860:(F,g,o)=>{o.d(g,{m:()=>A});var d=o(86019),v=o(49133),n=o(87626),y=o(45598),m=o(57842),r=o(63699),T=o(92275),L=o(12747),t=o(85993),p=o(83668);let A=(()=>{class u{constructor(f){(0,L.r)(f,"CustomerListShareModule")}}return u.\u0275fac=function(f){return new(f||u)(p.LFG(u,12))},u.\u0275mod=p.oAB({type:u}),u.\u0275inj=p.cJS({providers:[t.Kz],imports:[[d.ez,v.u5,v.UX,n.vi,y.fA,m.A0,r.j,T.W]]}),u})()}}]);