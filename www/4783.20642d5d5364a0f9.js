"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4783],{11918:(Z,p,s)=>{s.d(p,{b:()=>y});var t=s(83668),n=s(49133),c=s(90949),_=s(62311),m=s(85378),d=s(21177),u=s(44290),a=s(92118),g=s(47975),l=s(29018),v=s(99457),T=s(86019),f=s(15470),A=s(85472),h=s(57842);function M(r,C){if(1&r){const o=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){return t.CHM(o),t.oxw().navigateToDetail("create")}),t._UZ(1,"span",27),t.qZA()}}function O(r,C){if(1&r){const o=t.EpF();t.TgZ(0,"div",28),t.TgZ(1,"app-material-table-view",29),t.NdJ("emitter",function(i){return t.CHM(o),t.oxw().actionBtn(i)})("rowselect",function(i){return t.CHM(o),t.oxw().rowSelected(i)}),t.qZA(),t.qZA()}if(2&r){const o=t.oxw();t.xp6(1),t.Q6J("data",o.customerList)("colum",o.ELEMENT_COL)("displayedColumns",o.displayedColumns)("selectable",o.isPopup)}}function P(r,C){if(1&r){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",30),t.TgZ(2,"button",31),t.NdJ("click",function(){return t.CHM(o),t.oxw().closeModal()}),t._uU(3,"Cancel"),t.qZA(),t.TgZ(4,"button",32),t.NdJ("click",function(){return t.CHM(o),t.oxw().nextProd()}),t._uU(5,"Next"),t.qZA(),t.qZA(),t.BQk()}if(2&r){const o=t.oxw();t.xp6(4),t.Q6J("disabled",!o.selected.customerId)}}let y=(()=>{class r{constructor(o,e,i,E){this.router=o,this.cdf=e,this.customerListService=i,this.modalService=E,this.ELEMENT_COL=JSON.parse(JSON.stringify(_.Ks)),this.displayedColumns=JSON.parse(JSON.stringify(_.Q1)),this.customerList=[],this.statusOption=_.qb,this.identityTypeOption=_.Mf,this.selectedUser=new t.vpe,this.isPopup=!1,this.party=!0,this.isDynamic=!1,this.show=!1,this.loadForm()}ngOnInit(){this.isPopup&&(this.ELEMENT_COL.splice(9,1),this.displayedColumns.splice(9,1)),this.show=!0}ngAfterViewInit(){this.getList()}loadForm(){this.customerForm=new n.cw({name:new n.NI(null),identityType:new n.NI(null),identityNumber:new n.NI(null),statusCode:new n.NI(null),partyCode:new n.NI(null),startDate:new n.NI(null),endDate:new n.NI(null)})}navigateToDetail(o,e,i){this.router.navigate(["/customer/customer-detail"],{queryParams:{pageStatus:o,pageId:e,pageSecondaryId:i}})}getList(){this.customerListService.getCustomerList(this.customerForm.value,this.party,!(!this.isPopup||this.isDynamic)).toPromise().then(e=>{e&&(this.customerList=e,this.cdf.detectChanges(),this.matTable&&this.matTable.reChangeData())})}get selected(){let o;return this.matTable&&(o=this.matTable.selection.selected[0]),o||{customerId:0}}rowSelected(o){this.selectedUser.emit(o)}cancel(){this.customerForm.reset(),this.getList()}actionBtn(o){"edit"==o.cmd&&this.navigateToDetail("edit",o.data.customerId,o.data.individualId)}isControlValid(o){const e=this.customerForm.controls[o];return e.valid&&(e.dirty||e.touched)}isControlInvalid(o){const e=this.customerForm.controls[o];return e.invalid&&(e.dirty||e.touched)}controlHasError(o,e){const i=this.customerForm.controls[e];return i.hasError(o)&&(i.dirty||i.touched)}isControlTouched(o){const e=this.customerForm.controls[o];return e.dirty||e.touched}nextProd(){this.selected.customerId&&this.modalService.dismissAll({data:this.selected,type:"save"})}closeModal(){this.modalService.dismissAll()}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(l.F0),t.Y36(t.sBO),t.Y36(v.c),t.Y36(m.FF))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-customer-list"]],viewQuery:function(o,e){if(1&o&&t.Gf(c.I,5),2&o){let i;t.iGM(i=t.CRH())&&(e.matTable=i.first)}},inputs:{isPopup:"isPopup",party:"party",isDynamic:"isDynamic"},outputs:{selectedUser:"selectedUser"},features:[t._Bn([{provide:m.DO,useClass:d.Wv},{provide:m.NG,useClass:d.ke},{provide:u._A,useClass:a.t7,deps:[u.Ad]},{provide:u.sG,useValue:g.Gs}])],decls:55,vars:32,consts:[[1,"row"],[1,"col-12"],[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label","left-border-image"],[1,"card-toolbar"],["type","button","class","btn btn-primary btn-circle","style","margin-right: 1rem;\n                    ",3,"click",4,"ngIf"],[1,"flaticon2-magnifier-tool","search-tool",3,"click"],["type","button",1,"btn","btn-primary","ml-2",2,"min-width","50px",3,"click"],[1,""],[1,"card-body","px-10","py-3"],["action","#",1,"form",3,"formGroup"],[1,"row",2,"align-items","center"],["remove-host","",3,"formInput","colClass"],[1,"col-md-6"],[1,"form-group","row"],[1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","name","name","autocomplete","off","formControlName","name",1,"form-control","form-control-sm"],["type","text","name","partyCode","autocomplete","off","formControlName","partyCode",1,"form-control","form-control-sm"],["bindLabel","value","bindValue","code","formControlName","identityType",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["type","text","name","identityNumber","autocomplete","off","formControlName","identityNumber",1,"form-control","form-control-sm"],["bindLabel","value","bindValue","code","formControlName","statusCode",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["class","card-body customer-card-body",4,"ngIf"],[4,"ngIf"],["type","button",1,"btn","btn-primary","btn-circle",2,"margin-right","1rem",3,"click"],[1,"flaticon2-plus"],[1,"card-body","customer-card-body"],[3,"data","colum","displayedColumns","selectable","emitter","rowselect"],[1,"card-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","button",1,"btn","btn-primary","btn-elevate",3,"disabled","click"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"h3",5),t._uU(6,"Customer List"),t.qZA(),t.qZA(),t.TgZ(7,"div",6),t.YNc(8,M,2,0,"button",7),t.TgZ(9,"span",8),t.NdJ("click",function(){return e.getList()}),t.qZA(),t.TgZ(10,"button",9),t.NdJ("click",function(){return e.cancel()}),t.TgZ(11,"span",10),t._uU(12,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",11),t.TgZ(14,"form",12),t.TgZ(15,"div",13),t._UZ(16,"app-start-end-date",14),t.qZA(),t.TgZ(17,"div",13),t.TgZ(18,"div",15),t.TgZ(19,"div",16),t.TgZ(20,"label",17),t._uU(21,"Name"),t.qZA(),t.TgZ(22,"div",18),t._UZ(23,"input",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",15),t.TgZ(25,"div",16),t.TgZ(26,"label",17),t._uU(27,"Party Code"),t.qZA(),t.TgZ(28,"div",18),t._UZ(29,"input",20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",13),t.TgZ(31,"div",15),t.TgZ(32,"div",16),t.TgZ(33,"label",17),t._uU(34,"ID Type"),t.qZA(),t.TgZ(35,"div",18),t._UZ(36,"ng-select",21),t.qZA(),t.qZA(),t.qZA(),t.TgZ(37,"div",15),t.TgZ(38,"div",16),t.TgZ(39,"label",17),t._uU(40,"ID No."),t.qZA(),t.TgZ(41,"div",18),t._UZ(42,"input",22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"div",0),t.TgZ(44,"div",15),t.TgZ(45,"div",16),t.TgZ(46,"label",17),t._uU(47,"Status"),t.qZA(),t.TgZ(48,"div",18),t._UZ(49,"ng-select",23),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(50,"div",0),t.TgZ(51,"div",1),t.TgZ(52,"div",2),t.YNc(53,O,2,4,"div",24),t.YNc(54,P,6,1,"ng-container",25),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.ekj("remove-p",e.isPopup),t.xp6(6),t.Q6J("ngIf",!e.isPopup),t.xp6(6),t.Q6J("formGroup",e.customerForm),t.xp6(2),t.Q6J("formInput",e.customerForm)("colClass","col-md-6"),t.xp6(7),t.ekj("is-invalid",e.isControlInvalid("name"))("is-valid",e.isControlValid("name")),t.xp6(6),t.ekj("is-invalid",e.isControlInvalid("partyCode"))("is-valid",e.isControlValid("partyCode")),t.xp6(7),t.ekj("is-invalid",e.isControlInvalid("identityType"))("is-valid",e.isControlValid("identityType")),t.Q6J("items",e.identityTypeOption),t.xp6(6),t.ekj("is-invalid",e.isControlInvalid("identityNumber"))("is-valid",e.isControlValid("identityNumber")),t.xp6(7),t.ekj("is-invalid",e.isControlInvalid("statusCode"))("is-valid",e.isControlValid("statusCode")),t.Q6J("items",e.statusOption),t.xp6(3),t.ekj("remove-p",e.isPopup),t.xp6(1),t.Q6J("ngIf",e.show),t.xp6(1),t.Q6J("ngIf",e.isPopup&&!e.isDynamic))},directives:[T.O5,n._Y,n.JL,n.sg,f.Q,A.Z,n.Fj,n.JJ,n.u,h.w9,c.I],styles:[".remove-p[_ngcontent-%COMP%]{margin-bottom:0}.col-form-label[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.form-group.row[_ngcontent-%COMP%]{align-items:center}.draggable[_ngcontent-%COMP%]{color:#fff;border-radius:50%;touch-action:none;-webkit-user-select:none;user-select:none;position:absolute;z-index:999}"]}),r})()},64783:(Z,p,s)=>{s.r(p),s.d(p,{CustomerListModule:()=>g});var t=s(86019),n=s(29018),c=s(49133),_=s(87626),m=s(45598),d=s(11918),u=s(90860),a=s(83668);let g=(()=>{class l{}return l.\u0275fac=function(T){return new(T||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({imports:[[t.ez,c.u5,c.UX,_.vi,m.fA,u.m,n.Bz.forChild([{path:"",component:d.b}])]]}),l})()},90860:(Z,p,s)=>{s.d(p,{m:()=>u});var t=s(86019),n=s(49133),c=s(87626),_=s(45598),m=s(57842),d=s(83668);let u=(()=>{class a{}return a.\u0275fac=function(l){return new(l||a)},a.\u0275mod=d.oAB({type:a}),a.\u0275inj=d.cJS({imports:[[t.ez,n.u5,n.UX,c.vi,_.fA,m.A0]]}),a})()}}]);