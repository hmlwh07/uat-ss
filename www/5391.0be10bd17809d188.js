"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5391],{75391:(Y,g,r)=>{r.r(g),r.d(g,{LpDashboardModule:()=>J});var d=r(86019),p=r(64762),s=r(49133),h=r(18260),t=r(83668),c=r(29018),m=r(22338),u=r(61596);const _=["chart"];function Z(o,e){if(1&o&&(t.ynx(0),t.TgZ(1,"div",31),t.TgZ(2,"div",32),t._UZ(3,"img",33),t._uU(4),t.qZA(),t.TgZ(5,"div",34),t._uU(6),t.ALo(7,"number"),t.qZA(),t.qZA(),t.BQk()),2&o){const n=e.$implicit,i=t.oxw(3);t.xp6(3),t.Q6J("src",i.DEFAULT_DOWNLOAD_URL+n.productSmallIcon,t.LSH),t.xp6(1),t.hij(" ",n.productName," "),t.xp6(2),t.hij("",t.xi3(7,3,n.premium,"1.0-2")," MMK")}}function v(o,e){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Z,8,6,"ng-container",30),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",null==n.data?null:n.data.yearlyProductPremium)}}function x(o,e){if(1&o&&(t.ynx(0),t.TgZ(1,"div",35),t.TgZ(2,"div",36),t._uU(3),t.qZA(),t.TgZ(4,"div"),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.TgZ(7,"span",37),t._uU(8),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&o){const n=e.$implicit;t.xp6(3),t.Oqu(n.productName),t.xp6(3),t.hij(" ",n.customerName," "),t.xp6(2),t.Oqu(n.status)}}function A(o,e){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,x,9,3,"ng-container",30),t.ALo(2,"slice"),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,null==n.recentObj?null:n.recentObj.quotations,0,1))}}function f(o,e){if(1&o&&(t.ynx(0),t.TgZ(1,"div",35),t.TgZ(2,"div",36),t._uU(3),t.qZA(),t.TgZ(4,"div"),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.TgZ(7,"span",37),t._uU(8),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&o){const n=e.$implicit;t.xp6(3),t.Oqu(n.productName),t.xp6(3),t.hij(" ",n.customerName," "),t.xp6(2),t.Oqu(n.status)}}function T(o,e){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,f,9,3,"ng-container",30),t.ALo(2,"slice"),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,null==n.recentObj?null:n.recentObj.policies,0,1))}}function b(o,e){if(1&o&&(t.ynx(0),t.TgZ(1,"div",35),t.TgZ(2,"div",36),t._uU(3),t.qZA(),t.TgZ(4,"div"),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&o){const n=e.$implicit;t.xp6(3),t.hij("- ",n.campaignName,""),t.xp6(3),t.Oqu(n.status)}}function q(o,e){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,b,7,2,"ng-container",30),t.ALo(2,"slice"),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,n.campaignArray,0,1))}}function C(o,e){if(1&o&&(t.ynx(0),t.TgZ(1,"div",38),t.TgZ(2,"div",39),t._UZ(3,"img",40),t.qZA(),t.TgZ(4,"div",22),t.TgZ(5,"div"),t.TgZ(6,"span"),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"div",41),t.TgZ(9,"span"),t._uU(10),t.qZA(),t.TgZ(11,"span",37),t._uU(12),t.ALo(13,"date"),t.ALo(14,"date"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&o){const n=e.$implicit;t.xp6(7),t.hij(" ",n.title," "),t.xp6(3),t.Oqu(n.customerName),t.xp6(2),t.AsE("",t.xi3(13,4,n.planDate,"medium")," - ",t.xi3(14,7,n.dueDate,"medium"),"")}}function y(o,e){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,C,15,10,"ng-container",30),t.ALo(2,"slice"),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,n.followUpArray,0,3))}}function O(o,e){if(1&o&&(t.ynx(0),t.TgZ(1,"div",38),t.TgZ(2,"div",39),t._UZ(3,"img",42),t.qZA(),t.TgZ(4,"div",22),t.TgZ(5,"div"),t.TgZ(6,"span"),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"div",41),t.TgZ(9,"span"),t._uU(10),t.qZA(),t.TgZ(11,"span",37),t._uU(12),t.ALo(13,"date"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&o){const n=e.$implicit;t.xp6(7),t.Oqu(n.title),t.xp6(3),t.Oqu(n.customerName),t.xp6(2),t.hij("Due ",t.xi3(13,3,n.dueDate,"mediumDate"),"")}}function L(o,e){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,O,14,6,"ng-container",30),t.ALo(2,"slice"),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,n.backlogArray,0,2))}}function U(o,e){if(1&o&&(t.ynx(0),t.TgZ(1,"div",43),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div",43),t.TgZ(5,"span",41),t._uU(6),t.ALo(7,"date"),t.qZA(),t.qZA(),t.BQk()),2&o){const n=e.$implicit;t.xp6(3),t.Oqu(n.registerUserName),t.xp6(3),t.hij("Assigned on ",t.xi3(7,2,n.openDate,"shortDate")," ")}}function M(o,e){if(1&o&&(t.TgZ(0,"div",38),t.YNc(1,U,8,5,"ng-container",30),t.ALo(2,"slice"),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,n.assignLeadArray,0,1))}}function P(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t.TgZ(3,"div",4),t.TgZ(4,"div",5),t._UZ(5,"img",6),t.qZA(),t.TgZ(6,"div",7),t.TgZ(7,"label",8),t._uU(8),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"label",9),t._uU(11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",3),t.TgZ(13,"div",10),t.TgZ(14,"div",11),t.TgZ(15,"h6",12),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"div",13),t.TgZ(18,"label",14),t._uU(19),t.ALo(20,"number"),t.TgZ(21,"span"),t._uU(22,"MMk"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",15),t.TgZ(24,"div",16),t.TgZ(25,"label"),t._uU(26,"Products"),t.qZA(),t.qZA(),t.TgZ(27,"div",13),t.YNc(28,v,2,1,"div",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"div",2),t.TgZ(30,"div",18),t.TgZ(31,"div",19),t.TgZ(32,"div",5),t.TgZ(33,"span",20),t._uU(34,"Recent Operations"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div"),t.TgZ(36,"div",21),t.TgZ(37,"div",22),t._uU(38,"Quotes"),t.qZA(),t.TgZ(39,"div",23),t.NdJ("click",function(){return t.CHM(n),t.oxw().goToSaleQuotation()}),t._uU(40,"All>"),t.qZA(),t.qZA(),t.YNc(41,A,3,5,"div",17),t.TgZ(42,"div",21),t.TgZ(43,"div",22),t._uU(44,"Policies"),t.qZA(),t.TgZ(45,"div",23),t.NdJ("click",function(){return t.CHM(n),t.oxw().goToSalePolicies()}),t._uU(46,"All>"),t.qZA(),t.qZA(),t.YNc(47,T,3,5,"div",17),t.TgZ(48,"div",21),t.TgZ(49,"div",22),t._uU(50,"Campaign for Today "),t.qZA(),t.qZA(),t.YNc(51,q,3,5,"div",17),t.qZA(),t.qZA(),t.qZA(),t._UZ(52,"div",24),t.TgZ(53,"div",25),t.TgZ(54,"div",26),t.TgZ(55,"div",19),t.TgZ(56,"div",5),t.TgZ(57,"span",20),t._uU(58,"Things to Follow Up"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(59,"div",27),t.TgZ(60,"div",28),t._uU(61,"Calendar"),t.qZA(),t.TgZ(62,"div",28),t._uU(63,"Today > "),t.qZA(),t.TgZ(64,"div",23),t.NdJ("click",function(){return t.CHM(n),t.oxw().goToCalendar()}),t._uU(65,"All>"),t.qZA(),t.qZA(),t.YNc(66,y,3,5,"div",17),t.qZA(),t.qZA(),t.TgZ(67,"div",25),t.TgZ(68,"div",26),t.TgZ(69,"div",19),t.TgZ(70,"div",5),t.TgZ(71,"span",20),t._uU(72,"Overdue Activities"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(73,"div",27),t.TgZ(74,"div",28),t._uU(75,"Backlog"),t.qZA(),t.TgZ(76,"div",28),t._uU(77,"Today > "),t.qZA(),t.TgZ(78,"div",23),t.NdJ("click",function(){return t.CHM(n),t.oxw().goToCalendar()}),t._uU(79,"All>"),t.qZA(),t.qZA(),t.YNc(80,L,3,5,"div",17),t.qZA(),t.qZA(),t.TgZ(81,"div",25),t.TgZ(82,"div",26),t.TgZ(83,"div",19),t.TgZ(84,"div",5),t.TgZ(85,"span",20),t._uU(86,"Leads"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(87,"div",27),t.TgZ(88,"div",22),t._uU(89,"Leads Assigned"),t.qZA(),t.TgZ(90,"div",23),t.NdJ("click",function(){return t.CHM(n),t.oxw().goToLeadList()}),t._uU(91,"All>"),t.qZA(),t.qZA(),t.YNc(92,M,3,5,"div",29),t.qZA(),t.qZA(),t.qZA()}if(2&o){const n=t.oxw();t.xp6(8),t.Oqu(null==n.data||null==n.data.agentInfo?null:n.data.agentInfo.employeeName),t.xp6(3),t.Oqu(null==n.data?null:n.data.role),t.xp6(5),t.Oqu(null==n.data?null:n.data.role),t.xp6(3),t.hij(" ",t.xi3(20,11,null==n.data||null==n.data.agentInfo?null:n.data.agentInfo.totalPremium,"1.0-2")," "),t.xp6(9),t.Q6J("ngIf",n.data&&n.data.yearlyTotalPremium.length>0),t.xp6(13),t.Q6J("ngIf",n.recentObj&&n.recentObj.quotations&&n.recentObj.quotations.length>0),t.xp6(6),t.Q6J("ngIf",n.recentObj&&n.recentObj.policies&&n.recentObj.policies.length>0),t.xp6(4),t.Q6J("ngIf",n.campaignArray.length>0),t.xp6(15),t.Q6J("ngIf",n.followUpArray.length>0),t.xp6(14),t.Q6J("ngIf",n.backlogArray&&n.backlogArray.length>0),t.xp6(12),t.Q6J("ngIf",n.assignLeadArray&&n.assignLeadArray.length>0)}}let w=(()=>{class o{constructor(n,i,a,Q,j,I){this.cdf=n,this.ngzone=i,this.route=a,this.auth=Q,this.dashboardService=j,this.router=I,this.recentObj={quotations:[],policies:[]},this.campaign=[],this.campaignArray=[],this.followup=[],this.followUpArray=[],this.assignlead=[],this.assignLeadArray=[],this.backlog=[],this.backlogArray=[],this.unsub={},this.months=["JAN","FEB","Mar","APR","MAY","JUL","AUG","SEP","OCT","NOV","DEC"],this.DEFAULT_DOWNLOAD_URL=`${h.N.apiUrl}/attachment-downloader/`,this.currentMonthIndex=(new Date).getUTCMonth(),this.route.queryParams.subscribe(l=>(0,p.mG)(this,void 0,void 0,function*(){l.empId?(this.id=JSON.parse(l.empId),this.loadForm()):(this.id=this.auth.currentUserValue.id,this.loadForm())}))}ngOnInit(){this.getList(),this.getRecentList(),this.getCampaignList(),this.getFollowupList(),this.getBacklogList(),this.getLeadAssignList()}loadForm(){this.actForm=new s.cw({empId:new s.NI(this.id)})}getList(){this.ngzone.run(n=>{this.dashboardService.getList(this.actForm.value).toPromise().then(i=>{i&&(this.data=i,this.setChartOptions(),this.cdf.detectChanges())})})}getRecentList(){this.ngzone.run(n=>{this.dashboardService.getRecentList(this.actForm.value).toPromise().then(i=>{i&&(this.recentObj=i,console.log("recentObj",this.recentObj),this.cdf.detectChanges())})})}getCampaignList(){this.ngzone.run(n=>{this.dashboardService.getCampaignList(this.actForm.value).toPromise().then(i=>{i&&(this.campaign=i,this.campaign.map(a=>{this.campaignArray.push(a)}),this.cdf.detectChanges())})})}getBacklogList(){this.ngzone.run(n=>{this.dashboardService.getBacklogList(this.actForm.value).toPromise().then(i=>{i&&(this.backlog=i,this.backlog.map(a=>{this.backlogArray.push(a)}),this.cdf.detectChanges())})})}getLeadAssignList(){this.ngzone.run(n=>{this.dashboardService.getLeadAssignList(this.actForm.value).toPromise().then(i=>{i&&(this.assignlead=i,this.assignlead.map(a=>{this.assignLeadArray.push(a)}),this.cdf.detectChanges())})})}getFollowupList(){this.ngzone.run(n=>{this.dashboardService.getFollowupList(this.actForm.value).toPromise().then(i=>{i&&(this.followup=i,this.followup.map(a=>{this.followUpArray.push(a)}),this.cdf.detectChanges())})})}ngOnDestroy(){}goToSaleQuotation(){this.router.navigate(["/sale/quotation/list"])}goToSalePolicies(){this.router.navigate(["/sale/application/list"])}goToCalendar(){this.router.navigate(["/mycalendar"])}goToLeadList(){this.router.navigate(["/lead/lead-list"])}setChartOptions(){this.chartOptions={series:[{name:"",data:[this.data.converted,this.data.assigned]}],chart:{toolbar:{show:!1},height:150,type:"bar",events:{click:function(n,i,a){}}},colors:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0","#546E7A","#26a69a","#D10CE8"],plotOptions:{bar:{columnWidth:"20%",distributed:!0}},dataLabels:{enabled:!1},legend:{show:!1},grid:{show:!1},xaxis:{categories:[["Converted",this.data.converted],["Assigned",this.data.assigned]],labels:{style:{colors:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0","#546E7A","#26a69a","#D10CE8"],fontSize:"12px"}}}}}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(c.gz),t.Y36(m.e),t.Y36(u.s),t.Y36(c.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-lp-dashboard"]],viewQuery:function(n,i){if(1&n&&t.Gf(_,5),2&n){let a;t.iGM(a=t.CRH())&&(i.chart=a.first)}},decls:1,vars:1,consts:[["class","row my-row",4,"ngIf"],[1,"row","my-row"],[1,"col-lg-6","col-md-6","col-sm-12","col-xs-12","my-mt-5"],[1,"card","card-custom","my-card"],[1,"flex"],[1,"my-center"],["src","./assets/images/dashboard-user.png","alt","",1,"user-image"],[1,"my-p-15"],[1,"text-dark","center","primary-color","font-14"],[1,"text-dark","center"],[1,"row","my-row","my-border-bottom"],[1,"col-12","my-p-10"],[1,"card-label","primary-color"],[1,"col-12"],[1,"font-18"],[1,"row","my-row","fixed-height"],[1,"col-12","my-pt-15"],[4,"ngIf"],[1,"card","card-custom","my-card","my-card-fixed-height"],[1,"my-p-10"],[1,"primary-color","bold"],[1,"row","my-row","lp-dashboard-box-header","flex","bold"],[1,"col-10"],[1,"col-2","underline","pointer",3,"click"],[1,"w-100"],[1,"col-sm-4","my-mt-5"],[1,"card","card-custom","my-card","my-block"],[1,"row","my-row","lp-dashboard-box-header","flex"],[1,"col-5"],["class","lp-dashboard-box-body flex my-p-5",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row","my-row","my-p-15","my-border-bottom"],[1,"col-6"],["alt","","srcset","",1,"prod-icon",3,"src"],[1,"col-6","text-right"],[1,"lp-dashboard-box-body"],[1,"bold"],[1,"pl-10"],[1,"lp-dashboard-box-body","flex","my-p-5"],[1,"col-2"],["src","./assets/images/wine.png","alt","",1,"user-icon"],[1,"f-11"],["src","./assets/images/medicalrecord.png","alt","",1,"user-icon"],[1,"my-pl-10"]],template:function(n,i){1&n&&t.YNc(0,P,93,14,"div",0),2&n&&t.Q6J("ngIf",i.data)},directives:[d.O5,d.sg],pipes:[d.JJ,d.OU,d.uU],styles:[".top-box[_ngcontent-%COMP%]{color:#b5b5c3;margin-left:50px}.top-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.my-center[_ngcontent-%COMP%]{text-align:center}.user-image[_ngcontent-%COMP%]{width:120px}.user-icon[_ngcontent-%COMP%]{width:35px}.icon-image[_ngcontent-%COMP%]{width:20px}.font-24[_ngcontent-%COMP%]{font-size:24px!important}.font-14[_ngcontent-%COMP%]{font-size:14px!important}.underline[_ngcontent-%COMP%]{text-decoration:underline}.bold[_ngcontent-%COMP%]{font-weight:600}.flex[_ngcontent-%COMP%]{display:flex}.my-border-left[_ngcontent-%COMP%]{border-left:1px solid #7e8299}.my-card-title[_ngcontent-%COMP%]{justify-content:center;width:100%}.width-100[_ngcontent-%COMP%]{width:100%}.float-right[_ngcontent-%COMP%]{float:right}.text-right[_ngcontent-%COMP%]{text-align:right}.my-p-15[_ngcontent-%COMP%]{padding:40px 15px 15px}.my-profile-card[_ngcontent-%COMP%]{padding:8px 8px 8px 15px;cursor:pointer}.cursor[_ngcontent-%COMP%]{cursor:pointer}.my-border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #dad9d9}.my-border-none[_ngcontent-%COMP%]{border:none}.my-p-10[_ngcontent-%COMP%]{padding:10px}.my-row[_ngcontent-%COMP%]{margin-left:0!important;margin-right:0!important}.my-mt-5[_ngcontent-%COMP%]{margin-top:5px}.my-p-10[_ngcontent-%COMP%]{padding:15px 15px 0}.my-box[_ngcontent-%COMP%], .box-3[_ngcontent-%COMP%], .box-2[_ngcontent-%COMP%], .box-1[_ngcontent-%COMP%]{width:100px;height:100px;color:#fff;margin-right:8px;padding:8px}.box-1[_ngcontent-%COMP%]{background-color:#ff0}.box-2[_ngcontent-%COMP%]{background-color:orange}.box-3[_ngcontent-%COMP%]{background-color:#6868fa}.container[_ngcontent-%COMP%]{width:100%;min-height:200px}.prod-icon[_ngcontent-%COMP%]{width:40px;margin-right:10px}.fist-panel-container[_ngcontent-%COMP%]{width:100%;height:50%}.my-card[_ngcontent-%COMP%]{overflow-y:auto;background-color:#fff!important;border:1px solid lightgrey!important;margin:5px}.fixed-height[_ngcontent-%COMP%], .my-card-fixed-height[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;overflow-x:hidden}.my-card-fixed-height[_ngcontent-%COMP%]{background-color:#fff!important;max-height:600px;margin:5px}.primary-color[_ngcontent-%COMP%]{color:#005f99!important}.card-50[_ngcontent-%COMP%]{height:230px}#chart[_ngcontent-%COMP%]{max-width:650px;margin:35px auto}.lp-dashboard-box-header[_ngcontent-%COMP%]{padding:5px}.lp-dashboard-box-body[_ngcontent-%COMP%]{padding-left:30px}.campaign-box[_ngcontent-%COMP%]{height:145px;overflow-y:auto}.my-block[_ngcontent-%COMP%]{width:100%;max-height:250px;float:left;margin-right:15px}"]}),o})();var D=r(85378),F=r(70933),N=r(18410),k=r(75396);let J=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[d.uU,d.JJ],imports:[[d.ez,s.u5,s.UX,D.bz,F.Q,N.J,k.X,c.Bz.forChild([{path:"",component:w}])]]}),o})()}}]);