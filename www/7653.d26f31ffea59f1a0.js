"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7653],{57653:(E,u,c)=>{c.d(u,{s:()=>L});var n=c(83668),x=c(85993),Z=c(64762),w=c(1402),h=c(60807),s=c(86019),T=c(35618);function P(e,o){if(1&e&&(n.TgZ(0,"div",12),n._UZ(1,"qrcode",13),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("qrdata",t.qrLocation)("width",100)("errorCorrectionLevel","M")("elementType","svg")}}function v(e,o){if(1&e&&(n.ynx(0),n.GkF(1,17),n.BQk()),2&e){const t=n.oxw().$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("compId",t.id)("resourcesId",i.resourcesId)}}function b(e,o){if(1&e&&(n.TgZ(0,"td",9),n._uU(1),n.qZA()),2&e){const t=n.oxw(2).$implicit,i=n.oxw(7);n.Udp("color",t.color)("text-align",t.align||"center"),n.uIk("rowspan",t.rowspan>0?t.rowspan:1)("colspan",t.colspan>0?t.colspan:1),n.xp6(1),n.hij(" ",i.getStatic(t.key)," ")}}function C(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"td",22),n._uU(2),n.qZA(),n.YNc(3,b,2,7,"td",23),n.BQk()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.Udp("background-color",t.background)("color",t.color)("text-align",t.align||"center"),n.ekj("fix-col",t.size),n.uIk("rowspan",t.rowspan>0?t.rowspan:1)("colspan",t.colspan>0?t.colspan:1),n.xp6(1),n.hij("",t.title," "),n.xp6(1),n.Q6J("ngIf",t.static)}}function U(e,o){if(1&e&&(n.TgZ(0,"td",22),n._uU(1),n.qZA()),2&e){const t=n.oxw(2).$implicit;n.Udp("background-color",t.background)("color",t.color)("text-align",t.align||"center"),n.ekj("fix-col",t.size),n.uIk("rowspan",t.rowspan>0?t.rowspan:1)("colspan",t.colspan>0?t.colspan:1),n.xp6(1),n.hij(" ",t.title," ")}}function y(e,o){if(1&e&&(n.TgZ(0,"td",22),n._uU(1),n.qZA()),2&e){const t=n.oxw(2).$implicit;n.Udp("background-color",t.background)("color",t.color)("text-align",t.align||"center"),n.ekj("fix-col",t.size),n.xp6(1),n.hij("",t.title," ")}}function q(e,o){if(1&e&&(n.TgZ(0,"td",9),n._uU(1),n.qZA()),2&e){const t=n.oxw(2).$implicit,i=n.oxw(5).$implicit,r=n.oxw(2);n.Udp("color",t.color)("text-align",t.align||"center"),n.uIk("rowspan",t.rowspan>0?t.rowspan:1)("colspan",t.colspan>0?t.colspan:1),n.xp6(1),n.hij(" ",r.getValue(t,r.tempData[i.tableName+i.id])," ")}}function A(e,o){if(1&e&&(n.ynx(0),n.YNc(1,U,2,11,"td",24),n.YNc(2,y,2,9,"td",24),n.YNc(3,q,2,7,"td",23),n.BQk()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.Q6J("ngIf","label"==t.data.input),n.xp6(1),n.Q6J("ngIf","label"!=t.data.input),n.xp6(1),n.Q6J("ngIf","label"!=t.data.input)}}function O(e,o){if(1&e&&(n.ynx(0),n.YNc(1,C,4,12,"ng-container",10),n.YNc(2,A,4,3,"ng-container",10),n.BQk()),2&e){const t=o.$implicit;n.xp6(1),n.Q6J("ngIf",!t.data),n.xp6(1),n.Q6J("ngIf",t.data)}}function I(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"tr"),n.YNc(2,O,3,2,"ng-container",14),n.qZA(),n.BQk()),2&e){const t=o.$implicit;n.xp6(2),n.Q6J("ngForOf",t.column)}}function B(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"div",18),n._uU(2),n.qZA(),n.TgZ(3,"table",19),n.TgZ(4,"tr"),n._UZ(5,"td",20),n._UZ(6,"td",21),n._UZ(7,"td",20),n._UZ(8,"td",21),n._UZ(9,"td",20),n._UZ(10,"td",21),n._UZ(11,"td",20),n._UZ(12,"td",21),n.qZA(),n.YNc(13,I,3,1,"ng-container",14),n.qZA(),n.BQk()),2&e){const t=o.$implicit;n.xp6(2),n.Oqu(t.title),n.xp6(11),n.Q6J("ngForOf",t.row)}}function k(e,o){if(1&e&&(n.ynx(0),n.YNc(1,B,14,2,"ng-container",14),n.BQk()),2&e){const t=n.oxw(2).$implicit;n.xp6(1),n.Q6J("ngForOf",t.tables)}}function Q(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"td",22),n._uU(2),n.qZA(),n.BQk()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.Udp("background-color",t.background)("color",t.color)("text-align",t.align||"center"),n.ekj("fix-col",t.size),n.uIk("rowspan",t.rowspan>0?t.rowspan:1)("colspan",t.colspan>0?t.colspan:1),n.xp6(1),n.hij("",t.title," ")}}function N(e,o){if(1&e&&(n.ynx(0),n.YNc(1,Q,3,11,"ng-container",10),n.BQk()),2&e){const t=o.$implicit;n.xp6(1),n.Q6J("ngIf",t.data)}}function Y(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"tr"),n.YNc(2,N,2,1,"ng-container",14),n.qZA(),n.BQk()),2&e){const t=o.$implicit;n.xp6(2),n.Q6J("ngForOf",t.column)}}function J(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"td",22),n._uU(2),n.qZA(),n.BQk()),2&e){const t=n.oxw().$implicit,i=n.oxw(2).$implicit,r=n.oxw(5);n.xp6(1),n.Udp("text-align",t.align||"center"),n.uIk("rowspan",t.rowspan>0?t.rowspan:1)("colspan",t.colspan>0?t.colspan:1),n.xp6(1),n.hij(" ",r.getValue(t,i)," ")}}function M(e,o){if(1&e&&(n.ynx(0),n.YNc(1,J,3,5,"ng-container",10),n.BQk()),2&e){const t=o.$implicit;n.xp6(1),n.Q6J("ngIf",t.data)}}function V(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"tr"),n.YNc(2,M,2,1,"ng-container",14),n.qZA(),n.BQk()),2&e){const t=o.$implicit;n.xp6(2),n.Q6J("ngForOf",t.column)}}function D(e,o){if(1&e&&(n.ynx(0),n.YNc(1,V,3,1,"ng-container",14),n.BQk()),2&e){const t=n.oxw(3).$implicit;n.xp6(1),n.Q6J("ngForOf",t.tables[0].row)}}function $(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"div",18),n._uU(2),n.qZA(),n.TgZ(3,"table",25),n.TgZ(4,"tr"),n._UZ(5,"td",20),n._UZ(6,"td",21),n._UZ(7,"td",20),n._UZ(8,"td",21),n._UZ(9,"td",20),n._UZ(10,"td",21),n._UZ(11,"td",20),n._UZ(12,"td",21),n.qZA(),n.YNc(13,Y,3,1,"ng-container",14),n.YNc(14,D,2,1,"ng-container",14),n.qZA(),n.BQk()),2&e){const t=n.oxw(2).$implicit,i=n.oxw(2);n.xp6(2),n.Oqu(t.tables[0].title),n.xp6(11),n.Q6J("ngForOf",t.tables[0].row),n.xp6(1),n.Q6J("ngForOf",i.tempData[t.tableName+t.id])}}function F(e,o){if(1&e&&(n.YNc(0,k,2,1,"ng-container",10),n.YNc(1,$,15,3,"ng-container",10)),2&e){const t=n.oxw().$implicit;n.Q6J("ngIf","form"==t.pageType),n.xp6(1),n.Q6J("ngIf","table"==t.pageType)}}function S(e,o){if(1&e&&(n.ynx(0),n.YNc(1,v,2,2,"ng-container",15),n.YNc(2,F,2,2,"ng-template",null,16,n.W1O),n.BQk()),2&e){const t=o.$implicit,i=n.MAs(3);n.xp6(1),n.Q6J("ngIf","static"==t.type)("ngIfElse",i)}}function j(e,o){if(1&e&&(n.ynx(0),n.YNc(1,S,4,2,"ng-container",14),n.BQk()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.temConfig)}}let z=(()=>{class e{constructor(t,i,r,_,g){this.el=t,this.loadingService=i,this.numberPipe=r,this.datePipe=_,this.productService=g,this.config=[],this.configOrder=[],this.product={},this.tempData={},this.resourcesId="",this.temConfig=[],this.premimunAmt="",this.today=new Date,this.agentName="",this.formatedData=!1}ngOnInit(){return(0,Z.mG)(this,void 0,void 0,function*(){if(this.resourcesId&&(this.qrLocation=location.origin+"/qr-source-link?resourceId="+this.resourcesId+"&productId="+this.productService.createingProd.id),yield this.loadingService.activate(),this.config){let t=JSON.parse(JSON.stringify(this.config));for(let i of this.configOrder)if(i.type==w.it.DYN){let r=t.find(_=>_.id==i.id);r.tables.forEach(_=>{_.row=_.row.map(g=>{let p=[],d=[];return g.column.forEach((a,K)=>{let m=!1;if(a.data&&(d.findIndex(l=>l==a.title)<0?d.push(a.title):m=!0),m){let f=p.findIndex(l=>!(!l.data||"label"==l.data.input||l.title!=a.title));p[f].otherOption.push(a.data)}else p.push(a.data?Object.assign(Object.assign({},a),{otherOption:[a.data]}):a)}),g.column=p,g})}),this.temConfig.push(r)}else this.temConfig.push(i);this.productService.editData&&(this.premimunAmt=this.productService.editData.premiumView,this.agentName=this.productService.editData.agentFirstName+this.productService.editData.agentLastName),this.formatedData=!0}yield this.loadingService.deactivate()})}getValue(t,i){let r="";if(i)for(let _ of t.otherOption)i[_.name]&&(i[_.name]+"").length>0&&("input"==_.input&&"currency"==_.type?r+=this.numberPipe.transform(i[_.name]):"date"==_.input?(r+=this.datePipe.transform(i[_.name],"dd/MM/yyyy"),"policy"==_.type&&(r+=" - "+this.datePipe.transform(i[_.endName],"dd/MM/yyyy"))):r+=i[_.name]);return r}getStatic(t){return"premimun"==t?this.premimunAmt:"insurer_name"==t?this.agentName:""}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(h.b),n.Y36(s.JJ),n.Y36(s.uU),n.Y36(T.f))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-print-view-box"]],inputs:{config:"config",configOrder:"configOrder",product:"product",tempData:"tempData",resourcesId:"resourcesId"},decls:43,vars:11,consts:[["id","componentID",1,"print-grid"],[1,"print-header"],[1,"header-title"],["src","assets/images/kbzms.png","alt","",1,"logo"],[1,"product-name"],["class","qr",4,"ngIf"],[1,"product-detail"],["width","50%"],[1,"field-col",2,"background-color","rgb(221, 235, 247)","color","rgb(31, 78, 120)"],[1,"value-col"],[4,"ngIf"],[1,"print-footer","mt-5"],[1,"qr"],[3,"qrdata","width","errorCorrectionLevel","elementType"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["dynPrint",""],["staticPirint","",3,"compId","resourcesId"],[1,"title-style","left-border-image","mt-5"],["width","100%"],[1,"field-col",2,"border","0px"],[1,"value-col",2,"border","0px"],[1,"field-col"],["class","value-col",3,"color","text-align",4,"ngIf"],["class","field-col",3,"fix-col","background-color","color","text-align",4,"ngIf"],["width","100%",1,"print-grid",2,"width","100"]],template:function(t,i){1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n._UZ(3,"img",3),n._uU(4," KBZ MS & KBZ LIFE "),n.qZA(),n.TgZ(5,"div",4),n._uU(6),n.ALo(7,"titlecase"),n.qZA(),n.YNc(8,P,2,4,"div",5),n.qZA(),n.TgZ(9,"div",6),n.TgZ(10,"table",7),n.TgZ(11,"tr"),n.TgZ(12,"td",8),n._uU(13,"Branch"),n.qZA(),n._UZ(14,"td",9),n.TgZ(15,"td",8),n._uU(16,"Date"),n.qZA(),n.TgZ(17,"td",9),n._uU(18),n.ALo(19,"date"),n.qZA(),n.qZA(),n.TgZ(20,"tr"),n.TgZ(21,"td",8),n._uU(22,"Agent Name"),n.qZA(),n.TgZ(23,"td",9),n._uU(24),n.qZA(),n.TgZ(25,"td",8),n._uU(26,"Proposal No"),n.qZA(),n.TgZ(27,"td",9),n._uU(28),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(29,j,2,1,"ng-container",10),n.TgZ(30,"div",11),n.TgZ(31,"div"),n._UZ(32,"img",3),n.qZA(),n.TgZ(33,"p"),n.TgZ(34,"u"),n._uU(35,"Contact Us"),n.qZA(),n._UZ(36,"br"),n._uU(37," No.53, Strand Square, Merchant Road, Pabedan Township, Yangon."),n._UZ(38,"br"),n._uU(39," (+951) 2307000, 09 95 007 7000"),n._UZ(40,"br"),n._uU(41," Email: customercare@kbz.com, Sales Channel: IA"),n._UZ(42,"br"),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(6),n.hij("",n.lcZ(7,6,i.product.name)," Proposal"),n.xp6(2),n.Q6J("ngIf",i.qrLocation),n.xp6(10),n.Oqu(n.xi3(19,8,i.today,"dd/MM/YYYY")),n.xp6(6),n.Oqu(i.agentName),n.xp6(4),n.Oqu(i.resourcesId),n.xp6(1),n.Q6J("ngIf",i.formatedData))},styles:[".print-grid[_ngcontent-%COMP%]{font-size:.75rem}.field-col[_ngcontent-%COMP%]{text-align:center;padding:5px;width:100px;font-size:.75rem}.value-col[_ngcontent-%COMP%]{padding:5px;text-align:center;width:120px;font-size:.75rem}.title-style[_ngcontent-%COMP%]{font-size:.9rem}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #9BC2E6;border-collapse:collapse}.print-header[_ngcontent-%COMP%]{background-color:#f2f2f2;margin:0 0 1.25rem;padding:15px 10px;position:relative}.header-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1rem;font-weight:bold;color:#005f99;position:absolute}.header-title[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:40px;margin-right:10px}.product-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:bold;width:100%;text-align:center}.print-footer[_ngcontent-%COMP%]{display:flex;padding:5px;border-top:1px solid #9BC2E6}.print-footer[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:40px;margin-right:10px}.qr[_ngcontent-%COMP%]{position:absolute;right:10px;top:15px}"]}),e})(),L=(()=>{class e{constructor(t,i){this.modal=t,this.cdRef=i,this.configData=[],this.product={},this.configOrder=[],this.tempData={},this.resourcesId=""}ngOnInit(){}ngOnDestroy(){}printPDf(){window.scrollTo(0,0),window.print()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(x.Kz),n.Y36(n.sBO))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-print-preview-modal"]],inputs:{configData:"configData",product:"product",configOrder:"configOrder",tempData:"tempData",resourcesId:"resourcesId"},decls:13,vars:5,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4","left-border-image"],[1,"overlay","overlay-block","cursor-default","modal-body"],["id","printable"],["id","second-print"],[3,"config","product","resourcesId","tempData","configOrder"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"]],template:function(t,i){1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n._uU(3," Preview Print Form "),n.qZA(),n.qZA(),n.TgZ(4,"div",3),n.TgZ(5,"div",4),n.TgZ(6,"div",5),n._UZ(7,"app-print-view-box",6),n.qZA(),n.qZA(),n.qZA(),n.TgZ(8,"div",7),n.TgZ(9,"button",8),n.NdJ("click",function(){return i.printPDf()}),n._uU(10,"Print"),n.qZA(),n.TgZ(11,"button",8),n.NdJ("click",function(){return i.modal.dismiss()}),n._uU(12,"Close"),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(7),n.Q6J("config",i.configData)("product",i.product)("resourcesId",i.resourcesId)("tempData",i.tempData)("configOrder",i.configOrder))},directives:[z],styles:[""]}),e})()}}]);