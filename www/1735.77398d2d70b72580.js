"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1735],{23347:(J,O,d)=>{d.d(O,{Ys:()=>ie,ou:()=>se,p3:()=>oe});var D=d(64762),G=d(18260),U=d(91691),C=d(8239);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global&&global;var b=(()=>{return(n=b||(b={})).Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE",b;var n})();class x extends Error{constructor(e,t){super(e),this.message=e,this.code=t}}const X=n=>{var e,t,r,o,l;const v=n.CapacitorCustomPlatform||null,i=n.Capacitor||{},_=i.Plugins=i.Plugins||{},u=n.CapacitorPlatforms,T=(null===(e=null==u?void 0:u.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==v?v.name:(n=>{var e,t;return(null==n?void 0:n.androidBridge)?"android":(null===(t=null===(e=null==n?void 0:n.webkit)||void 0===e?void 0:e.messageHandlers)||void 0===t?void 0:t.bridge)?"ios":"web"})(n)),ce=(null===(t=null==u?void 0:u.currentPlatform)||void 0===t?void 0:t.isNativePlatform)||(()=>"web"!==T()),ue=(null===(r=null==u?void 0:u.currentPlatform)||void 0===r?void 0:r.isPluginAvailable)||(s=>{const a=I.get(s);return!(!(null==a?void 0:a.platforms.has(T()))&&!K(s))}),K=(null===(o=null==u?void 0:u.currentPlatform)||void 0===o?void 0:o.getPluginHeader)||(s=>{var a;return null===(a=i.PluginHeaders)||void 0===a?void 0:a.find(A=>A.name===s)}),I=new Map,me=(null===(l=null==u?void 0:u.currentPlatform)||void 0===l?void 0:l.registerPlugin)||((s,a={})=>{const A=I.get(s);if(A)return console.warn(`Capacitor plugin "${s}" already registered. Cannot register plugins twice.`),A.proxy;const y=T(),F=K(s);let p;const Pe=function(){var c=(0,C.Z)(function*(){return!p&&y in a?p=p="function"==typeof a[y]?yield a[y]():a[y]:null!==v&&!p&&"web"in a&&(p=p="function"==typeof a.web?yield a.web():a.web),p});return function(){return c.apply(this,arguments)}}(),z=c=>{let f;const m=(...w)=>{const L=Pe().then(g=>{const E=((c,f)=>{var m,w;if(!F){if(c)return null===(w=c[f])||void 0===w?void 0:w.bind(c);throw new x(`"${s}" plugin is not implemented on ${y}`,b.Unimplemented)}{const L=null==F?void 0:F.methods.find(g=>f===g.name);if(L)return"promise"===L.rtype?g=>i.nativePromise(s,f.toString(),g):(g,E)=>i.nativeCallback(s,f.toString(),g,E);if(c)return null===(m=c[f])||void 0===m?void 0:m.bind(c)}})(g,c);if(E){const W=E(...w);return f=null==W?void 0:W.remove,W}throw new x(`"${s}.${c}()" is not implemented on ${y}`,b.Unimplemented)});return"addListener"===c&&(L.remove=(0,C.Z)(function*(){return f()})),L};return m.toString=()=>`${c.toString()}() { [capacitor code] }`,Object.defineProperty(m,"name",{value:c,writable:!1,configurable:!1}),m},Z=z("addListener"),V=z("removeListener"),we=(c,f)=>{const m=Z({eventName:c},f),w=function(){var g=(0,C.Z)(function*(){const E=yield m;V({eventName:c,callbackId:E},f)});return function(){return g.apply(this,arguments)}}(),L=new Promise(g=>m.then(()=>g({remove:w})));return L.remove=(0,C.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield w()}),L},B=new Proxy({},{get(c,f){switch(f){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return F?we:Z;case"removeListener":return V;default:return z(f)}}});return _[s]=B,I.set(s,{name:s,proxy:B,platforms:new Set([...Object.keys(a),...F?[y]:[]])}),B});return i.convertFileSrc||(i.convertFileSrc=s=>s),i.getPlatform=T,i.handleError=s=>n.console.error(s),i.isNativePlatform=ce,i.isPluginAvailable=ue,i.pluginMethodNoop=(s,a,A)=>Promise.reject(`${A} does not have an implementation of "${a}".`),i.registerPlugin=me,i.Exception=x,i.DEBUG=!!i.DEBUG,i.isLoggingEnabled=!!i.isLoggingEnabled,i.platform=i.getPlatform(),i.isNative=i.isNativePlatform(),i},S=(n=>n.Capacitor=X(n))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});var h=d(83668),$=d(44522),q=d(87711),ee=d(60807),te=d(18829),ne=d(60940);const re=`${G.N.apiUrl}/attachment-uploader`;let oe=(()=>{class n extends U.i{constructor(t){super(t,re),this.httpClient=t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG($.eN))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const N=`${G.N.apiUrl}/attachment-downloader`;let ie=(()=>{class n extends U.i{constructor(t,r,o,l,v){super(t,N),this.httpClient=t,this.file=r,this.loadingService=o,this.toastService=l,this.alertService=v}getDownload(t,r){this.httpClient.get(N+"/"+t,{responseType:"blob"}).toPromise().then(o=>{o&&(S.isNativePlatform()?this.mobileDownload(r,o):this.downloadFile(o,r))})}downloadFile(t,r){var o=document.createElement("a");o.href=URL.createObjectURL(t),o.download=r,o.click(),o.remove()}mobileDownload(t,r){return(0,D.mG)(this,void 0,void 0,function*(){URL.createObjectURL(r),this.file.checkDir(this.file.externalRootDirectory,"kbzsale_downloads").then(l=>{this.createFile(t,r)}).catch(l=>{this.file.createDir(this.file.externalRootDirectory,"kbzsale_downloads",!1).then(v=>{this.createFile(t,r)}).catch(v=>(0,D.mG)(this,void 0,void 0,function*(){console.log(v),yield this.loadingService.deactivate(),this.alertService.activate('"File Error',"Error Message")}))})})}createFile(t,r){this.file.writeFile(this.file.externalRootDirectory+"/kbzsale_downloads",t,r,{replace:!0}).then(o=>(0,D.mG)(this,void 0,void 0,function*(){yield this.loadingService.deactivate(),this.alertService.activate('"Download File',"Success Message")})).catch(o=>(0,D.mG)(this,void 0,void 0,function*(){console.log(o),yield this.loadingService.deactivate(),this.alertService.activate('"Download Fail',"Error Message")}))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG($.eN),h.LFG(q.$),h.LFG(ee.b),h.LFG(te.T),h.LFG(ne.c))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Y=`${G.N.apiUrl}/attachment-ref`;let se=(()=>{class n extends U.i{constructor(t){super(t,Y),this.httpClient=t}getAttachmentListRef(t,r){return this.httpClient.get(Y+"?refDocNo="+t+"&refDocType="+r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG($.eN))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},35618:(J,O,d)=>{d.d(O,{f:()=>H});var D=d(18260),G=d(91691),U=d(83668),C=d(44522);const M=`${D.N.apiUrl}/product`;let H=(()=>{class P extends G.i{constructor(R){super(R,M),this.httpClient=R,this.referenceID=null,this.creatingLeadId=0,this.referenceStatus=null}getAll(){return this.httpClient.get(M+"-view")}}return P.\u0275fac=function(R){return new(R||P)(U.LFG(C.eN))},P.\u0275prov=U.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()}}]);