"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7025,7975],{92118:(A,C,r)=>{r.d(C,{t7:()=>Z});var t=r(83668),l=r(44290),_=r(92070);const d=r.n(_)()||_,f=new t.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function I(i,h){const o=Array(i);for(let s=0;s<i;s++)o[s]=h(s);return o}let Z=(()=>{class i extends l._A{constructor(o,s){super(),this._options=s,this.setLocale(o||d.locale())}setLocale(o){super.setLocale(o);let s=d.localeData(o);this._localeData={firstDayOfWeek:s.firstDayOfWeek(),longMonths:s.months(),shortMonths:s.monthsShort(),dates:I(31,y=>this.createDate(2017,0,y+1).format("D")),longDaysOfWeek:s.weekdays(),shortDaysOfWeek:s.weekdaysShort(),narrowDaysOfWeek:s.weekdaysMin()}}getYear(o){return this.clone(o).year()}getMonth(o){return this.clone(o).month()}getDate(o){return this.clone(o).date()}getDayOfWeek(o){return this.clone(o).day()}getMonthNames(o){return"long"==o?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(o){return"long"==o?this._localeData.longDaysOfWeek:"short"==o?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(o){return this.clone(o).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(o){return this.clone(o).daysInMonth()}clone(o){return o.clone().locale(this.locale)}createDate(o,s,y){const T=this._createMoment({year:o,month:s,date:y}).locale(this.locale);return T.isValid(),T}today(){return this._createMoment().locale(this.locale)}parse(o,s){return o&&"string"==typeof o?this._createMoment(o,s,this.locale):o?this._createMoment(o).locale(this.locale):null}format(o,s){return o=this.clone(o),this.isValid(o),o.format(s)}addCalendarYears(o,s){return this.clone(o).add({years:s})}addCalendarMonths(o,s){return this.clone(o).add({months:s})}addCalendarDays(o,s){return this.clone(o).add({days:s})}toIso8601(o){return this.clone(o).format()}deserialize(o){let s;if(o instanceof Date)s=this._createMoment(o).locale(this.locale);else if(this.isDateInstance(o))return this.clone(o);if("string"==typeof o){if(!o)return null;s=this._createMoment(o,d.ISO_8601).locale(this.locale)}return s&&this.isValid(s)?this._createMoment(s).locale(this.locale):super.deserialize(o)}isDateInstance(o){return d.isMoment(o)}isValid(o){return this.clone(o).isValid()}invalid(){return d.invalid()}_createMoment(o,s,y){const{strict:T,useUtc:O}=this._options||{};return O?d.utc(o,s,y,T):d(o,s,y,T)}}return i.\u0275fac=function(o){return new(o||i)(t.LFG(l.Ad,8),t.LFG(f,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})()},85472:(A,C,r)=>{r.d(C,{Z:()=>l});var t=r(83668);let l=(()=>{class _{constructor(d){this.el=d}ngOnInit(){for(var d=this.el.nativeElement,f=d.parentElement;d.firstChild;)f.insertBefore(d.firstChild,d);f.removeChild(d)}}return _.\u0275fac=function(d){return new(d||_)(t.Y36(t.SBq))},_.\u0275dir=t.lG2({type:_,selectors:[["","remove-host",""]]}),_})()},15470:(A,C,r)=>{r.d(C,{Q:()=>E});var t=r(92118),l=r(44290),_=r(47975),e=r(83668),d=r(86019),f=r(49133),v=r(78480);function I(g,M){if(1&g){const c=e.EpF();e.TgZ(0,"div",2),e.TgZ(1,"div",3),e.TgZ(2,"label",4),e._uU(3,"Start Date"),e.qZA(),e.TgZ(4,"div",5),e.TgZ(5,"div",6),e._UZ(6,"input",7),e._UZ(7,"mat-datepicker-toggle",8),e._UZ(8,"mat-datepicker",9,10),e.TgZ(10,"span",11),e.NdJ("click",function(){return e.CHM(c),e.oxw().clearDate("startDate")}),e.TgZ(11,"span",12),e._uU(12,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&g){const c=e.MAs(9),i=e.oxw();e.Q6J("ngClass",i.colClass)("formGroup",i.formInput),e.xp6(6),e.Q6J("matDatepicker",c),e.xp6(1),e.Q6J("for",c)}}function Z(g,M){if(1&g){const c=e.EpF();e.TgZ(0,"div",13),e.TgZ(1,"div",3),e.TgZ(2,"label",4),e._uU(3,"End Date"),e.qZA(),e.TgZ(4,"div",5),e.TgZ(5,"div",6),e._UZ(6,"input",14),e._UZ(7,"mat-datepicker-toggle",8),e._UZ(8,"mat-datepicker",9,15),e.TgZ(10,"span",11),e.NdJ("click",function(){return e.CHM(c),e.oxw().clearDate("endDate")}),e.TgZ(11,"span",12),e._uU(12,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&g){const c=e.MAs(9),i=e.oxw();e.Q6J("ngClass",i.colClass)("formGroup",i.formInput),e.xp6(6),e.Q6J("matDatepicker",c),e.xp6(1),e.Q6J("for",c)}}let E=(()=>{class g{constructor(){}ngOnInit(){console.log("data--\x3e ",this.formInput),this.getoneMonth()}clearDate(c){this.formInput.controls[c].setValue(null)}getoneMonth(){let c=new Date,i=new Date(c.setMonth(c.getMonth()-1)),h=new Date(c.setMonth(c.getMonth()+1));this.formInput.controls.startDate.setValue(i.toISOString()),this.formInput.controls.endDate.setValue(h.toISOString())}}return g.\u0275fac=function(c){return new(c||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-start-end-date"]],inputs:{formInput:"formInput",colClass:"colClass"},features:[e._Bn([{provide:l._A,useClass:t.t7,deps:[l.Ad]},{provide:l.sG,useValue:_.Gs}])],decls:2,vars:2,consts:[["ng","",3,"ngClass","formGroup",4,"ngIf"],[3,"ngClass","formGroup",4,"ngIf"],["ng","",3,"ngClass","formGroup"],[1,"form-group","row"],[1,"col-sm-4","col-form-label"],[1,"col-sm-8"],[1,"input-group"],["matInput","","formControlName","startDate","readonly","",1,"form-control-sm","date-input",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["startDate",""],["title","Clear all",1,"ng-clear-wrapper",3,"click"],["aria-hidden","true",1,"ng-clear"],[3,"ngClass","formGroup"],["matInput","","formControlName","endDate","readonly","",1,"form-control-sm","date-input",3,"matDatepicker"],["endDate",""]],template:function(c,i){1&c&&(e.YNc(0,I,13,4,"div",0),e.YNc(1,Z,13,4,"div",1)),2&c&&(e.Q6J("ngIf",i.formInput),e.xp6(1),e.Q6J("ngIf",i.formInput))},directives:[d.O5,d.mk,f.JL,f.sg,f.Fj,v.hl,f.JJ,f.u,v.nW,v.Mq],styles:[".input-group[_ngcontent-%COMP%]   .form-control-sm[_ngcontent-%COMP%]{background-color:#fff;background-clip:padding-box;border:1px solid #E4E6EF;padding:0 .75rem;width:100%}.input-group[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;right:5px;top:-2px}.remove-p[_ngcontent-%COMP%]{margin-bottom:0}.col-form-label[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.form-group.row[_ngcontent-%COMP%]{align-items:center}.ng-clear-wrapper[_ngcontent-%COMP%]   .ng-clear[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:3rem;top:.3rem;font-size:1.2rem;color:#999}.ng-clear-wrapper[_ngcontent-%COMP%]   .ng-clear[_ngcontent-%COMP%]:hover{color:#d0021b}"]}),g})()},47975:(A,C,r)=>{function t(d){try{JSON.parse(d)}catch(f){return!1}return!0}r.d(C,{cU:()=>t,Gs:()=>l,Ny:()=>e});const l={parse:{dateInput:"DD-MM-YYYY"},display:{dateInput:"DD-MM-YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},e={parse:{dateInput:"MM-YYYY"},display:{dateInput:"MM-YYYY",monthYearLabel:"MM-YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MM-YYYY"}}},37025:(A,C,r)=>{r.d(C,{b:()=>b});var t=r(83668),l=r(49133),_=r(90949),e=r(62311),d=r(85378),f=r(21177),v=r(44290),I=r(92118),Z=r(47975),E=r(29018),g=r(18260),M=r(44522);const c=`${g.N.apiUrl}/customer`;let i=(()=>{class u{constructor(n){this.httpClient=n}getCustomerList(n={},a,p){let m=c+"?";return n.name&&(m=m+"name="+n.name+"&"),n.partyCode&&(m=m+"partyCode="+n.partyCode+"&"),n.startDate&&(m=m+"startDate="+n.startDate+"&"),n.endDate&&(m=m+"endDate="+n.endDate+"&"),n.statusCode&&(m=m+"statusCode="+n.statusCode+"&"),n.identityType&&(m=m+"identityType="+n.identityType+"&"),n.identityNumber&&(m=m+"identityNumber="+n.identityNumber+"&"),m=m+"isPartyCode="+a,console.log(m),this.httpClient.get(m)}}return u.\u0275fac=function(n){return new(n||u)(t.LFG(M.eN))},u.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();var h=r(86019),o=r(15470),s=r(85472),y=r(57842);function T(u,D){if(1&u){const n=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){return t.CHM(n),t.oxw().navigateToDetail("create")}),t._UZ(1,"span",27),t.qZA()}}function O(u,D){if(1&u){const n=t.EpF();t.TgZ(0,"div",28),t.TgZ(1,"app-material-table-view",29),t.NdJ("emitter",function(p){return t.CHM(n),t.oxw().actionBtn(p)})("rowselect",function(p){return t.CHM(n),t.oxw().rowSelected(p)}),t.qZA(),t.qZA()}if(2&u){const n=t.oxw();t.xp6(1),t.Q6J("data",n.customerList)("colum",n.ELEMENT_COL)("displayedColumns",n.displayedColumns)("selectable",n.isPopup)}}function Y(u,D){if(1&u){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",30),t.TgZ(2,"button",31),t.NdJ("click",function(){return t.CHM(n),t.oxw().closeModal()}),t._uU(3,"Cancel"),t.qZA(),t.TgZ(4,"button",32),t.NdJ("click",function(){return t.CHM(n),t.oxw().nextProd()}),t._uU(5,"Next"),t.qZA(),t.qZA(),t.BQk()}if(2&u){const n=t.oxw();t.xp6(4),t.Q6J("disabled",!n.selected.customerId)}}let b=(()=>{class u{constructor(n,a,p,m){this.router=n,this.cdf=a,this.customerListService=p,this.modalService=m,this.ELEMENT_COL=JSON.parse(JSON.stringify(e.Ks)),this.displayedColumns=JSON.parse(JSON.stringify(e.Q1)),this.customerList=[],this.statusOption=e.qb,this.identityTypeOption=e.Mf,this.selectedUser=new t.vpe,this.isPopup=!1,this.party=!1,this.isDynamic=!1,this.show=!1,this.loadForm()}ngOnInit(){this.isPopup&&(this.ELEMENT_COL.splice(9,1),this.displayedColumns.splice(9,1)),this.show=!0}ngAfterViewInit(){this.getList()}loadForm(){this.customerForm=new l.cw({name:new l.NI(null),identityType:new l.NI(null),identityNumber:new l.NI(null),statusCode:new l.NI(null),partyCode:new l.NI(null),startDate:new l.NI(null),endDate:new l.NI(null)})}navigateToDetail(n,a,p){this.router.navigate(["/customer/customer-detail"],{queryParams:{pageStatus:n,pageId:a,pageSecondaryId:p}})}getList(){this.customerListService.getCustomerList(this.customerForm.value,this.party,!(!this.isPopup||this.isDynamic)).toPromise().then(a=>{a&&(this.customerList=a,this.cdf.detectChanges(),this.matTable&&this.matTable.reChangeData())})}get selected(){let n;return this.matTable&&(n=this.matTable.selection.selected[0]),n||{customerId:0}}rowSelected(n){this.selectedUser.emit(n)}cancel(){this.customerForm.reset(),this.getList()}actionBtn(n){"edit"==n.cmd&&this.navigateToDetail("edit",n.data.customerId,n.data.individualId)}isControlValid(n){const a=this.customerForm.controls[n];return a.valid&&(a.dirty||a.touched)}isControlInvalid(n){const a=this.customerForm.controls[n];return a.invalid&&(a.dirty||a.touched)}controlHasError(n,a){const p=this.customerForm.controls[a];return p.hasError(n)&&(p.dirty||p.touched)}isControlTouched(n){const a=this.customerForm.controls[n];return a.dirty||a.touched}nextProd(){this.selected.customerId&&this.modalService.dismissAll({data:this.selected,type:"save"})}closeModal(){this.modalService.dismissAll()}}return u.\u0275fac=function(n){return new(n||u)(t.Y36(E.F0),t.Y36(t.sBO),t.Y36(i),t.Y36(d.FF))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-customer-list"]],viewQuery:function(n,a){if(1&n&&t.Gf(_.I,5),2&n){let p;t.iGM(p=t.CRH())&&(a.matTable=p.first)}},inputs:{isPopup:"isPopup",party:"party",isDynamic:"isDynamic"},outputs:{selectedUser:"selectedUser"},features:[t._Bn([{provide:d.DO,useClass:f.Wv},{provide:d.NG,useClass:f.ke},{provide:v._A,useClass:I.t7,deps:[v.Ad]},{provide:v.sG,useValue:Z.Gs}])],decls:55,vars:32,consts:[[1,"row"],[1,"col-12"],[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label","left-border-image"],[1,"card-toolbar"],["type","button","class","btn btn-primary btn-circle","style","margin-right: 1rem;\n                    ",3,"click",4,"ngIf"],[1,"flaticon2-magnifier-tool","search-tool",3,"click"],["type","button",1,"btn","btn-primary","ml-2",2,"min-width","50px",3,"click"],[1,""],[1,"card-body","px-10","py-3"],["action","#",1,"form",3,"formGroup"],[1,"row",2,"align-items","center"],["remove-host","",3,"formInput","colClass"],[1,"col-md-6"],[1,"form-group","row"],[1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","name","name","autocomplete","off","formControlName","name",1,"form-control","form-control-sm"],["type","text","name","partyCode","autocomplete","off","formControlName","partyCode",1,"form-control","form-control-sm"],["bindLabel","value","bindValue","code","formControlName","identityType",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["type","text","name","identityNumber","autocomplete","off","formControlName","identityNumber",1,"form-control","form-control-sm"],["bindLabel","value","bindValue","code","formControlName","statusCode",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["class","card-body customer-card-body",4,"ngIf"],[4,"ngIf"],["type","button",1,"btn","btn-primary","btn-circle",2,"margin-right","1rem",3,"click"],[1,"flaticon2-plus"],[1,"card-body","customer-card-body"],[3,"data","colum","displayedColumns","selectable","emitter","rowselect"],[1,"card-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","button",1,"btn","btn-primary","btn-elevate",3,"disabled","click"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"h3",5),t._uU(6,"Customer List"),t.qZA(),t.qZA(),t.TgZ(7,"div",6),t.YNc(8,T,2,0,"button",7),t.TgZ(9,"span",8),t.NdJ("click",function(){return a.getList()}),t.qZA(),t.TgZ(10,"button",9),t.NdJ("click",function(){return a.cancel()}),t.TgZ(11,"span",10),t._uU(12,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",11),t.TgZ(14,"form",12),t.TgZ(15,"div",13),t._UZ(16,"app-start-end-date",14),t.qZA(),t.TgZ(17,"div",13),t.TgZ(18,"div",15),t.TgZ(19,"div",16),t.TgZ(20,"label",17),t._uU(21,"Name"),t.qZA(),t.TgZ(22,"div",18),t._UZ(23,"input",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",15),t.TgZ(25,"div",16),t.TgZ(26,"label",17),t._uU(27,"Party Code"),t.qZA(),t.TgZ(28,"div",18),t._UZ(29,"input",20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",13),t.TgZ(31,"div",15),t.TgZ(32,"div",16),t.TgZ(33,"label",17),t._uU(34,"ID Type"),t.qZA(),t.TgZ(35,"div",18),t._UZ(36,"ng-select",21),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(37,"div",15),t.TgZ(38,"div",16),t.TgZ(39,"label",17),t._uU(40,"ID No."),t.qZA(),t.TgZ(41,"div",18),t._UZ(42,"input",22),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"div",0),t.TgZ(44,"div",15),t.TgZ(45,"div",16),t.TgZ(46,"label",17),t._uU(47,"Status"),t.qZA(),t.TgZ(48,"div",18),t._UZ(49,"ng-select",23),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(50,"div",0),t.TgZ(51,"div",1),t.TgZ(52,"div",2),t.YNc(53,O,2,4,"div",24),t.YNc(54,Y,6,1,"ng-container",25),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.ekj("remove-p",a.isPopup),t.xp6(6),t.Q6J("ngIf",!a.isPopup),t.xp6(6),t.Q6J("formGroup",a.customerForm),t.xp6(2),t.Q6J("formInput",a.customerForm)("colClass","col-md-6"),t.xp6(7),t.ekj("is-invalid",a.isControlInvalid("name"))("is-valid",a.isControlValid("name")),t.xp6(6),t.ekj("is-invalid",a.isControlInvalid("partyCode"))("is-valid",a.isControlValid("partyCode")),t.xp6(7),t.ekj("is-invalid",a.isControlInvalid("identityType"))("is-valid",a.isControlValid("identityType")),t.Q6J("items",a.identityTypeOption),t.xp6(6),t.ekj("is-invalid",a.isControlInvalid("identityNumber"))("is-valid",a.isControlValid("identityNumber")),t.xp6(7),t.ekj("is-invalid",a.isControlInvalid("statusCode"))("is-valid",a.isControlValid("statusCode")),t.Q6J("items",a.statusOption),t.xp6(3),t.ekj("remove-p",a.isPopup),t.xp6(1),t.Q6J("ngIf",a.show),t.xp6(1),t.Q6J("ngIf",a.isPopup&&!a.isDynamic))},directives:[h.O5,l._Y,l.JL,l.sg,o.Q,s.Z,l.Fj,l.JJ,l.u,y.w9,_.I],styles:[".remove-p[_ngcontent-%COMP%]{margin-bottom:0}.col-form-label[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.form-group.row[_ngcontent-%COMP%]{align-items:center}.draggable[_ngcontent-%COMP%]{color:#fff;border-radius:50%;touch-action:none;-webkit-user-select:none;user-select:none;position:absolute;z-index:999}"]}),u})()},62311:(A,C,r)=>{r.d(C,{Ks:()=>l,Q1:()=>_,qb:()=>e,Mf:()=>d});var t=r(18510);const l=[{title:"First Name",type:t.Y.FEILD,field:"firstName"},{title:"Middle Name",type:t.Y.FEILD,field:"middleName"},{title:"Last Name",type:t.Y.FEILD,field:"lastName"},{title:"Party Code",type:t.Y.FEILD,field:"partyCode"},{title:"ID Type",type:t.Y.FEILD,field:"identityType"},{title:"ID No.",type:t.Y.FEILD,field:"identityNumber"},{title:"Date of Birth",type:t.Y.FEILD,field:"dateOfBirth",isFromatDate:!0},{title:"Father Name",type:t.Y.FEILD,field:"fatherName"},{title:"Status",type:t.Y.FEILD,field:"statusCode",isCustomerStatus:!0},{title:"Actions",type:t.Y.ACTION,field:"actions",btn:{edit:!0}}],_=["firstName","middleName","lastName","partyCode","identityType","identityNumber","dateOfBirth","fatherName","statusCode","actions"],e=[{code:"A",value:"Active"},{code:"I",value:"Inactive"}],d=[{code:"NRC",value:"NRC"},{code:"FRC",value:"FRC"},{code:"PASSPORT",value:"Passport"},{code:"OTHERS",value:"Others"}]}}]);