{"version":3,"file":"src_app_pages_activity-management-list_activity-management-list_module_ts.js","mappings":"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","sources":["./src/app/pages/activity-management-list/activity-manage.const.ts","./src/app/pages/activity-management-list/activity-management-list.component.ts","./src/app/pages/activity-management-list/activity-management-list.module.ts"],"sourcesContent":["import { COLTYPE, TableCol } from '../../_metronic/shared/crud-table/components/material-table-view/table-dto'\r\nexport const ActivityCol: TableCol[] = [\r\n  {\r\n    title: \"Activity No.\",\r\n    type: COLTYPE.FEILD,\r\n    field: \"activityNo\",\r\n    // amtFormat?: boolean,\r\n    // isTitle?: boolean\r\n    // isDate?: boolen\r\n  },\r\n  {\r\n    title: \"Activity Type\",\r\n    type: COLTYPE.FEILD,\r\n    field: \"activityType\",\r\n    // amtFormat?: boolean,\r\n    // isTitle?: boolean\r\n    // isDate?: boolen\r\n  },\r\n  {\r\n    title: \"Activity Title\",\r\n    type: COLTYPE.FEILD,\r\n    field: \"activityTitle\",\r\n    // amtFormat?: boolean,\r\n    // isTitle?: boolean\r\n    // isDate?: boolen\r\n  },\r\n  // {\r\n  //   title: \"Related Type\",\r\n  //   type: COLTYPE.FEILD,\r\n  //   field: \"relatedType\",\r\n  //   // amtFormat?: boolean,\r\n  //   isTitle: true\r\n  //   // isDate?: boolen\r\n  // },\r\n\r\n  {\r\n    title: \"Related To\",\r\n    type: COLTYPE.FEILD,\r\n    field: \"relatedTo\",\r\n    // amtFormat?: boolean,\r\n    // isTitle?: boolean\r\n    // isDate?: boolen\r\n  },\r\n  {\r\n    title: \"Assigned To\",\r\n    type: COLTYPE.FEILD,\r\n    field: \"assignName\",\r\n    // isTitle?: boolean\r\n    // isDate?: boolen\r\n  },\r\n  {\r\n    title: \"Due Date\",\r\n    type: COLTYPE.FEILD,\r\n    field: \"dueDate\",\r\n    isFromatDate: true\r\n  },\r\n  {\r\n    title: \"Status\",\r\n    type: COLTYPE.FEILD,\r\n    field: \"status\",\r\n    isActivityStatus: true,\r\n    // amtFormat?: boolean,\r\n    // isTitle?: boolean\r\n  },\r\n  {\r\n    title: \"Customer\",\r\n    type: COLTYPE.FEILD,\r\n    field: \"customerName\",\r\n    // amtFormat?: boolean,\r\n    // isTitle?: boolean\r\n  },\r\n  {\r\n    title: \"Actions\",\r\n    type: COLTYPE.ACTION,\r\n    field: \"actions\",\r\n    btn: {\r\n      edit: true\r\n    }\r\n    // amtFormat?: boolean,\r\n    // isTitle?: boolean\r\n    // isDate?: boolen\r\n  },\r\n]\r\n\r\nexport const ActivityDisplayCol: string[] = [\r\n  \"activityNo\",\r\n  \"activityType\",\r\n  \"activityTitle\",\r\n  // \"relatedType\",\r\n  \"relatedTo\",\r\n  \"assignName\",\r\n  \"dueDate\",\r\n  \"status\",\r\n  \"customerName\",\r\n  \"actions\",\r\n]","import { ChangeDetectorRef, Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { MomentDateAdapter } from '@angular/material-moment-adapter';\r\nimport { MAT_DATE_FORMATS, MAT_DATE_LOCALE } from '@angular/material/core';\r\nimport { Router } from '@angular/router';\r\nimport { DateAdapter } from 'angular-calendar';\r\nimport { MY_FORMATS } from '../../core/is-json';\r\nimport { MaterialTableViewComponent } from '../../_metronic/shared/crud-table/components/material-table-view/material-table-view.component';\r\nimport { ActivityStatus } from '../../_metronic/shared/crud-table/components/material-table-view/table-dto';\r\nimport { ActivityCol, ActivityDisplayCol } from './activity-manage.const';\r\nimport { ActivityManageService } from './activity-manage.service';\r\n\r\n@Component({\r\n  selector: 'app-activity-management-list',\r\n  templateUrl: './activity-management-list.component.html',\r\n  styleUrls: ['./activity-management-list.component.scss'],\r\n  providers: [\r\n    { provide: DateAdapter, useClass: MomentDateAdapter, deps: [MAT_DATE_LOCALE] },\r\n    { provide: MAT_DATE_FORMATS, useValue: MY_FORMATS },\r\n  ]\r\n})\r\nexport class ActivityManagementListComponent implements OnInit {\r\n  @ViewChild(MaterialTableViewComponent) matTable: MaterialTableViewComponent\r\n  ELEMENT_COL = ActivityCol\r\n  displayedColumns = ActivityDisplayCol\r\n  activityList = [];\r\n  actForm: FormGroup;\r\n  activityStatus = ActivityStatus\r\n  activityType: string[] = [\r\n    \"Face to Face\",\r\n    \"Online\",\r\n    \"Phone Call\"\r\n  ]\r\n  activityTypeOption = [\r\n    {\r\n      code: \"\",\r\n      value: \"All\"\r\n    },\r\n    {\r\n      code: \"Face to Face\",\r\n      value: \"Face to Face\"\r\n    },\r\n    {\r\n      code: \"Online\",\r\n      value: \"Online\"\r\n    },\r\n    {\r\n      code: \"Phone Call\",\r\n      value: \"Phone Call\"\r\n    }\r\n  ]\r\n  statusOption = [\r\n    {\r\n      code: \"\",\r\n      value: \"All\"\r\n    },\r\n    {\r\n      code: \"Open\",\r\n      value: \"Open\"\r\n    },\r\n    {\r\n      code: \"Complete\",\r\n      value: \"Complete\"\r\n    },\r\n    {\r\n      code: \"Cancel\",\r\n      value: \"Cancel\"\r\n    }\r\n  ]\r\n  constructor(private fb: FormBuilder, private router: Router, private activityService: ActivityManageService, private cdf: ChangeDetectorRef) {\r\n    this.loadForm();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n   \r\n  }\r\n  ngAfterViewInit() {\r\n    this.getList()\r\n  }\r\n  cancel(){\r\n    \r\n  }\r\n\r\n  loadForm() {\r\n    this.actForm = new FormGroup({\r\n      \"type\": new FormControl(\"\"),\r\n      \"title\": new FormControl(null),\r\n      \"status\": new FormControl(\"\"),\r\n      startDate:new FormControl(null),\r\n      endDate:new FormControl(null)\r\n    })\r\n  }\r\n\r\n\r\n  getList() {\r\n    this.activityService.getActivityList(this.actForm.value).toPromise().then((res: any) => {\r\n      if (res) {\r\n        console.log('getActivityList', res);\r\n\r\n        this.activityList = res\r\n        this.cdf.detectChanges()\r\n       // this.matTable.reChangeData()\r\n      }\r\n    })\r\n  }\r\n\r\n  actionBtn(event) {\r\n    if (event.cmd == 'edit') {\r\n      this.navigateToDetail('edit', event.data.activityNo)\r\n    }\r\n  }\r\n\r\n  // helpers for View\r\n  isControlValid(controlName: string): boolean {\r\n    const control = this.actForm.controls[controlName];\r\n    return control.valid && (control.dirty || control.touched);\r\n  }\r\n\r\n  isControlInvalid(controlName: string): boolean {\r\n    const control = this.actForm.controls[controlName];\r\n    return control.invalid && (control.dirty || control.touched);\r\n  }\r\n\r\n  controlHasError(validation, controlName): boolean {\r\n    const control = this.actForm.controls[controlName];\r\n    return control.hasError(validation) && (control.dirty || control.touched);\r\n  }\r\n\r\n  isControlTouched(controlName): boolean {\r\n    const control = this.actForm.controls[controlName];\r\n    return control.dirty || control.touched;\r\n  }\r\n\r\n  navigateToDetail(data, id?: string) {\r\n    this.router.navigate([\"/activity/activity-management-detail\"], { queryParams: { pageStatus: data, pageId: id } })\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ActivityManagementListComponent } from './activity-management-list.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { InlineSVGModule } from 'ng-inline-svg';\r\nimport { CRUDTableModule } from '../../_metronic/shared/crud-table';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { LanguageModule } from 'src/app/modules/languages/languages.modules';\r\nimport { ShareComponentModule } from '../share-components/share-component.module';\r\n\r\n@NgModule({\r\n  declarations: [ActivityManagementListComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    InlineSVGModule,\r\n    CRUDTableModule,\r\n    ShareComponentModule,\r\n    NgSelectModule,\r\n    LanguageModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: ActivityManagementListComponent,\r\n      },\r\n    ]),\r\n\r\n  ]\r\n})\r\nexport class ActivityManagementListModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}