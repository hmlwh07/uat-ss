"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1987],{50858:(U,O,l)=>{l.d(O,{Z:()=>S});var t,p=new Uint8Array(16);function x(){if(!t&&!(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(p)}const g=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,h=function(d){return"string"==typeof d&&g.test(d)};for(var i=[],w=0;w<256;++w)i.push((w+256).toString(16).substr(1));const S=function(d,b,K){var F=(d=d||{}).random||(d.rng||x)();if(F[6]=15&F[6]|64,F[8]=63&F[8]|128,b){K=K||0;for(var B=0;B<16;++B)b[K+B]=F[B];return b}return function(d){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,K=(i[d[b+0]]+i[d[b+1]]+i[d[b+2]]+i[d[b+3]]+"-"+i[d[b+4]]+i[d[b+5]]+"-"+i[d[b+6]]+i[d[b+7]]+"-"+i[d[b+8]]+i[d[b+9]]+"-"+i[d[b+10]]+i[d[b+11]]+i[d[b+12]]+i[d[b+13]]+i[d[b+14]]+i[d[b+15]]).toLowerCase();if(!h(K))throw TypeError("Stringified UUID is invalid");return K}(F)}},49875:(U,O,l)=>{l.d(O,{Ys:()=>_,ou:()=>V,p3:()=>f});var t=l(64762),p=l(18260),x=l(91691),g=l(91278),y=(()=>{return(v=y||(y={})).Documents="DOCUMENTS",v.Data="DATA",v.Library="LIBRARY",v.Cache="CACHE",v.External="EXTERNAL",v.ExternalStorage="EXTERNAL_STORAGE",y;var v})();const E=(0,g.fo)("Filesystem",{web:()=>l.e(2571).then(l.bind(l,52571)).then(v=>new v.FilesystemWeb)}),m=(0,g.fo)("BlobWriter");function C(v){const P=new Uint8Array(v);let N="",D=0;for(;!(D>=P.byteLength);)N+=String.fromCharCode(P[D]),D+=1;return window.btoa(N)}function S(v,P,N){if(0===N.size)return Promise.resolve();const D=393216,I=N.slice(0,D);return new window.Response(I).arrayBuffer().then(function(R){return E.appendFile({directory:v,path:P,data:C(R)})}).then(function(){return S(v,P,N.slice(D))})}function d({path:v,directory:P,blob:N,recursive:D}){return E.writeFile({directory:P,path:v,recursive:D,data:""}).then(function({uri:I}){return S(P,v,N).then(function(){return I})})}const K=Object.freeze(function(v){const{path:P,directory:N,blob:D,recursive:I,on_fallback:H}=v;return"ios"!==g.dV.platform&&"android"!==g.dV.platform?d(v):Promise.all([m.get_config(),E.getUri({path:P,directory:N})]).then(function([W,$]){const{base_url:X,auth_token:tt}=W,et=$.uri.replace("file://","");return Promise.all([fetch(X+et+(I?"?recursive=true":""),{headers:{authorization:tt},method:"put",body:D}),Promise.resolve($)])}).then(function([R,W]){if(204!==R.status)throw new Error("Bad HTTP status: "+R.status);return W.uri}).catch(function(W){return void 0!==H&&H(W),d(v)})});var F=l(83668),B=l(44522),G=l(96360),k=l(60807),M=l(18829),Y=l(60940);const u=`${p.N.apiUrl}/attachment-uploader`;let f=(()=>{class v extends x.i{constructor(N){super(N,u),this.httpClient=N}}return v.\u0275fac=function(N){return new(N||v)(F.LFG(B.eN))},v.\u0275prov=F.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const r=`${p.N.apiUrl}/attachment-downloader`;let _=(()=>{class v extends x.i{constructor(N,D,I,H,R){super(N,r),this.httpClient=N,this.file=D,this.loadingService=I,this.toastService=H,this.alertService=R}getDownload(N,D){this.httpClient.get(r+"/"+N,{responseType:"blob"}).toPromise().then(I=>{I&&(g.dV.isNativePlatform()?this.mobileDownload(D,I):this.downloadFile(I,D))})}downloadFile(N,D){var I=document.createElement("a");I.href=URL.createObjectURL(N),I.download=D,I.click(),I.remove()}mobileDownload(N,D){return(0,t.mG)(this,void 0,void 0,function*(){try{let I=yield E.mkdir({path:"kbzsale_downloads",directory:y.Documents,recursive:!1});console.log("folder ",I),this.createFile(N,D)}catch(I){this.createFile(N,D)}})}createFile(N,D){return(0,t.mG)(this,void 0,void 0,function*(){try{yield K({path:"kbzsale_downloads/"+N,directory:y.Documents,blob:D}),yield this.loadingService.deactivate(),this.alertService.activate('"Download File',"Success Message")}catch(I){yield this.loadingService.deactivate(),this.alertService.activate('"Download Fail',"Error Message")}})}}return v.\u0275fac=function(N){return new(N||v)(F.LFG(B.eN),F.LFG(G.$),F.LFG(k.b),F.LFG(M.T),F.LFG(Y.c))},v.\u0275prov=F.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const A=`${p.N.apiUrl}/attachment-ref`;let V=(()=>{class v extends x.i{constructor(N){super(N,A),this.httpClient=N}getAttachmentListRef(N,D){return this.httpClient.get(A+"?refDocNo="+N+"&refDocType="+D)}}return v.\u0275fac=function(N){return new(N||v)(F.LFG(B.eN))},v.\u0275prov=F.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},94115:(U,O,l)=>{l.d(O,{n:()=>m});var t=l(83668),p=l(86019);function x(C,S){if(1&C&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t._uU(2),t.qZA(),t.qZA()),2&C){const d=t.oxw(2);t.xp6(2),t.Oqu(d.getMsg("required"))}}function g(C,S){if(1&C&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t._uU(2),t.qZA(),t.qZA()),2&C){const d=t.oxw(2);t.xp6(2),t.Oqu(d.getMsg("min"))}}function y(C,S){if(1&C&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t._uU(2),t.qZA(),t.qZA()),2&C){const d=t.oxw(2);t.xp6(2),t.Oqu(d.getMsg("max"))}}function h(C,S){if(1&C&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t._uU(2),t.qZA(),t.qZA()),2&C){const d=t.oxw(2);t.xp6(2),t.Oqu(d.getMsg("min"))}}function i(C,S){if(1&C&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t._uU(2),t.qZA(),t.qZA()),2&C){const d=t.oxw(2);t.xp6(2),t.Oqu(d.getMsg("max"))}}function w(C,S){1&C&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t._uU(2,"Email format is invalid"),t.qZA(),t.qZA())}function E(C,S){if(1&C&&(t.TgZ(0,"div",1),t.YNc(1,x,3,1,"div",2),t.YNc(2,g,3,1,"div",2),t.YNc(3,y,3,1,"div",2),t.YNc(4,h,3,1,"div",2),t.YNc(5,i,3,1,"div",2),t.YNc(6,w,3,0,"div",2),t.qZA()),2&C){const d=t.oxw();t.xp6(1),t.Q6J("ngIf",d.control.errors.required),t.xp6(1),t.Q6J("ngIf",d.control.errors.minlength),t.xp6(1),t.Q6J("ngIf",d.control.errors.maxlength),t.xp6(1),t.Q6J("ngIf",d.control.errors.min),t.xp6(1),t.Q6J("ngIf",d.control.errors.max),t.xp6(1),t.Q6J("ngIf",d.control.errors.email)}}let m=(()=>{class C{constructor(){this.valid=[]}getMsg(d){return this.valid.length>0?this.valid.find(b=>b.type==d).message:"This input box is required!"}}return C.\u0275fac=function(d){return new(d||C)},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-print-error"]],inputs:{control:"control",valid:"valid"},features:[t._Bn([])],decls:1,vars:1,consts:[["class","text-danger error-message help-text-message",4,"ngIf"],[1,"text-danger","error-message","help-text-message"],[4,"ngIf"]],template:function(d,b){1&d&&t.YNc(0,E,7,6,"div",0),2&d&&t.Q6J("ngIf",b.control&&b.control.errors&&b.control.invalid)},directives:[p.O5],encapsulation:2}),C})()},31248:(U,O,l)=>{function t(){const p=new FileReader;return p.__zone_symbol__originalInstance||p}l.d(O,{y:()=>t})},53489:(U,O,l)=>{l.d(O,{w:()=>p});var t=l(49133);function p(x){Object.keys(x.controls).forEach(g=>{const y=x.get(g);y instanceof t.NI?y.markAsTouched({onlySelf:!0}):y instanceof t.cw&&this.validateAllFields(y)})}},87952:(U,O,l)=>{l.d(O,{J:()=>p});var t=l(49133);function p(x,g){let h=(g instanceof t.cw?g.getRawValue():g.value)[x.parentName];return x.show?x.isArray?x.value.includes(h):h==x.value:!!h}},11918:(U,O,l)=>{l.d(O,{b:()=>Y});var t=l(83668),p=l(49133),x=l(90949),g=l(62311),y=l(85378),h=l(21177),i=l(44290),w=l(92118),E=l(47975),m=l(29018),C=l(99457),S=l(86019),d=l(15470),b=l(85472),K=l(57842);function F(u,f){if(1&u){const r=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){return t.CHM(r),t.oxw().navigateToDetail("create")}),t._UZ(1,"span",26),t.qZA()}}function B(u,f){if(1&u){const r=t.EpF();t.TgZ(0,"div",27),t.TgZ(1,"app-material-table-view",28),t.NdJ("emitter",function(A){return t.CHM(r),t.oxw(2).actionBtn(A)})("rowselect",function(A){return t.CHM(r),t.oxw(2).rowSelected(A)}),t.qZA(),t.qZA()}if(2&u){const r=t.oxw(2);t.xp6(1),t.Q6J("data",r.customerList)("colum",r.ELEMENT_COL)("displayedColumns",r.displayedColumns)("selectable",r.isPopup)}}function G(u,f){if(1&u){const r=t.EpF();t.ynx(0),t.TgZ(1,"div",31),t.TgZ(2,"button",32),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).closeModal()}),t._uU(3,"Cancel"),t.qZA(),t.TgZ(4,"button",33),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).nextProd()}),t._uU(5,"Next"),t.qZA(),t.qZA(),t.BQk()}if(2&u){const r=t.oxw(2);t.xp6(4),t.Q6J("disabled",!r.selected.customerId)}}function k(u,f){if(1&u){const r=t.EpF();t.ynx(0),t.TgZ(1,"div",31),t.TgZ(2,"button",32),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).closeModal()}),t._uU(3,"Cancel"),t.qZA(),t.TgZ(4,"button",33),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).nextProd()}),t._uU(5,"Next"),t.qZA(),t.qZA(),t.BQk()}if(2&u){const r=t.oxw(2);t.xp6(4),t.Q6J("disabled",!r.selected.customerId)}}function M(u,f){if(1&u){const r=t.EpF();t.TgZ(0,"div",27),t.TgZ(1,"app-material-table-view",28),t.NdJ("emitter",function(A){return t.CHM(r),t.oxw().actionBtn(A)})("rowselect",function(A){return t.CHM(r),t.oxw().rowSelected(A)}),t.qZA(),t.TgZ(2,"div",0),t.TgZ(3,"div",1),t.TgZ(4,"div",29),t.YNc(5,B,2,4,"div",24),t.YNc(6,G,6,1,"ng-container",30),t.qZA(),t.YNc(7,k,6,1,"ng-container",30),t.qZA(),t.qZA(),t.qZA()}if(2&u){const r=t.oxw();t.xp6(1),t.Q6J("data",r.customerList)("colum",r.ELEMENT_COL)("displayedColumns",r.displayedColumns)("selectable",r.isPopup),t.xp6(3),t.ekj("remove-p",r.isPopup),t.xp6(1),t.Q6J("ngIf",r.show),t.xp6(1),t.Q6J("ngIf",r.isPopup&&!r.isDynamic),t.xp6(1),t.Q6J("ngIf",r.isPopup&&!r.isDynamic)}}let Y=(()=>{class u{constructor(r,_,A,V){this.router=r,this.cdf=_,this.customerListService=A,this.modalService=V,this.ELEMENT_COL=JSON.parse(JSON.stringify(g.Ks)),this.displayedColumns=JSON.parse(JSON.stringify(g.Q1)),this.customerList=[],this.statusOption=g.qb,this.identityTypeOption=g.Mf,this.selectedUser=new t.vpe,this.isPopup=!1,this.party=!0,this.isDynamic=!1,this.show=!1,this.loadForm()}ngOnInit(){this.isPopup&&(this.ELEMENT_COL.splice(9,1),this.displayedColumns.splice(9,1)),this.show=!0}ngAfterViewInit(){this.getList()}loadForm(){this.customerForm=new p.cw({name:new p.NI(null),identityType:new p.NI(null),identityNumber:new p.NI(null),statusCode:new p.NI(null),partyCode:new p.NI(null),startDate:new p.NI(null),endDate:new p.NI(null)})}navigateToDetail(r,_,A){this.router.navigate(["/customer/customer-detail"],{queryParams:{pageStatus:r,pageId:_,pageSecondaryId:A}})}getList(){this.customerListService.getCustomerList(this.customerForm.value,this.party,!(!this.isPopup||this.isDynamic)).toPromise().then(_=>{_&&(this.customerList=_,console.log("customerList",this.customerList),this.cdf.detectChanges(),this.matTable&&this.matTable.reChangeData())})}get selected(){let r;return this.matTable&&(r=this.matTable.selection.selected[0]),r||{customerId:0}}rowSelected(r){this.selectedUser.emit(r)}cancel(){this.customerForm.reset(),this.getList()}actionBtn(r){"edit"==r.cmd&&this.navigateToDetail("edit",r.data.customerId,r.data.individualId)}isControlValid(r){const _=this.customerForm.controls[r];return _.valid&&(_.dirty||_.touched)}isControlInvalid(r){const _=this.customerForm.controls[r];return _.invalid&&(_.dirty||_.touched)}controlHasError(r,_){const A=this.customerForm.controls[_];return A.hasError(r)&&(A.dirty||A.touched)}isControlTouched(r){const _=this.customerForm.controls[r];return _.dirty||_.touched}nextProd(){this.selected.customerId&&this.modalService.dismissAll({data:this.selected,type:"save"})}closeModal(){this.modalService.dismissAll()}}return u.\u0275fac=function(r){return new(r||u)(t.Y36(m.F0),t.Y36(t.sBO),t.Y36(C.c),t.Y36(y.FF))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-customer-list"]],viewQuery:function(r,_){if(1&r&&t.Gf(x.I,5),2&r){let A;t.iGM(A=t.CRH())&&(_.matTable=A.first)}},inputs:{isPopup:"isPopup",party:"party",isDynamic:"isDynamic"},outputs:{selectedUser:"selectedUser"},features:[t._Bn([{provide:y.DO,useClass:h.Wv},{provide:y.NG,useClass:h.ke},{provide:i._A,useClass:w.t7,deps:[i.Ad]},{provide:i.sG,useValue:E.Gs}])],decls:54,vars:31,consts:[[1,"row"],[1,"col-12"],[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label","left-border-image"],[1,"card-toolbar"],["type","button","class","btn btn-primary btn-circle","style","margin-right: 1rem;\n                    ",3,"click",4,"ngIf"],[1,"flaticon2-magnifier-tool","search-tool",3,"click"],["type","button",1,"btn","btn-primary","ml-2",2,"min-width","50px",3,"click"],[1,""],[1,"card-body","px-10","py-3"],["action","#",1,"form",3,"formGroup"],[1,"row",2,"align-items","center"],["remove-host","",3,"formInput","colClass"],[1,"col-md-6"],[1,"form-group","row"],[1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","name","name","autocomplete","off","formControlName","name",1,"form-control","form-control-sm"],["type","text","name","partyCode","autocomplete","off","formControlName","partyCode",1,"form-control","form-control-sm"],["bindLabel","value","bindValue","code","formControlName","identityType",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["type","text","name","identityNumber","autocomplete","off","formControlName","identityNumber",1,"form-control","form-control-sm"],["bindLabel","value","bindValue","code","formControlName","statusCode",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["class","card-body customer-card-body",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-circle",2,"margin-right","1rem",3,"click"],[1,"flaticon2-plus"],[1,"card-body","customer-card-body"],[3,"data","colum","displayedColumns","selectable","emitter","rowselect"],[1,"card","card-custom","gutter-b","data"],[4,"ngIf"],[1,"card-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","button",1,"btn","btn-primary","btn-elevate",3,"disabled","click"]],template:function(r,_){1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"h3",5),t._uU(6,"Customer List"),t.qZA(),t.qZA(),t.TgZ(7,"div",6),t.YNc(8,F,2,0,"button",7),t.TgZ(9,"span",8),t.NdJ("click",function(){return _.getList()}),t.qZA(),t.TgZ(10,"button",9),t.NdJ("click",function(){return _.cancel()}),t.TgZ(11,"span",10),t._uU(12,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",11),t.TgZ(14,"form",12),t.TgZ(15,"div",13),t._UZ(16,"app-start-end-date",14),t.qZA(),t.TgZ(17,"div",13),t.TgZ(18,"div",15),t.TgZ(19,"div",16),t.TgZ(20,"label",17),t._uU(21,"Name"),t.qZA(),t.TgZ(22,"div",18),t._UZ(23,"input",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",15),t.TgZ(25,"div",16),t.TgZ(26,"label",17),t._uU(27,"Party Code"),t.qZA(),t.TgZ(28,"div",18),t._UZ(29,"input",20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",13),t.TgZ(31,"div",15),t.TgZ(32,"div",16),t.TgZ(33,"label",17),t._uU(34,"ID Type"),t.qZA(),t.TgZ(35,"div",18),t._UZ(36,"ng-select",21),t.qZA(),t.qZA(),t.qZA(),t.TgZ(37,"div",15),t.TgZ(38,"div",16),t.TgZ(39,"label",17),t._uU(40,"ID No."),t.qZA(),t.TgZ(41,"div",18),t._UZ(42,"input",22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"div",0),t.TgZ(44,"div",15),t.TgZ(45,"div",16),t.TgZ(46,"label",17),t._uU(47,"Status"),t.qZA(),t.TgZ(48,"div",18),t._UZ(49,"ng-select",23),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(50,"div",0),t.TgZ(51,"div",1),t.TgZ(52,"div",2),t.YNc(53,M,8,9,"div",24),t.qZA(),t.qZA(),t.qZA()),2&r&&(t.xp6(2),t.ekj("remove-p",_.isPopup),t.xp6(6),t.Q6J("ngIf",!_.isPopup),t.xp6(6),t.Q6J("formGroup",_.customerForm),t.xp6(2),t.Q6J("formInput",_.customerForm)("colClass","col-md-6"),t.xp6(7),t.ekj("is-invalid",_.isControlInvalid("name"))("is-valid",_.isControlValid("name")),t.xp6(6),t.ekj("is-invalid",_.isControlInvalid("partyCode"))("is-valid",_.isControlValid("partyCode")),t.xp6(7),t.ekj("is-invalid",_.isControlInvalid("identityType"))("is-valid",_.isControlValid("identityType")),t.Q6J("items",_.identityTypeOption),t.xp6(6),t.ekj("is-invalid",_.isControlInvalid("identityNumber"))("is-valid",_.isControlValid("identityNumber")),t.xp6(7),t.ekj("is-invalid",_.isControlInvalid("statusCode"))("is-valid",_.isControlValid("statusCode")),t.Q6J("items",_.statusOption),t.xp6(3),t.ekj("remove-p",_.isPopup),t.xp6(1),t.Q6J("ngIf",_.show))},directives:[S.O5,p._Y,p.JL,p.sg,d.Q,b.Z,p.Fj,p.JJ,p.u,K.w9,x.I],styles:[".remove-p[_ngcontent-%COMP%]{margin-bottom:0}.col-form-label[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.form-group.row[_ngcontent-%COMP%]{align-items:center}.draggable[_ngcontent-%COMP%]{color:#fff;border-radius:50%;touch-action:none;-webkit-user-select:none;user-select:none;position:absolute;z-index:999}"]}),u})()},77720:(U,O,l)=>{l.d(O,{P:()=>x});var t=l(83668);const p=["app-button-box",""];let x=(()=>{class g{constructor(h){this.el=h,this.editStage=!0,this.eventE=new t.vpe}ngOnInit(){}onClick(){this.eventE.emit(this.editStage?this.index+"":this.config.type)}}return g.\u0275fac=function(h){return new(h||g)(t.Y36(t.SBq))},g.\u0275cmp=t.Xpm({type:g,selectors:[["","app-button-box",""]],inputs:{config:"config",index:"index",editStage:"editStage"},outputs:{eventE:"eventE"},attrs:p,decls:2,vars:5,consts:[["type","button",3,"click"]],template:function(h,i){1&h&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return i.onClick()}),t._uU(1),t.qZA()),2&h&&(t.MT6("btn btn-block btn-",!0===i.config.fill?"":"outline-","",i.config.color,""),t.xp6(1),t.Oqu(i.config.label))},styles:[""]}),g})()},14246:(U,O,l)=>{l.d(O,{r:()=>ye});var t=l(83668),p=l(49133),x=l(92070),g=l(21558),y=l(23449),h=l(86019),i=l(87952),w=l(54753),E=l(26697),m=l(94115),C=l(12053);function S(o,s){if(1&o&&(t.TgZ(0,"label",5),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Gre("col-",e.config.inlineStyle?e.config.labelSize:"12",""),t.xp6(1),t.hij("",e.config.label,":")}}const d=function(){return{standalone:!0}};function b(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-checkbox",6),t.NdJ("change",function(a){return t.CHM(e),t.oxw(2).checkData(a)})("ngModelChange",function(a){const T=t.CHM(e).$implicit;return t.oxw(2).data["v"+T.value]=a}),t._uU(2),t.qZA(),t.BQk()}if(2&o){const e=s.$implicit,n=t.oxw(2);t.xp6(1),t.s9C("name",e.value),t.Q6J("ngModel",n.data["v"+e.value])("ngModelOptions",t.DdM(5,d))("disabled",n.isDisabled),t.xp6(1),t.hij(" ",e.text," ")}}function K(o,s){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",1),t.YNc(2,S,2,4,"label",2),t.TgZ(3,"div"),t.YNc(4,b,3,6,"ng-container",3),t.TgZ(5,"div"),t._UZ(6,"app-print-error",4),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.config.isLabel),t.xp6(1),t.Gre("col-",e.config.inlineStyle?e.config.inputSize:"12",""),t.xp6(1),t.Q6J("ngForOf",e.config.options),t.xp6(2),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}let F=(()=>{class o{constructor(e,n,a){this.globalFun=e,this.masterData=n,this.cdf=a,this.data={},this.unSub=[],this.masterOption=[],this.oldValue=""}ngOnDestroy(){this.unSub.forEach(e=>e.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==g.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue())}listenFunData(){this.config.isFun&&this.config.inpFunction.type==g.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(e=>{this.group.controls[this.config.name].setValue(e)}))}loadData(){"true"==this.config.master?this.config.dependency||this.getOptions():(this.masterOption=this.config.options,this.masterOption.forEach(e=>{if(this.config.multi){let n=this.config.value,c=(Array.isArray(n)?n:[]).findIndex(T=>T==e.value);this.data["v"+e.value]=!(c<0)}else this.data["v"+e.value]=this.config.value==e.value}))}ngOnInit(){this.loadData(),this.unSub[1]=this.globalFun.optionResultChange.subscribe(e=>{e&&this.loadData()}),this.listenFunData()}checkData(e){let n=e.source.name,a=this.group.value[this.config.name];if(this.config.multi)if(a=Array.isArray(a)?a:[],e.checked)a.push(n);else{let c=a.findIndex(T=>T==n);a.splice(c,1)}else e.checked?(this.masterOption.forEach(c=>{c.value!=n&&(this.data["v"+c.value]=!1)}),a=n):a=null;this.group.controls[this.config.name].setValue(a),this.doFunction()}get isDisabled(){return this.group.controls[this.config.name].disabled}getOptions(){let e=this.config.valueField,n=this.config.showField;this.masterData.getDataByType(this.config.masterData).toPromise().then(a=>{a&&(this.masterOption=a.map(c=>Object.assign({value:c[e],text:c[n]},c)),this.masterOption.forEach(c=>{if(this.config.multi){let T=this.config.value,L=(Array.isArray(T)?T:[]).findIndex(Z=>Z==c.value);this.data["v"+c.value]=!(L<0)}else this.data["v"+c.value]=this.config.value==c.value}),this.cdf.detectChanges(),this.doFunction())})}reGetOption(e){if(e==this.oldValue)return!1;let n=this.config.dependency,a=this.config.valueField,c=this.config.showField,T=this.group.getRawValue()[this.config.name]||this.config.value,J=!1;this.oldValue=e,this.masterData.getDataByType(this.config.masterData).pipe((0,w.U)(L=>L.filter(Z=>Z[n.relatedField]==e))).toPromise().then(L=>{L&&(this.masterOption=L.map(Z=>(Z[a]==T&&(J=!0),Object.assign({value:Z[a],text:Z[c]},Z))),this.masterOption.forEach(Z=>{if(this.config.multi){let Q=this.config.value,q=(Array.isArray(Q)?Q:[]).findIndex(j=>j==Z.value);this.data["v"+Z.value]=!(q<0)}else this.data["v"+Z.value]=this.config.value==Z.value}),J?this.group.controls[this.config.name].setValue(T):this.masterOption.length>0&&this.group.controls[this.config.name].setValue(this.masterOption[0].value),this.cdf.detectChanges(),this.doFunction())})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(y.Q),t.Y36(E.D),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-checkbox-box"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"form-group","row"],["style","padding-top: 10px;",3,"class",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"control","valid"],[2,"padding-top","10px"],[1,"example-margin",3,"ngModel","ngModelOptions","name","disabled","change","ngModelChange"]],template:function(e,n){1&e&&t.YNc(0,K,7,7,"div",0),2&e&&t.Q6J("ngIf",n.config)},directives:[h.O5,h.sg,m.n,C.oG,p.JJ,p.On],styles:[""]}),o})();var B=l(85378),G=l(21177),k=l(44290),M=l(92118),Y=l(47975),u=l(35618),f=l(60940),r=l(57730),_=l(78480),A=l(86031);function V(o,s){if(1&o&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.Tol(e.config.inlineStyle?"col-"+e.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(e.config.label)}}function v(o,s){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",7),t._UZ(2,"input",8),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",10,11),t._UZ(6,"app-print-error",12),t.qZA(),t.qZA()),2&o){const e=t.MAs(5),n=t.oxw(3);t.xp6(2),t.Q6J("formControlName",n.config.name)("min",n.fromMinDate)("max",n.fromMaxDate)("matDatepicker",e),t.xp6(1),t.Q6J("for",e),t.xp6(1),t.s9C("disabled",n.isDisabled),t.xp6(2),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}function P(o,s){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",7),t._UZ(2,"input",8),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",10,11),t._UZ(6,"app-print-error",12),t.qZA(),t.qZA()),2&o){const e=t.MAs(5),n=t.oxw(3);t.Gre("col-",n.config.inputSize,""),t.xp6(2),t.Q6J("formControlName",n.config.name)("min",n.fromMinDate)("max",n.fromMaxDate)("matDatepicker",e),t.xp6(1),t.Q6J("for",e),t.xp6(1),t.s9C("disabled",n.isDisabled),t.xp6(2),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}const N=function(o){return{row:o}};function D(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"div",4),t.YNc(2,V,2,4,"label",5),t.YNc(3,v,7,8,"div",2),t.YNc(4,P,7,11,"ng-template",null,6,t.W1O),t.qZA(),t.BQk()),2&o){const e=t.MAs(5),n=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(4,N,n.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",n.config.isLabel),t.xp6(1),t.Q6J("ngIf",!n.config.inlineStyle)("ngIfElse",e)}}function I(o,s){if(1&o&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.Tol(e.config.inlineStyle?"col-"+e.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(e.config.label)}}function H(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",7),t.TgZ(2,"input",16),t.NdJ("dateChange",function(){return t.CHM(e),t.oxw(3).doValid()}),t.qZA(),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",10,11),t._UZ(6,"app-print-error",12),t.qZA(),t.qZA()}if(2&o){const e=t.MAs(5),n=t.oxw(3);t.xp6(2),t.Q6J("formControlName",n.config.name)("min",n.fromMinDate)("max",n.fromMaxDate)("matDatepicker",e),t.xp6(1),t.Q6J("for",e),t.xp6(1),t.s9C("disabled",n.isDisabled),t.xp6(2),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}function R(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",7),t.TgZ(2,"input",16),t.NdJ("dateChange",function(){return t.CHM(e),t.oxw(3).doValid()}),t.qZA(),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",10,11),t._UZ(6,"app-print-error",12),t.qZA(),t.qZA()}if(2&o){const e=t.MAs(5),n=t.oxw(3);t.Gre("col-",n.config.inputSize,""),t.xp6(2),t.Q6J("formControlName",n.config.name)("min",n.fromMinDate)("max",n.fromMaxDate)("matDatepicker",e),t.xp6(1),t.Q6J("for",e),t.xp6(1),t.s9C("disabled",n.isDisabled),t.xp6(2),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}function W(o,s){if(1&o&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.Tol(e.config.inlineStyle?"col-"+e.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(e.config.endLabel)}}function $(o,s){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",7),t._UZ(2,"input",8),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",17,18),t.qZA(),t.qZA()),2&o){const e=t.MAs(5),n=t.oxw(3);t.xp6(2),t.Q6J("formControlName",n.config.endName)("min",n.toMinDate)("max",n.toMaxDate)("matDatepicker",e),t.xp6(1),t.Q6J("for",e)}}function X(o,s){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",7),t._UZ(2,"input",8),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",17,18),t.qZA(),t.qZA()),2&o){const e=t.MAs(5),n=t.oxw(3);t.Gre("col-",n.config.inputSize,""),t.xp6(2),t.Q6J("formControlName",n.config.endName)("min",n.toMinDate)("max",n.toMaxDate)("matDatepicker",e),t.xp6(1),t.Q6J("for",e)}}function tt(o,s){if(1&o&&(t.TgZ(0,"div",13),t.TgZ(1,"div",14),t.TgZ(2,"div",4),t.YNc(3,I,2,4,"label",5),t.YNc(4,H,7,8,"div",2),t.YNc(5,R,7,11,"ng-template",null,6,t.W1O),t.qZA(),t.qZA(),t.TgZ(7,"div",14),t.TgZ(8,"div",4),t.YNc(9,W,2,4,"label",5),t.YNc(10,$,6,5,"div",2),t.YNc(11,X,6,8,"ng-template",null,15,t.W1O),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.MAs(6),n=t.MAs(12),a=t.oxw(2);t.xp6(2),t.Q6J("ngClass",t.VKq(8,N,a.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",a.config.isLabel),t.xp6(1),t.Q6J("ngIf",!a.config.inlineStyle)("ngIfElse",e),t.xp6(4),t.Q6J("ngClass",t.VKq(10,N,a.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",a.config.isLabel),t.xp6(1),t.Q6J("ngIf",!a.config.inlineStyle)("ngIfElse",n)}}function et(o,s){if(1&o&&(t.TgZ(0,"div",1),t.YNc(1,D,6,6,"ng-container",2),t.YNc(2,tt,13,12,"ng-template",null,3,t.W1O),t.qZA()),2&o){const e=t.MAs(3),n=t.oxw();t.Q6J("formGroup",n.group),t.xp6(1),t.Q6J("ngIf","date"==n.config.type)("ngIfElse",e)}}let lt=(()=>{class o{constructor(e,n,a){this.globalFun=e,this.prodService=n,this.alert=a,this.unSub=[],this.toMinDate=null,this.fromMinDate=null,this.toMaxDate=null,this.fromMaxDate=null,this.valid={value:"",type:""},this.isDisabled=!1}ngOnInit(){this.isDisabled=this.config.disabled,this.listenFunData();let e=this.config.validation;if("policy"!=this.config.type){for(const n of e)if(n.type==g.xT.DATE){let a;if(a=n.dateType==g.Uv.DAY?"days":n.dateType==g.Uv.MONTH?"months":"years",n.from){let c=x().subtract(n.from,a);this.fromMinDate=c.format("YYYY-MM-DD")}else this.fromMinDate=null;if(n.to){let c=x().add(n.to,a);this.fromMaxDate=c.format("YYYY-MM-DD")}else this.fromMaxDate=null}else if(n.type==g.xT.MAX&&n.isAge){let a=x().subtract(n.value,"years");this.fromMinDate=a.format("YYYY-MM-DD")}else if(n.type==g.xT.MIN&&n.isAge){let a=x().subtract(n.value,"years");this.fromMaxDate=a.format("YYYY-MM-DD")}}else{let n=this.prodService.createingProd;if(n){if("no"==n.isAllowBackDate){let a=x();this.fromMinDate=a.format("YYYY-MM-DD"),this.toMinDate=a.format("YYYY-MM-DD")}else if("yes"==n.isAllowBackDate&&n.allowDays>0){let a=x().subtract(n.allowDays,"days");this.fromMinDate=a.format("YYYY-MM-DD"),this.toMinDate=a.format("YYYY-MM-DD")}this.listenValid()}}}ngOnDestroy(){this.unSub.forEach(e=>e.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==g.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue())}listenFunData(){this.config.isFun&&this.config.inpFunction.type==g.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(e=>{this.group.controls[this.config.name].setValue(e)}))}listenValid(){this.unSub[1]=this.globalFun.paPolicyValidationResult.subscribe(e=>{if(e){let n,a;this.valid.value=e.validationValue,n="DAY"==e.validationType?"days":"MONTH"==e.validationType?"months":"years",this.valid.type=n,this.group.controls[this.config.name].value?a=x(this.group.controls[this.config.name].value).add(e.validationValue,n):(a=x().add(e.validationValue,n),this.group.controls[this.config.name].setValue(x().format("YYYY-MM-DD"))),this.toMaxDate={year:parseInt(a.format("YYYY")),month:parseInt(a.format("M")),day:parseInt(a.format("D"))},this.group.controls[this.config.endName].setValue(a.format("YYYY-MM-DD"))}})}doValid(){if(this.group.controls[this.config.name].value&&this.valid.value){let n=x(this.group.controls[this.config.name].value).add(this.valid.value,this.valid.type);this.toMaxDate={year:parseInt(n.format("YYYY")),month:parseInt(n.format("M")),day:parseInt(n.format("D"))},this.group.controls[this.config.endName].setValue(n.format("YYYY-MM-DD"))}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(y.Q),t.Y36(u.f),t.Y36(f.c))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-date-box"]],features:[t._Bn([{provide:B.DO,useClass:G.Wv},{provide:B.NG,useClass:G.ke},{provide:k._A,useClass:M.t7,deps:[k.Ad]},{provide:k.sG,useValue:Y.Gs}])],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[4,"ngIf","ngIfElse"],["policyDate",""],[1,"form-group",3,"ngClass"],[3,"class",4,"ngIf"],["InlineForm",""],[1,"input-group"],["matInput","","readonly","",1,"form-control-sm","date-input",3,"formControlName","min","max","matDatepicker"],["matSuffix","",3,"for"],[3,"disabled"],["picker",""],[3,"control","valid"],[1,"row"],[1,"col-sm-6"],["InlineForm2",""],["matInput","","readonly","",1,"form-control-sm","date-input",3,"formControlName","min","max","matDatepicker","dateChange"],["disabled","true"],["picker2",""]],template:function(e,n){1&e&&t.YNc(0,et,4,3,"div",0),2&e&&t.Q6J("ngIf",n.config)},directives:[h.O5,p.JL,p.sg,h.mk,r.Nt,p.Fj,_.hl,p.JJ,p.u,_.nW,A.R9,_.Mq,m.n],styles:[".input-group[_ngcontent-%COMP%]   .form-control-sm[_ngcontent-%COMP%]{background-color:#fff;background-clip:padding-box;border:1px solid #E4E6EF;padding:0 .75rem}.input-group[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;right:5px}"]}),o})();var ct=l(11918);function rt(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-customer-list",9),t.NdJ("selectedUser",function(a){return t.CHM(e),t.oxw().selectedUser(a)}),t.qZA(),t.BQk()}2&o&&(t.xp6(1),t.Q6J("isPopup",!0)("isDynamic",!0))}let pt=(()=>{class o{constructor(e,n){this.fb=e,this.modal=n,this.internalConfig=[],this.subscriptions=[]}ngOnInit(){}ngOnDestroy(){}save(){if(this.selectedData&&this.selectedData[this.config.valueField]){this.group.controls[this.config.name].setValue(this.selectedData[this.config.valueField]);for(let e of this.config.autoFields){const n=this.group.get(e.value);let a=this.internalConfig.find(c=>c.name==e.value);if(n)if(a){let c="date"==a.input?x(this.selectedData[e.field]):this.selectedData[e.field];n.setValue(c)}else n.setValue(this.selectedData[e.field])}}this.modal.dismiss()}selectedUser(e){console.log(e),this.selectedData=e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.qu),t.Y36(B.Kz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-custom-dialog"]],inputs:{group:"group",config:"config",internalConfig:"internalConfig"},decls:13,vars:2,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4","left-border-image"],[1,"text-muted","font-weight-bold","font-size-sm","mt-1"],[1,"overlay","overlay-block","cursor-default","modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-primary","btn-elevate",3,"click"],[3,"isPopup","isDynamic","selectedUser"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._uU(3),t.TgZ(4,"span",3),t._uU(5,"Please select in table list"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",4),t.YNc(7,rt,2,2,"ng-container",5),t.qZA(),t.TgZ(8,"div",6),t.TgZ(9,"button",7),t.NdJ("click",function(){return n.modal.dismiss()}),t._uU(10,"Cancel"),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return n.save()}),t._uU(12,"Save"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.hij(" ",n.config.label," "),t.xp6(4),t.Q6J("ngIf","user"==n.config.type))},directives:[h.O5,ct.b],styles:[".active[_ngcontent-%COMP%]{background-color:#3699ff!important;color:#fff}"]}),o})();var ut=l(22030);function gt(o,s){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"input",5),t._UZ(2,"app-print-error",6),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.s9C("name",e.config.name),t.s9C("placeholder",e.config.placeholder),t.Q6J("formControlName",e.config.name),t.xp6(1),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}function mt(o,s){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"input",7),t._UZ(2,"app-print-error",6),t.qZA()),2&o){const e=t.oxw(2);t.Gre("col-",e.config.inputSize,""),t.xp6(1),t.s9C("type",e.config.type),t.s9C("name",e.config.name),t.s9C("placeholder",e.config.placeholder),t.Q6J("formControlName",e.config.name),t.xp6(1),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}const ft=function(o){return{row:o}};function dt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.NdJ("click",function(){return t.CHM(e),t.oxw().openModal()}),t.TgZ(2,"label"),t._uU(3),t.qZA(),t.YNc(4,gt,3,5,"div",3),t.YNc(5,mt,3,9,"ng-template",null,4,t.W1O),t.qZA(),t.qZA()}if(2&o){const e=t.MAs(6),n=t.oxw();t.Q6J("formGroup",n.group),t.xp6(1),t.Q6J("ngClass",t.VKq(8,ft,n.config.inlineStyle)),t.xp6(1),t.Tol(n.config.inlineStyle?"col-"+n.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(n.config.label),t.xp6(1),t.Q6J("ngIf",!n.config.inlineStyle)("ngIfElse",e)}}let _t=(()=>{class o{constructor(e,n){this.globalFun=e,this.modalService=n,this.unSub=[],this.isNrc=!1,this.internalConfig=[]}ngOnInit(){this.listenFunData()}ngOnDestroy(){this.unSub.forEach(e=>e.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==g.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue())}listenFunData(){this.config.isFun&&this.config.inpFunction.type==g.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(e=>{this.group.controls[this.config.name].setValue(e)}))}openModal(){if(this.editStage||this.config.disabled)return!1;let e;e=this.modalService.open(this.isNrc?ut.V:pt,{size:"xl",backdrop:!1}),e.componentInstance.config=this.config,e.componentInstance.group=this.group,e.componentInstance.internalConfig=this.internalConfig,e.result.then(()=>{},n=>{"save"==n&&this.doFunction()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(y.Q),t.Y36(B.FF))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dialog-box"]],inputs:{internalConfig:"internalConfig"},decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group",3,"ngClass","click"],[4,"ngIf","ngIfElse"],["InlineForm",""],["type","text",1,"form-control","form-control-sm",3,"name","placeholder","formControlName"],[3,"control","valid"],[1,"form-control","form-control-sm",3,"type","name","placeholder","formControlName"]],template:function(e,n){1&e&&t.YNc(0,dt,7,10,"div",0),2&e&&t.Q6J("ngIf",n.config)},directives:[h.O5,p.JL,p.sg,h.mk,p.Fj,p.JJ,p.u,m.n],styles:[""]}),o})();var ht=l(31248),vt=l(49875),xt=l(60807);const Tt=["selectedFile"];function Nt(o,s){if(1&o&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Tol(e.config.inlineStyle?"col-"+e.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(e.config.label)}}function Ct(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"input",6,7),t.NdJ("change",function(a){return t.CHM(e),t.oxw(2).doFunction(a)}),t.qZA(),t.TgZ(3,"div",8),t._UZ(4,"input",9),t.TgZ(5,"div",10),t.TgZ(6,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).openFile()}),t._uU(7,"Browse"),t.qZA(),t.qZA(),t.qZA(),t._UZ(8,"app-print-error",12),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.s9C("accept","all"==e.config.type||e.config.value?e.config.value:e.config.type),t.s9C("placeholder",e.config.placeholder),t.xp6(3),t.Q6J("formControlName",e.config.name),t.xp6(4),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}function yt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"input",13,7),t.NdJ("change",function(a){return t.CHM(e),t.oxw(2).doFunction(a)}),t.qZA(),t.TgZ(3,"div",8),t._UZ(4,"input",9),t.TgZ(5,"div",10),t.TgZ(6,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).openFile()}),t._uU(7,"Browse"),t.qZA(),t.qZA(),t.qZA(),t._UZ(8,"app-print-error",12),t.qZA()}if(2&o){const e=t.oxw(2);t.Gre("col-",e.config.inputSize,""),t.xp6(1),t.s9C("name",e.config.name),t.s9C("placeholder",e.config.placeholder),t.xp6(3),t.Q6J("formControlName",e.config.name),t.xp6(4),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}const bt=function(o){return{row:o}};function Zt(o,s){if(1&o&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.YNc(2,Nt,2,4,"label",3),t.YNc(3,Ct,9,5,"div",4),t.YNc(4,yt,9,8,"ng-template",null,5,t.W1O),t.qZA(),t.qZA()),2&o){const e=t.MAs(5),n=t.oxw();t.Q6J("formGroup",n.group),t.xp6(1),t.Q6J("ngClass",t.VKq(5,bt,n.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",n.config.isLabel),t.xp6(1),t.Q6J("ngIf",!n.config.inlineStyle)("ngIfElse",e)}}let At=(()=>{class o{constructor(e,n,a){this.globalFun=e,this.fileUpload=n,this.loading=a,this.unSub=[]}ngOnInit(){this.listenFunData()}ngOnDestroy(){this.unSub.forEach(e=>e.unsubscribe())}doFunction(e){this.config.isFun&&this.config.inpFunction.type==g.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue()),this.handleUpload(e)}handleUpload(e){if(e){const n=e.target.files[0];console.log(n);const a=(0,ht.y)();a.readAsDataURL(n),a.onload=()=>{if(a.result){let T={fileStr:a.result.toString().split(",")[1],fileName:n.name,fileType:n.type,fileSize:n.size,contentType:n.type,fileExtension:n.name.split(".").pop()};this.loading.activate(),this.fileUpload.save(T).toPromise().then(J=>{J&&this.group.controls[this.config.name].setValue(`[${J}].${T.fileName}`),this.loading.deactivate()}).catch(J=>{this.loading.deactivate()})}}}}listenFunData(){this.config.isFun&&this.config.inpFunction.type==g.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(e=>{this.group.controls[this.config.name].setValue(e)}))}openFile(){if(this.editStage)return!1;this.selectedFileEl.nativeElement.click()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(y.Q),t.Y36(vt.p3),t.Y36(xt.b))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-file-box"]],viewQuery:function(e,n){if(1&e&&t.Gf(Tt,5),2&e){let a;t.iGM(a=t.CRH())&&(n.selectedFileEl=a.first)}},decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group",3,"ngClass"],[3,"class",4,"ngIf"],[4,"ngIf","ngIfElse"],["InlineForm",""],["type","file","name","phone",1,"form-control","form-control-sm",2,"display","none",3,"accept","placeholder","change"],["selectedFile",""],[1,"input-group"],["type","text",1,"form-control","form-control-sm",3,"formControlName"],[1,"input-group-append"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[3,"control","valid"],["type","file",1,"form-control","form-control-sm",2,"display","none",3,"name","placeholder","change"]],template:function(e,n){1&e&&t.YNc(0,Zt,6,7,"div",0),2&e&&t.Q6J("ngIf",n.config)},directives:[h.O5,p.JL,p.sg,h.mk,p.Fj,p.JJ,p.u,m.n],styles:[""]}),o})();var Mt=l(99765);function Dt(o,s){if(1&o&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Tol(e.config.inlineStyle?"col-"+e.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(e.config.label)}}function Ft(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"textarea",8),t.NdJ("change",function(){return t.CHM(e),t.oxw(3).doFunction()}),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(3);t.xp6(1),t.s9C("name",e.config.name),t.s9C("placeholder",e.config.placeholder),t.Q6J("formControlName",e.config.name)}}const ot=function(){return{prefix:"",thousands:",",precision:0,allowNegative:!1,align:"left"}};function It(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",10),t.NdJ("focusout",function(){return t.CHM(e),t.oxw(4).doFunction()}),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(4);t.xp6(1),t.s9C("name",e.config.name),t.s9C("placeholder",e.config.placeholder),t.Q6J("options",t.DdM(4,ot))("formControlName",e.config.name)}}function Ot(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"input",11),t.NdJ("change",function(){return t.CHM(e),t.oxw(4).doFunction()}),t.qZA()}if(2&o){const e=t.oxw(4);t.s9C("type",e.config.type),t.s9C("name",e.config.name),t.s9C("placeholder",e.config.placeholder),t.Q6J("formControlName",e.config.name)}}function Et(o,s){if(1&o&&(t.YNc(0,It,2,5,"ng-container",4),t.YNc(1,Ot,1,4,"ng-template",null,9,t.W1O)),2&o){const e=t.MAs(2),n=t.oxw(3);t.Q6J("ngIf","currency"==n.config.type)("ngIfElse",e)}}function wt(o,s){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Ft,2,3,"ng-container",4),t.YNc(2,Et,3,2,"ng-template",null,6,t.W1O),t._UZ(4,"app-print-error",7),t.qZA()),2&o){const e=t.MAs(3),n=t.oxw(2);t.xp6(1),t.Q6J("ngIf","textarea"===n.config.type)("ngIfElse",e),t.xp6(3),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}function St(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"textarea",8),t.NdJ("change",function(){return t.CHM(e),t.oxw(3).doFunction()}),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(3);t.xp6(1),t.s9C("name",e.config.name),t.s9C("placeholder",e.config.placeholder),t.Q6J("formControlName",e.config.name)}}function Yt(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",10),t.NdJ("focusout",function(){return t.CHM(e),t.oxw(4).doFunction()}),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(4);t.xp6(1),t.s9C("name",e.config.name),t.s9C("placeholder",e.config.placeholder),t.Q6J("options",t.DdM(4,ot))("formControlName",e.config.name)}}function Pt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"input",11),t.NdJ("change",function(){return t.CHM(e),t.oxw(4).doFunction()}),t.qZA()}if(2&o){const e=t.oxw(4);t.s9C("type",e.config.type),t.s9C("name",e.config.name),t.s9C("placeholder",e.config.placeholder),t.Q6J("formControlName",e.config.name)}}function Jt(o,s){if(1&o&&(t.YNc(0,Yt,2,5,"ng-container",4),t.YNc(1,Pt,1,4,"ng-template",null,13,t.W1O)),2&o){const e=t.MAs(2),n=t.oxw(3);t.Q6J("ngIf","currency"==n.config.type)("ngIfElse",e)}}function Bt(o,s){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,St,2,3,"ng-container",4),t.YNc(2,Jt,3,2,"ng-template",null,12,t.W1O),t._UZ(4,"app-print-error",7),t.qZA()),2&o){const e=t.MAs(3),n=t.oxw(2);t.Gre("col-",n.config.inputSize,""),t.xp6(1),t.Q6J("ngIf","textarea"===n.config.type)("ngIfElse",e),t.xp6(3),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}const Lt=function(o){return{row:o}};function Kt(o,s){if(1&o&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.YNc(2,Dt,2,4,"label",3),t.YNc(3,wt,5,4,"div",4),t.YNc(4,Bt,5,7,"ng-template",null,5,t.W1O),t.qZA(),t.qZA()),2&o){const e=t.MAs(5),n=t.oxw();t.Q6J("formGroup",n.group),t.xp6(1),t.Q6J("ngClass",t.VKq(5,Lt,n.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",n.config.isLabel),t.xp6(1),t.Q6J("ngIf",!n.config.inlineStyle)("ngIfElse",e)}}let Qt=(()=>{class o{constructor(e){this.globalFun=e,this.unSub=[]}ngOnInit(){this.listenFunData()}ngOnDestroy(){this.unSub.forEach(e=>e.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==g.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue())}listenFunData(){this.config.isFun&&this.config.inpFunction.type==g.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(e=>{this.group.controls[this.config.name].setValue(e)}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(y.Q))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-input-box"]],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group",3,"ngClass"],[3,"class",4,"ngIf"],[4,"ngIf","ngIfElse"],["InlineForm",""],["inputNoraml",""],[3,"control","valid"],[1,"form-control","form-control-sm",3,"name","placeholder","formControlName","change"],["inputText",""],["type","tel","currencyMask","",1,"form-control","form-control-sm",3,"options","name","placeholder","formControlName","focusout"],[1,"form-control","form-control-sm",3,"type","name","placeholder","formControlName","change"],["inputNoraml2",""],["inputText2",""]],template:function(e,n){1&e&&t.YNc(0,Kt,6,7,"div",0),2&e&&t.Q6J("ngIf",n.config)},directives:[h.O5,p.JL,p.sg,h.mk,m.n,p.Fj,p.JJ,p.u,Mt.g1],styles:[""]}),o})();const qt=["app-label-box",""];let Ut=(()=>{class o{constructor(){}ngOnInit(){this.config.labelSize=this.config.labelSize||1,this.config.endLabel=this.config.endLabel||"rem",this.config.endLabelMM=this.config.endLabelMM||"normal"}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["","app-label-box",""]],attrs:qt,decls:2,vars:17,consts:[[1,"default"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._uU(1),t.qZA()),2&e&&(t.Udp("background-color",n.config.label)("color",n.config.coreName)("font-size",n.config.labelSize+n.config.endLabel)("font-weight",n.config.endLabelMM)("border-top",n.config.multi?"1px solid rgba(0, 0, 0, 0.1)":"none")("border-right",n.config.inlineStyle?"1px solid rgba(0, 0, 0, 0.1)":"none")("border-bottom",n.config.readonly?"1px solid rgba(0, 0, 0, 0.1)":"none")("border-left",n.config.disabled?"1px solid rgba(0, 0, 0, 0.1)":"none"),t.xp6(1),t.hij(" ",n.config.name,"\n"))},styles:[".default[_ngcontent-%COMP%]{padding:20px 10px;margin-left:-10px;margin-right:-10px}"]}),o})();var it=l(55167);function kt(o,s){if(1&o&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Gre("col-form-label col-",e.config.inlineStyle?e.config.labelSize:"12",""),t.xp6(1),t.Oqu(e.config.label)}}function Rt(o,s){if(1&o&&(t.TgZ(0,"mat-radio-button",7),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.s9C("value",e.value),t.xp6(1),t.hij("",e.text," ")}}function Vt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"section",1),t.TgZ(1,"div",2),t.YNc(2,kt,2,4,"label",3),t.TgZ(3,"mat-radio-group",4),t.NdJ("change",function(){return t.CHM(e),t.oxw().doFunction()}),t.YNc(4,Rt,2,2,"mat-radio-button",5),t.qZA(),t.qZA(),t.TgZ(5,"div"),t._UZ(6,"app-print-error",6),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.group),t.xp6(2),t.Q6J("ngIf",e.config.isLabel),t.xp6(1),t.Gre("col-",e.config.inlineStyle?e.config.inputSize:"12",""),t.Q6J("formControlName",e.config.name),t.xp6(1),t.Q6J("ngForOf",e.masterOption),t.xp6(2),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}let Gt=(()=>{class o{constructor(e,n,a){this.globalFun=e,this.masterData=n,this.cdf=a,this.unSub=[],this.masterOption=[],this.oldValue=""}ngOnInit(){"true"==this.config.master?this.config.dependency||this.getOptions():this.masterOption=this.config.options,this.listenFunData()}ngOnDestroy(){this.unSub.forEach(e=>e.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==g.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue())}listenFunData(){this.config.isFun&&this.config.inpFunction.type==g.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(e=>{this.group.controls[this.config.name].setValue(e)}))}getOptions(){let e=this.config.valueField,n=this.config.showField;this.masterData.getDataByType(this.config.masterData).toPromise().then(a=>{a&&(this.masterOption=a.map(c=>Object.assign({value:c[e],text:c[n]},c)),this.cdf.detectChanges(),this.doFunction())})}reGetOption(e){if(e==this.oldValue)return!1;let n=this.config.dependency,a=this.config.valueField,c=this.config.showField,T=this.group.getRawValue()[this.config.name]||this.config.value,J=!1;this.oldValue=e,this.masterData.getDataByType(this.config.masterData).pipe((0,w.U)(L=>L.filter(Z=>Z[n.relatedField]==e))).toPromise().then(L=>{L&&(this.masterOption=L.map(Z=>(Z[a]==T&&(J=!0),Object.assign({value:Z[a],text:Z[c]},Z))),J?this.group.controls[this.config.name].setValue(T):this.masterOption.length>0&&this.group.controls[this.config.name].setValue(this.masterOption[0].value),this.cdf.detectChanges(),this.doFunction())})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(y.Q),t.Y36(E.D),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-radio-box"]],decls:1,vars:1,consts:[["class","example-section",3,"formGroup",4,"ngIf"],[1,"example-section",3,"formGroup"],[1,"form-group","row"],[3,"class",4,"ngIf"],[3,"formControlName","change"],["class","mx-1",3,"value",4,"ngFor","ngForOf"],[3,"control","valid"],[1,"mx-1",3,"value"]],template:function(e,n){1&e&&t.YNc(0,Vt,7,9,"section",0),2&e&&t.Q6J("ngIf",n.config)},directives:[h.O5,p.JL,p.sg,it.VQ,p.JJ,p.u,h.sg,m.n,it.U0],styles:[""]}),o})();var at=l(57842),Ht=l(76475);function Wt(o,s){if(1&o&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Tol(e.config.inlineStyle?"col-"+e.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(e.config.label)}}function zt(o,s){if(1&o&&(t.TgZ(0,"ng-option",10),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.text)}}function jt(o,s){if(1&o&&(t.ynx(0),t.YNc(1,zt,2,2,"ng-option",9),t.BQk()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.masterOption)}}function $t(o,s){if(1&o&&(t.TgZ(0,"ng-option",10),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Xt(o,s){if(1&o&&t.YNc(0,$t,2,2,"ng-option",9),2&o){const e=t.oxw(3);t.Q6J("ngForOf",e.config.options)}}function te(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"ng-select",6),t.NdJ("change",function(){return t.CHM(e),t.oxw(2).doFunction()}),t.YNc(2,jt,2,1,"ng-container",4),t.YNc(3,Xt,1,1,"ng-template",null,7,t.W1O),t.qZA(),t._UZ(5,"app-print-error",8),t.qZA()}if(2&o){const e=t.MAs(4),n=t.oxw(2);t.xp6(1),t.s9C("placeholder",n.config.placeholder),t.Q6J("formControlName",n.config.name),t.xp6(1),t.Q6J("ngIf","true"==n.config.master)("ngIfElse",e),t.xp6(3),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}function ee(o,s){if(1&o&&(t.TgZ(0,"ng-option",10),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.text)}}function ne(o,s){if(1&o&&(t.ynx(0),t.YNc(1,ee,2,2,"ng-option",9),t.BQk()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.masterOption)}}function oe(o,s){if(1&o&&(t.TgZ(0,"ng-option",10),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.text)}}function ie(o,s){if(1&o&&t.YNc(0,oe,2,2,"ng-option",9),2&o){const e=t.oxw(3);t.Q6J("ngForOf",e.config.options)}}function ae(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"ng-select",6),t.NdJ("change",function(){return t.CHM(e),t.oxw(2).doFunction()}),t.YNc(2,ne,2,1,"ng-container",4),t.YNc(3,ie,1,1,"ng-template",null,11,t.W1O),t.qZA(),t._UZ(5,"app-print-error",8),t.qZA()}if(2&o){const e=t.MAs(4),n=t.oxw(2);t.Gre("col-",n.config.inputSize,""),t.xp6(1),t.s9C("placeholder",n.config.placeholder),t.Q6J("formControlName",n.config.name),t.xp6(1),t.Q6J("ngIf","true"==n.config.master)("ngIfElse",e),t.xp6(3),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}const st=function(o){return{row:o}};function se(o,s){if(1&o&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.YNc(2,Wt,2,4,"label",3),t.YNc(3,te,6,6,"div",4),t.YNc(4,ae,6,9,"ng-template",null,5,t.W1O),t.qZA(),t.qZA()),2&o){const e=t.MAs(5),n=t.oxw();t.Q6J("formGroup",n.group),t.xp6(1),t.Q6J("ngClass",t.VKq(5,st,n.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",n.config.isLabel),t.xp6(1),t.Q6J("ngIf",!n.config.inlineStyle)("ngIfElse",e)}}function le(o,s){if(1&o&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Tol(e.config.inlineStyle?"col-"+e.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(e.config.label)}}function ce(o,s){if(1&o&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function re(o,s){if(1&o&&(t.ynx(0),t.YNc(1,ce,2,2,"mat-option",9),t.BQk()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.masterOption)}}function pe(o,s){if(1&o&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function ue(o,s){if(1&o&&t.YNc(0,pe,2,2,"mat-option",9),2&o){const e=t.oxw(3);t.Q6J("ngForOf",e.config.options)}}function ge(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"mat-select",12),t.NdJ("change",function(){return t.CHM(e),t.oxw(2).doFunction()}),t.YNc(2,re,2,1,"ng-container",4),t.YNc(3,ue,1,1,"ng-template",null,13,t.W1O),t.qZA(),t._UZ(5,"app-print-error",8),t.qZA()}if(2&o){const e=t.MAs(4),n=t.oxw(2);t.xp6(1),t.Q6J("formControlName",n.config.name),t.xp6(1),t.Q6J("ngIf","true"==n.config.master)("ngIfElse",e),t.xp6(3),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}function me(o,s){if(1&o&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function fe(o,s){if(1&o&&(t.ynx(0),t.YNc(1,me,2,2,"mat-option",9),t.BQk()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.masterOption)}}function de(o,s){if(1&o&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function _e(o,s){if(1&o&&t.YNc(0,de,2,2,"mat-option",9),2&o){const e=t.oxw(3);t.Q6J("ngForOf",e.config.options)}}function he(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"mat-select",12),t.NdJ("change",function(){return t.CHM(e),t.oxw(2).doFunction()}),t.YNc(2,fe,2,1,"ng-container",4),t.YNc(3,_e,1,1,"ng-template",null,14,t.W1O),t.qZA(),t._UZ(5,"app-print-error",8),t.qZA()}if(2&o){const e=t.MAs(4),n=t.oxw(2);t.Gre("col-",n.config.inputSize,""),t.xp6(1),t.Q6J("formControlName",n.config.name),t.xp6(1),t.Q6J("ngIf","true"==n.config.master)("ngIfElse",e),t.xp6(3),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}function ve(o,s){if(1&o&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.YNc(2,le,2,4,"label",3),t.YNc(3,ge,6,5,"div",4),t.YNc(4,he,6,8,"ng-template",null,5,t.W1O),t.qZA(),t.qZA()),2&o){const e=t.MAs(5),n=t.oxw();t.Q6J("formGroup",n.group),t.xp6(1),t.Q6J("ngClass",t.VKq(5,st,n.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",n.config.isLabel),t.xp6(1),t.Q6J("ngIf",!n.config.inlineStyle)("ngIfElse",e)}}const nt={date:lt,input:Qt,select:(()=>{class o{constructor(e,n,a){this.masterData=e,this.cdf=n,this.globalFun=a,this.config={},this.masterOption=[],this.unSub=[],this.oldValue=""}ngOnInit(){"true"==this.config.master&&(this.config.dependency||this.getOptions())}ngOnDestroy(){this.unSub.forEach(e=>e.unsubscribe())}doFunction(){if(this.config.isFun&&this.config.inpFunction.type==g.Ck.TRIGGER){if("paPolicyValidation"==this.config.inpFunction.funName)return!1;this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue(),this.masterOption)}if(this.config.policyterm){let e=this.group.getRawValue()[this.config.name]||this.config.value;this.globalFun.paPolicyValidation(e,this.masterOption)}}listenFunData(){this.config.isFun&&this.config.inpFunction.type==g.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(e=>{this.group.controls[this.config.name].setValue(e)}))}getOptions(){let e=this.config.valueField,n=this.config.showField;this.masterData.getDataByType(this.config.masterData,"address"==this.config.type).toPromise().then(c=>{c&&(this.masterOption=c.map(T=>Object.assign({value:T[e],text:T[n]},T)),this.cdf.detectChanges(),this.doFunction())})}reGetOption(e){if(e==this.oldValue)return!1;let n=this.config.dependency,a=this.config.valueField,c=this.config.showField,T=this.group.getRawValue()[this.config.name]||this.config.value,J=!1;this.oldValue=e,this.masterData.getDataByType(this.config.masterData,"address"==this.config.type).pipe((0,w.U)(Z=>Z.filter(Q=>Q[n.relatedField]==e))).toPromise().then(Z=>{Z&&(this.masterOption=Z.map(Q=>(Q[a]==T&&(J=!0),Object.assign({value:Q[a],text:Q[c]},Q))),J?this.group.controls[this.config.name].setValue(T):this.masterOption.length>0&&this.group.controls[this.config.name].setValue(this.masterOption[0].value),this.cdf.detectChanges(),this.doFunction())})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(E.D),t.Y36(t.sBO),t.Y36(y.Q))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-select-box"]],decls:2,vars:2,consts:[["class","config.size",3,"formGroup",4,"ngIf"],[1,"config.size",3,"formGroup"],[1,"form-group",3,"ngClass"],[3,"class",4,"ngIf"],[4,"ngIf","ngIfElse"],["InlineForm",""],[1,"ng-custom-select",3,"formControlName","placeholder","change"],["Otheroption",""],[3,"control","valid"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["Otheroption2",""],["multiple","",1,"form-control","form-control-sm",3,"formControlName","change"],["Otheroption3",""],["Otheroption4",""]],template:function(e,n){1&e&&(t.YNc(0,se,6,7,"div",0),t.YNc(1,ve,6,7,"div",0)),2&e&&(t.Q6J("ngIf",n.config&&(!n.config.multi||"false"==n.config.multi)),t.xp6(1),t.Q6J("ngIf",n.config&&n.config.multi&&"true"==n.config.multi))},directives:[h.O5,p.JL,p.sg,h.mk,at.w9,p.JJ,p.u,m.n,h.sg,at.xv,Ht.gD,k.ey],styles:[""]}),o})(),radio:Gt,checkbox:F,file:At,dialog:_t,label:Ut};let xe=(()=>{class o{constructor(e,n,a,c){this.resolver=e,this.container=n,this.renderer=a,this.cd=c,this.editStage=!1,this.i=0,this.onEdit=new t.vpe,this.divBreaked=[],this.internalConfig=[]}ngAfterViewInit(){this.cd.detectChanges()}ngOnChanges(){if(this.component&&(this.component.instance.config=this.config,this.component.instance.group=this.group,this.component.instance.internalConfig=this.internalConfig,this.editStage&&"true"===this.config.break)){let e=this.component.location.nativeElement,n=e.parentElement.getElementsByClassName("custom"+this.config.name);if(n.length>0)for(let a=0;a<n.length;a++)e.parentNode.removeChild(n[a]);e.insertAdjacentHTML("beforebegin","<div class='w-100 custom"+this.config.name+"'></div>")}}ngOnDestroy(){this.component&&this.divBreaked.forEach(e=>{let n=this.component.location.nativeElement;if("true"===e.break){let a=n.parentElement.getElementsByClassName("custom"+e.name);for(let c=0;c<a.length;c++)n.parentNode.removeChild(a[c])}})}ngOnInit(){if(this.config.show||this.editStage){if(!nt[this.config.input]){const c=Object.keys(nt).join(", ");throw new Error(`Trying to use an unsupported type (${this.config.input}).\n        Supported types: ${c}`)}const n=this.resolver.resolveComponentFactory(nt["input"==this.config.input&&"nrc"==this.config.type?"dialog":this.config.input]);this.component=this.container.createComponent(n),this.component.instance.config=this.config,this.component.instance.group=this.group,this.component.instance.internalConfig=this.internalConfig,"input"==this.config.input&&"nrc"==this.config.type&&(this.component.instance.isNrc=!0,this.component.instance.editStage=this.editStage),("dialog"==this.config.input||"file"==this.config.input)&&(this.component.instance.editStage=this.editStage);let a=this.component.location.nativeElement;if(a.classList.toggle(`col-xs-${this.config.size}`),a.classList.toggle(`col-sm-${this.config.mdSize}`),a.classList.toggle(`col-lg-${this.config.mdSize}`),!this.editStage&&"label"!=this.config.input&&(this.component.instance.doFunction(),this.config.dependency&&(this.checkDep(this.config.dependency)||a.classList.add("show-off"))),!0===this.editStage&&this.renderer.listen(this.component.location.nativeElement,"click",c=>{this.clickedEvent()}),"true"===this.config.break)0===a.parentElement.getElementsByClassName("custom"+this.config.name).length&&a.insertAdjacentHTML("beforebegin","<div class='w-100 custom"+this.config.name+"'></div>");else{let c=a.parentElement.getElementsByClassName("custom"+this.config.name);c.length>0&&a.parentNode.removeChild(c[0])}}}checkDep(e){return(0,i.J)(e,this.group)}clickedEvent(){!0===this.editStage&&this.onEdit.emit(this.index)}ngAfterContentChecked(){if(!this.editStage&&this.config.show&&"label"!=this.config.input&&this.config.dependency){let e=this.component.location.nativeElement;if(this.checkDep(this.config.dependency)){if("true"==this.config.master){let n=this.config.dependency;this.component.instance.reGetOption(this.group.getRawValue()[n.parentName])}if(e.classList.remove("show-off"),this.component.instance.group){this.component.instance.group.controls[this.config.name].setValidators(null);let n=[];if(this.config.validation){let a=this.config.validation;for(let c of a)if(c.type==g.xT.REQUIRED)n.push(p.kI.required);else if(c.type==g.xT.MAX&&"date"!=this.config.type){let T="number"==this.config.type?p.kI.max(c.value):p.kI.maxLength(c.value);n.push(T)}else if(c.type==g.xT.MIN&&"date"!=this.config.type){let T="number"==this.config.type?p.kI.max(c.value):p.kI.maxLength(c.value);n.push(T)}}"input"==this.config.input&&"email"==this.config.type&&n.push(p.kI.email),this.component.instance.group.controls[this.config.name].setValidators(n),this.component.instance.group.controls[this.config.name].updateValueAndValidity()}}else this.component.instance.group&&(this.component.instance.group.controls[this.config.name].setValue(""),this.component.instance.group.controls[this.config.name].setValidators(null),this.component.instance.group.controls[this.config.name].updateValueAndValidity()),e.classList.add("show-off")}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t._Vd),t.Y36(t.s_b),t.Y36(t.Qsj),t.Y36(t.sBO))},o.\u0275dir=t.lG2({type:o,selectors:[["","dynamicField",""]],inputs:{config:"config",group:"group",index:"index",editStage:"editStage",divBreaked:"divBreaked",internalConfig:"internalConfig"},outputs:{onEdit:"onEdit"},features:[t.TTD]}),o})();function Te(o,s){if(1&o){const e=t.EpF();t.ynx(0,4),t.NdJ("onEdit",function(a){return t.CHM(e),t.oxw(2).Edited(a)}),t.BQk()}if(2&o){const e=t.oxw(),n=e.$implicit,a=e.index,c=t.oxw();t.Q6J("config",n)("internalConfig",c.internalConfig)("index",a)("group",c.form)("editStage",c.editStage)("divBreaked",c.getBreaked())}}function Ne(o,s){if(1&o){const e=t.EpF();t.ynx(0),t._UZ(1,"div",5),t.TgZ(2,"div",6),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().index;return t.oxw().Edited(a)}),t._UZ(3,"hr"),t.qZA(),t.BQk()}}function Ce(o,s){if(1&o&&(t.ynx(0),t.YNc(1,Te,1,6,"ng-container",2),t.YNc(2,Ne,4,0,"ng-container",3),t.BQk()),2&o){const e=s.$implicit;t.xp6(1),t.Q6J("ngIf","underline"!==e.input),t.xp6(1),t.Q6J("ngIf","underline"==e.input)}}let ye=(()=>{class o{constructor(e,n){this.fb=e,this.globalFun=n,this.config=[],this.tempData={},this.submit=new t.vpe,this.onEdit=new t.vpe,this.internalConfig=[]}get controls(){return this.internalConfig.filter(({type:e})=>"button"!==e)}get valid(){return this.form.valid}get value(){return this.form.value}ngOnInit(){this.internalConfig=JSON.parse(JSON.stringify(this.config)),this.form=this.createGroup()}createGroup(e=!1){const n=this.fb.group({});let a=0;return this.controls.forEach(c=>{a+=1,"label"!=c.input&&"underline"!=c.input&&(n.addControl(c.name,this.createControl(c)),"date"==c.input&&"policy"==c.type&&n.addControl(c.endName,this.createControl(c,"policy")))}),n}createControl(e,n){let{disabled:a,value:c,name:T,validation:J,endName:L}=e,Z=[];if((this.editStage||e.input==g.Xu.DIALOG||e.input==g.Xu.INPUT&&"nrc"==e.type)&&(a=!0),J&&e.show)for(let q of J)if(q.type==g.xT.REQUIRED)Z.push(p.kI.required);else if(q.type==g.xT.MAX&&"date"!=e.type){let j="number"==e.type||"currency"==e.type?p.kI.max(q.value):p.kI.maxLength(q.value);Z.push(j)}else if(q.type==g.xT.MIN&&"date"!=e.type){let j="number"==e.type||"currency"==e.type?p.kI.min(q.value):p.kI.minLength(q.value);Z.push(j)}"input"==e.input&&"email"==e.type&&e.show&&Z.push(p.kI.email);let Q=n?L:T;if("file"==e.input)return this.fb.control({disabled:!0,value:this.tempData[T]&&this.tempData[T]||null},[...Z]);let z=this.tempData[Q]?this.tempData[Q]:c;return e.value=z,"date"==e.input&&(z=z&&x(z)),this.fb.control({disabled:a,value:z||null},[...Z])}handleSubmit(){return!this.form.invalid&&(this.submit.emit(this.form.getRawValue()),!0)}reCreateFrom(){this.internalConfig=JSON.parse(JSON.stringify(this.config)),this.form=this.createGroup(!0),this.globalFun.optionResultChange.next(!0)}newFormCreate(e,n){let a=JSON.parse(JSON.stringify(e));this.internalConfig=a;const c=this.fb.group({});n&&(this.tempData=n),a.forEach(T=>{"label"!=T.input&&"underline"!=T.input&&(c.addControl(T.name,this.createControl(T)),"date"==T.input&&"policy"==T.type&&c.addControl(T.endName,this.createControl(T,"policy")))}),this.form=c}Edited(e){this.onEdit.emit(e)}getBreaked(){return this.config.filter(e=>"true"===e.break)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.qu),t.Y36(y.Q))},o.\u0275cmp=t.Xpm({type:o,selectors:[["dynamic-form"]],inputs:{config:"config",tempData:"tempData",editStage:"editStage"},outputs:{submit:"submit",onEdit:"onEdit"},exportAs:["dynamicForm"],decls:2,vars:2,consts:[[1,"dynamic-form","row",2,"align-items","center",3,"formGroup"],[4,"ngFor","ngForOf"],["dynamicField","",3,"config","internalConfig","index","group","editStage","divBreaked","onEdit",4,"ngIf"],[4,"ngIf"],["dynamicField","",3,"config","internalConfig","index","group","editStage","divBreaked","onEdit"],[1,"w-100"],[1,"col-12",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0),t.YNc(1,Ce,3,2,"ng-container",1),t.qZA()),2&e&&(t.Q6J("formGroup",n.form),t.xp6(1),t.Q6J("ngForOf",n.internalConfig))},directives:[p._Y,p.JL,p.sg,h.sg,h.O5,xe],encapsulation:2}),o})()},21558:(U,O,l)=>{l.d(O,{Ck:()=>t,xT:()=>x,Uv:()=>g,Us:()=>h,M:()=>i,m0:()=>w,Xu:()=>E});var t=(()=>{return(m=t||(t={})).TRIGGER="trigger",m.GETDATA="getdata",t;var m})(),x=(()=>{return(m=x||(x={})).REQUIRED="required",m.MIN="min",m.MAX="max",m.DATE="date",x;var m})(),g=(()=>{return(m=g||(g={})).WEEK="week",m.MONTH="month",m.DAY="day",m.YEAR="year",g;var m})(),h=(()=>{return(m=h||(h={})).SUBMIT="submit",m.NEXT="next",m.PREVIOUS="previous",m.RESET="reset",h;var m})(),i=(()=>{return(m=i||(i={})).NONE="",m.CENTER="mx-auto",m.LEFT="ml-auto",m.RIGHT="mr-auto",i;var m})(),w=(()=>{return(m=w||(w={})).PRIMARY="primary",m.SECONDARY="secondary",m.SUCCESS="success",m.WARNING="warning",m.DANGER="danger",m.INFO="info",m.DARK="dark",m.LIGHT="light",w;var m})(),E=(()=>{return(m=E||(E={})).INPUT="input",m.CHECKBOX="checkbox",m.DIALOG="dialog",m.FILE="file",m.RADIO="radio",m.SELECT="select",m.DATE="date",E;var m})()},22030:(U,O,l)=>{l.d(O,{V:()=>k});var t=l(49133),p=l(28100),x=l(54753),g=l(72835),y=l(82997);const h=[{stage:"01",township:["KhaPhaNa","KhaLaNa","SaLaNa","SaPaBa","TaNaNa","NaMaNa","PaTaAh","PhaKaNa","BaMaNa","MaKaNa","MaNyaNa","MaKaNa","MaHsaNa","MaKhaBa","MaMaNa","YaKaNa","WaMaNa","AhGaYa"]},{stage:"02",township:["DaMaSa","PhaSaNa","PhaYaSa","BaLaKha","MaHsaNa","YaTaNa","YaThaNa","LaKaNa"]},{stage:"03",township:["KaKaYa","KaSaKa","PhaPaNa","BaAhNa","MaWaTa","LaBaNa","ThaTaNa"]},{stage:"04",township:["KaPaLa","TaTaNa","TaZaNa","HtaTaLa","PaLaWa","PhaLaNa","MaTaNa","MaTaPa","HaKhaNa"]},{stage:"05",township:["KaLaNa","KhaNaTa","KaThaNa","KaBaLa","MaLaNa","MaYaNa","YaBaNa","TaMaNa","YaMaPa","AhYaTa","BaTaLa","KhaOuNa","DaPaYa","HaMaLa","AhTaNa","KaLaWa","KaNaNa","KaLaNa","KhaOuNa","KaLaNa","MaMaNa","MaMaNa","PaLaNa","PhaPaNa","PaLaBa","SaLaKa","HsaKaNa","TaSaNa","HtaKhaNa","WaLaNa","WaThaNa","BaMaNa","NaYaNa","YaOuNa","MaKaNa","LaYaNa","LaHaNa"]},{stage:"06",township:["HtaWaNa","MaMaNa","KaThaNa","LaLaNa","ThaYaKha","YaPhaNa","KaHsaNa","PaLaNa","BaPaNa","PaLaNa"]},{stage:"07",township:["PaKhaNa","KaTaKha","ZaKaNa","NyaLaPa","TaNgaNa","NaTaLa","KaWaNa","PaMaNa","PaTaNa","PhaMaNa","MaLaNa","YaTaYa","LaPaTa","WaMaNa","ThaWaTa","ThaKaNa","AhPhaNa","MaNyaNa","PaKhaNa","DaOuNa","ThaNaPa","HtaTaPa","AhTaNa","KaKaNa","YaKaNa","KaPaKa","YaTaNa","PaTaNa"]},{stage:"08",township:["MaKaNa","KhaMaNa","PaKhaKa","ThaYaNa","GaGaNa","NaMaNa","MaThaNa","YaNaKha","TaTaKa","MaBaNa","PaPhaNa","HsaLaNa","NgaPhaNa","HsaTaYa","SaPhaNa","YaHsaKa","MaMaNa","PaMaNa","HtaLaNa","SaMaNa","AhLaNa","SaPaWa","MaTaNa","MaLaNa","KaMaNa"]},{stage:"09",township:["KaSaNa","MaHtaLa","MaKhaNa","NyaOuNa","PaOuLa","YaMaTha","AhMaZa","KhaAhZa","MaHaMa","KhaMaHsa","PaKaKha","AhMaYa","PaThaKa","MaTaYa","HsaKaNa","MaKaNa","ThaPaKa","HsaKaNa","MaThaNa","TaTaOu","TaThaNa","NaHtaKa","KaPaTa","NgaZaNa","PaBaNa","MaLaNa","ThaHsaNa","WaTaNa"]},{stage:"10",township:["ThaHtaNa","MaLaMa","KaMaYa","KaHtaNa","KhaSaNa","PaMaNa","BaLaNa","MaDaNa","YaMaNa","ThaPhaYa"]},{stage:"11",township:["AhMaNa","GaMaNa","KaTaNa","MaPaNa","MaOuNa","MaAhNa","MaPaNa","PaTaNa","PaNaKa","YaBaNa","YaThaTa","TaKaNa","HsaTaNa","BaThaTa","MaTaNa","KaPhaNa","ThaTaNa"]},{stage:"12",township:["TaMaNa","OuKaTa","DaGaSa","DaGaTa","DaGaMa","DaGaYa","DaPaNa","PaZaTa","BaTaHta","MaGaTa","OuKaMa","YaKaNa","ThaGaKa","ThaKaTa","KaMaYa","KaTaTa","KaMaTa","HsaKhaNa","SaKaNa","DaGaNa","PaBaTa","BaHaNa","MaYaKa","LaMaTa","LaThaNa","LaMaNa","AhLaNa","TaKaNa","HtaTaPa","MaGaDa","MaBaNa","YaPaTha","LaKaNa","LaThaYa","AhHsaNa","KaTaNa","KaKhaKa","KaKaKa","KaMaNa","KhaYaNa","SaKaKha","TaTaNa","DaLaNa","ThaLaNa","ThaKhaNa"]},{stage:"13",township:["TaKaNa","LaYaNa","KaTaNa","LaLaNa","LaKaNa","LaKhaNa","KaMaNa","MaSaNa","KaLaNa","TaKhaLa","MaSaNa","MaPhaNa","HaPaNa","HaPaNa","PaTaYa","NaSaNa","NaMaTa","NaKhaNa","ThaPaNa","MaTaNa","MaMaNa","MaBaNa","NaKhaNa","KaKhaNa","TaYaNa","MaYaNa","MaMaNa","NaHsaNa","YaSaKa","YaNgaNa","NyaYaNa","PaLaNa","SaSaNa","MaNaNa","MaPaNa","MaKaNa","KaHaNa","KaKaNa","MaKhaNa","PhaKhaNa","LaKhaNa","MaMaNa","KaThaNa","KaLaNa","MaYaNa","MaPaNa","MaTaNa","MaYaNa","MaLaNa","MaYaNa","MaMaNa","AhPaNa","YaNyaNa","AhThaYa","KaTaLa","NaTaYa","PaLaNa","KaTaNa","HaMaNa","AhTaNa","MaNaMa","MaNgaNa","TaMaNya","MaKaNa","MaHaYa","KhaYaHa","NaTaNa","TaTaNa","TaLaNa","KaLaNa","MaYaNa","MaKhaNa","MaPaNa"]},{stage:"14",township:["PaThaNa","HaThaTa","MaAhPa","MaMaNa","PhaPaNa","LaPaTa","KaKaHta","NgaPaTa","ThaPaNa","KaKaNa","KaPaNa","YaKaNa","ZaLaNa","LaMaNa","MaAhNa","KaKhaNa","AhGaPa","AhMaNa","WaKhaMa","PaTaNa","NyaTaNa","DaNaPha","BaKaLa","KaLaNa","DaDaYa","MaMaKa"]}];var i=l(83668),w=l(85378),E=l(26697),m=l(57842),C=l(86019);function S(M,Y){if(1&M&&(i.ynx(0),i.TgZ(1,"ng-option",18),i._uU(2),i.qZA(),i.BQk()),2&M){const u=Y.$implicit;i.xp6(1),i.Q6J("value",u.value),i.xp6(1),i.Oqu(u.value)}}function d(M,Y){1&M&&(i.TgZ(0,"div",19),i._uU(1,"State No is required"),i.qZA())}function b(M,Y){if(1&M&&(i.ynx(0),i.TgZ(1,"ng-option",18),i._uU(2),i.qZA(),i.BQk()),2&M){const u=Y.$implicit;i.xp6(1),i.Q6J("value",u.value),i.xp6(1),i.Oqu(u.value)}}function K(M,Y){1&M&&(i.TgZ(0,"div",19),i._uU(1,"District is required"),i.qZA())}function F(M,Y){if(1&M&&(i.ynx(0),i.TgZ(1,"ng-option",18),i._uU(2),i.qZA(),i.BQk()),2&M){const u=Y.$implicit;i.xp6(1),i.Q6J("value",u.value),i.xp6(1),i.Oqu(u.value)}}function B(M,Y){1&M&&(i.TgZ(0,"div",19),i._uU(1,"Type is required"),i.qZA())}function G(M,Y){1&M&&(i.TgZ(0,"div",19),i._uU(1,"NRC No is required"),i.qZA())}let k=(()=>{class M{constructor(u,f,r){this.modal=u,this.cdf=f,this.masterDataService=r,this.nrcStage=h,this.submited=!1,this.townShip=[],this.stageOption=[],this.townshipOption=[],this.typeOption=[]}ngOnInit(){this.setForm(),this.getMaster(),this.getTownship()}setForm(){this.nrcForm=new t.cw({stage:new t.NI(null,[t.kI.required]),township:new t.NI(null,[t.kI.required]),prefix:new t.NI("N",[t.kI.required]),nrc:new t.NI(null,[t.kI.required,t.kI.maxLength(6),t.kI.minLength(6),t.kI.pattern("[0-9]*")])})}getMaster(){(0,p.D)([this.getStage(),this.getType()]).toPromise().then(u=>{u&&(console.log(u),this.stageOption=u[0],this.typeOption=u[1],this.cdf.detectChanges())})}getStage(){return this.masterDataService.getDataByType("NRC_REGION").pipe((0,x.U)(u=>this.getFormatOpt(u)),(0,g.K)(u=>(0,y.of)([])))}getTownship(u){this.masterDataService.getDataByParent("NRC_TOWNSHIP",u,"NRC_REGION").toPromise().then(f=>{console.log(f),f&&(this.townshipOption=f.map(r=>({code:r.codeId,value:r.codeName})),this.townshipOption.length>0&&this.nrcForm.controls.township.setValue(this.townshipOption[0].value),this.cdf.detectChanges())})}getType(){return this.masterDataService.getDataByType("NRC_TYPE").pipe((0,x.U)(u=>this.getFormatOpt(u)),(0,g.K)(u=>(0,y.of)([])))}getFormatOpt(u){return u.map(f=>({code:f.codeId||f.code,value:f.codeName||f.codeValue||f.value}))}save(){if(this.submited=!0,this.nrcForm.invalid)return!1;let u=this.nrcForm.value;this.group.controls[this.config.name].setValue(`${u.stage}/${u.township}(${u.prefix})${u.nrc}`),this.modal.dismiss("save")}dismiss(){this.modal.dismiss()}changeStage(){let u=this.nrcForm.value.stage;if(console.log(u),u){let f=this.stageOption.find(r=>r.value==u);this.getTownship(f.code),this.cdf.detectChanges()}}isControlValid(u){const f=this.nrcForm.controls[u];return f.valid&&(f.dirty||f.touched)}isControlInvalid(u){const f=this.nrcForm.controls[u];return f.invalid&&(f.dirty||f.touched)}controlHasError(u,f){const r=this.nrcForm.controls[f];return r.hasError(u)&&(r.dirty||r.touched)}isControlTouched(u){const f=this.nrcForm.controls[u];return f.dirty||f.touched}}return M.\u0275fac=function(u){return new(u||M)(i.Y36(w.Kz),i.Y36(i.sBO),i.Y36(E.D))},M.\u0275cmp=i.Xpm({type:M,selectors:[["app-nrc-popup"]],inputs:{group:"group",config:"config"},decls:39,vars:18,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4","left-border-image"],[1,"overlay","overlay-block","cursor-default","modal-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-3"],[1,"form-group"],[1,"form-label"],["placeholder","State No","formControlName","stage",1,"ng-custom-select","ng-custom-select-sm",3,"change"],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["placeholder","District","formControlName","township",1,"ng-custom-select","ng-custom-select-sm"],["placeholder","Type","formControlName","prefix",1,"ng-custom-select","ng-custom-select-sm"],["type","tel","name","nrc","autocomplete","off","formControlName","nrc","minLength","6","maxLength","6",1,"form-control","form-control-sm"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-primary","btn-elevate",3,"click"],[3,"value"],[1,"invalid-feedback"]],template:function(u,f){1&u&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i._uU(3," NRC ID "),i.qZA(),i.qZA(),i.TgZ(4,"div",3),i.TgZ(5,"form",4),i.NdJ("ngSubmit",function(){return f.save()}),i.TgZ(6,"div",5),i.TgZ(7,"div",6),i.TgZ(8,"div",7),i.TgZ(9,"label",8),i._uU(10,"State No"),i.qZA(),i.TgZ(11,"ng-select",9),i.NdJ("change",function(){return f.changeStage()}),i.YNc(12,S,3,2,"ng-container",10),i.qZA(),i.YNc(13,d,2,0,"div",11),i.qZA(),i.qZA(),i.TgZ(14,"div",6),i.TgZ(15,"div",7),i.TgZ(16,"label",8),i._uU(17,"District"),i.qZA(),i.TgZ(18,"ng-select",12),i.YNc(19,b,3,2,"ng-container",10),i.qZA(),i.YNc(20,K,2,0,"div",11),i.qZA(),i.qZA(),i.TgZ(21,"div",6),i.TgZ(22,"div",7),i.TgZ(23,"label",8),i._uU(24,"Type"),i.qZA(),i.TgZ(25,"ng-select",13),i.YNc(26,F,3,2,"ng-container",10),i.qZA(),i.YNc(27,B,2,0,"div",11),i.qZA(),i.qZA(),i.TgZ(28,"div",6),i.TgZ(29,"div",7),i.TgZ(30,"label",8),i._uU(31,"NRC No"),i.qZA(),i._UZ(32,"input",14),i.YNc(33,G,2,0,"div",11),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(34,"div",15),i.TgZ(35,"button",16),i.NdJ("click",function(){return f.modal.dismiss()}),i._uU(36,"Cancel"),i.qZA(),i.TgZ(37,"button",17),i.NdJ("click",function(){return f.save()}),i._uU(38,"Save"),i.qZA(),i.qZA(),i.qZA()),2&u&&(i.xp6(5),i.Q6J("formGroup",f.nrcForm),i.xp6(6),i.ekj("is-invalid",f.isControlInvalid("stage")),i.xp6(1),i.Q6J("ngForOf",f.stageOption),i.xp6(1),i.Q6J("ngIf",f.controlHasError("required","stage")),i.xp6(5),i.ekj("is-invalid",f.isControlInvalid("township")),i.xp6(1),i.Q6J("ngForOf",f.townshipOption),i.xp6(1),i.Q6J("ngIf",f.controlHasError("required","township")),i.xp6(5),i.ekj("is-invalid",f.isControlInvalid("prefix")),i.xp6(1),i.Q6J("ngForOf",f.typeOption),i.xp6(1),i.Q6J("ngIf",f.controlHasError("required","prefix")),i.xp6(5),i.ekj("is-invalid",f.isControlInvalid("nrc"))("is-valid",f.isControlValid("nrc")),i.xp6(1),i.Q6J("ngIf",f.controlHasError("required","nrc")))},directives:[t._Y,t.JL,t.sg,m.w9,t.JJ,t.u,C.sg,C.O5,t.Fj,m.xv],styles:[".rowStyle[_ngcontent-%COMP%]{margin-top:10px;color:#000}.columnStyle[_ngcontent-%COMP%]{text-align:center;font-size:var(--label-size)}.input[_ngcontent-%COMP%]{border-bottom:1px #A1AAAD solid;width:100%;display:inline-block;text-align:center;font-size:8pt!important;color:gray}.input-box[_ngcontent-%COMP%]{border-bottom:1px #A1AAAD solid;width:100%;display:inline-block;margin:15px 0;text-align:center}.textColor[_ngcontent-%COMP%]{color:#2c66ff}.header-style[_ngcontent-%COMP%]{box-shadow:0 4px 5px #ccc;padding:15px 20px;margin-bottom:20px}.input-border[_ngcontent-%COMP%]{border:.5px solid #333;border-radius:2px;width:100%;margin:10px 0}"]}),M})()}}]);