"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1987,7975],{92118:(k,Z,c)=>{c.d(Z,{t7:()=>F});var t=c(83668),v=c(44290),h=c(92070);const x=c.n(h)()||h,b=new t.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function w(f,Y){const s=Array(f);for(let d=0;d<f;d++)s[d]=Y(d);return s}let F=(()=>{class f extends v._A{constructor(s,d){super(),this._options=d,this.setLocale(s||x.locale())}setLocale(s){super.setLocale(s);let d=x.localeData(s);this._localeData={firstDayOfWeek:d.firstDayOfWeek(),longMonths:d.months(),shortMonths:d.monthsShort(),dates:w(31,P=>this.createDate(2017,0,P+1).format("D")),longDaysOfWeek:d.weekdays(),shortDaysOfWeek:d.weekdaysShort(),narrowDaysOfWeek:d.weekdaysMin()}}getYear(s){return this.clone(s).year()}getMonth(s){return this.clone(s).month()}getDate(s){return this.clone(s).date()}getDayOfWeek(s){return this.clone(s).day()}getMonthNames(s){return"long"==s?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(s){return"long"==s?this._localeData.longDaysOfWeek:"short"==s?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(s){return this.clone(s).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(s){return this.clone(s).daysInMonth()}clone(s){return s.clone().locale(this.locale)}createDate(s,d,P){const K=this._createMoment({year:s,month:d,date:P}).locale(this.locale);return K.isValid(),K}today(){return this._createMoment().locale(this.locale)}parse(s,d){return s&&"string"==typeof s?this._createMoment(s,d,this.locale):s?this._createMoment(s).locale(this.locale):null}format(s,d){return s=this.clone(s),this.isValid(s),s.format(d)}addCalendarYears(s,d){return this.clone(s).add({years:d})}addCalendarMonths(s,d){return this.clone(s).add({months:d})}addCalendarDays(s,d){return this.clone(s).add({days:d})}toIso8601(s){return this.clone(s).format()}deserialize(s){let d;if(s instanceof Date)d=this._createMoment(s).locale(this.locale);else if(this.isDateInstance(s))return this.clone(s);if("string"==typeof s){if(!s)return null;d=this._createMoment(s,x.ISO_8601).locale(this.locale)}return d&&this.isValid(d)?this._createMoment(d).locale(this.locale):super.deserialize(s)}isDateInstance(s){return x.isMoment(s)}isValid(s){return this.clone(s).isValid()}invalid(){return x.invalid()}_createMoment(s,d,P){const{strict:K,useUtc:M}=this._options||{};return M?x.utc(s,d,P,K):x(s,d,P,K)}}return f.\u0275fac=function(s){return new(s||f)(t.LFG(v.Ad,8),t.LFG(b,8))},f.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac}),f})()},50858:(k,Z,c)=>{c.d(Z,{Z:()=>U});var t,v=new Uint8Array(16);function h(){if(!t&&!(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(v)}const p=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,b=function(y){return"string"==typeof y&&p.test(y)};for(var o=[],w=0;w<256;++w)o.push((w+256).toString(16).substr(1));const U=function(y,f,Y){var s=(y=y||{}).random||(y.rng||h)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,f){Y=Y||0;for(var d=0;d<16;++d)f[Y+d]=s[d];return f}return function(y){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Y=(o[y[f+0]]+o[y[f+1]]+o[y[f+2]]+o[y[f+3]]+"-"+o[y[f+4]]+o[y[f+5]]+"-"+o[y[f+6]]+o[y[f+7]]+"-"+o[y[f+8]]+o[y[f+9]]+"-"+o[y[f+10]]+o[y[f+11]]+o[y[f+12]]+o[y[f+13]]+o[y[f+14]]+o[y[f+15]]).toLowerCase();if(!b(Y))throw TypeError("Stringified UUID is invalid");return Y}(s)}},49875:(k,Z,c)=>{c.d(Z,{Ys:()=>j,ou:()=>X,p3:()=>m});var t=c(64762),v=c(18260),h=c(91691),p=c(91278),x=(()=>{return(_=x||(x={})).Documents="DOCUMENTS",_.Data="DATA",_.Library="LIBRARY",_.Cache="CACHE",_.External="EXTERNAL",_.ExternalStorage="EXTERNAL_STORAGE",x;var _})();const F=(0,p.fo)("Filesystem",{web:()=>c.e(2571).then(c.bind(c,52571)).then(_=>new _.FilesystemWeb)}),u=(0,p.fo)("BlobWriter");function Q(_){const I=new Uint8Array(_);let N="",D=0;for(;!(D>=I.byteLength);)N+=String.fromCharCode(I[D]),D+=1;return window.btoa(N)}function U(_,I,N){if(0===N.size)return Promise.resolve();const D=393216,A=N.slice(0,D);return new window.Response(A).arrayBuffer().then(function(R){return F.appendFile({directory:_,path:I,data:Q(R)})}).then(function(){return U(_,I,N.slice(D))})}function y({path:_,directory:I,blob:N,recursive:D}){return F.writeFile({directory:I,path:_,recursive:D,data:""}).then(function({uri:A}){return U(I,_,N).then(function(){return A})})}const Y=Object.freeze(function(_){const{path:I,directory:N,blob:D,recursive:A,on_fallback:V}=_;return"ios"!==p.dV.platform&&"android"!==p.dV.platform?y(_):Promise.all([u.get_config(),F.getUri({path:I,directory:N})]).then(function([G,$]){const{base_url:tt,auth_token:et}=G,nt=$.uri.replace("file://","");return Promise.all([fetch(tt+nt+(A?"?recursive=true":""),{headers:{authorization:et},method:"put",body:D}),Promise.resolve($)])}).then(function([R,G]){if(204!==R.status)throw new Error("Bad HTTP status: "+R.status);return G.uri}).catch(function(G){return void 0!==V&&V(G),y(_)})});var s=c(83668),d=c(44522),P=c(96360),K=c(60807),M=c(18829),E=c(60940);const g=`${v.N.apiUrl}/attachment-uploader`;let m=(()=>{class _ extends h.i{constructor(N){super(N,g),this.httpClient=N}}return _.\u0275fac=function(N){return new(N||_)(s.LFG(d.eN))},_.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const O=`${v.N.apiUrl}/attachment-downloader`;let j=(()=>{class _ extends h.i{constructor(N,D,A,V,R){super(N,O),this.httpClient=N,this.file=D,this.loadingService=A,this.toastService=V,this.alertService=R}getDownload(N,D){this.httpClient.get(O+"/"+N,{responseType:"blob"}).toPromise().then(A=>{A&&(p.dV.isNativePlatform()?this.mobileDownload(D,A):this.downloadFile(A,D))})}downloadFile(N,D){var A=document.createElement("a");A.href=URL.createObjectURL(N),A.download=D,A.click(),A.remove()}mobileDownload(N,D){return(0,t.mG)(this,void 0,void 0,function*(){try{let A=yield F.mkdir({path:"kbzsale_downloads",directory:x.Documents,recursive:!1});console.log("folder ",A),this.createFile(N,D)}catch(A){this.createFile(N,D)}})}createFile(N,D){return(0,t.mG)(this,void 0,void 0,function*(){try{yield Y({path:"kbzsale_downloads/"+N,directory:x.Documents,blob:D}),yield this.loadingService.deactivate(),this.alertService.activate('"Download File',"Success Message")}catch(A){yield this.loadingService.deactivate(),this.alertService.activate('"Download Fail',"Error Message")}})}}return _.\u0275fac=function(N){return new(N||_)(s.LFG(d.eN),s.LFG(P.$),s.LFG(K.b),s.LFG(M.T),s.LFG(E.c))},_.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const z=`${v.N.apiUrl}/attachment-ref`;let X=(()=>{class _ extends h.i{constructor(N){super(N,z),this.httpClient=N}getAttachmentListRef(N,D){return this.httpClient.get(z+"?refDocNo="+N+"&refDocType="+D)}}return _.\u0275fac=function(N){return new(N||_)(s.LFG(d.eN))},_.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},31248:(k,Z,c)=>{function t(){const v=new FileReader;return v.__zone_symbol__originalInstance||v}c.d(Z,{y:()=>t})},47975:(k,Z,c)=>{function t(x){try{JSON.parse(x)}catch(b){return!1}return!0}c.d(Z,{cU:()=>t,Gs:()=>v,Ny:()=>p});const v={parse:{dateInput:"DD-MM-YYYY"},display:{dateInput:"DD-MM-YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},p={parse:{dateInput:"MM-YYYY"},display:{dateInput:"MM-YYYY",monthYearLabel:"MM-YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MM-YYYY"}}},53489:(k,Z,c)=>{c.d(Z,{w:()=>v});var t=c(49133);function v(h){Object.keys(h.controls).forEach(p=>{const x=h.get(p);x instanceof t.NI?x.markAsTouched({onlySelf:!0}):x instanceof t.cw&&this.validateAllFields(x)})}},87952:(k,Z,c)=>{c.d(Z,{J:()=>v});var t=c(49133);function v(h,p){let x=p instanceof t.cw?p.getRawValue():p.value,b=x[h.parentName],o=x[h.parentName+"Code"];return h.show?h.isArray?h.value.includes(b)||h.value.includes(o):b==h.value||o==h.value:!!b}},77720:(k,Z,c)=>{c.d(Z,{P:()=>h});var t=c(83668);const v=["app-button-box",""];let h=(()=>{class p{constructor(b){this.el=b,this.editStage=!0,this.eventE=new t.vpe}ngOnInit(){}onClick(){this.eventE.emit(this.editStage?this.index+"":this.config.type)}}return p.\u0275fac=function(b){return new(b||p)(t.Y36(t.SBq))},p.\u0275cmp=t.Xpm({type:p,selectors:[["","app-button-box",""]],inputs:{config:"config",index:"index",editStage:"editStage"},outputs:{eventE:"eventE"},attrs:v,decls:2,vars:5,consts:[["type","button",3,"click"]],template:function(b,o){1&b&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return o.onClick()}),t._uU(1),t.qZA()),2&b&&(t.MT6("btn btn-block btn-",!0===o.config.fill?"":"outline-","",o.config.color,""),t.xp6(1),t.Oqu(o.config.label))},styles:[""]}),p})()},14246:(k,Z,c)=>{c.d(Z,{r:()=>me});var t=c(83668),v=c(49133),h=c(92070),p=c(21558),x=c(23449),b=c(86019),o=c(64762),w=c(87952),F=c(54753),u=c(26697);function Q(a,l){if(1&a&&(t.TgZ(0,"label",5),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.Gre("col-",e.config.inlineStyle?e.config.labelSize:"12",""),t.xp6(1),t.hij("",e.config.label,":")}}const U=function(){return{standalone:!0}};function y(a,l){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-checkbox",6),t.NdJ("change",function(i){return t.CHM(e),t.oxw(2).checkData(i)})("ngModelChange",function(i){const T=t.CHM(e).$implicit;return t.oxw(2).data["v"+T.value]=i}),t._uU(2),t.qZA(),t.BQk()}if(2&a){const e=l.$implicit,n=t.oxw(2);t.xp6(1),t.s9C("name",e.value),t.Q6J("ngModel",n.data["v"+e.value])("ngModelOptions",t.DdM(5,U))("disabled",n.isDisabled),t.xp6(1),t.hij(" ",e.text," ")}}function f(a,l){if(1&a&&(t.TgZ(0,"div"),t.TgZ(1,"div",1),t.YNc(2,Q,2,4,"label",2),t.TgZ(3,"div"),t.YNc(4,y,3,6,"ng-container",3),t.TgZ(5,"div"),t._UZ(6,"app-print-error",4),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.config.isLabel),t.xp6(1),t.Gre("col-",e.config.inlineStyle?e.config.inputSize:"12",""),t.xp6(1),t.Q6J("ngForOf",e.config.options),t.xp6(2),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}let Y=(()=>{class a{constructor(e,n,i){this.globalFun=e,this.masterData=n,this.cdf=i,this.data={},this.unSub=[],this.masterOption=[],this.oldValue=""}ngOnDestroy(){this.unSub.forEach(e=>e.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==p.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue())}listenFunData(){this.config.isFun&&this.config.inpFunction.type==p.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(e=>{this.group.controls[this.config.name].setValue(e)}))}loadData(){"true"==this.config.master?this.config.dependency||this.getOptions():(this.masterOption=this.config.options,this.masterOption.forEach(e=>{if(this.config.multi){let n=this.config.value,r=(Array.isArray(n)?n:[]).findIndex(T=>T==e.value);this.data["v"+e.value]=!(r<0)}else this.data["v"+e.value]=this.config.value==e.value}))}ngOnInit(){this.loadData(),this.unSub[1]=this.globalFun.optionResultChange.subscribe(e=>{e&&this.loadData()}),this.listenFunData()}checkData(e){let n=e.source.name,i=this.group.value[this.config.name];if(this.config.multi)if(i=Array.isArray(i)?i:[],e.checked)i.push(n);else{let r=i.findIndex(T=>T==n);i.splice(r,1)}else e.checked?(this.masterOption.forEach(r=>{r.value!=n&&(this.data["v"+r.value]=!1)}),i=n):i=null;this.group.controls[this.config.name].setValue(i),this.doFunction()}get isDisabled(){return this.group.controls[this.config.name].disabled}getOptions(){let e=this.config.valueField,n=this.config.showField;this.masterData.getDataByType(this.config.masterData).toPromise().then(i=>{i&&(this.masterOption=i.map(r=>Object.assign({value:r[e],text:r[n]},r)),this.masterOption.forEach(r=>{if(this.config.multi){let T=this.config.value,B=(Array.isArray(T)?T:[]).findIndex(C=>C==r.value);this.data["v"+r.value]=!(B<0)}else this.data["v"+r.value]=this.config.value==r.value}),this.cdf.detectChanges(),this.doFunction())})}reGetOption(e){if(e==this.oldValue)return!1;let n=this.config.dependency,i=this.config.valueField,r=this.config.showField,T=this.group.getRawValue()[this.config.name]||this.config.value,S=!1;this.oldValue=e,this.masterData.getDataByType(this.config.masterData).pipe((0,F.U)(B=>B.filter(C=>C[n.relatedField]==e))).toPromise().then(B=>{B&&(this.masterOption=B.map(C=>(C[i]==T&&(S=!0),Object.assign({value:C[i],text:C[r]},C))),this.masterOption.forEach(C=>{if(this.config.multi){let J=this.config.value,L=(Array.isArray(J)?J:[]).findIndex(W=>W==C.value);this.data["v"+C.value]=!(L<0)}else this.data["v"+C.value]=this.config.value==C.value}),S?this.group.controls[this.config.name].setValue(T):this.masterOption.length>0&&this.group.controls[this.config.name].setValue(this.masterOption[0].value),this.cdf.detectChanges(),this.doFunction())})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.Q),t.Y36(u.D),t.Y36(t.sBO))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-checkbox-box"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"form-group","row"],["style","padding-top: 10px;",3,"class",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"control","valid"],[2,"padding-top","10px"],[1,"example-margin",3,"ngModel","ngModelOptions","name","disabled","change","ngModelChange"]],template:function(e,n){1&e&&t.YNc(0,f,7,7,"div",0),2&e&&t.Q6J("ngIf",n.config)},styles:[""]}),a})();var s=c(85993),d=c(21177),P=c(44290),K=c(92118),M=c(47975),E=c(35618),g=c(60940);function m(a,l){if(1&a&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.Tol(e.config.inlineStyle?"col-"+e.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(e.config.label)}}function O(a,l){if(1&a&&(t.TgZ(0,"div"),t.TgZ(1,"div",7),t._UZ(2,"input",8),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",10,11),t._UZ(6,"app-print-error",12),t.qZA(),t.qZA()),2&a){const e=t.MAs(5),n=t.oxw(3);t.xp6(2),t.Q6J("formControlName",n.config.name)("min",n.fromMinDate)("max",n.fromMaxDate)("matDatepicker",e),t.xp6(1),t.Q6J("for",e),t.xp6(1),t.s9C("disabled",n.isDisabled),t.xp6(2),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}function j(a,l){if(1&a&&(t.TgZ(0,"div"),t.TgZ(1,"div",7),t._UZ(2,"input",8),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",10,11),t._UZ(6,"app-print-error",12),t.qZA(),t.qZA()),2&a){const e=t.MAs(5),n=t.oxw(3);t.Gre("col-",n.config.inputSize,""),t.xp6(2),t.Q6J("formControlName",n.config.name)("min",n.fromMinDate)("max",n.fromMaxDate)("matDatepicker",e),t.xp6(1),t.Q6J("for",e),t.xp6(1),t.s9C("disabled",n.isDisabled),t.xp6(2),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}const z=function(a){return{row:a}};function X(a,l){if(1&a&&(t.ynx(0),t.TgZ(1,"div",4),t.YNc(2,m,2,4,"label",5),t.YNc(3,O,7,8,"div",2),t.YNc(4,j,7,11,"ng-template",null,6,t.W1O),t.qZA(),t.BQk()),2&a){const e=t.MAs(5),n=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(4,z,n.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",n.config.isLabel),t.xp6(1),t.Q6J("ngIf",!n.config.inlineStyle)("ngIfElse",e)}}function _(a,l){if(1&a&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.Tol(e.config.inlineStyle?"col-"+e.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(e.config.label)}}function I(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",7),t.TgZ(2,"input",16),t.NdJ("dateChange",function(){return t.CHM(e),t.oxw(3).doValid()}),t.qZA(),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",10,11),t._UZ(6,"app-print-error",12),t.qZA(),t.qZA()}if(2&a){const e=t.MAs(5),n=t.oxw(3);t.xp6(2),t.Q6J("formControlName",n.config.name)("min",n.fromMinDate)("max",n.fromMaxDate)("matDatepicker",e),t.xp6(1),t.Q6J("for",e),t.xp6(1),t.s9C("disabled",n.isDisabled),t.xp6(2),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}function N(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",7),t.TgZ(2,"input",16),t.NdJ("dateChange",function(){return t.CHM(e),t.oxw(3).doValid()}),t.qZA(),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",10,11),t._UZ(6,"app-print-error",12),t.qZA(),t.qZA()}if(2&a){const e=t.MAs(5),n=t.oxw(3);t.Gre("col-",n.config.inputSize,""),t.xp6(2),t.Q6J("formControlName",n.config.name)("min",n.fromMinDate)("max",n.fromMaxDate)("matDatepicker",e),t.xp6(1),t.Q6J("for",e),t.xp6(1),t.s9C("disabled",n.isDisabled),t.xp6(2),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}function D(a,l){if(1&a&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.Tol(e.config.inlineStyle?"col-"+e.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(e.config.endLabel)}}function A(a,l){if(1&a&&(t.TgZ(0,"div"),t.TgZ(1,"div",7),t._UZ(2,"input",8),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",17,18),t.qZA(),t.qZA()),2&a){const e=t.MAs(5),n=t.oxw(3);t.xp6(2),t.Q6J("formControlName",n.config.endName)("min",n.toMinDate)("max",n.toMaxDate)("matDatepicker",e),t.xp6(1),t.Q6J("for",e)}}function V(a,l){if(1&a&&(t.TgZ(0,"div"),t.TgZ(1,"div",7),t._UZ(2,"input",8),t._UZ(3,"mat-datepicker-toggle",9),t._UZ(4,"mat-datepicker",17,18),t.qZA(),t.qZA()),2&a){const e=t.MAs(5),n=t.oxw(3);t.Gre("col-",n.config.inputSize,""),t.xp6(2),t.Q6J("formControlName",n.config.endName)("min",n.toMinDate)("max",n.toMaxDate)("matDatepicker",e),t.xp6(1),t.Q6J("for",e)}}function R(a,l){if(1&a&&(t.TgZ(0,"div",13),t.TgZ(1,"div",14),t.TgZ(2,"div",4),t.YNc(3,_,2,4,"label",5),t.YNc(4,I,7,8,"div",2),t.YNc(5,N,7,11,"ng-template",null,6,t.W1O),t.qZA(),t.qZA(),t.TgZ(7,"div",14),t.TgZ(8,"div",4),t.YNc(9,D,2,4,"label",5),t.YNc(10,A,6,5,"div",2),t.YNc(11,V,6,8,"ng-template",null,15,t.W1O),t.qZA(),t.qZA(),t.qZA()),2&a){const e=t.MAs(6),n=t.MAs(12),i=t.oxw(2);t.xp6(2),t.Q6J("ngClass",t.VKq(8,z,i.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",i.config.isLabel),t.xp6(1),t.Q6J("ngIf",!i.config.inlineStyle)("ngIfElse",e),t.xp6(4),t.Q6J("ngClass",t.VKq(10,z,i.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",i.config.isLabel),t.xp6(1),t.Q6J("ngIf",!i.config.inlineStyle)("ngIfElse",n)}}function G(a,l){if(1&a&&(t.TgZ(0,"div",1),t.YNc(1,X,6,6,"ng-container",2),t.YNc(2,R,13,12,"ng-template",null,3,t.W1O),t.qZA()),2&a){const e=t.MAs(3),n=t.oxw();t.Q6J("formGroup",n.group),t.xp6(1),t.Q6J("ngIf","date"==n.config.type)("ngIfElse",e)}}let $=(()=>{class a{constructor(e,n,i){this.globalFun=e,this.prodService=n,this.alert=i,this.unSub=[],this.toMinDate=null,this.fromMinDate=null,this.toMaxDate=null,this.fromMaxDate=null,this.valid={value:"",type:""},this.isDisabled=!1}ngOnInit(){this.isDisabled=this.config.disabled,this.listenFunData();let e=this.config.validation;if("policy"!=this.config.type){for(const n of e)if(n.type==p.xT.DATE){let i;if(i=n.dateType==p.Uv.DAY?"days":n.dateType==p.Uv.MONTH?"months":"years",n.from){let r=h().subtract(n.from,i);this.fromMinDate=r.format("YYYY-MM-DD")}else this.fromMinDate=null;if(n.to){let r=h().add(n.to,i);this.fromMaxDate=r.format("YYYY-MM-DD")}else this.fromMaxDate=null}else if(n.type==p.xT.MAX&&n.isAge){let i=h().subtract(n.value,"years");this.fromMinDate=i.format("YYYY-MM-DD")}else if(n.type==p.xT.MIN&&n.isAge){let i=h().subtract(n.value,"years");this.fromMaxDate=i.format("YYYY-MM-DD")}}else{let n=this.prodService.createingProd;if(n){if("no"==n.isAllowBackDate){let i=h();this.fromMinDate=i.format("YYYY-MM-DD"),this.toMinDate=i.format("YYYY-MM-DD")}else if("yes"==n.isAllowBackDate&&n.allowDays>0){let i=h().subtract(n.allowDays,"days");this.fromMinDate=i.format("YYYY-MM-DD"),this.toMinDate=i.format("YYYY-MM-DD")}this.listenValid()}}}ngOnDestroy(){this.unSub.forEach(e=>e.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==p.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue())}listenFunData(){this.config.isFun&&this.config.inpFunction.type==p.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(e=>{this.group.controls[this.config.name].setValue(e)}))}listenValid(){this.unSub[1]=this.globalFun.paPolicyValidationResult.subscribe(e=>{if(e){let n,i;this.valid.value=e.validationValue,n="DAY"==e.validationType?"days":"MONTH"==e.validationType?"months":"years",this.valid.type=n,this.group.controls[this.config.name].value?i=h(this.group.controls[this.config.name].value).add(e.validationValue,n).subtract(1,"days"):(i=h().add(e.validationValue,n).subtract(1,"days"),this.group.controls[this.config.name].setValue(h())),this.toMaxDate=i.subtract(1,"days").format("YYYY-MM-DD"),this.group.controls[this.config.endName].setValue(i)}})}doValid(){if(this.group.controls[this.config.name].value&&this.valid.value){let n=h(this.group.controls[this.config.name].value).add(this.valid.value,this.valid.type).subtract(1,"days");this.toMaxDate=n.format("YYYY-MM-DD"),this.group.controls[this.config.endName].setValue(n)}}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.Q),t.Y36(E.f),t.Y36(g.c))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-date-box"]],features:[t._Bn([{provide:s.DO,useClass:d.Wv},{provide:s.NG,useClass:d.ke},{provide:P._A,useClass:K.t7,deps:[P.Ad]},{provide:P.sG,useValue:M.Gs}])],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[4,"ngIf","ngIfElse"],["policyDate",""],[1,"form-group",3,"ngClass"],[3,"class",4,"ngIf"],["InlineForm",""],[1,"input-group"],["matInput","","readonly","",1,"form-control-sm","date-input",3,"formControlName","min","max","matDatepicker"],["matSuffix","",3,"for"],[3,"disabled"],["picker",""],[3,"control","valid"],[1,"row"],[1,"col-sm-6"],["InlineForm2",""],["matInput","","readonly","",1,"form-control-sm","date-input",3,"formControlName","min","max","matDatepicker","dateChange"],["disabled","true"],["picker2",""]],template:function(e,n){1&e&&t.YNc(0,G,4,3,"div",0),2&e&&t.Q6J("ngIf",n.config)},styles:[".input-group[_ngcontent-%COMP%]   .form-control-sm[_ngcontent-%COMP%]{background-color:#fff;background-clip:padding-box;border:1px solid #E4E6EF;padding:0 .75rem}.input-group[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;right:5px}"]}),a})();function tt(a,l){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-customer-list",9),t.NdJ("selectedUser",function(i){return t.CHM(e),t.oxw().selectedUser(i)}),t.qZA(),t.BQk()}2&a&&(t.xp6(1),t.Q6J("isPopup",!0)("isDynamic",!0))}let et=(()=>{class a{constructor(e,n){this.fb=e,this.modal=n,this.internalConfig=[],this.subscriptions=[]}ngOnInit(){}ngOnDestroy(){}save(){if(this.selectedData&&this.selectedData[this.config.valueField]){this.group.controls[this.config.name].setValue(this.selectedData[this.config.valueField]);for(let e of this.config.autoFields){const n=this.group.get(e.value);let i=this.internalConfig.find(r=>r.name==e.value);if(n)if(i){let r="date"==i.input?h(this.selectedData[e.field]):this.selectedData[e.field];n.setValue(r)}else n.setValue(this.selectedData[e.field])}}this.modal.dismiss()}selectedUser(e){console.log(e),this.selectedData=e}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(v.qu),t.Y36(s.Kz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-custom-dialog"]],inputs:{group:"group",config:"config",internalConfig:"internalConfig"},decls:13,vars:2,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4","left-border-image"],[1,"text-muted","font-weight-bold","font-size-sm","mt-1"],[1,"overlay","overlay-block","cursor-default","modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-primary","btn-elevate",3,"click"],[3,"isPopup","isDynamic","selectedUser"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._uU(3),t.TgZ(4,"span",3),t._uU(5,"Please select in table list"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",4),t.YNc(7,tt,2,2,"ng-container",5),t.qZA(),t.TgZ(8,"div",6),t.TgZ(9,"button",7),t.NdJ("click",function(){return n.modal.dismiss()}),t._uU(10,"Cancel"),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return n.save()}),t._uU(12,"Save"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.hij(" ",n.config.label," "),t.xp6(4),t.Q6J("ngIf","user"==n.config.type))},styles:[".active[_ngcontent-%COMP%]{background-color:#3699ff!important;color:#fff}"]}),a})();var nt=c(22030);function lt(a,l){if(1&a&&(t.TgZ(0,"div"),t._UZ(1,"input",5),t._UZ(2,"app-print-error",6),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.s9C("name",e.config.name),t.s9C("placeholder",e.config.placeholder),t.Q6J("formControlName",e.config.name),t.xp6(1),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}function st(a,l){if(1&a&&(t.TgZ(0,"div"),t._UZ(1,"input",7),t._UZ(2,"app-print-error",6),t.qZA()),2&a){const e=t.oxw(2);t.Gre("col-",e.config.inputSize,""),t.xp6(1),t.s9C("type",e.config.type),t.s9C("name",e.config.name),t.s9C("placeholder",e.config.placeholder),t.Q6J("formControlName",e.config.name),t.xp6(1),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}const ct=function(a){return{row:a}};function rt(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.NdJ("click",function(){return t.CHM(e),t.oxw().openModal()}),t.TgZ(2,"label"),t._uU(3),t.qZA(),t.YNc(4,lt,3,5,"div",3),t.YNc(5,st,3,9,"ng-template",null,4,t.W1O),t.qZA(),t.qZA()}if(2&a){const e=t.MAs(6),n=t.oxw();t.Q6J("formGroup",n.group),t.xp6(1),t.Q6J("ngClass",t.VKq(8,ct,n.config.inlineStyle)),t.xp6(1),t.Tol(n.config.inlineStyle?"col-"+n.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(n.config.label),t.xp6(1),t.Q6J("ngIf",!n.config.inlineStyle)("ngIfElse",e)}}let pt=(()=>{class a{constructor(e,n){this.globalFun=e,this.modalService=n,this.unSub=[],this.isNrc=!1,this.internalConfig=[]}ngOnInit(){this.listenFunData()}ngOnDestroy(){this.unSub.forEach(e=>e.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==p.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue())}listenFunData(){this.config.isFun&&this.config.inpFunction.type==p.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(e=>{this.group.controls[this.config.name].setValue(e)}))}openModal(){if(this.editStage||this.config.disabled)return!1;let e;e=this.modalService.open(this.isNrc?nt.V:et,{size:"xl",backdrop:!1}),e.componentInstance.config=this.config,e.componentInstance.group=this.group,e.componentInstance.internalConfig=this.internalConfig,e.result.then(()=>{},n=>{"save"==n&&this.doFunction()})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.Q),t.Y36(s.FF))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-dialog-box"]],inputs:{internalConfig:"internalConfig"},decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group",3,"ngClass","click"],[4,"ngIf","ngIfElse"],["InlineForm",""],["type","text",1,"form-control","form-control-sm",3,"name","placeholder","formControlName"],[3,"control","valid"],[1,"form-control","form-control-sm",3,"type","name","placeholder","formControlName"]],template:function(e,n){1&e&&t.YNc(0,rt,7,10,"div",0),2&e&&t.Q6J("ngIf",n.config)},styles:[""]}),a})();var ut=c(31248),gt=c(49875),ft=c(60807);const mt=["selectedFile"];function dt(a,l){if(1&a&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.Tol(e.config.inlineStyle?"col-"+e.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(e.config.label)}}function ht(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"input",6,7),t.NdJ("change",function(i){return t.CHM(e),t.oxw(2).doFunction(i)}),t.qZA(),t.TgZ(3,"div",8),t._UZ(4,"input",9),t.TgZ(5,"div",10),t.TgZ(6,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).openFile()}),t._uU(7,"Browse"),t.qZA(),t.qZA(),t.qZA(),t._UZ(8,"app-print-error",12),t.qZA()}if(2&a){const e=t.oxw(2);t.xp6(1),t.s9C("accept","all"==e.config.type||e.config.value?e.config.value:e.config.type),t.s9C("placeholder",e.config.placeholder),t.xp6(3),t.Q6J("formControlName",e.config.name),t.xp6(4),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}function _t(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"input",13,7),t.NdJ("change",function(i){return t.CHM(e),t.oxw(2).doFunction(i)}),t.qZA(),t.TgZ(3,"div",8),t._UZ(4,"input",9),t.TgZ(5,"div",10),t.TgZ(6,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).openFile()}),t._uU(7,"Browse"),t.qZA(),t.qZA(),t.qZA(),t._UZ(8,"app-print-error",12),t.qZA()}if(2&a){const e=t.oxw(2);t.Gre("col-",e.config.inputSize,""),t.xp6(1),t.s9C("name",e.config.name),t.s9C("placeholder",e.config.placeholder),t.xp6(3),t.Q6J("formControlName",e.config.name),t.xp6(4),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}const vt=function(a){return{row:a}};function xt(a,l){if(1&a&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.YNc(2,dt,2,4,"label",3),t.YNc(3,ht,9,5,"div",4),t.YNc(4,_t,9,8,"ng-template",null,5,t.W1O),t.qZA(),t.qZA()),2&a){const e=t.MAs(5),n=t.oxw();t.Q6J("formGroup",n.group),t.xp6(1),t.Q6J("ngClass",t.VKq(5,vt,n.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",n.config.isLabel),t.xp6(1),t.Q6J("ngIf",!n.config.inlineStyle)("ngIfElse",e)}}let Nt=(()=>{class a{constructor(e,n,i){this.globalFun=e,this.fileUpload=n,this.loading=i,this.unSub=[]}ngOnInit(){this.listenFunData()}ngOnDestroy(){this.unSub.forEach(e=>e.unsubscribe())}doFunction(e){this.config.isFun&&this.config.inpFunction.type==p.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue()),this.handleUpload(e)}handleUpload(e){if(e){const n=e.target.files[0];console.log(n);const i=(0,ut.y)();i.readAsDataURL(n),i.onload=()=>{if(i.result){let T={fileStr:i.result.toString().split(",")[1],fileName:n.name,fileType:n.type,fileSize:n.size,contentType:n.type,fileExtension:n.name.split(".").pop()};this.loading.activate(),this.fileUpload.save(T).toPromise().then(S=>{S&&this.group.controls[this.config.name].setValue(`[${S}].${T.fileName}`),this.loading.deactivate()}).catch(S=>{this.loading.deactivate()})}}}}listenFunData(){this.config.isFun&&this.config.inpFunction.type==p.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(e=>{this.group.controls[this.config.name].setValue(e)}))}openFile(){if(this.editStage)return!1;this.selectedFileEl.nativeElement.click()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.Q),t.Y36(gt.p3),t.Y36(ft.b))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-file-box"]],viewQuery:function(e,n){if(1&e&&t.Gf(mt,5),2&e){let i;t.iGM(i=t.CRH())&&(n.selectedFileEl=i.first)}},decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group",3,"ngClass"],[3,"class",4,"ngIf"],[4,"ngIf","ngIfElse"],["InlineForm",""],["type","file","name","phone",1,"form-control","form-control-sm",2,"display","none",3,"accept","placeholder","change"],["selectedFile",""],[1,"input-group"],["type","text",1,"form-control","form-control-sm",3,"formControlName"],[1,"input-group-append"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[3,"control","valid"],["type","file",1,"form-control","form-control-sm",2,"display","none",3,"name","placeholder","change"]],template:function(e,n){1&e&&t.YNc(0,xt,6,7,"div",0),2&e&&t.Q6J("ngIf",n.config)},styles:[""]}),a})();function Tt(a,l){if(1&a&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.Tol(e.config.inlineStyle?"col-"+e.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(e.config.label)}}function yt(a,l){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"textarea",8),t.NdJ("change",function(){return t.CHM(e),t.oxw(3).doFunction()}),t.qZA(),t.BQk()}if(2&a){const e=t.oxw(3);t.xp6(1),t.s9C("name",e.config.name),t.s9C("placeholder",e.config.placeholder),t.Q6J("formControlName",e.config.name)}}const ot=function(){return{prefix:"",thousands:",",precision:0,allowNegative:!1,align:"left"}};function Ct(a,l){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",10),t.NdJ("focusout",function(){return t.CHM(e),t.oxw(4).doFunction()}),t.qZA(),t.TgZ(2,"span",11),t._uU(3),t.qZA(),t.BQk()}if(2&a){const e=t.oxw(4);t.xp6(1),t.s9C("name",e.config.name),t.s9C("placeholder",e.config.placeholder),t.Q6J("options",t.DdM(5,ot))("formControlName",e.config.name),t.xp6(2),t.Oqu(e.currencyType)}}function Mt(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"input",12),t.NdJ("change",function(){return t.CHM(e),t.oxw(4).doFunction()}),t.qZA()}if(2&a){const e=t.oxw(4);t.s9C("type",e.config.type),t.s9C("name",e.config.name),t.s9C("placeholder",e.config.placeholder),t.Q6J("formControlName",e.config.name)}}function bt(a,l){if(1&a&&(t.YNc(0,Ct,4,6,"ng-container",4),t.YNc(1,Mt,1,4,"ng-template",null,9,t.W1O)),2&a){const e=t.MAs(2),n=t.oxw(3);t.Q6J("ngIf","currency"==n.config.type)("ngIfElse",e)}}function Dt(a,l){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,yt,2,3,"ng-container",4),t.YNc(2,bt,3,2,"ng-template",null,6,t.W1O),t._UZ(4,"app-print-error",7),t.qZA()),2&a){const e=t.MAs(3),n=t.oxw(2);t.xp6(1),t.Q6J("ngIf","textarea"===n.config.type)("ngIfElse",e),t.xp6(3),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}function At(a,l){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"textarea",8),t.NdJ("change",function(){return t.CHM(e),t.oxw(3).doFunction()}),t.qZA(),t.BQk()}if(2&a){const e=t.oxw(3);t.xp6(1),t.s9C("name",e.config.name),t.s9C("placeholder",e.config.placeholder),t.Q6J("formControlName",e.config.name)}}function Zt(a,l){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",10),t.NdJ("focusout",function(){return t.CHM(e),t.oxw(4).doFunction()}),t.qZA(),t.TgZ(2,"span",11),t._uU(3),t.qZA(),t.BQk()}if(2&a){const e=t.oxw(4);t.xp6(1),t.s9C("name",e.config.name),t.s9C("placeholder",e.config.placeholder),t.Q6J("options",t.DdM(5,ot))("formControlName",e.config.name),t.xp6(2),t.Oqu(e.currencyType)}}function Ft(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"input",12),t.NdJ("change",function(){return t.CHM(e),t.oxw(4).doFunction()}),t.qZA()}if(2&a){const e=t.oxw(4);t.s9C("type",e.config.type),t.s9C("name",e.config.name),t.s9C("placeholder",e.config.placeholder),t.Q6J("formControlName",e.config.name)}}function Yt(a,l){if(1&a&&(t.YNc(0,Zt,4,6,"ng-container",4),t.YNc(1,Ft,1,4,"ng-template",null,14,t.W1O)),2&a){const e=t.MAs(2),n=t.oxw(3);t.Q6J("ngIf","currency"==n.config.type)("ngIfElse",e)}}function Ot(a,l){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,At,2,3,"ng-container",4),t.YNc(2,Yt,3,2,"ng-template",null,13,t.W1O),t._UZ(4,"app-print-error",7),t.qZA()),2&a){const e=t.MAs(3),n=t.oxw(2);t.Gre("col-",n.config.inputSize," currency-group"),t.xp6(1),t.Q6J("ngIf","textarea"===n.config.type)("ngIfElse",e),t.xp6(3),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}const It=function(a){return{row:a}};function St(a,l){if(1&a&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.YNc(2,Tt,2,4,"label",3),t.YNc(3,Dt,5,4,"div",4),t.YNc(4,Ot,5,7,"ng-template",null,5,t.W1O),t.qZA(),t.qZA()),2&a){const e=t.MAs(5),n=t.oxw();t.Q6J("formGroup",n.group),t.xp6(1),t.Q6J("ngClass",t.VKq(5,It,n.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",n.config.isLabel),t.xp6(1),t.Q6J("ngIf",!n.config.inlineStyle)("ngIfElse",e)}}let wt=(()=>{class a{constructor(e){this.globalFun=e,this.unSub=[],this.currencyType="MMK"}ngOnInit(){this.listenFunData(),"currency"==this.config.type&&(this.unSub[1]=this.globalFun.currenyValueObs.subscribe(e=>{this.currencyType!=e&&(this.currencyType=e)}))}ngOnDestroy(){this.unSub.forEach(e=>e.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==p.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue())}listenFunData(){this.config.isFun&&this.config.inpFunction.type==p.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(e=>{this.group.controls[this.config.name].setValue(e)}))}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.Q))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-input-box"]],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group","currency-group",3,"ngClass"],[3,"class",4,"ngIf"],[4,"ngIf","ngIfElse"],["InlineForm",""],["inputNoraml",""],[3,"control","valid"],[1,"form-control","form-control-sm",3,"name","placeholder","formControlName","change"],["inputText",""],["type","tel","currencyMask","",1,"form-control","form-control-sm","currency-input-tag",3,"options","name","placeholder","formControlName","focusout"],[1,"currency-tag"],[1,"form-control","form-control-sm",3,"type","name","placeholder","formControlName","change"],["inputNoraml2",""],["inputText2",""]],template:function(e,n){1&e&&t.YNc(0,St,6,7,"div",0),2&e&&t.Q6J("ngIf",n.config)},styles:[".currency-tag[_ngcontent-%COMP%]{position:absolute;right:5px;font-size:.9rem;text-transform:uppercase;top:50%;transform:translateY(-50%)}[class*=col-][_ngcontent-%COMP%]   .currency-tag[_ngcontent-%COMP%]{right:20px}.currency-input-tag[_ngcontent-%COMP%]{padding-right:35px}.currency-group[_ngcontent-%COMP%]{position:relative}"]}),a})();const Et=["app-label-box",""];let Bt=(()=>{class a{constructor(){}ngOnInit(){this.config.labelSize=this.config.labelSize||1,this.config.endLabel=this.config.endLabel||"rem",this.config.endLabelMM=this.config.endLabelMM||"normal"}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["","app-label-box",""]],attrs:Et,decls:2,vars:17,consts:[[1,"default"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._uU(1),t.qZA()),2&e&&(t.Udp("background-color",n.config.label)("color",n.config.coreName)("font-size",n.config.labelSize+n.config.endLabel)("font-weight",n.config.endLabelMM)("border-top",n.config.multi?"1px solid rgba(0, 0, 0, 0.1)":"none")("border-right",n.config.inlineStyle?"1px solid rgba(0, 0, 0, 0.1)":"none")("border-bottom",n.config.readonly?"1px solid rgba(0, 0, 0, 0.1)":"none")("border-left",n.config.disabled?"1px solid rgba(0, 0, 0, 0.1)":"none"),t.xp6(1),t.hij(" ",n.config.name,"\n"))},styles:[".default[_ngcontent-%COMP%]{padding:20px 10px;margin-left:-10px;margin-right:-10px}"]}),a})();function Pt(a,l){if(1&a&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.Gre("col-form-label col-",e.config.inlineStyle?e.config.labelSize:"12",""),t.xp6(1),t.Oqu(e.config.label)}}function Jt(a,l){if(1&a&&(t.TgZ(0,"mat-radio-button",7),t._uU(1),t.qZA()),2&a){const e=l.$implicit;t.s9C("value",e.value),t.xp6(1),t.hij("",e.text," ")}}function Kt(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"section",1),t.TgZ(1,"div",2),t.YNc(2,Pt,2,4,"label",3),t.TgZ(3,"mat-radio-group",4),t.NdJ("change",function(){return t.CHM(e),t.oxw().doFunction()}),t.YNc(4,Jt,2,2,"mat-radio-button",5),t.qZA(),t.qZA(),t.TgZ(5,"div"),t._UZ(6,"app-print-error",6),t.qZA(),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("formGroup",e.group),t.xp6(2),t.Q6J("ngIf",e.config.isLabel),t.xp6(1),t.Gre("col-",e.config.inlineStyle?e.config.inputSize:"12",""),t.Q6J("formControlName",e.config.name),t.xp6(1),t.Q6J("ngForOf",e.masterOption),t.xp6(2),t.Q6J("control",e.group.controls[e.config.name])("valid",e.config.validation)}}let Lt=(()=>{class a{constructor(e,n,i){this.globalFun=e,this.masterData=n,this.cdf=i,this.unSub=[],this.masterOption=[],this.oldValue=""}ngOnInit(){"true"==this.config.master?this.config.dependency||this.getOptions():this.masterOption=this.config.options,this.listenFunData()}ngOnDestroy(){this.unSub.forEach(e=>e.unsubscribe())}doFunction(){this.config.isFun&&this.config.inpFunction.type==p.Ck.TRIGGER&&this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue()),this.config.isCurrency&&this.globalFun.currenyValueObs.next(this.group.getRawValue()[this.config.name])}listenFunData(){this.config.isFun&&this.config.inpFunction.type==p.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(e=>{this.group.controls[this.config.name].setValue(e)}))}getOptions(){let e=this.config.valueField,n=this.config.showField;this.masterData.getDataByType(this.config.masterData).toPromise().then(i=>{i&&(this.masterOption=i.map(r=>Object.assign({value:r[e],text:r[n]},r)),this.cdf.detectChanges(),this.doFunction())})}reGetOption(e){if(e==this.oldValue)return!1;let n=this.config.dependency,i=this.config.valueField,r=this.config.showField,T=this.group.getRawValue()[this.config.name]||this.config.value,S=!1;this.oldValue=e,this.masterData.getDataByType(this.config.masterData).pipe((0,F.U)(B=>B.filter(C=>C[n.relatedField]==e))).toPromise().then(B=>{B&&(this.masterOption=B.map(C=>(C[i]==T&&(S=!0),Object.assign({value:C[i],text:C[r]},C))),S?this.group.controls[this.config.name].setValue(T):this.masterOption.length>0&&this.group.controls[this.config.name].setValue(this.masterOption[0].value),this.cdf.detectChanges(),this.doFunction())})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(x.Q),t.Y36(u.D),t.Y36(t.sBO))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-radio-box"]],decls:1,vars:1,consts:[["class","example-section",3,"formGroup",4,"ngIf"],[1,"example-section",3,"formGroup"],[1,"form-group","row"],[3,"class",4,"ngIf"],[3,"formControlName","change"],["class","mx-1",3,"value",4,"ngFor","ngForOf"],[3,"control","valid"],[1,"mx-1",3,"value"]],template:function(e,n){1&e&&t.YNc(0,Kt,7,9,"section",0),2&e&&t.Q6J("ngIf",n.config)},styles:[""]}),a})();function kt(a,l){if(1&a&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.Tol(e.config.inlineStyle?"col-"+e.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(e.config.label)}}function Qt(a,l){if(1&a&&(t.TgZ(0,"ng-option",10),t._uU(1),t.qZA()),2&a){const e=l.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Ut(a,l){if(1&a&&(t.ynx(0),t.YNc(1,Qt,2,2,"ng-option",9),t.BQk()),2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.masterOption)}}function Rt(a,l){if(1&a&&(t.TgZ(0,"ng-option",10),t._uU(1),t.qZA()),2&a){const e=l.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.text)}}function qt(a,l){if(1&a&&t.YNc(0,Rt,2,2,"ng-option",9),2&a){const e=t.oxw(3);t.Q6J("ngForOf",e.config.options)}}function Vt(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"ng-select",6),t.NdJ("change",function(){return t.CHM(e),t.oxw(2).doFunction()}),t.YNc(2,Ut,2,1,"ng-container",4),t.YNc(3,qt,1,1,"ng-template",null,7,t.W1O),t.qZA(),t._UZ(5,"app-print-error",8),t.qZA()}if(2&a){const e=t.MAs(4),n=t.oxw(2);t.xp6(1),t.s9C("placeholder",n.config.placeholder),t.Q6J("formControlName",n.config.name),t.xp6(1),t.Q6J("ngIf","true"==n.config.master)("ngIfElse",e),t.xp6(3),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}function Gt(a,l){if(1&a&&(t.TgZ(0,"ng-option",10),t._uU(1),t.qZA()),2&a){const e=l.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Ht(a,l){if(1&a&&(t.ynx(0),t.YNc(1,Gt,2,2,"ng-option",9),t.BQk()),2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.masterOption)}}function zt(a,l){if(1&a&&(t.TgZ(0,"ng-option",10),t._uU(1),t.qZA()),2&a){const e=l.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Wt(a,l){if(1&a&&t.YNc(0,zt,2,2,"ng-option",9),2&a){const e=t.oxw(3);t.Q6J("ngForOf",e.config.options)}}function $t(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"ng-select",6),t.NdJ("change",function(){return t.CHM(e),t.oxw(2).doFunction()}),t.YNc(2,Ht,2,1,"ng-container",4),t.YNc(3,Wt,1,1,"ng-template",null,11,t.W1O),t.qZA(),t._UZ(5,"app-print-error",8),t.qZA()}if(2&a){const e=t.MAs(4),n=t.oxw(2);t.Gre("col-",n.config.inputSize,""),t.xp6(1),t.s9C("placeholder",n.config.placeholder),t.Q6J("formControlName",n.config.name),t.xp6(1),t.Q6J("ngIf","true"==n.config.master)("ngIfElse",e),t.xp6(3),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}const it=function(a){return{row:a}};function jt(a,l){if(1&a&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.YNc(2,kt,2,4,"label",3),t.YNc(3,Vt,6,6,"div",4),t.YNc(4,$t,6,9,"ng-template",null,5,t.W1O),t.qZA(),t.qZA()),2&a){const e=t.MAs(5),n=t.oxw();t.Q6J("formGroup",n.group),t.xp6(1),t.Q6J("ngClass",t.VKq(5,it,n.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",n.config.isLabel),t.xp6(1),t.Q6J("ngIf",!n.config.inlineStyle)("ngIfElse",e)}}function Xt(a,l){if(1&a&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.Tol(e.config.inlineStyle?"col-"+e.config.labelSize+" col-form-label":""),t.xp6(1),t.Oqu(e.config.label)}}function te(a,l){if(1&a&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&a){const e=l.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function ee(a,l){if(1&a&&(t.ynx(0),t.YNc(1,te,2,2,"mat-option",9),t.BQk()),2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.masterOption)}}function ne(a,l){if(1&a&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&a){const e=l.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function ae(a,l){if(1&a&&t.YNc(0,ne,2,2,"mat-option",9),2&a){const e=t.oxw(3);t.Q6J("ngForOf",e.config.options)}}function oe(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"mat-select",12),t.NdJ("change",function(){return t.CHM(e),t.oxw(2).doFunction()}),t.YNc(2,ee,2,1,"ng-container",4),t.YNc(3,ae,1,1,"ng-template",null,13,t.W1O),t.qZA(),t._UZ(5,"app-print-error",8),t.qZA()}if(2&a){const e=t.MAs(4),n=t.oxw(2);t.xp6(1),t.Q6J("formControlName",n.config.name),t.xp6(1),t.Q6J("ngIf","true"==n.config.master)("ngIfElse",e),t.xp6(3),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}function ie(a,l){if(1&a&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&a){const e=l.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function le(a,l){if(1&a&&(t.ynx(0),t.YNc(1,ie,2,2,"mat-option",9),t.BQk()),2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.masterOption)}}function se(a,l){if(1&a&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&a){const e=l.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function ce(a,l){if(1&a&&t.YNc(0,se,2,2,"mat-option",9),2&a){const e=t.oxw(3);t.Q6J("ngForOf",e.config.options)}}function re(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"mat-select",12),t.NdJ("change",function(){return t.CHM(e),t.oxw(2).doFunction()}),t.YNc(2,le,2,1,"ng-container",4),t.YNc(3,ce,1,1,"ng-template",null,14,t.W1O),t.qZA(),t._UZ(5,"app-print-error",8),t.qZA()}if(2&a){const e=t.MAs(4),n=t.oxw(2);t.Gre("col-",n.config.inputSize,""),t.xp6(1),t.Q6J("formControlName",n.config.name),t.xp6(1),t.Q6J("ngIf","true"==n.config.master)("ngIfElse",e),t.xp6(3),t.Q6J("control",n.group.controls[n.config.name])("valid",n.config.validation)}}function pe(a,l){if(1&a&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.YNc(2,Xt,2,4,"label",3),t.YNc(3,oe,6,5,"div",4),t.YNc(4,re,6,8,"ng-template",null,5,t.W1O),t.qZA(),t.qZA()),2&a){const e=t.MAs(5),n=t.oxw();t.Q6J("formGroup",n.group),t.xp6(1),t.Q6J("ngClass",t.VKq(5,it,n.config.inlineStyle)),t.xp6(1),t.Q6J("ngIf",n.config.isLabel),t.xp6(1),t.Q6J("ngIf",!n.config.inlineStyle)("ngIfElse",e)}}const at={date:$,input:wt,select:(()=>{class a{constructor(e,n,i){this.masterData=e,this.cdf=n,this.globalFun=i,this.config={},this.masterOption=[],this.unSub=[],this.oldValue=""}ngOnInit(){"true"==this.config.master&&(this.config.dependency||this.getOptions())}ngOnDestroy(){this.unSub.forEach(e=>e.unsubscribe())}doFunction(){if(this.config.isFun&&this.config.inpFunction.type==p.Ck.TRIGGER){if("paPolicyValidation"==this.config.inpFunction.funName)return!1;this.globalFun[this.config.inpFunction.funName](this.group.getRawValue()[this.config.name],this.group.getRawValue(),this.masterOption)}if(this.config.policyterm){let e=this.group.getRawValue()[this.config.name]||this.config.value;this.globalFun.paPolicyValidation(e,this.masterOption)}}listenFunData(){this.config.isFun&&this.config.inpFunction.type==p.Ck.GETDATA&&(this.unSub[0]=this.globalFun[this.config.inpFunction.funName+"Result"].subscribe(e=>{this.group.controls[this.config.name].setValue(e)}))}getOptions(){let e=this.config.valueField,n=this.config.showField;this.masterData.getDataByType(this.config.masterData,"address"==this.config.type).toPromise().then(r=>{r&&(this.masterOption=r.map(T=>Object.assign({value:T[e],text:T[n]},T)),this.cdf.detectChanges(),this.doFunction())})}reGetOption(e){if(e==this.oldValue)return!1;let n=this.config.dependency,i=this.config.valueField,r=this.config.showField,T=this.group.getRawValue()[this.config.name]||this.config.value,S=!1;this.oldValue=e,this.masterData.getDataByType(this.config.masterData,"address"==this.config.type).pipe((0,F.U)(C=>C.filter(J=>J[n.relatedField]==e))).toPromise().then(C=>{C&&(this.masterOption=C.map(J=>(J[i]==T&&(S=!0),Object.assign({value:J[i],text:J[r]},J))),S?this.group.controls[this.config.name].setValue(T):this.masterOption.length>0&&this.group.controls[this.config.name].setValue(this.masterOption[0].value),this.cdf.detectChanges(),this.doFunction())})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(u.D),t.Y36(t.sBO),t.Y36(x.Q))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-select-box"]],decls:2,vars:2,consts:[["class","config.size",3,"formGroup",4,"ngIf"],[1,"config.size",3,"formGroup"],[1,"form-group",3,"ngClass"],[3,"class",4,"ngIf"],[4,"ngIf","ngIfElse"],["InlineForm",""],[1,"ng-custom-select",3,"formControlName","placeholder","change"],["Otheroption",""],[3,"control","valid"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["Otheroption2",""],["multiple","",1,"form-control","form-control-sm",3,"formControlName","change"],["Otheroption3",""],["Otheroption4",""]],template:function(e,n){1&e&&(t.YNc(0,jt,6,7,"div",0),t.YNc(1,pe,6,7,"div",0)),2&e&&(t.Q6J("ngIf",n.config&&(!n.config.multi||"false"==n.config.multi)),t.xp6(1),t.Q6J("ngIf",n.config&&n.config.multi&&"true"==n.config.multi))},styles:[""]}),a})(),radio:Lt,checkbox:Y,file:Nt,dialog:pt,label:Bt};let q=class{constructor(l,e,n,i){this.resolver=l,this.container=e,this.renderer=n,this.cd=i,this.editStage=!1,this.i=0,this.onEdit=new t.vpe,this.divBreaked=[],this.internalConfig=[]}ngAfterViewInit(){this.cd.detectChanges()}ngOnChanges(){if(this.component&&(this.component.instance.config=this.config,this.component.instance.group=this.group,this.component.instance.internalConfig=this.internalConfig,this.editStage&&"true"===this.config.break)){let l=this.component.location.nativeElement,e=l.parentElement.getElementsByClassName("custom"+this.config.name);if(e.length>0)for(let n=0;n<e.length;n++)l.parentNode.removeChild(e[n]);l.insertAdjacentHTML("beforebegin","<div class='w-100 custom"+this.config.name+"'></div>")}}ngOnDestroy(){this.component&&this.divBreaked.forEach(l=>{let e=this.component.location.nativeElement;if("true"===l.break){let n=e.parentElement.getElementsByClassName("custom"+l.name);for(let i=0;i<n.length;i++)e.parentNode.removeChild(n[i])}})}ngOnInit(){if(this.config.show||this.editStage){if(!at[this.config.input]){const i=Object.keys(at).join(", ");throw new Error(`Trying to use an unsupported type (${this.config.input}).\n        Supported types: ${i}`)}const e=this.resolver.resolveComponentFactory(at["input"==this.config.input&&"nrc"==this.config.type?"dialog":this.config.input]);this.component=this.container.createComponent(e),this.component.instance.config=this.config,this.component.instance.group=this.group,this.component.instance.internalConfig=this.internalConfig,"input"==this.config.input&&"nrc"==this.config.type&&(this.component.instance.isNrc=!0,this.component.instance.editStage=this.editStage),("dialog"==this.config.input||"file"==this.config.input)&&(this.component.instance.editStage=this.editStage);let n=this.component.location.nativeElement;if(n.classList.toggle(`col-xs-${this.config.size}`),n.classList.toggle(`col-sm-${this.config.mdSize}`),n.classList.toggle(`col-lg-${this.config.mdSize}`),!this.editStage&&"label"!=this.config.input&&(this.component.instance.doFunction(),this.config.dependency&&(this.checkDep(this.config.dependency)||n.classList.add("show-off"))),!0===this.editStage&&this.renderer.listen(this.component.location.nativeElement,"click",i=>{this.clickedEvent()}),"true"===this.config.break)0===n.parentElement.getElementsByClassName("custom"+this.config.name).length&&n.insertAdjacentHTML("beforebegin","<div class='w-100 custom"+this.config.name+"'></div>");else{let i=n.parentElement.getElementsByClassName("custom"+this.config.name);i.length>0&&n.parentNode.removeChild(i[0])}}}checkDep(l){return(0,w.J)(l,this.group)}clickedEvent(){!0===this.editStage&&this.onEdit.emit(this.index)}ngAfterContentChecked(){if(!this.editStage&&this.config.show&&"label"!=this.config.input&&this.config.dependency){let l=this.component.location.nativeElement;if(this.checkDep(this.config.dependency)){if("true"==this.config.master){let e=this.config.dependency;this.component.instance.reGetOption(this.group.getRawValue()[e.parentName])}if(l.classList.remove("show-off"),this.component.instance.group){this.component.instance.group.controls[this.config.name].setValidators(null);let e=[];if(this.config.validation){let n=this.config.validation;for(let i of n)if(i.type==p.xT.REQUIRED)e.push(v.kI.required);else if(i.type==p.xT.MAX&&"date"!=this.config.type){let r="number"==this.config.type?v.kI.max(i.value):v.kI.maxLength(i.value);e.push(r)}else if(i.type==p.xT.MIN&&"date"!=this.config.type){let r="number"==this.config.type?v.kI.max(i.value):v.kI.maxLength(i.value);e.push(r)}}"input"==this.config.input&&"email"==this.config.type&&e.push(v.kI.email),this.component.instance.group.controls[this.config.name].setValidators(e),this.component.instance.group.controls[this.config.name].updateValueAndValidity()}}else this.component.instance.group&&(this.component.instance.group.controls[this.config.name].setValue(""),this.component.instance.group.controls[this.config.name].setValidators(null),this.component.instance.group.controls[this.config.name].updateValueAndValidity()),l.classList.add("show-off")}}};function ue(a,l){if(1&a){const e=t.EpF();t.ynx(0,4),t.NdJ("onEdit",function(i){return t.CHM(e),t.oxw(2).Edited(i)}),t.BQk()}if(2&a){const e=t.oxw(),n=e.$implicit,i=e.index,r=t.oxw();t.Q6J("config",n)("internalConfig",r.internalConfig)("index",i)("group",r.form)("editStage",r.editStage)("divBreaked",r.getBreaked())}}function ge(a,l){if(1&a){const e=t.EpF();t.ynx(0),t._UZ(1,"div",5),t.TgZ(2,"div",6),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index;return t.oxw().Edited(i)}),t._UZ(3,"hr"),t.qZA(),t.BQk()}}function fe(a,l){if(1&a&&(t.ynx(0),t.YNc(1,ue,1,6,"ng-container",2),t.YNc(2,ge,4,0,"ng-container",3),t.BQk()),2&a){const e=l.$implicit;t.xp6(1),t.Q6J("ngIf","underline"!==e.input),t.xp6(1),t.Q6J("ngIf","underline"==e.input)}}(0,o.gn)([(0,t.IIB)()],q.prototype,"config",void 0),(0,o.gn)([(0,t.IIB)()],q.prototype,"group",void 0),(0,o.gn)([(0,t.IIB)()],q.prototype,"index",void 0),(0,o.gn)([(0,t.IIB)()],q.prototype,"editStage",void 0),(0,o.gn)([(0,t.r_U)()],q.prototype,"onEdit",void 0),(0,o.gn)([(0,t.IIB)()],q.prototype,"divBreaked",void 0),(0,o.gn)([(0,t.IIB)()],q.prototype,"internalConfig",void 0),q=(0,o.gn)([(0,t.Xek)({selector:"[dynamicField]"})],q);let me=(()=>{class a{constructor(e,n){this.fb=e,this.globalFun=n,this.config=[],this.tempData={},this.submit=new t.vpe,this.onEdit=new t.vpe,this.internalConfig=[]}get controls(){return this.internalConfig.filter(({type:e})=>"button"!==e)}get valid(){return this.form.valid}get value(){return this.form.value}ngOnInit(){this.internalConfig=JSON.parse(JSON.stringify(this.config)),this.form=this.createGroup()}createGroup(e=!1){const n=this.fb.group({});let i=0;return this.controls.forEach(r=>{i+=1,"label"!=r.input&&"underline"!=r.input&&(n.addControl(r.name,this.createControl(r)),"date"==r.input&&"policy"==r.type&&n.addControl(r.endName,this.createControl(r,"policy")))}),n}createControl(e,n){let{disabled:i,value:r,name:T,validation:S,endName:B}=e,C=[];if((this.editStage||e.input==p.Xu.DIALOG||e.input==p.Xu.INPUT&&"nrc"==e.type)&&(i=!0),S&&e.show)for(let L of S)if(L.type==p.xT.REQUIRED)C.push(v.kI.required);else if(L.type==p.xT.MAX&&"date"!=e.type){let W="number"==e.type||"currency"==e.type?v.kI.max(L.value):v.kI.maxLength(L.value);C.push(W)}else if(L.type==p.xT.MIN&&"date"!=e.type){let W="number"==e.type||"currency"==e.type?v.kI.min(L.value):v.kI.minLength(L.value);C.push(W)}"input"==e.input&&"email"==e.type&&e.show&&C.push(v.kI.email);let J=n?B:T;if("file"==e.input)return this.fb.control({disabled:!0,value:this.tempData[T]&&this.tempData[T]||null},[...C]);let H=this.tempData[J]?this.tempData[J]:r;return e.value=H,"date"==e.input&&(H=H&&h(H)),this.fb.control({disabled:i,value:H||null},[...C])}handleSubmit(){return!this.form.invalid&&(this.submit.emit(this.form.getRawValue()),!0)}reCreateFrom(){this.internalConfig=JSON.parse(JSON.stringify(this.config)),this.form=this.createGroup(!0),this.globalFun.optionResultChange.next(!0)}newFormCreate(e,n){let i=JSON.parse(JSON.stringify(e));console.log(e,n),this.internalConfig=i;const r=this.fb.group({});this.tempData=n||{},i.forEach(T=>{"label"!=T.input&&"underline"!=T.input&&(r.addControl(T.name,this.createControl(T)),"date"==T.input&&"policy"==T.type&&r.addControl(T.endName,this.createControl(T,"policy")))}),this.form=r}Edited(e){this.onEdit.emit(e)}getBreaked(){return this.config.filter(e=>"true"===e.break)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(v.qu),t.Y36(x.Q))},a.\u0275cmp=t.Xpm({type:a,selectors:[["dynamic-form"]],inputs:{config:"config",tempData:"tempData",editStage:"editStage"},outputs:{submit:"submit",onEdit:"onEdit"},exportAs:["dynamicForm"],decls:2,vars:2,consts:[[1,"dynamic-form","row",2,"align-items","center",3,"formGroup"],[4,"ngFor","ngForOf"],["dynamicField","",3,"config","internalConfig","index","group","editStage","divBreaked","onEdit",4,"ngIf"],[4,"ngIf"],["dynamicField","",3,"config","internalConfig","index","group","editStage","divBreaked","onEdit"],[1,"w-100"],[1,"col-12",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0),t.YNc(1,fe,3,2,"ng-container",1),t.qZA()),2&e&&(t.Q6J("formGroup",n.form),t.xp6(1),t.Q6J("ngForOf",n.internalConfig))},directives:[v._Y,v.JL,v.sg,b.sg,b.O5,q],encapsulation:2}),a})()},21558:(k,Z,c)=>{c.d(Z,{Ck:()=>t,xT:()=>h,Uv:()=>p,Us:()=>b,M:()=>o,m0:()=>w,Xu:()=>F});var t=(()=>{return(u=t||(t={})).TRIGGER="trigger",u.GETDATA="getdata",t;var u})(),h=(()=>{return(u=h||(h={})).REQUIRED="required",u.MIN="min",u.MAX="max",u.DATE="date",h;var u})(),p=(()=>{return(u=p||(p={})).WEEK="week",u.MONTH="month",u.DAY="day",u.YEAR="year",p;var u})(),b=(()=>{return(u=b||(b={})).SUBMIT="submit",u.NEXT="next",u.PREVIOUS="previous",u.RESET="reset",b;var u})(),o=(()=>{return(u=o||(o={})).NONE="",u.CENTER="mx-auto",u.LEFT="ml-auto",u.RIGHT="mr-auto",o;var u})(),w=(()=>{return(u=w||(w={})).PRIMARY="primary",u.SECONDARY="secondary",u.SUCCESS="success",u.WARNING="warning",u.DANGER="danger",u.INFO="info",u.DARK="dark",u.LIGHT="light",w;var u})(),F=(()=>{return(u=F||(F={})).INPUT="input",u.CHECKBOX="checkbox",u.DIALOG="dialog",u.FILE="file",u.RADIO="radio",u.SELECT="select",u.DATE="date",F;var u})()},22030:(k,Z,c)=>{c.d(Z,{V:()=>K});var t=c(49133),v=c(28100),h=c(54753),p=c(72835),x=c(82997);const b=[{stage:"01",township:["KhaPhaNa","KhaLaNa","SaLaNa","SaPaBa","TaNaNa","NaMaNa","PaTaAh","PhaKaNa","BaMaNa","MaKaNa","MaNyaNa","MaKaNa","MaHsaNa","MaKhaBa","MaMaNa","YaKaNa","WaMaNa","AhGaYa"]},{stage:"02",township:["DaMaSa","PhaSaNa","PhaYaSa","BaLaKha","MaHsaNa","YaTaNa","YaThaNa","LaKaNa"]},{stage:"03",township:["KaKaYa","KaSaKa","PhaPaNa","BaAhNa","MaWaTa","LaBaNa","ThaTaNa"]},{stage:"04",township:["KaPaLa","TaTaNa","TaZaNa","HtaTaLa","PaLaWa","PhaLaNa","MaTaNa","MaTaPa","HaKhaNa"]},{stage:"05",township:["KaLaNa","KhaNaTa","KaThaNa","KaBaLa","MaLaNa","MaYaNa","YaBaNa","TaMaNa","YaMaPa","AhYaTa","BaTaLa","KhaOuNa","DaPaYa","HaMaLa","AhTaNa","KaLaWa","KaNaNa","KaLaNa","KhaOuNa","KaLaNa","MaMaNa","MaMaNa","PaLaNa","PhaPaNa","PaLaBa","SaLaKa","HsaKaNa","TaSaNa","HtaKhaNa","WaLaNa","WaThaNa","BaMaNa","NaYaNa","YaOuNa","MaKaNa","LaYaNa","LaHaNa"]},{stage:"06",township:["HtaWaNa","MaMaNa","KaThaNa","LaLaNa","ThaYaKha","YaPhaNa","KaHsaNa","PaLaNa","BaPaNa","PaLaNa"]},{stage:"07",township:["PaKhaNa","KaTaKha","ZaKaNa","NyaLaPa","TaNgaNa","NaTaLa","KaWaNa","PaMaNa","PaTaNa","PhaMaNa","MaLaNa","YaTaYa","LaPaTa","WaMaNa","ThaWaTa","ThaKaNa","AhPhaNa","MaNyaNa","PaKhaNa","DaOuNa","ThaNaPa","HtaTaPa","AhTaNa","KaKaNa","YaKaNa","KaPaKa","YaTaNa","PaTaNa"]},{stage:"08",township:["MaKaNa","KhaMaNa","PaKhaKa","ThaYaNa","GaGaNa","NaMaNa","MaThaNa","YaNaKha","TaTaKa","MaBaNa","PaPhaNa","HsaLaNa","NgaPhaNa","HsaTaYa","SaPhaNa","YaHsaKa","MaMaNa","PaMaNa","HtaLaNa","SaMaNa","AhLaNa","SaPaWa","MaTaNa","MaLaNa","KaMaNa"]},{stage:"09",township:["KaSaNa","MaHtaLa","MaKhaNa","NyaOuNa","PaOuLa","YaMaTha","AhMaZa","KhaAhZa","MaHaMa","KhaMaHsa","PaKaKha","AhMaYa","PaThaKa","MaTaYa","HsaKaNa","MaKaNa","ThaPaKa","HsaKaNa","MaThaNa","TaTaOu","TaThaNa","NaHtaKa","KaPaTa","NgaZaNa","PaBaNa","MaLaNa","ThaHsaNa","WaTaNa"]},{stage:"10",township:["ThaHtaNa","MaLaMa","KaMaYa","KaHtaNa","KhaSaNa","PaMaNa","BaLaNa","MaDaNa","YaMaNa","ThaPhaYa"]},{stage:"11",township:["AhMaNa","GaMaNa","KaTaNa","MaPaNa","MaOuNa","MaAhNa","MaPaNa","PaTaNa","PaNaKa","YaBaNa","YaThaTa","TaKaNa","HsaTaNa","BaThaTa","MaTaNa","KaPhaNa","ThaTaNa"]},{stage:"12",township:["TaMaNa","OuKaTa","DaGaSa","DaGaTa","DaGaMa","DaGaYa","DaPaNa","PaZaTa","BaTaHta","MaGaTa","OuKaMa","YaKaNa","ThaGaKa","ThaKaTa","KaMaYa","KaTaTa","KaMaTa","HsaKhaNa","SaKaNa","DaGaNa","PaBaTa","BaHaNa","MaYaKa","LaMaTa","LaThaNa","LaMaNa","AhLaNa","TaKaNa","HtaTaPa","MaGaDa","MaBaNa","YaPaTha","LaKaNa","LaThaYa","AhHsaNa","KaTaNa","KaKhaKa","KaKaKa","KaMaNa","KhaYaNa","SaKaKha","TaTaNa","DaLaNa","ThaLaNa","ThaKhaNa"]},{stage:"13",township:["TaKaNa","LaYaNa","KaTaNa","LaLaNa","LaKaNa","LaKhaNa","KaMaNa","MaSaNa","KaLaNa","TaKhaLa","MaSaNa","MaPhaNa","HaPaNa","HaPaNa","PaTaYa","NaSaNa","NaMaTa","NaKhaNa","ThaPaNa","MaTaNa","MaMaNa","MaBaNa","NaKhaNa","KaKhaNa","TaYaNa","MaYaNa","MaMaNa","NaHsaNa","YaSaKa","YaNgaNa","NyaYaNa","PaLaNa","SaSaNa","MaNaNa","MaPaNa","MaKaNa","KaHaNa","KaKaNa","MaKhaNa","PhaKhaNa","LaKhaNa","MaMaNa","KaThaNa","KaLaNa","MaYaNa","MaPaNa","MaTaNa","MaYaNa","MaLaNa","MaYaNa","MaMaNa","AhPaNa","YaNyaNa","AhThaYa","KaTaLa","NaTaYa","PaLaNa","KaTaNa","HaMaNa","AhTaNa","MaNaMa","MaNgaNa","TaMaNya","MaKaNa","MaHaYa","KhaYaHa","NaTaNa","TaTaNa","TaLaNa","KaLaNa","MaYaNa","MaKhaNa","MaPaNa"]},{stage:"14",township:["PaThaNa","HaThaTa","MaAhPa","MaMaNa","PhaPaNa","LaPaTa","KaKaHta","NgaPaTa","ThaPaNa","KaKaNa","KaPaNa","YaKaNa","ZaLaNa","LaMaNa","MaAhNa","KaKhaNa","AhGaPa","AhMaNa","WaKhaMa","PaTaNa","NyaTaNa","DaNaPha","BaKaLa","KaLaNa","DaDaYa","MaMaKa"]}];var o=c(83668),w=c(85993),F=c(26697),u=c(57842),Q=c(86019);function U(M,E){if(1&M&&(o.ynx(0),o.TgZ(1,"ng-option",18),o._uU(2),o.qZA(),o.BQk()),2&M){const g=E.$implicit;o.xp6(1),o.Q6J("value",g.value),o.xp6(1),o.Oqu(g.value)}}function y(M,E){1&M&&(o.TgZ(0,"div",19),o._uU(1,"State No is required"),o.qZA())}function f(M,E){if(1&M&&(o.ynx(0),o.TgZ(1,"ng-option",18),o._uU(2),o.qZA(),o.BQk()),2&M){const g=E.$implicit;o.xp6(1),o.Q6J("value",g.value),o.xp6(1),o.Oqu(g.value)}}function Y(M,E){1&M&&(o.TgZ(0,"div",19),o._uU(1,"District is required"),o.qZA())}function s(M,E){if(1&M&&(o.ynx(0),o.TgZ(1,"ng-option",18),o._uU(2),o.qZA(),o.BQk()),2&M){const g=E.$implicit;o.xp6(1),o.Q6J("value",g.value),o.xp6(1),o.Oqu(g.value)}}function d(M,E){1&M&&(o.TgZ(0,"div",19),o._uU(1,"Type is required"),o.qZA())}function P(M,E){1&M&&(o.TgZ(0,"div",19),o._uU(1,"NRC No is required"),o.qZA())}let K=(()=>{class M{constructor(g,m,O){this.modal=g,this.cdf=m,this.masterDataService=O,this.nrcStage=b,this.submited=!1,this.townShip=[],this.stageOption=[],this.townshipOption=[],this.typeOption=[]}ngOnInit(){this.setForm(),this.getMaster(),this.getTownship()}setForm(){this.nrcForm=new t.cw({stage:new t.NI(null,[t.kI.required]),township:new t.NI(null,[t.kI.required]),prefix:new t.NI("N",[t.kI.required]),nrc:new t.NI(null,[t.kI.required,t.kI.maxLength(6),t.kI.minLength(6),t.kI.pattern("[0-9]*")])})}getMaster(){(0,v.D)([this.getStage(),this.getType()]).toPromise().then(g=>{g&&(console.log(g),this.stageOption=g[0],this.typeOption=g[1],this.cdf.detectChanges())})}getStage(){return this.masterDataService.getDataByType("NRC_REGION").pipe((0,h.U)(g=>this.getFormatOpt(g)),(0,p.K)(g=>(0,x.of)([])))}getTownship(g){this.masterDataService.getDataByParent("NRC_TOWNSHIP",g,"NRC_REGION").toPromise().then(m=>{console.log(m),m&&(this.townshipOption=m.map(O=>({code:O.codeId,value:O.codeName})),this.townshipOption.length>0&&this.nrcForm.controls.township.setValue(this.townshipOption[0].value),this.cdf.detectChanges())})}getType(){return this.masterDataService.getDataByType("NRC_TYPE").pipe((0,h.U)(g=>this.getFormatOpt(g)),(0,p.K)(g=>(0,x.of)([])))}getFormatOpt(g){return g.map(m=>({code:m.codeId||m.code,value:m.codeName||m.codeValue||m.value}))}save(){if(this.submited=!0,this.nrcForm.invalid)return!1;let g=this.nrcForm.value;this.group.controls[this.config.name].setValue(`${g.stage}/${g.township}(${g.prefix})${g.nrc}`),this.modal.dismiss("save")}dismiss(){this.modal.dismiss()}changeStage(){let g=this.nrcForm.value.stage;if(console.log(g),g){let m=this.stageOption.find(O=>O.value==g);this.getTownship(m.code),this.cdf.detectChanges()}}isControlValid(g){const m=this.nrcForm.controls[g];return m.valid&&(m.dirty||m.touched)}isControlInvalid(g){const m=this.nrcForm.controls[g];return m.invalid&&(m.dirty||m.touched)}controlHasError(g,m){const O=this.nrcForm.controls[m];return O.hasError(g)&&(O.dirty||O.touched)}isControlTouched(g){const m=this.nrcForm.controls[g];return m.dirty||m.touched}}return M.\u0275fac=function(g){return new(g||M)(o.Y36(w.Kz),o.Y36(o.sBO),o.Y36(F.D))},M.\u0275cmp=o.Xpm({type:M,selectors:[["app-nrc-popup"]],inputs:{group:"group",config:"config"},decls:39,vars:18,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4","left-border-image"],[1,"overlay","overlay-block","cursor-default","modal-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-3"],[1,"form-group"],[1,"form-label"],["placeholder","State No","formControlName","stage",1,"ng-custom-select","ng-custom-select-sm",3,"change"],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["placeholder","District","formControlName","township",1,"ng-custom-select","ng-custom-select-sm"],["placeholder","Type","formControlName","prefix",1,"ng-custom-select","ng-custom-select-sm"],["type","tel","name","nrc","autocomplete","off","formControlName","nrc","minLength","6","maxLength","6",1,"form-control","form-control-sm"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-primary","btn-elevate",3,"click"],[3,"value"],[1,"invalid-feedback"]],template:function(g,m){1&g&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o._uU(3," NRC ID "),o.qZA(),o.qZA(),o.TgZ(4,"div",3),o.TgZ(5,"form",4),o.NdJ("ngSubmit",function(){return m.save()}),o.TgZ(6,"div",5),o.TgZ(7,"div",6),o.TgZ(8,"div",7),o.TgZ(9,"label",8),o._uU(10,"State No"),o.qZA(),o.TgZ(11,"ng-select",9),o.NdJ("change",function(){return m.changeStage()}),o.YNc(12,U,3,2,"ng-container",10),o.qZA(),o.YNc(13,y,2,0,"div",11),o.qZA(),o.qZA(),o.TgZ(14,"div",6),o.TgZ(15,"div",7),o.TgZ(16,"label",8),o._uU(17,"District"),o.qZA(),o.TgZ(18,"ng-select",12),o.YNc(19,f,3,2,"ng-container",10),o.qZA(),o.YNc(20,Y,2,0,"div",11),o.qZA(),o.qZA(),o.TgZ(21,"div",6),o.TgZ(22,"div",7),o.TgZ(23,"label",8),o._uU(24,"Type"),o.qZA(),o.TgZ(25,"ng-select",13),o.YNc(26,s,3,2,"ng-container",10),o.qZA(),o.YNc(27,d,2,0,"div",11),o.qZA(),o.qZA(),o.TgZ(28,"div",6),o.TgZ(29,"div",7),o.TgZ(30,"label",8),o._uU(31,"NRC No"),o.qZA(),o._UZ(32,"input",14),o.YNc(33,P,2,0,"div",11),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(34,"div",15),o.TgZ(35,"button",16),o.NdJ("click",function(){return m.modal.dismiss()}),o._uU(36,"Cancel"),o.qZA(),o.TgZ(37,"button",17),o.NdJ("click",function(){return m.save()}),o._uU(38,"Save"),o.qZA(),o.qZA(),o.qZA()),2&g&&(o.xp6(5),o.Q6J("formGroup",m.nrcForm),o.xp6(6),o.ekj("is-invalid",m.isControlInvalid("stage")),o.xp6(1),o.Q6J("ngForOf",m.stageOption),o.xp6(1),o.Q6J("ngIf",m.controlHasError("required","stage")),o.xp6(5),o.ekj("is-invalid",m.isControlInvalid("township")),o.xp6(1),o.Q6J("ngForOf",m.townshipOption),o.xp6(1),o.Q6J("ngIf",m.controlHasError("required","township")),o.xp6(5),o.ekj("is-invalid",m.isControlInvalid("prefix")),o.xp6(1),o.Q6J("ngForOf",m.typeOption),o.xp6(1),o.Q6J("ngIf",m.controlHasError("required","prefix")),o.xp6(5),o.ekj("is-invalid",m.isControlInvalid("nrc"))("is-valid",m.isControlValid("nrc")),o.xp6(1),o.Q6J("ngIf",m.controlHasError("required","nrc")))},directives:[t._Y,t.JL,t.sg,u.w9,t.JJ,t.u,Q.sg,Q.O5,t.Fj,u.xv],styles:[".rowStyle[_ngcontent-%COMP%]{margin-top:10px;color:#000}.columnStyle[_ngcontent-%COMP%]{text-align:center;font-size:var(--label-size)}.input[_ngcontent-%COMP%]{border-bottom:1px #A1AAAD solid;width:100%;display:inline-block;text-align:center;font-size:8pt!important;color:gray}.input-box[_ngcontent-%COMP%]{border-bottom:1px #A1AAAD solid;width:100%;display:inline-block;margin:15px 0;text-align:center}.textColor[_ngcontent-%COMP%]{color:#2c66ff}.header-style[_ngcontent-%COMP%]{box-shadow:0 4px 5px #ccc;padding:15px 20px;margin-bottom:20px}.input-border[_ngcontent-%COMP%]{border:.5px solid #333;border-radius:2px;width:100%;margin:10px 0}"]}),M})()}}]);