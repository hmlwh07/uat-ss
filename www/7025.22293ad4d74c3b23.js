"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7025,7975],{92118:(T,_,s)=>{s.d(_,{t7:()=>C});var t=s(83668),r=s(44290),f=s(92070);const m=s.n(f)()||f,M=new t.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function D(a,p){const e=Array(a);for(let i=0;i<a;i++)e[i]=p(i);return e}let C=(()=>{class a extends r._A{constructor(e,i){super(),this._options=i,this.setLocale(e||m.locale())}setLocale(e){super.setLocale(e);let i=m.localeData(e);this._localeData={firstDayOfWeek:i.firstDayOfWeek(),longMonths:i.months(),shortMonths:i.monthsShort(),dates:D(31,y=>this.createDate(2017,0,y+1).format("D")),longDaysOfWeek:i.weekdays(),shortDaysOfWeek:i.weekdaysShort(),narrowDaysOfWeek:i.weekdaysMin()}}getYear(e){return this.clone(e).year()}getMonth(e){return this.clone(e).month()}getDate(e){return this.clone(e).date()}getDayOfWeek(e){return this.clone(e).day()}getMonthNames(e){return"long"==e?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(e){return"long"==e?this._localeData.longDaysOfWeek:"short"==e?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(e){return this.clone(e).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(e){return this.clone(e).daysInMonth()}clone(e){return e.clone().locale(this.locale)}createDate(e,i,y){const g=this._createMoment({year:e,month:i,date:y}).locale(this.locale);return g.isValid(),g}today(){return this._createMoment().locale(this.locale)}parse(e,i){return e&&"string"==typeof e?this._createMoment(e,i,this.locale):e?this._createMoment(e).locale(this.locale):null}format(e,i){return e=this.clone(e),this.isValid(e),e.format(i)}addCalendarYears(e,i){return this.clone(e).add({years:i})}addCalendarMonths(e,i){return this.clone(e).add({months:i})}addCalendarDays(e,i){return this.clone(e).add({days:i})}toIso8601(e){return this.clone(e).format()}deserialize(e){let i;if(e instanceof Date)i=this._createMoment(e).locale(this.locale);else if(this.isDateInstance(e))return this.clone(e);if("string"==typeof e){if(!e)return null;i=this._createMoment(e,m.ISO_8601).locale(this.locale)}return i&&this.isValid(i)?this._createMoment(i).locale(this.locale):super.deserialize(e)}isDateInstance(e){return m.isMoment(e)}isValid(e){return this.clone(e).isValid()}invalid(){return m.invalid()}_createMoment(e,i,y){const{strict:g,useUtc:b}=this._options||{};return b?m.utc(e,i,y,g):m(e,i,y,g)}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(r.Ad,8),t.LFG(M,8))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac}),a})()},47975:(T,_,s)=>{function t(m){try{JSON.parse(m)}catch(M){return!1}return!0}s.d(_,{cU:()=>t,Gs:()=>r,Ny:()=>u});const r={parse:{dateInput:"DD-MM-YYYY"},display:{dateInput:"DD-MM-YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},u={parse:{dateInput:"MM-YYYY"},display:{dateInput:"MM-YYYY",monthYearLabel:"MM-YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MM-YYYY"}}},37025:(T,_,s)=>{s.d(_,{b:()=>b});var t=s(83668),r=s(49133),f=s(90949),u=s(62311),m=s(85378),M=s(21177),v=s(44290),D=s(92118),C=s(47975),A=s(29018),Y=s(18260),Z=s(44522);const L=`${Y.N.apiUrl}/customer`;let a=(()=>{class d{constructor(o){this.httpClient=o}getCustomerList(o={},n,l){let c=L+"?";return o.name&&(c=c+"name="+o.name+"&"),o.partyCode&&(c=c+"partyCode="+o.partyCode+"&"),o.statusCode&&(c=c+"statusCode="+o.statusCode+"&"),o.identityType&&(c=c+"identityType="+o.identityType+"&"),o.identityNumber&&(c=c+"identityNumber="+o.identityNumber+"&"),l&&(c=c+"isPartyCode="+n),console.log(c),this.httpClient.get(c)}}return d.\u0275fac=function(o){return new(o||d)(t.LFG(Z.eN))},d.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();var p=s(86019),e=s(57842);function i(d,h){if(1&d){const o=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){return t.CHM(o),t.oxw().navigateToDetail("create")}),t._UZ(1,"span",26),t.qZA()}}function y(d,h){if(1&d){const o=t.EpF();t.TgZ(0,"div",27),t.TgZ(1,"app-material-table-view",28),t.NdJ("emitter",function(l){return t.CHM(o),t.oxw().actionBtn(l)})("rowselect",function(l){return t.CHM(o),t.oxw().rowSelected(l)}),t.qZA(),t.qZA()}if(2&d){const o=t.oxw();t.xp6(1),t.Q6J("data",o.customerList)("colum",o.ELEMENT_COL)("displayedColumns",o.displayedColumns)("selectable",o.isPopup)}}function g(d,h){if(1&d){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",29),t.TgZ(2,"button",30),t.NdJ("click",function(){return t.CHM(o),t.oxw().closeModal()}),t._uU(3,"Cancel"),t.qZA(),t.TgZ(4,"button",31),t.NdJ("click",function(){return t.CHM(o),t.oxw().nextProd()}),t._uU(5,"Next"),t.qZA(),t.qZA(),t.BQk()}if(2&d){const o=t.oxw();t.xp6(4),t.Q6J("disabled",!o.selected.customerId)}}let b=(()=>{class d{constructor(o,n,l,c){this.router=o,this.cdf=n,this.customerListService=l,this.modalService=c,this.ELEMENT_COL=JSON.parse(JSON.stringify(u.Ks)),this.displayedColumns=JSON.parse(JSON.stringify(u.Q1)),this.customerList=[],this.statusOption=u.qb,this.identityTypeOption=u.Mf,this.selectedUser=new t.vpe,this.isPopup=!1,this.party=!1,this.isDynamic=!1,this.show=!1,this.loadForm()}ngOnInit(){this.isPopup&&(this.ELEMENT_COL.splice(9,1),this.displayedColumns.splice(9,1)),this.show=!0}ngAfterViewInit(){this.getList()}loadForm(){this.customerForm=new r.cw({name:new r.NI(null),identityType:new r.NI(null),identityNumber:new r.NI(null),statusCode:new r.NI(null),partyCode:new r.NI(null)})}navigateToDetail(o,n,l){this.router.navigate(["/customer/customer-detail"],{queryParams:{pageStatus:o,pageId:n,pageSecondaryId:l}})}getList(){this.customerListService.getCustomerList(this.customerForm.value,this.party,!(!this.isPopup||this.isDynamic)).toPromise().then(n=>{n&&(this.customerList=n,this.cdf.detectChanges(),this.matTable&&this.matTable.reChangeData())})}get selected(){let o;return this.matTable&&(o=this.matTable.selection.selected[0]),o||{customerId:0}}rowSelected(o){this.selectedUser.emit(o)}cancel(){this.customerForm.reset(),this.getList()}actionBtn(o){"edit"==o.cmd&&this.navigateToDetail("edit",o.data.customerId,o.data.individualId)}isControlValid(o){const n=this.customerForm.controls[o];return n.valid&&(n.dirty||n.touched)}isControlInvalid(o){const n=this.customerForm.controls[o];return n.invalid&&(n.dirty||n.touched)}controlHasError(o,n){const l=this.customerForm.controls[n];return l.hasError(o)&&(l.dirty||l.touched)}isControlTouched(o){const n=this.customerForm.controls[o];return n.dirty||n.touched}nextProd(){this.selected.customerId&&this.modalService.dismissAll({data:this.selected,type:"save"})}closeModal(){this.modalService.dismissAll()}}return d.\u0275fac=function(o){return new(o||d)(t.Y36(A.F0),t.Y36(t.sBO),t.Y36(a),t.Y36(m.FF))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-customer-list"]],viewQuery:function(o,n){if(1&o&&t.Gf(f.I,5),2&o){let l;t.iGM(l=t.CRH())&&(n.matTable=l.first)}},inputs:{isPopup:"isPopup",party:"party",isDynamic:"isDynamic"},outputs:{selectedUser:"selectedUser"},features:[t._Bn([{provide:m.DO,useClass:M.Wv},{provide:m.NG,useClass:M.ke},{provide:v._A,useClass:D.t7,deps:[v.Ad]},{provide:v.sG,useValue:C.Gs}])],decls:54,vars:30,consts:[[1,"row"],[1,"col-12"],[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label","left-border-image"],[1,"card-toolbar"],["type","button","class","btn btn-primary btn-circle",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","ml-2",2,"min-width","50px",3,"click"],[1,"flaticon2-magnifier-tool"],[1,""],[1,"card-body","px-10","py-3"],["action","#",1,"form",3,"formGroup"],[1,"row",2,"align-items","center"],[1,"col-md-6"],[1,"form-group","row"],[1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","name","name","autocomplete","off","formControlName","name",1,"form-control","form-control-sm"],["type","text","name","partyCode","autocomplete","off","formControlName","partyCode",1,"form-control","form-control-sm"],["bindLabel","value","bindValue","code","formControlName","identityType",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["type","text","name","identityNumber","autocomplete","off","formControlName","identityNumber",1,"form-control","form-control-sm"],["bindLabel","value","bindValue","code","formControlName","statusCode",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["class","card-body customer-card-body",4,"ngIf"],[4,"ngIf"],["type","button",1,"btn","btn-primary","btn-circle",3,"click"],[1,"flaticon2-plus"],[1,"card-body","customer-card-body"],[3,"data","colum","displayedColumns","selectable","emitter","rowselect"],[1,"card-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","button",1,"btn","btn-primary","btn-elevate",3,"disabled","click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"h3",5),t._uU(6,"Customer List"),t.qZA(),t.qZA(),t.TgZ(7,"div",6),t.YNc(8,i,2,0,"button",7),t.TgZ(9,"button",8),t.NdJ("click",function(){return n.getList()}),t._UZ(10,"span",9),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return n.cancel()}),t.TgZ(12,"span",10),t._uU(13,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",11),t.TgZ(15,"form",12),t.TgZ(16,"div",13),t.TgZ(17,"div",14),t.TgZ(18,"div",15),t.TgZ(19,"label",16),t._uU(20,"Name"),t.qZA(),t.TgZ(21,"div",17),t._UZ(22,"input",18),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",14),t.TgZ(24,"div",15),t.TgZ(25,"label",16),t._uU(26,"Party Code"),t.qZA(),t.TgZ(27,"div",17),t._UZ(28,"input",19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"div",13),t.TgZ(30,"div",14),t.TgZ(31,"div",15),t.TgZ(32,"label",16),t._uU(33,"ID Type"),t.qZA(),t.TgZ(34,"div",17),t._UZ(35,"ng-select",20),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",14),t.TgZ(37,"div",15),t.TgZ(38,"label",16),t._uU(39,"ID No."),t.qZA(),t.TgZ(40,"div",17),t._UZ(41,"input",21),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",0),t.TgZ(43,"div",14),t.TgZ(44,"div",15),t.TgZ(45,"label",16),t._uU(46,"Status"),t.qZA(),t.TgZ(47,"div",17),t._UZ(48,"ng-select",22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"div",0),t.TgZ(50,"div",1),t.TgZ(51,"div",2),t.YNc(52,y,2,4,"div",23),t.YNc(53,g,6,1,"ng-container",24),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.ekj("remove-p",n.isPopup),t.xp6(6),t.Q6J("ngIf",!n.isPopup),t.xp6(7),t.Q6J("formGroup",n.customerForm),t.xp6(7),t.ekj("is-invalid",n.isControlInvalid("name"))("is-valid",n.isControlValid("name")),t.xp6(6),t.ekj("is-invalid",n.isControlInvalid("partyCode"))("is-valid",n.isControlValid("partyCode")),t.xp6(7),t.ekj("is-invalid",n.isControlInvalid("identityType"))("is-valid",n.isControlValid("identityType")),t.Q6J("items",n.identityTypeOption),t.xp6(6),t.ekj("is-invalid",n.isControlInvalid("identityNumber"))("is-valid",n.isControlValid("identityNumber")),t.xp6(7),t.ekj("is-invalid",n.isControlInvalid("statusCode"))("is-valid",n.isControlValid("statusCode")),t.Q6J("items",n.statusOption),t.xp6(3),t.ekj("remove-p",n.isPopup),t.xp6(1),t.Q6J("ngIf",n.show),t.xp6(1),t.Q6J("ngIf",n.isPopup&&!n.isDynamic))},directives:[p.O5,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,e.w9,f.I],styles:[".remove-p[_ngcontent-%COMP%]{margin-bottom:0}.col-form-label[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.form-group.row[_ngcontent-%COMP%]{align-items:center}"]}),d})()},62311:(T,_,s)=>{s.d(_,{Ks:()=>r,Q1:()=>f,qb:()=>u,Mf:()=>m});var t=s(18510);const r=[{title:"First Name",type:t.Y.FEILD,field:"firstName"},{title:"Middle Name",type:t.Y.FEILD,field:"middleName"},{title:"Last Name",type:t.Y.FEILD,field:"lastName"},{title:"Party Code",type:t.Y.FEILD,field:"partyCode"},{title:"ID Type",type:t.Y.FEILD,field:"identityType"},{title:"ID No.",type:t.Y.FEILD,field:"identityNumber"},{title:"Date of Birth",type:t.Y.FEILD,field:"dateOfBirth",isFromatDate:!0},{title:"Father Name",type:t.Y.FEILD,field:"fatherName"},{title:"Status",type:t.Y.FEILD,field:"statusCode",isCustomerStatus:!0},{title:"Actions",type:t.Y.ACTION,field:"actions",btn:{edit:!0}}],f=["firstName","middleName","lastName","partyCode","identityType","identityNumber","dateOfBirth","fatherName","statusCode","actions"],u=[{code:"A",value:"Active"},{code:"I",value:"Inactive"}],m=[{code:"NRC",value:"NRC"},{code:"FRC",value:"FRC"},{code:"PASSPORT",value:"Passport"},{code:"OTHER",value:"Other"}]}}]);