"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[914,8757],{6517:(Y,g,n)=>{n.d(g,{t7:()=>e});var c=n(5e3),p=n(19775),v=n(15439);const m=n.n(v)()||v,d=new c.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function A(){return{useUtc:!1}}});function h(i,f){const t=Array(i);for(let r=0;r<i;r++)t[r]=f(r);return t}let e=(()=>{class i extends p._A{constructor(t,r){super(),this._options=r,this.setLocale(t||m.locale())}setLocale(t){super.setLocale(t);let r=m.localeData(t);this._localeData={firstDayOfWeek:r.firstDayOfWeek(),longMonths:r.months(),shortMonths:r.monthsShort(),dates:h(31,M=>this.createDate(2017,0,M+1).format("D")),longDaysOfWeek:r.weekdays(),shortDaysOfWeek:r.weekdaysShort(),narrowDaysOfWeek:r.weekdaysMin()}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return"long"==t?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(t){return"long"==t?this._localeData.longDaysOfWeek:"short"==t?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return t.clone().locale(this.locale)}createDate(t,r,M){const y=this._createMoment({year:t,month:r,date:M}).locale(this.locale);return y.isValid(),y}today(){return this._createMoment().locale(this.locale)}parse(t,r){return t&&"string"==typeof t?this._createMoment(t,r,this.locale):t?this._createMoment(t).locale(this.locale):null}format(t,r){return t=this.clone(t),this.isValid(t),t.format(r)}addCalendarYears(t,r){return this.clone(t).add({years:r})}addCalendarMonths(t,r){return this.clone(t).add({months:r})}addCalendarDays(t,r){return this.clone(t).add({days:r})}toIso8601(t){return this.clone(t).format()}deserialize(t){let r;if(t instanceof Date)r=this._createMoment(t).locale(this.locale);else if(this.isDateInstance(t))return this.clone(t);if("string"==typeof t){if(!t)return null;r=this._createMoment(t,m.ISO_8601).locale(this.locale)}return r&&this.isValid(r)?this._createMoment(r).locale(this.locale):super.deserialize(t)}isDateInstance(t){return m.isMoment(t)}isValid(t){return this.clone(t).isValid()}invalid(){return m.invalid()}_createMoment(t,r,M){const{strict:y,useUtc:b}=this._options||{};return b?m.utc(t,r,M,y):m(t,r,M,y)}}return i.\u0275fac=function(t){return new(t||i)(c.LFG(p.Ad,8),c.LFG(d,8))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})()},88757:(Y,g,n)=>{function c(m){try{JSON.parse(m)}catch(d){return!1}return!0}n.d(g,{Gs:()=>p,Ny:()=>a,cU:()=>c});const p={parse:{dateInput:"DD-MM-YYYY"},display:{dateInput:"DD-MM-YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},a={parse:{dateInput:"MM-YYYY"},display:{dateInput:"MM-YYYY",monthYearLabel:"MM-YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MM-YYYY"}}},98807:(Y,g,n)=>{n.d(g,{X:()=>v});var c=n(5e3),p=n(96115);let v=(()=>{class a{constructor(d){this._languageService=d}transform(d){if(d){let A=this._languageService.getSelectedLanguage(),h=d.split(".");if(h.length>=2)try{return this._languageService.langs[A][h[0]][h[1]]||h[1]}catch(e){return d}}return d}}return a.\u0275fac=function(d){return new(d||a)(c.Y36(p.K,16))},a.\u0275pipe=c.Yjl({name:"translate",type:a,pure:!1}),a})()},10914:(Y,g,n)=>{n.r(g),n.d(g,{RenewManagementDetailModule:()=>E});var c=n(69808),p=n(96592),v=n(70655),a=n(93075),m=n(15439),d=n(19775),A=n(6517),h=n(88757),e=n(5e3),D=n(25492),_=n(17606),T=n(84161),O=n(65981),i=n(65884),f=n(21223),t=n(8202),r=n(98807);const M=function(){return{prefix:"",thousands:",",allowNegative:!1,align:"left"}};function y(u,Z){if(1&u){const o=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e.TgZ(3,"div",4),e.TgZ(4,"form",5),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().backLocation()}),e.TgZ(5,"div",1),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"label",8),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",9),e.qZA(),e.qZA(),e.TgZ(12,"div",6),e.TgZ(13,"div",7),e.TgZ(14,"label",8),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",10),e._UZ(18,"input",11),e._UZ(19,"mat-datepicker-toggle",12),e._UZ(20,"mat-datepicker",13,14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",6),e.TgZ(23,"div",7),e.TgZ(24,"label",8),e._uU(25),e.ALo(26,"translate"),e.qZA(),e._UZ(27,"input",15),e.qZA(),e.qZA(),e.TgZ(28,"div",6),e.TgZ(29,"div",7),e.TgZ(30,"label",8),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"div",10),e._UZ(34,"input",16),e._UZ(35,"mat-datepicker-toggle",12),e._UZ(36,"mat-datepicker",13,17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",6),e.TgZ(39,"div",7),e.TgZ(40,"label",8),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"div",10),e._UZ(44,"input",18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"div",6),e.TgZ(46,"div",7),e.TgZ(47,"label",8),e._uU(48),e.ALo(49,"translate"),e.qZA(),e._UZ(50,"input",19),e.qZA(),e.qZA(),e.TgZ(51,"div",6),e.TgZ(52,"div",7),e.TgZ(53,"label",8),e._uU(54),e.ALo(55,"translate"),e.qZA(),e._UZ(56,"input",20),e.qZA(),e.qZA(),e.TgZ(57,"div",6),e.TgZ(58,"div",7),e.TgZ(59,"label",8),e._uU(60),e.ALo(61,"translate"),e.qZA(),e._UZ(62,"input",21),e.qZA(),e.qZA(),e.TgZ(63,"div",6),e.TgZ(64,"div",7),e.TgZ(65,"label",8),e._uU(66),e.ALo(67,"translate"),e.qZA(),e._UZ(68,"input",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(69,"button",23),e.NdJ("click",function(){return e.CHM(o),e.oxw().backLocation()}),e._uU(70),e.ALo(71,"translate"),e.qZA(),e.TgZ(72,"button",24),e.NdJ("click",function(){return e.CHM(o),e.oxw().confirmRenew()}),e._uU(73),e.ALo(74,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&u){const o=e.MAs(21),l=e.MAs(37),s=e.oxw();e.xp6(4),e.Q6J("formGroup",s.actForm),e.xp6(5),e.Oqu(e.lcZ(10,46,"FORM.policy_no")),e.xp6(2),e.ekj("is-invalid",s.isControlInvalid("policyNumber"))("is-valid",s.isControlValid("policyNumber")),e.xp6(4),e.Oqu(e.lcZ(16,48,"FORM.policy_date")),e.xp6(3),e.Q6J("matDatepicker",o),e.xp6(1),e.Q6J("for",o),e.xp6(6),e.Oqu(e.lcZ(26,50,"FORM.policy_status")),e.xp6(2),e.ekj("is-invalid",s.isControlInvalid("status"))("is-valid",s.isControlValid("status")),e.xp6(4),e.Oqu(e.lcZ(32,52,"FORM.policy_edate")),e.xp6(3),e.Q6J("matDatepicker",l),e.xp6(1),e.Q6J("for",l),e.xp6(6),e.hij("",e.lcZ(42,54,"FORM.qoute_no")," "),e.xp6(3),e.ekj("is-invalid",s.isControlInvalid("quoteNumber"))("is-valid",s.isControlValid("quoteNumber")),e.xp6(4),e.Oqu(e.lcZ(49,56,"FORM.gross_premium")),e.xp6(2),e.ekj("is-invalid",s.isControlInvalid("grossPremium"))("is-valid",s.isControlValid("grossPremium")),e.Q6J("options",e.DdM(68,M)),e.xp6(4),e.Oqu(e.lcZ(55,58,"FORM.policy_holder_code")),e.xp6(2),e.ekj("is-invalid",s.isControlInvalid("policyHolderCode"))("is-valid",s.isControlValid("policyHolderCode")),e.xp6(4),e.Oqu(e.lcZ(61,60,"FORM.net_premium")),e.xp6(2),e.ekj("is-invalid",s.isControlInvalid("netPremium"))("is-valid",s.isControlValid("netPremium")),e.Q6J("options",e.DdM(69,M)),e.xp6(4),e.Oqu(e.lcZ(67,62,"FORM.policy_holder")),e.xp6(2),e.ekj("is-invalid",s.isControlInvalid("policyHolder"))("is-valid",s.isControlValid("policyHolder")),e.xp6(2),e.Oqu(e.lcZ(71,64,"FORM.btn_back")),e.xp6(3),e.Oqu(e.lcZ(74,66,"FORM.btn_confirm"))}}let b=(()=>{class u{constructor(o,l,s,P,R,F,w){this.route=o,this.location=l,this.cdf=s,this.alertService=P,this.menuService=R,this.ngZone=F,this.renewService=w,this.isLead=!1,this.dataAccess={view:!0,create:!0,edit:!0,delete:!0},this.unsub=[]}ngOnInit(){this.loadForm(),this.checkPremission(),this.unsub[0]=this.route.queryParams.subscribe(o=>{let l=JSON.parse(o.data);console.log(l),l||this.location.back(),this.loadForm(l)})}checkPremission(){this.menuService.dataAccess.subscribe(o=>{o&&(this.dataAccess=o.activity,this.dataAccess.view||this.location.back())})}ngAfterViewInit(){}clearDate(o){this.actForm.controls[o].setValue(null)}loadForm(o){console.log(o),this.actForm=new a.cw({policyNumber:new a.NI({value:o?o.policyNumber:null,disabled:!0}),policyInceptionDate:new a.NI({value:o?m(o.policyInceptionDate,"DD/MM/YYYY"):null,disabled:!0}),status:new a.NI({value:o?o.policyStatus:null,disabled:!0}),policyExpiryDate:new a.NI({value:o?m(o.policyExpiryDate,"DD/MM/YYYY"):null,disabled:!0}),quoteNumber:new a.NI({value:o?o.quoteNumber:null,disabled:!0}),grossPremium:new a.NI({value:o?o.grossPremium:null,disabled:!0}),policyHolderCode:new a.NI({value:o?o.policyHolderCode:null,disabled:!0}),netPremium:new a.NI({value:o?o.netPremium:null,disabled:!0}),policyHolder:new a.NI({value:o?o.policyHolder:null,disabled:!0})}),this.cdf.detectChanges()}isControlValid(o){const l=this.actForm.controls[o];return l.valid&&(l.dirty||l.touched)}isControlInvalid(o){const l=this.actForm.controls[o];return l.invalid&&(l.dirty||l.touched)}controlHasError(o,l){const s=this.actForm.controls[l];return s.hasError(o)&&(s.dirty||s.touched)}isControlTouched(o){const l=this.actForm.controls[o];return l.dirty||l.touched}backLocation(){this.ngZone.run(()=>{this.location.back()})}confirmRenew(){"confirm"!=this.actForm.value.status&&this.alertService.activate("Are you sure want to confirm?","Warning Message").then(o=>(0,v.mG)(this,void 0,void 0,function*(){o&&(this.actForm.value.status="confirm",this.renewService.confirmRenew(this.actForm.value.policyNumber).toPromise().then(l=>{l&&this.alertService.activate("This record was updated","Success Message")}))}))}}return u.\u0275fac=function(o){return new(o||u)(e.Y36(p.gz),e.Y36(c.Ye),e.Y36(e.sBO),e.Y36(D.c),e.Y36(_.q),e.Y36(e.R0b),e.Y36(T.R))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-renew-management-detail"]],features:[e._Bn([{provide:d._A,useClass:A.t7,deps:[d.Ad]},{provide:d.sG,useValue:h.Gs}])],decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"card","card-custom","gutter-b"],[1,"card-body"],["action","#",1,"form",3,"formGroup","ngSubmit"],[1,"col-sm-6"],[1,"form-group"],[1,"form-label"],["type","text","name","policyNumber","autocomplete","off","formControlName","policyNumber",1,"form-control","form-control-sm"],[1,"input-group"],["matInput","","formControlName","policyInceptionDate","readonly","",1,"form-control-sm","date-input",2,"width","100%",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["policyInceptionDate",""],["type","text","name","actTitle","autocomplete","off","formControlName","status",1,"form-control","form-control-sm"],["matInput","","formControlName","policyExpiryDate","readonly","",1,"form-control-sm","date-input",2,"width","100%",3,"matDatepicker"],["policyExpiryDate",""],["type","text","name","quoteNumber","autocomplete","off","formControlName","quoteNumber",1,"form-control","form-control-sm"],["type","tel","currencyMask","","name","grossPremium","autocomplete","off","formControlName","grossPremium",1,"form-control","form-control-sm","currency-input-tag",3,"options"],["type","text","name","policyHolderCode","autocomplete","off","formControlName","policyHolderCode",1,"form-control","form-control-sm"],["type","tel","currencyMask","","name","netPremium","autocomplete","off","formControlName","netPremium",1,"form-control","form-control-sm","currency-input-tag",3,"options"],["type","text","name","policyHolder","autocomplete","off","formControlName","policyHolder",1,"form-control","form-control-sm"],["type","button",1,"btn","btn-default","btn-elevate","mt-2",3,"click"],["type","button",1,"btn","btn-primary","btn-elevate","mt-2",3,"click"]],template:function(o,l){1&o&&e.YNc(0,y,75,70,"div",0),2&o&&e.Q6J("ngIf",l.actForm)},directives:[c.O5,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,O.Nt,i.hl,i.nW,f.R9,i.Mq,t.g1],pipes:[r.X],styles:[".input-group[_ngcontent-%COMP%]   .form-control-sm[_ngcontent-%COMP%]{background-color:#fff;background-clip:padding-box;border:1px solid #E4E6EF;padding:0px .75rem}.input-group[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;right:5px}.ng-clear-wrapper[_ngcontent-%COMP%]   .ng-clear[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:2rem;top:2.3rem;font-size:1.2rem;color:#999}.ng-clear-wrapper[_ngcontent-%COMP%]   .ng-clear[_ngcontent-%COMP%]:hover{color:#d0021b}"]}),u})();var C=n(63272),I=n(89776),x=n(64537),N=n(7181),L=n(50282);let E=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[[c.ez,a.u5,a.UX,I.U8,L.fA,C.M,i.FA,O.c,x.A0,C.bz,t.Ud,N.j,p.Bz.forChild([{path:"",component:b}])]]}),u})()}}]);