"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6415,7975],{49875:(J,S,c)=>{c.d(S,{Ys:()=>at,ou:()=>ot,p3:()=>C});var d=c(64762),A=c(18260),b=c(91691),D=c(91278),I=(()=>{return(p=I||(I={})).Documents="DOCUMENTS",p.Data="DATA",p.Library="LIBRARY",p.Cache="CACHE",p.External="EXTERNAL",p.ExternalStorage="EXTERNAL_STORAGE",I;var p})();const m=(0,D.fo)("Filesystem",{web:()=>c.e(2571).then(c.bind(c,52571)).then(p=>new p.FilesystemWeb)}),et=(0,D.fo)("BlobWriter");function G(p){const x=new Uint8Array(p);let l="",g=0;for(;!(g>=x.byteLength);)l+=String.fromCharCode(x[g]),g+=1;return window.btoa(l)}function z(p,x,l){if(0===l.size)return Promise.resolve();const g=393216,Z=l.slice(0,g);return new window.Response(Z).arrayBuffer().then(function(O){return m.appendFile({directory:p,path:x,data:G(O)})}).then(function(){return z(p,x,l.slice(g))})}function B({path:p,directory:x,blob:l,recursive:g}){return m.writeFile({directory:x,path:p,recursive:g,data:""}).then(function({uri:Z}){return z(x,p,l).then(function(){return Z})})}const R=Object.freeze(function(p){const{path:x,directory:l,blob:g,recursive:Z,on_fallback:L}=p;return"ios"!==D.dV.platform&&"android"!==D.dV.platform?B(p):Promise.all([et.get_config(),m.getUri({path:x,directory:l})]).then(function([F,rt]){const{base_url:st,auth_token:ct}=F,lt=rt.uri.replace("file://","");return Promise.all([fetch(st+lt+(Z?"?recursive=true":""),{headers:{authorization:ct},method:"put",body:g}),Promise.resolve(rt)])}).then(function([O,F]){if(204!==O.status)throw new Error("Bad HTTP status: "+O.status);return F.uri}).catch(function(F){return void 0!==L&&L(F),B(p)})});var v=c(83668),j=c(44522),Y=c(96360),it=c(60807),Q=c(18829),k=c(60940),H=c(59832);const nt=`${A.N.apiUrl}/attachment-uploader`;let C=(()=>{class p extends b.i{constructor(l){super(l,nt),this.httpClient=l}}return p.\u0275fac=function(l){return new(l||p)(v.LFG(j.eN))},p.\u0275prov=v.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const X=`${A.N.apiUrl}/attachment-downloader`,E=`${A.N.apiUrl}`;let at=(()=>{class p extends b.i{constructor(l,g,Z,L,O,F){super(l,X),this.httpClient=l,this.file=g,this.loadingService=Z,this.toastService=L,this.alertService=O,this.translate=F}getFile(l){return this.httpClient.get(E+l,{responseType:"blob"})}get(l,g){return this.httpClient.get(E+l,{params:g})}mobileTCSDownload(l,g){return(0,d.mG)(this,void 0,void 0,function*(){URL.createObjectURL(g),this.file.checkDir(this.file.externalRootDirectory,"kbzms_downloads").then(L=>{this.createFile(l,g)}).catch(L=>{this.file.createDir(this.file.externalRootDirectory,"kbzms_downloads",!1).then(O=>{this.createFile(l,g)}).catch(O=>(0,d.mG)(this,void 0,void 0,function*(){console.log(O),yield this.loadingService.deactivate();let F=this.translate.transform("ERROR.file_error");this.alertService.activate(F,"Download File")}))})})}downloadTCSFile(l,g){var Z=document.createElement("a");Z.href=URL.createObjectURL(l),Z.download=g,Z.click();let L=this.translate.transform("ERROR.download_success");this.alertService.activate(L,"Download File"),Z.remove()}getDownload(l,g){this.httpClient.get(X+"/"+l,{responseType:"blob"}).toPromise().then(Z=>{Z&&(D.dV.isNativePlatform()?this.mobileDownload(g,Z):this.downloadFile(Z,g))})}downloadFile(l,g){var Z=document.createElement("a");Z.href=URL.createObjectURL(l),Z.download=g,Z.click(),Z.remove()}mobileDownload(l,g){return(0,d.mG)(this,void 0,void 0,function*(){try{yield m.mkdir({path:"kbzsale_downloads",directory:I.Documents,recursive:!1}),this.createFile(l,g)}catch(Z){this.createFile(l,g)}})}createFile(l,g){return(0,d.mG)(this,void 0,void 0,function*(){try{yield R({path:"kbzsale_downloads/"+l,directory:I.Documents,blob:g}),yield this.loadingService.deactivate(),this.alertService.activate('"Download File',"Success Message")}catch(Z){yield this.loadingService.deactivate(),this.alertService.activate('"Download Fail',"Error Message")}})}}return p.\u0275fac=function(l){return new(l||p)(v.LFG(j.eN),v.LFG(Y.$),v.LFG(it.b),v.LFG(Q.T),v.LFG(k.c),v.LFG(H.K))},p.\u0275prov=v.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const K=`${A.N.apiUrl}/attachment-ref`;let ot=(()=>{class p extends b.i{constructor(l){super(l,K),this.httpClient=l}getAttachmentListRef(l,g){return this.httpClient.get(K+"?refDocNo="+l+"&refDocType="+g)}}return p.\u0275fac=function(l){return new(l||p)(v.LFG(j.eN))},p.\u0275prov=v.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},47975:(J,S,c)=>{function d(I){try{JSON.parse(I)}catch(t){return!1}return!0}c.d(S,{cU:()=>d,Gs:()=>A,Ny:()=>D});const A={parse:{dateInput:"DD-MM-YYYY"},display:{dateInput:"DD-MM-YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},D={parse:{dateInput:"MM-YYYY"},display:{dateInput:"MM-YYYY",monthYearLabel:"MM-YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MM-YYYY"}}},87952:(J,S,c)=>{c.d(S,{J:()=>A});var d=c(49133);function A(b,D){let I=D instanceof d.cw?D.getRawValue():D.value,t=I[b.parentName],P=I[b.parentName+"Code"];return b.show?b.isArray?b.value.includes(t)||b.value.includes(P):t==b.value||P==b.value:!!t}},1402:(J,S,c)=>{c.d(S,{it:()=>A,eM:()=>b});var A=(()=>{return(D=A||(A={})).DYN="dyn",D.STATIC="static",A;var D})();const b={"01":"Draft","02":"Active"}},80617:(J,S,c)=>{c.r(S),c.d(S,{ResourseDetailModule:()=>Re});var d=c(86019),A=c(64762),b=c(87952),D=c(1402),I=c(77400),t=c(83668);function P(i,a,e){this.x=i,this.y=a,this.time=e||(new Date).getTime()}function $(i,a,e,n){this.startPoint=i,this.control1=a,this.control2=e,this.endPoint=n}function m(i,a){var e=this,n=a||{};this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.onBegin=n.onBegin,this.onEnd=n.onEnd,this._canvas=i,this._ctx=i.getContext("2d"),this.clear(),this._handleMouseDown=function(o){1===o.which&&(e._mouseButtonDown=!0,e._strokeBegin(o))},this._handleMouseMove=function(o){e._mouseButtonDown&&e._strokeUpdate(o)},this._handleMouseUp=function(o){1===o.which&&e._mouseButtonDown&&(e._mouseButtonDown=!1,e._strokeEnd(o))},this._handleTouchStart=function(o){1===o.targetTouches.length&&e._strokeBegin(o.changedTouches[0])},this._handleTouchMove=function(o){o.preventDefault(),e._strokeUpdate(o.targetTouches[0])},this._handleTouchEnd=function(o){o.target===e._canvas&&(o.preventDefault(),e._strokeEnd(o))},this.on()}P.prototype.velocityFrom=function(i){return this.time!==i.time?this.distanceTo(i)/(this.time-i.time):1},P.prototype.distanceTo=function(i){return Math.sqrt(Math.pow(this.x-i.x,2)+Math.pow(this.y-i.y,2))},$.prototype.length=function(){for(var a=0,e=void 0,n=void 0,o=0;o<=10;o+=1){var s=o/10,r=this._point(s,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),u=this._point(s,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(o>0){var h=r-e,_=u-n;a+=Math.sqrt(h*h+_*_)}e=r,n=u}return a},$.prototype._point=function(i,a,e,n,o){return a*(1-i)*(1-i)*(1-i)+3*e*(1-i)*(1-i)*i+3*n*(1-i)*i*i+o*i*i*i},m.prototype.clear=function(){var i=this._ctx,a=this._canvas;i.fillStyle=this.backgroundColor,i.clearRect(0,0,a.width,a.height),i.fillRect(0,0,a.width,a.height),this._data=[],this._reset(),this._isEmpty=!0},m.prototype.fromDataURL=function(i){var a=this,e=new Image,n=window.devicePixelRatio||1,o=this._canvas.width/n,s=this._canvas.height/n;this._reset(),e.src=i,e.onload=function(){a._ctx.drawImage(e,0,0,o,s)},this._isEmpty=!1},m.prototype.toDataURL=function(i){var a;if("image/svg+xml"===i)return this._toSVG();for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return(a=this._canvas).toDataURL.apply(a,[i].concat(n))},m.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},m.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},m.prototype.isEmpty=function(){return this._isEmpty},m.prototype._strokeBegin=function(i){this._data.push([]),this._reset(),this._strokeUpdate(i),"function"==typeof this.onBegin&&this.onBegin(i)},m.prototype._strokeUpdate=function(i){var n=this._createPoint(i.clientX,i.clientY),o=this._addPoint(n),s=o.curve,r=o.widths;s&&r&&this._drawCurve(s,r.start,r.end),this._data[this._data.length-1].push({x:n.x,y:n.y,time:n.time})},m.prototype._strokeEnd=function(i){var e=this.points[0];!(this.points.length>2)&&e&&this._drawDot(e),"function"==typeof this.onEnd&&this.onEnd(i)},m.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},m.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},m.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},m.prototype._createPoint=function(i,a,e){var n=this._canvas.getBoundingClientRect();return new P(i-n.left,a-n.top,e||(new Date).getTime())},m.prototype._addPoint=function(i){var a=this.points,e=void 0;if(a.push(i),a.length>2){3===a.length&&a.unshift(a[0]);var n=(e=this._calculateCurveControlPoints(a[0],a[1],a[2])).c2;e=this._calculateCurveControlPoints(a[1],a[2],a[3]);var s=new $(a[1],n,e.c1,a[2]),r=this._calculateCurveWidths(s);return a.shift(),{curve:s,widths:r}}return{}},m.prototype._calculateCurveControlPoints=function(i,a,e){var n=i.x-a.x,o=i.y-a.y,s=a.x-e.x,r=a.y-e.y,u_x=(i.x+a.x)/2,u_y=(i.y+a.y)/2,h_x=(a.x+e.x)/2,h_y=(a.y+e.y)/2,_=Math.sqrt(n*n+o*o),f=Math.sqrt(s*s+r*r),U=f/(_+f),V=a.x-(h_x+(u_x-h_x)*U),tt=a.y-(h_y+(u_y-h_y)*U);return{c1:new P(u_x+V,u_y+tt),c2:new P(h_x+V,h_y+tt)}},m.prototype._calculateCurveWidths=function(i){var n={start:null,end:null},o=this.velocityFilterWeight*i.endPoint.velocityFrom(i.startPoint)+(1-this.velocityFilterWeight)*this._lastVelocity,s=this._strokeWidth(o);return n.start=this._lastWidth,n.end=s,this._lastVelocity=o,this._lastWidth=s,n},m.prototype._strokeWidth=function(i){return Math.max(this.maxWidth/(i+1),this.minWidth)},m.prototype._drawPoint=function(i,a,e){var n=this._ctx;n.moveTo(i,a),n.arc(i,a,e,0,2*Math.PI,!1),this._isEmpty=!1},m.prototype._drawCurve=function(i,a,e){var n=this._ctx,o=e-a,s=Math.floor(i.length());n.beginPath();for(var r=0;r<s;r+=1){var u=r/s,h=u*u,_=h*u,f=1-u,y=f*f,T=y*f,U=T*i.startPoint.x;U+=3*y*u*i.control1.x,U+=3*f*h*i.control2.x;var w=T*i.startPoint.y;w+=3*y*u*i.control1.y,w+=3*f*h*i.control2.y,this._drawPoint(U+=_*i.endPoint.x,w+=_*i.endPoint.y,a+_*o)}n.closePath(),n.fill()},m.prototype._drawDot=function(i){var a=this._ctx,e="function"==typeof this.dotSize?this.dotSize():this.dotSize;a.beginPath(),this._drawPoint(i.x,i.y,e),a.closePath(),a.fill()},m.prototype._fromData=function(i,a,e){for(var n=0;n<i.length;n+=1){var o=i[n];if(o.length>1)for(var s=0;s<o.length;s+=1){var r=o[s],u=new P(r.x,r.y,r.time);if(0===s)this._reset(),this._addPoint(u);else if(s!==o.length-1){var h=this._addPoint(u),_=h.curve,f=h.widths;_&&f&&a(_,f)}}else this._reset(),e(o[0])}},m.prototype._toSVG=function(){var i=this,a=this._data,e=this._canvas,n=Math.max(window.devicePixelRatio||1,1),r=e.width/n,u=e.height/n,h=document.createElementNS("http://www.w3.org/2000/svg","svg");h.setAttributeNS(null,"width",e.width),h.setAttributeNS(null,"height",e.height),this._fromData(a,function(q,N){var M=document.createElement("path");if(!(isNaN(q.control1.x)||isNaN(q.control1.y)||isNaN(q.control2.x)||isNaN(q.control2.y))){var Ye="M "+q.startPoint.x.toFixed(3)+","+q.startPoint.y.toFixed(3)+" C "+q.control1.x.toFixed(3)+","+q.control1.y.toFixed(3)+" "+q.control2.x.toFixed(3)+","+q.control2.y.toFixed(3)+" "+q.endPoint.x.toFixed(3)+","+q.endPoint.y.toFixed(3);M.setAttribute("d",Ye),M.setAttribute("stroke-width",(2.25*N.end).toFixed(3)),M.setAttribute("stroke",i.penColor),M.setAttribute("fill","none"),M.setAttribute("stroke-linecap","round"),h.appendChild(M)}},function(q){var N=document.createElement("circle"),M="function"==typeof i.dotSize?i.dotSize():i.dotSize;N.setAttribute("r",M),N.setAttribute("cx",q.x),N.setAttribute("cy",q.y),N.setAttribute("fill",i.penColor),h.appendChild(N)});var f='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+r+" "+u+'" width="'+r+'" height="'+u+'">',y=h.innerHTML;if(void 0===y){var T=document.createElement("dummy"),U=h.childNodes;T.innerHTML="";for(var w=0;w<U.length;w+=1)T.appendChild(U[w].cloneNode(!0));y=T.innerHTML}return"data:image/svg+xml;base64,"+btoa(f+y+"</svg>")},m.prototype.fromData=function(i){var a=this;this.clear(),this._fromData(i,function(e,n){return a._drawCurve(e,n.start,n.end)},function(e){return a._drawDot(e)})},m.prototype.toData=function(){return this._data};const et=m;let G=(()=>{class i{constructor(e){this.elementRef=e,this.options=this.options||{},this.onBeginEvent=new t.vpe,this.onEndEvent=new t.vpe}ngAfterContentInit(){const e=this.elementRef.nativeElement.querySelector("canvas");this.options.canvasHeight&&(e.height=this.options.canvasHeight),this.options.canvasWidth&&(e.width=this.options.canvasWidth),this.signaturePad=new et(e,this.options),this.signaturePad.onBegin=this.onBegin.bind(this),this.signaturePad.onEnd=this.onEnd.bind(this)}ngOnDestroy(){const e=this.elementRef.nativeElement.querySelector("canvas");e.width=0,e.height=0}resizeCanvas(){const e=Math.max(window.devicePixelRatio||1,1),n=this.signaturePad.canvas;n.width=n.offsetWidth*e,n.height=n.offsetHeight*e,n.getContext("2d").scale(e,e),this.signaturePad.clear()}toData(){return this.signaturePad?this.signaturePad.toData():[]}fromData(e){this.signaturePad.fromData(e)}toDataURL(e,n){return this.signaturePad.toDataURL(e,n)}fromDataURL(e,n={}){!n.hasOwnProperty("height")&&this.options.canvasHeight&&(n.height=this.options.canvasHeight),!n.hasOwnProperty("width")&&this.options.canvasWidth&&(n.width=this.options.canvasWidth),this.signaturePad.fromDataURL(e,n)}clear(){this.signaturePad.clear()}isEmpty(){return this.signaturePad.isEmpty()}off(){this.signaturePad.off()}on(){this.signaturePad.on()}set(e,n){switch(e){case"canvasHeight":this.signaturePad.canvas.height=n;break;case"canvasWidth":this.signaturePad.canvas.width=n;break;default:this.signaturePad[e]=n}}onBegin(){this.onBeginEvent.emit(!0)}onEnd(){this.onEndEvent.emit(!0)}queryPad(){return this.signaturePad}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq))},i.\u0275cmp=t.Xpm({type:i,selectors:[["signature-pad"]],inputs:{options:"options"},outputs:{onBeginEvent:"onBeginEvent",onEndEvent:"onEndEvent"},decls:1,vars:0,template:function(e,n){1&e&&t._UZ(0,"canvas")},encapsulation:2}),i})(),z=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[]]}),i})();var B=c(85993),W=c(49875),R=c(60940),v=c(15346);let j=(()=>{class i{constructor(e,n,o){this.modal=e,this.fileUpload=n,this.alertService=o,this.signaturePadOptions={minWidth:5,canvasWidth:500,canvasHeight:300}}ngOnInit(){}ngAfterViewInit(){this.signaturePad.set("minWidth",5),this.signaturePad.clear()}clearSign(){this.signaturePad.clear()}saveSign(){let e=this.signaturePad.toDataURL().toString().split(",")[1];var n=4*Math.ceil(e.length/3)*.5624896334383812;let o={fileStr:e,fileName:(new Date).getTime(),fileType:"png",fileSize:n,contentType:"png",fileExtension:"png"};this.fileUpload.save(o).toPromise().then(s=>{s&&this.modal.dismiss({data:s,type:"save"})})}deleteEditModal(){this.alertService.activate("Are you sure want to delete?","Warning Message").then(e=>{e&&this.modal.dismiss({type:"delete"})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(B.Kz),t.Y36(W.p3),t.Y36(R.c))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-resourse-detail"]],viewQuery:function(e,n){if(1&e&&t.Gf(G,5),2&e){let o;t.iGM(o=t.CRH())&&(n.signaturePad=o.first)}},decls:16,vars:10,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4","left-border-image"],[1,"overlay","overlay-block","cursor-default","modal-body"],[3,"options"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-secondary","btn-elevate",3,"click"],["type","submit",1,"btn","btn-primary","btn-elevate",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._uU(3," Sign here ...! "),t.qZA(),t.qZA(),t.TgZ(4,"div",3),t._UZ(5,"signature-pad",4),t.qZA(),t.TgZ(6,"div",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return n.modal.dismiss()}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return n.clearSign()}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){return n.saveSign()}),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(5),t.Q6J("options",n.signaturePadOptions),t.xp6(3),t.Oqu(t.lcZ(9,4,"FORM.btn_cancel")),t.xp6(3),t.Oqu(t.lcZ(12,6,"FORM.btn_clear")),t.xp6(3),t.Oqu(t.lcZ(15,8,"FORM.btn_save")))},directives:[G],pipes:[v.X],styles:[""]}),i})();var Y=c(35618),it=c(552),Q=c(43329),k=c(45570),H=c(4205),nt=c(46045),C=c(23449),X=c(57842),E=c(49133);function at(i,a){1&i&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.Option")," "))}function K(i,a){1&i&&(t.TgZ(0,"th",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.Sum Insured")," "))}function ot(i,a){1&i&&(t.TgZ(0,"th",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.Unit")," "))}function p(i,a){1&i&&(t.TgZ(0,"th",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.Premium")," "))}function x(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"ng-select",13),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw(3).$implicit;return t.oxw().addOnData[s.id].option=o}),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(3).$implicit,n=t.oxw();t.xp6(1),t.Q6J("items",n.fireOptionData[e.code])("ngModel",n.addOnData[e.id].option)("clearable",!1)}}function l(i,a){if(1&i&&(t.TgZ(0,"td"),t.YNc(1,x,2,3,"ng-container",8),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf","FRAD010"==e.code||"FRAD008"==e.code)}}function g(i,a){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(1),t.hij(" ",n.addOnData[e.id].sum>0?t.lcZ(2,1,n.addOnData[e.id].sum):n.addOnData[e.id].sum," ")}}function Z(i,a){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(1),t.hij(" ",n.addOnData[e.id]?n.addOnData[e.id].unit:0," ")}}function L(i,a){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(1),t.hij(" ",n.addOnData[e.id].premium>0?t.lcZ(2,1,n.addOnData[e.id].premium):n.addOnData[e.id].premium," ")}}function O(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",7),t._uU(2),t.qZA(),t.YNc(3,l,2,1,"td",8),t.YNc(4,g,3,3,"td",8),t.YNc(5,Z,2,1,"td",8),t.YNc(6,L,3,3,"td",8),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(2),t.Oqu(e.description),t.xp6(1),t.Q6J("ngIf","CLFR01"==n.product.code),t.xp6(1),t.Q6J("ngIf",e.sumInsured),t.xp6(1),t.Q6J("ngIf",e.unit),t.xp6(1),t.Q6J("ngIf",e.premium)}}function F(i,a){if(1&i&&(t.ynx(0),t.YNc(1,O,7,5,"tr",8),t.BQk()),2&i){const e=a.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.addOnData[e.id])}}let st=(()=>{class i{constructor(e,n){this.addonQuo=e,this.globalFun=n,this.addOnData={},this.addon={sumInsured:!1,unit:!1,premium:!1},this.fireOptionData={FRAD008:[{code:"T-001",value:"Building"},{code:"T-002",value:"Furniture"},{code:"T-003",value:"Machine"},{code:"T-004",value:"Goods/Stocks"},{code:"T-005",value:"Water Damage for Goods/Stocks"}],FRAD010:[{code:"T-001",value:"First Class Building"},{code:"T-002",value:"Second Class Building"},{code:"T-003",value:"Third Class Building"},{code:"T-004",value:"Fourth Class Building"}]}}ngOnInit(){if(this.optionId=this.optionId?this.optionId:this.resourcesId,this.product.addOns&&this.product.addOns.length>0){this.addon={sumInsured:this.product.addOns[0].sumInsured,unit:this.product.addOns[0].unit,premium:this.product.addOns[0].premium};for(const e of this.product.addOns)try{this.resourcesId&&this.addonQuo.getOne(e.id,this.resourcesId,this.optionId).toPromise().then(n=>{n&&(this.addOnData[e.id]={sum:n&&n.sumInsured||0,unit:n&&n.unit||0,premium:n&&n.premium||0,option:n&&n.option||"T-001"})})}catch(n){}}}getDetail(){return(0,A.mG)(this,void 0,void 0,function*(){if(this.product.addOns&&this.product.addOns.length>0){this.addon={sumInsured:this.product.addOns[0].sumInsured,unit:this.product.addOns[0].unit,premium:this.product.addOns[0].premium};for(const e of this.product.addOns){let n={};try{this.resourcesId&&(n=yield this.addonQuo.getOne(e.id,this.resourcesId,this.optionId).toPromise())}catch(o){}this.addOnData[e.id]={sum:n&&n.sumInsured||0,unit:n&&n.unit||0,premium:n&&n.premium||0}}}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Q.D),t.Y36(C.Q))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addon-view"]],inputs:{product:"product",resourcesId:"resourcesId",optionId:"optionId"},decls:20,vars:11,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center"],[2,"text-align","left"],[4,"ngIf"],["style","text-align: right;",4,"ngIf"],[1,"tbody-align"],[4,"ngFor","ngForOf"],[2,"text-align","right"],["bindLabel","value","bindValue","code","disabled","",1,"ng-custom-select",3,"items","ngModel","clearable","ngModelChange"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"table",6),t.TgZ(9,"thead"),t.TgZ(10,"tr"),t.TgZ(11,"th",7),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.YNc(14,at,3,3,"th",8),t.YNc(15,K,3,3,"th",9),t.YNc(16,ot,3,3,"th",9),t.YNc(17,p,3,3,"th",9),t.qZA(),t.qZA(),t.TgZ(18,"tbody",10),t.YNc(19,F,2,1,"ng-container",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij("",t.lcZ(5,7,"FORM.Addons Coverage")," :"),t.xp6(8),t.hij(" ",t.lcZ(13,9,"FORM.Addons Coverage")," "),t.xp6(2),t.Q6J("ngIf","CLFR01"==n.product.code),t.xp6(1),t.Q6J("ngIf",n.addon.sumInsured),t.xp6(1),t.Q6J("ngIf",n.addon.unit),t.xp6(1),t.Q6J("ngIf",n.addon.premium),t.xp6(2),t.Q6J("ngForOf",n.product.addOns))},directives:[d.O5,d.sg,X.w9,E.JJ,E.On],pipes:[v.X,d.JJ],styles:[""]}),i})();function ct(i,a){1&i&&(t.TgZ(0,"th",11),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.sum_insure")," "))}function lt(i,a){1&i&&(t.TgZ(0,"th",11),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.unit")," "))}function Tt(i,a){1&i&&(t.TgZ(0,"th",11),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.premium")," "))}function xt(i,a){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"number"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(1),t.hij(" ",n.coverageData[e.id].sum>0?t.lcZ(2,1,n.coverageData[e.id].sum):t.lcZ(3,3,n.coverageData[e.id].sum)," ")}}function yt(i,a){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(1),t.hij(" ",n.coverageData[e.id]?n.coverageData[e.id].unit:0," ")}}function bt(i,a){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"number"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(1),t.hij(" ",n.coverageData[e.id].premium>0?t.lcZ(2,1,n.coverageData[e.id].premium):t.lcZ(3,3,n.coverageData[e.id].premium)," ")}}function Dt(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",7),t._uU(2),t.qZA(),t.YNc(3,xt,4,5,"td",12),t.YNc(4,yt,2,1,"td",12),t.YNc(5,bt,4,5,"td",12),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.description),t.xp6(1),t.Q6J("ngIf",e.sumInsured),t.xp6(1),t.Q6J("ngIf",e.unit),t.xp6(1),t.Q6J("ngIf",e.premium)}}function qt(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Dt,6,4,"tr",12),t.BQk()),2&i){const e=a.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.coverageData[e.id])}}let Ot=(()=>{class i{constructor(e,n){this.coverageQuo=e,this.globalFun=n,this.coverage={sumInsured:!1,unit:!1,premium:!1},this.coverageData={}}ngOnInit(){if(this.optionId=this.optionId?this.optionId:this.resourcesId,this.product.coverages&&this.product.coverages.length>0){this.coverage={sumInsured:this.product.coverages[0].sumInsured,unit:this.product.coverages[0].unit,premium:this.product.coverages[0].premium};for(const e of this.product.coverages)this.resourcesId&&this.coverageQuo.getOne(e.id,this.resourcesId,this.optionId).toPromise().then(o=>{o&&(this.coverageData[e.id]={sum:o&&Number(o.sumInsured.replace(",",""))||0,unit:o&&o.unit||0,premium:o&&Number(o.premium.replace(",",""))||0})})}}getDetail(){return(0,A.mG)(this,void 0,void 0,function*(){if(this.product.coverages&&this.product.coverages.length>0){this.coverage={sumInsured:this.product.coverages[0].sumInsured,unit:this.product.coverages[0].unit,premium:this.product.coverages[0].premium};for(const e of this.product.coverages){let n={};try{this.resourcesId&&(n=yield this.coverageQuo.getOne(e.id,this.resourcesId,this.optionId).toPromise().catch(o=>o))}catch(o){}this.coverageData[e.id]={sum:n&&Number(n.sumInsured.replace(",",""))||0,unit:n&&n.unit||0,premium:n&&Number(n.premium.replace(",",""))||0}}}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(k.a),t.Y36(C.Q))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-coverage-view"]],inputs:{product:"product",resourcesId:"resourcesId",optionId:"optionId"},decls:19,vars:10,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center"],[2,"text-align","left"],["style","text-align: right;",4,"ngIf"],[1,"tbody-align"],[4,"ngFor","ngForOf"],[2,"text-align","right"],[4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"table",6),t.TgZ(9,"thead"),t.TgZ(10,"tr"),t.TgZ(11,"th",7),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.YNc(14,ct,3,3,"th",8),t.YNc(15,lt,3,3,"th",8),t.YNc(16,Tt,3,3,"th",8),t.qZA(),t.qZA(),t.TgZ(17,"tbody",9),t.YNc(18,qt,2,1,"ng-container",10),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij("",t.lcZ(5,6,"FORM.basic_coverage")," :"),t.xp6(8),t.hij(" ",t.lcZ(13,8,"FORM.basic_coverage")," "),t.xp6(2),t.Q6J("ngIf",n.coverage.sumInsured),t.xp6(1),t.Q6J("ngIf",n.coverage.unit),t.xp6(1),t.Q6J("ngIf",n.coverage.premium),t.xp6(2),t.Q6J("ngForOf",n.product.coverages))},directives:[d.O5,d.sg],pipes:[v.X,d.JJ],styles:[""]}),i})();var ut=c(27673),pt=c(65937),ht=c(26025);const wt=["chart"];function It(i,a){if(1&i&&(t.ynx(0),t._UZ(1,"apx-chart",1),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("series",e.chartOptions.series)("chart",e.chartOptions.chart)("xaxis",e.chartOptions.xaxis)("yaxis",e.chartOptions.yaxis)("title",e.chartOptions.title)("legend",e.chartOptions.legend)("dataLabels",e.chartOptions.dataLabels)("markers",e.chartOptions.markers)}}let Lt=(()=>{class i{constructor(e,n,o,s){this.alertService=e,this.globalFun=n,this.eduPayment=o,this.cdf=s,this.actionEvent=new t.vpe,this.showDatas=[],this.show=!1,this.chartOptions={series:[{name:"Premium Amount",data:[],color:"#005f99"}],chart:{height:450,type:"line",toolbar:{show:!1}},title:{text:"Basic Benefit Illustration",offsetX:0,offsetY:10,floating:!1,style:{fontSize:"1.1rem",fontFamily:"Roboto"}},xaxis:{type:"category",categories:["0","1 year","2 years","3 years","4 years","5 years","6 years","7 years","8 years","9 years","10 years","11 years","12 years","13 years","14 years"],labels:{style:{fontSize:"1rem",fontFamily:"Roboto"}}},yaxis:{min:0,max:5e6,tickAmount:5,labels:{style:{fontSize:"1rem",fontFamily:"Roboto"}}},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5},dataLabels:{enabled:!0,textAnchor:"middle",offsetX:-10,offsetY:-5,enabledOnSeries:[0]},markers:{size:[5,0,0]}}}ngOnInit(){let e=this.parentData.map(n=>n.premiumPaid&&n.premiumPaid>0?n.premiumPaid:null);e.unshift(null),this.chartOptions.series[0].data=e,this.parentData.length>0&&"002"==this.parentData[0].benefitPlan&&(this.chartOptions.title.text="Double Benefit Illustration",this.chartOptions.yaxis.max=1e7,this.chartOptions.series[1]={data:[],name:"Goal"},this.chartOptions.series[2]={data:[],name:"2X Goal"},this.chartOptions.series[1].data=[5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6],this.chartOptions.series[2].data=[1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7])}createListData(){this.eduPayment.getMany(this.resourcesId).toPromise().then(e=>{if(e){let n=e.map(o=>{if(o.premiumPaid)return o.premiumPaid});n.unshift(0),e.length>0&&"002"==e[0].benefitPlan&&(this.chartOptions.title.text="Double Benefit Illustration",this.chartOptions.yaxis.max=1e7),this.chartOptions.series[0].data=n.filter(o=>o>=0),this.show=!0,this.cdf.detectChanges()}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(R.c),t.Y36(C.Q),t.Y36(pt.D),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-education-life-grip-view"]],viewQuery:function(e,n){if(1&e&&t.Gf(wt,5),2&e){let o;t.iGM(o=t.CRH())&&(n.chart=o.first)}},inputs:{product:"product",editData:"editData",resourcesId:"resourcesId",parentData:"parentData"},outputs:{actionEvent:"actionEvent"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"series","chart","xaxis","yaxis","title","legend","dataLabels","markers"]],template:function(e,n){1&e&&t.YNc(0,It,2,8,"ng-container",0),2&e&&t.Q6J("ngIf",n.parentData)},directives:[d.O5,ht.x],styles:[""]}),i})();function Ut(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",6),t._uU(6),t.ALo(7,"number"),t.qZA(),t.TgZ(8,"td",6),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"td",6),t._uU(12),t.ALo(13,"number"),t.qZA(),t.TgZ(14,"td",6),t._uU(15),t.ALo(16,"number"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.endOfPolicyYear),t.xp6(2),t.Oqu(e.age),t.xp6(2),t.Oqu(t.lcZ(7,6,e.premiumPaid)||"-"),t.xp6(3),t.Oqu(t.lcZ(10,8,e.deathBenefit)),t.xp6(3),t.Oqu(t.lcZ(13,10,e.surrenderValue)||"-"),t.xp6(3),t.Oqu(t.lcZ(16,12,e.maturityBenefit)||"-")}}function Ct(i,a){if(1&i&&(t.ynx(0),t._UZ(1,"app-education-life-grip-view",10),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("parentData",e.showDatas)}}let Ft=(()=>{class i{constructor(e,n,o,s,r,u,h){this.globalFun=e,this.alertService=n,this.prodService=o,this.eduPreService=s,this.eduSurrService=r,this.eduPayment=u,this.cdf=h,this.actionEvent=new t.vpe,this.premimuRate={"9opt":5,"11opt":7,"14opt":10},this.frequency={monthly:1,quatarly:4,semi_annually:6,annually:12},this.lists=[],this.premiumRate=[],this.surrendRate=[],this.showDatas=[]}ngOnInit(){this.createListData()}createListData(){this.eduPayment.getMany(this.resourcesId).toPromise().then(e=>{e&&(this.showDatas=e,this.cdf.detectChanges())})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(C.Q),t.Y36(R.c),t.Y36(Y.f),t.Y36(ut.H),t.Y36(ut.D),t.Y36(pt.D),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-education-life-view"]],inputs:{product:"product",editData:"editData",resourcesId:"resourcesId"},outputs:{actionEvent:"actionEvent"},decls:25,vars:2,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"table","table-bordered"],[2,"text-align","right"],[4,"ngFor","ngForOf"],[1,"mb-5"],[4,"ngIf"],[3,"parentData"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Benefit Illustration"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"table",5),t.TgZ(7,"thead"),t.TgZ(8,"tr"),t.TgZ(9,"th"),t._uU(10,"End of Policy Year"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Age"),t.qZA(),t.TgZ(13,"th",6),t._uU(14,"Premium Paid"),t.qZA(),t.TgZ(15,"th",6),t._uU(16,"Death/PTD Benefit"),t.qZA(),t.TgZ(17,"th",6),t._uU(18,"Surrender Value"),t.qZA(),t.TgZ(19,"th",6),t._uU(20,"Maturity Benefit"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"tbody"),t.YNc(22,Ut,17,14,"tr",7),t.qZA(),t.qZA(),t._UZ(23,"hr",8),t.YNc(24,Ct,2,1,"ng-container",9),t.qZA(),t.qZA()),2&e&&(t.xp6(22),t.Q6J("ngForOf",n.showDatas),t.xp6(2),t.Q6J("ngIf",n.showDatas.length>0))},directives:[d.sg,d.O5,Lt],pipes:[d.JJ],styles:[""]}),i})();var gt=c(61438);const St=["chart"];function Pt(i,a){if(1&i&&(t.ynx(0),t._UZ(1,"apx-chart",1),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("series",e.chartOptions.series)("chart",e.chartOptions.chart)("xaxis",e.chartOptions.xaxis)("yaxis",e.chartOptions.yaxis)("title",e.chartOptions.title)("legend",e.chartOptions.legend)("dataLabels",e.chartOptions.dataLabels)("markers",e.chartOptions.markers)}}let mt=(()=>{class i{constructor(e,n,o,s){this.alertService=e,this.globalFun=n,this.endoPayment=o,this.cdf=s,this.actionEvent=new t.vpe,this.showDatas=[],this.show=!1,this.chartOptions={series:[{name:"Premium Amount",data:[],color:"#005f99"}],chart:{height:450,type:"line",toolbar:{show:!1}},title:{text:"Basic Benefit Illustration",offsetX:0,offsetY:10,floating:!1,style:{fontSize:"1.1rem",fontFamily:"Roboto"}},xaxis:{type:"category",categories:["0","1 year","2 years","3 years","4 years","5 years","6 years","7 years","8 years","9 years","10 years","11 years","12 years","13 years","14 years"],labels:{style:{fontSize:"1rem",fontFamily:"Roboto"}}},yaxis:{min:0,max:5e6,tickAmount:5,labels:{style:{fontSize:"1rem",fontFamily:"Roboto"}}},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5},dataLabels:{enabled:!0,textAnchor:"middle",offsetX:-10,offsetY:-5,enabledOnSeries:[0]},markers:{size:[5,0,0]}}}ngOnInit(){let e=this.parentData.map(n=>n.premiumPaid&&n.premiumPaid>0?n.premiumPaid:null);e.unshift(null),this.chartOptions.series[0].data=e,this.parentData.length>0&&(this.chartOptions.yaxis.max=parseInt(this.parentData[0].benefit))}createListData(){this.endoPayment.getMany(this.resourcesId).toPromise().then(e=>{if(e){let n=e.map(o=>{if(o.premiumPaid)return o.premiumPaid});n.unshift(0),this.chartOptions.series[0].data=n.filter(o=>o>=0),this.show=!0,this.cdf.detectChanges()}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(R.c),t.Y36(C.Q),t.Y36(gt.F),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-endo-grip-view"]],viewQuery:function(e,n){if(1&e&&t.Gf(St,5),2&e){let o;t.iGM(o=t.CRH())&&(n.chart=o.first)}},inputs:{product:"product",editData:"editData",resourcesId:"resourcesId",parentData:"parentData"},outputs:{actionEvent:"actionEvent"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"series","chart","xaxis","yaxis","title","legend","dataLabels","markers"]],template:function(e,n){1&e&&t.YNc(0,Pt,2,8,"ng-container",0),2&e&&t.Q6J("ngIf",n.parentData)},directives:[d.O5,ht.x],styles:[""]}),i})();function Rt(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",6),t._uU(6),t.ALo(7,"number"),t.qZA(),t.TgZ(8,"td",6),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"td",6),t._uU(12),t.ALo(13,"number"),t.qZA(),t.TgZ(14,"td",6),t._uU(15),t.ALo(16,"number"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.endOfPolicyYear),t.xp6(2),t.Oqu(e.age),t.xp6(2),t.Oqu(t.lcZ(7,6,e.premiumPaid)||"-"),t.xp6(3),t.Oqu(t.lcZ(10,8,e.benefit)),t.xp6(3),t.Oqu(t.lcZ(13,10,e.surrenderValue)||"-"),t.xp6(3),t.Oqu(t.lcZ(16,12,e.policyLoan)||"-")}}function Yt(i,a){if(1&i&&(t.ynx(0),t._UZ(1,"app-endo-grip-view",10),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("parentData",e.showDatas)}}let Mt=(()=>{class i{constructor(e,n){this.eduPayment=e,this.cdf=n,this.actionEvent=new t.vpe,this.premimuRate={"9opt":5,"11opt":7,"14opt":10},this.frequency={monthly:1,quatarly:4,semi_annually:6,annually:12},this.lists=[],this.premiumRate=[],this.surrendRate=[],this.showDatas=[]}ngOnInit(){this.createListData()}createListData(){this.eduPayment.getMany(this.resourcesId).toPromise().then(e=>{e&&(this.showDatas=e,this.cdf.detectChanges())})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(gt.F),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-endo-view"]],inputs:{product:"product",editData:"editData",resourcesId:"resourcesId"},outputs:{actionEvent:"actionEvent"},decls:25,vars:2,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"table","table-bordered"],[2,"text-align","right"],[4,"ngFor","ngForOf"],[1,"mb-5"],[4,"ngIf"],[3,"parentData"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Benefit Illustration"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"table",5),t.TgZ(7,"thead"),t.TgZ(8,"tr"),t.TgZ(9,"th"),t._uU(10,"End of Policy Year"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Age"),t.qZA(),t.TgZ(13,"th",6),t._uU(14,"Premium Paid"),t.qZA(),t.TgZ(15,"th",6),t._uU(16,"Death/PTD Benefit"),t.qZA(),t.TgZ(17,"th",6),t._uU(18,"Surrender Value"),t.qZA(),t.TgZ(19,"th",6),t._uU(20,"Policy Loan"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"tbody"),t.YNc(22,Rt,17,14,"tr",7),t.qZA(),t.qZA(),t._UZ(23,"hr",8),t.YNc(24,Yt,2,1,"ng-container",9),t.qZA(),t.qZA()),2&e&&(t.xp6(22),t.Q6J("ngForOf",n.showDatas),t.xp6(2),t.Q6J("ngIf",n.showDatas.length>0))},directives:[d.sg,d.O5,mt],pipes:[d.JJ],styles:[""]}),i})();var Et=c(75103);const _t="static_1642920843499";let Nt=(()=>{class i{constructor(e,n,o){this.fireService=e,this.globalFun=n,this.prodService=o,this.showData={}}ngOnInit(){this.refID=this.prodService.referenceID,this.tempResourcesId=this.resourcesId,this.globalFun.tempFormData[_t]?this.showData=this.globalFun.tempFormData[_t]:this.getDataAPI()}getDataAPI(){this.fireService.getOne(this.tempResourcesId).toPromise().then(e=>{e&&(this.showData=e)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Et.V),t.Y36(C.Q),t.Y36(Y.f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-fire-page-view"]],inputs:{product:"product",resourcesId:"resourcesId"},decls:35,vars:29,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"list-group"],[1,"list-group-item"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Fire Product Details :"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"ul",5),t.TgZ(7,"li",6),t._uU(8),t.ALo(9,"translate"),t.TgZ(10,"span"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.qZA(),t.TgZ(13,"li",6),t._uU(14),t.ALo(15,"translate"),t.TgZ(16,"span"),t._uU(17),t.ALo(18,"date"),t.qZA(),t.qZA(),t.TgZ(19,"li",6),t._uU(20),t.ALo(21,"translate"),t.TgZ(22,"span"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.qZA(),t.TgZ(25,"li",6),t._uU(26),t.ALo(27,"translate"),t.TgZ(28,"span"),t._uU(29),t.qZA(),t.qZA(),t.TgZ(30,"li",6),t._uU(31),t.ALo(32,"translate"),t.TgZ(33,"span"),t._uU(34),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(8),t.hij(" ",t.lcZ(9,11,"FORM.policy_effective_from_date")," : "),t.xp6(3),t.hij(" ",t.xi3(12,13,n.showData.startDate,"dd/MM/yyyy"),""),t.xp6(3),t.hij(" ",t.lcZ(15,16,"FORM.policy_effective_to_date")," : "),t.xp6(3),t.hij(" ",t.xi3(18,18,n.showData.endDate,"dd/MM/yyyy"),""),t.xp6(3),t.hij(" ",t.lcZ(21,21,"FORM.policy_duration")," : "),t.xp6(3),t.AsE(" ",n.showData.policyDuration," ",t.lcZ(24,23,"FORM.days"),""),t.xp6(3),t.hij(" ",t.lcZ(27,25,"FORM.policy_type")," : "),t.xp6(3),t.hij(" ","T-001"==n.showData.policyType?"Normal":"Declaration",""),t.xp6(2),t.hij(" ",t.lcZ(32,27,"FORM.currency")," : "),t.xp6(3),t.hij(" ","T-001"==n.showData.policyDuration?"MMK":"USD",""))},pipes:[v.X,d.uU],styles:[""]}),i})();var ft=c(66977);function Bt(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td",7),t._uU(5),t.ALo(6,"number"),t.qZA(),t.TgZ(7,"td",7),t._uU(8),t.ALo(9,"number"),t.qZA(),t.qZA(),t.BQk()),2&i){const e=a.$implicit;t.xp6(3),t.Oqu(e.buildingDescription),t.xp6(2),t.Oqu(t.lcZ(6,3,e.riskSi)),t.xp6(3),t.Oqu(t.lcZ(9,5,e.premium))}}function Qt(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.ALo(24,"number"),t.qZA(),t.qZA(),t.BQk()),2&i){const e=a.$implicit;t.xp6(3),t.Oqu(e.buildingDescription),t.xp6(2),t.Oqu(e.typeOfBuildingValue),t.xp6(2),t.Oqu(e.occupationOfBuildingValue),t.xp6(2),t.Oqu(e.buildingClassValue),t.xp6(2),t.Oqu(e.totalSquareFoot),t.xp6(2),t.Oqu(e.yearOfConstruction),t.xp6(2),t.Oqu(e.buildingSi),t.xp6(2),t.Oqu(e.proposedFurniture),t.xp6(2),t.Oqu(e.proposedMachinerySI),t.xp6(2),t.Oqu(e.proposeStockValue),t.xp6(2),t.Oqu(t.lcZ(24,11,e.riskSi))}}function Vt(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.qZA(),t.TgZ(24,"td"),t._uU(25),t.qZA(),t.TgZ(26,"td"),t._uU(27),t.qZA(),t.TgZ(28,"td"),t._uU(29),t.qZA(),t.qZA(),t.BQk()),2&i){const e=a.$implicit;t.xp6(3),t.Oqu(e.description),t.xp6(2),t.Oqu(e.firepremium||0),t.xp6(2),t.Oqu(e.STHTC),t.xp6(2),t.Oqu(e.IMPD),t.xp6(2),t.Oqu(e.RSMD),t.xp6(2),t.Oqu(e.BURGLARY),t.xp6(2),t.Oqu(e.ACD),t.xp6(2),t.Oqu(e.EQ),t.xp6(2),t.Oqu(e.SPONTCOMB),t.xp6(2),t.Oqu(e.SUBLSLD),t.xp6(2),t.Oqu(e.WARRISK),t.xp6(2),t.Oqu(e.EXPLOSION),t.xp6(2),t.Oqu(e.FLOOD),t.xp6(2),t.Oqu(e.premium)}}function jt(i,a){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Vt,30,14,"ng-container",8),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.addOnData)}}let kt=(()=>{class i{constructor(e,n,o,s,r){this.fireRiskService=e,this.fireRsikService=n,this.productSerice=o,this.addonQuo=s,this.cdf=r,this.premiumAmt="",this.listData=[],this.totalPremium=0,this.totalSi=0,this.riskData=[],this.addOnData=[]=[]}ngOnInit(){this.getRiskList(),this.getRiskDetail()}getRiskList(){this.fireRiskService.getMany(this.resourcesId).toPromise().then(e=>{e&&(this.listData=e)})}getRiskDetail(){this.fireRsikService.getMany(this.resourcesId).toPromise().then(e=>{if(e){this.riskData=e,console.log("riskDetail",this.listData);for(let n of this.listData)this.totalPremium+=parseInt(n.premium),this.totalSi+=parseInt(n.riskSi);console.log(this.totalPremium,this.totalSi),this.getAddonCover()}})}getAddonCover(){return(0,A.mG)(this,void 0,void 0,function*(){this.product=this.productSerice.createingProd||this.productSerice.selectedProd,console.log(this.product,this.listData);let e=0;for(let n of this.listData){e+=1;let o={description:n.buildingDescription,premium:0};for(const s of this.product.addOns){this.optionId=n.id;try{this.resourcesId&&(this.additionalData=yield this.addonQuo.getOne(s.id,this.resourcesId,this.optionId).toPromise(),console.log("response",this.additionalData),this.additionalData?(o[s.code]=this.additionalData.premium||0,o.premium+=parseInt(this.additionalData.premium)):o[s.code]=0)}catch(r){}}console.log("ADDON",o),this.addOnData.push(o),console.log("ADDONDATA",this.addOnData),e==this.listData.length&&this.cdf.detectChanges()}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(ft.U),t.Y36(ft.U),t.Y36(Y.f),t.Y36(Q.D),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-fire-risk-view"]],inputs:{product:"product",editData:"editData",resourcesId:"resourcesId"},decls:119,vars:87,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center","fire-table"],[2,"text-align","right"],[4,"ngFor","ngForOf"],[1,"field-col"],[4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Fire Risk"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"table",6),t.TgZ(8,"thead"),t.TgZ(9,"tr"),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",7),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",7),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"tbody"),t.YNc(20,Bt,10,7,"ng-container",8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",0),t.TgZ(22,"div",1),t.TgZ(23,"div",2),t.TgZ(24,"h3",3),t._uU(25,"Risk Detail Information"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",4),t.TgZ(27,"div",5),t.TgZ(28,"table",6),t.TgZ(29,"thead"),t.TgZ(30,"tr"),t.TgZ(31,"th"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"th"),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"th"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"th"),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"th"),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"th"),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"th"),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"th"),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"th"),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"th"),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"th"),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(64,"tbody"),t.YNc(65,Qt,25,13,"ng-container",8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(66,"div",0),t.TgZ(67,"div",1),t.TgZ(68,"div",2),t.TgZ(69,"h3",3),t._uU(70,"Additional Cover Information"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",4),t.TgZ(72,"div",5),t.TgZ(73,"table",6),t.TgZ(74,"thead"),t.TgZ(75,"tr"),t.TgZ(76,"th",9),t._uU(77),t.ALo(78,"translate"),t.qZA(),t.TgZ(79,"th",9),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.TgZ(82,"th",9),t._uU(83),t.ALo(84,"translate"),t.qZA(),t.TgZ(85,"th",9),t._uU(86),t.ALo(87,"translate"),t.qZA(),t.TgZ(88,"th",9),t._uU(89),t.ALo(90,"translate"),t.qZA(),t.TgZ(91,"th",9),t._uU(92),t.ALo(93,"translate"),t.qZA(),t.TgZ(94,"th",9),t._uU(95),t.ALo(96,"translate"),t.qZA(),t.TgZ(97,"th",9),t._uU(98),t.ALo(99,"translate"),t.qZA(),t.TgZ(100,"th",9),t._uU(101),t.ALo(102,"translate"),t.qZA(),t.TgZ(103,"th",9),t._uU(104),t.ALo(105,"translate"),t.qZA(),t.TgZ(106,"th",9),t._uU(107),t.ALo(108,"translate"),t.qZA(),t.TgZ(109,"th",9),t._uU(110),t.ALo(111,"translate"),t.qZA(),t.TgZ(112,"th",9),t._uU(113),t.ALo(114,"translate"),t.qZA(),t.TgZ(115,"th",9),t._uU(116),t.ALo(117,"translate"),t.qZA(),t.qZA(),t.qZA(),t.YNc(118,jt,2,1,"tbody",10),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(11),t.hij("",t.lcZ(12,31,"FORM.building_description")," "),t.xp6(3),t.Oqu(t.lcZ(15,33,"FORM.sum_insured")),t.xp6(3),t.hij("",t.lcZ(18,35,"FORM.premium")," "),t.xp6(3),t.Q6J("ngForOf",n.listData),t.xp6(12),t.hij(" ",t.lcZ(33,37,"TABLE.Building Description")," "),t.xp6(3),t.hij(" ",t.lcZ(36,39,"TABLE.Type of Building")," "),t.xp6(3),t.hij(" ",t.lcZ(39,41,"TABLE.Occupation of Building")," "),t.xp6(3),t.hij(" ",t.lcZ(42,43,"TABLE.Building Class")," "),t.xp6(3),t.hij(" ",t.lcZ(45,45,"TABLE.Total Square Feet")," "),t.xp6(3),t.hij(" ",t.lcZ(48,47,"TABLE.Year of Construction")," "),t.xp6(3),t.hij(" ",t.lcZ(51,49,"TABLE.Proposed Building SI")," "),t.xp6(3),t.hij(" ",t.lcZ(54,51,"TABLE.Proposed Furniture")," "),t.xp6(3),t.hij(" ",t.lcZ(57,53,"TABLE.Proposed Machinery SI")," "),t.xp6(3),t.hij(" ",t.lcZ(60,55,"TABLE.Proposed Stock SI")," "),t.xp6(3),t.hij(" ",t.lcZ(63,57,"TABLE.Total SI")," "),t.xp6(3),t.Q6J("ngForOf",n.listData),t.xp6(12),t.hij(" ",t.lcZ(78,59,"TABLE.Building Description")," "),t.xp6(3),t.hij(" ",t.lcZ(81,61,"TABLE.Fire Premium")," "),t.xp6(3),t.hij(" ",t.lcZ(84,63,"TABLE.STHTC")," "),t.xp6(3),t.hij(" ",t.lcZ(87,65,"TABLE.Impact Damage")," "),t.xp6(3),t.hij(" ",t.lcZ(90,67,"TABLE.RSMD")," "),t.xp6(3),t.hij(" ",t.lcZ(93,69,"TABLE.Burglary")," "),t.xp6(3),t.hij(" ",t.lcZ(96,71,"TABLE.Air Craft Damage")," "),t.xp6(3),t.hij(" ",t.lcZ(99,73,"TABLE.EQ")," "),t.xp6(3),t.hij(" ",t.lcZ(102,75,"TABLE.Spontaneous Combus")," "),t.xp6(3),t.hij(" ",t.lcZ(105,77,"TABLE.Subsidence and Landslid")," "),t.xp6(3),t.hij(" ",t.lcZ(108,79,"TABLE.War Risk")," "),t.xp6(3),t.hij(" ",t.lcZ(111,81,"TABLE.Explosion")," "),t.xp6(3),t.hij(" ",t.lcZ(114,83,"TABLE.Flood and Inundate")," "),t.xp6(3),t.hij(" ",t.lcZ(117,85,"TABLE.Total Premium")," "),t.xp6(2),t.Q6J("ngIf",n.addOnData.length>0))},directives:[d.sg,d.O5],pipes:[v.X,d.JJ],styles:[".fire-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .fire-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left}"]}),i})();var Jt=c(93931);function $t(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.keyName),t.xp6(2),t.hij("",e.value," Units")}}function Gt(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"number"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"number"),t.qZA(),t.qZA()),2&i){const e=a.$implicit,n=a.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(t.lcZ(5,4,e.premium)),t.xp6(3),t.Oqu(t.lcZ(8,6,e.levy)),t.xp6(3),t.Oqu(t.lcZ(11,8,e.premium+e.levy))}}let zt=(()=>{class i{constructor(e,n,o,s,r,u,h){this.globalFun=e,this.alertService=n,this.addOnQuoService=o,this.coverageQuoService=s,this.healthPayService=r,this.cdf=u,this.prodService=h,this.refID="",this.showData=[],this.schedule=[],this.totalP=0,this.totalL=0,this.tempResourcesId="",this.tempSchedule=[]}ngOnInit(){this.refID=this.prodService.referenceID,this.tempResourcesId=this.resourcesId,this.getCoverage(),this.getAddon(),this.getSchedule()}getAddon(){this.product.addOns.forEach(e=>(0,A.mG)(this,void 0,void 0,function*(){let n={};try{n=yield this.addOnQuoService.getOne(e.id,this.tempResourcesId,this.tempResourcesId).toPromise(),n&&this.showData.push({keyName:e.description,value:n.sumInsured})}catch(o){}}))}getCoverage(){this.product.coverages.forEach(e=>(0,A.mG)(this,void 0,void 0,function*(){let n={};try{n=yield this.coverageQuoService.getOne(e.id,this.tempResourcesId,this.tempResourcesId).toPromise(),n&&this.showData.unshift({keyName:e.description,value:n.sumInsured})}catch(o){}}))}getSchedule(){this.healthPayService.getMany(this.tempResourcesId).toPromise().then(e=>{if(e&&e.length>0){if(this.totalP=0,this.totalL=0,e.map(n=>{this.totalP+=n.premium,this.totalL+=n.levy}),this.schedule=e,"L"==e[0].paymentTerm)this.tempSchedule=[{premium:this.totalP,levy:this.totalL,total:this.totalP+this.totalL}];else{let n=this.totalP/2;this.tempSchedule=[{premium:n,levy:this.totalL,total:n+this.totalL},{premium:n,levy:0,total:n}]}this.cdf.detectChanges()}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(C.Q),t.Y36(R.c),t.Y36(Q.D),t.Y36(k.a),t.Y36(Jt.q),t.Y36(t.sBO),t.Y36(Y.f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-health-quo-view"]],inputs:{product:"product",editData:"editData",resourcesId:"resourcesId"},decls:51,vars:32,consts:[[1,"card","card-custom","gutter-b"],[1,"card-body","customer-card-body"],[1,"table","table-bordered","mt-5"],[1,"tbody-align"],[4,"ngFor","ngForOf"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"table","table-bordered"],[2,"text-align","right"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.TgZ(3,"thead",3),t.TgZ(4,"tr"),t.TgZ(5,"th"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"th"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"tbody",3),t.YNc(12,$t,5,2,"tr",4),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",0),t.TgZ(14,"div",5),t.TgZ(15,"div",6),t.TgZ(16,"h3",7),t._uU(17,"Payment Schedules :"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"table",8),t.TgZ(20,"thead"),t.TgZ(21,"tr"),t.TgZ(22,"th"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th",9),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"th",9),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"th",9),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"tbody",3),t.YNc(35,Gt,12,10,"tr",4),t.qZA(),t.TgZ(36,"tfoot",3),t.TgZ(37,"tr"),t.TgZ(38,"td"),t.TgZ(39,"b"),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.qZA(),t.TgZ(42,"td"),t._uU(43),t.ALo(44,"number"),t.qZA(),t.TgZ(45,"td"),t._uU(46),t.ALo(47,"number"),t.qZA(),t.TgZ(48,"td"),t._uU(49),t.ALo(50,"number"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(6),t.hij(" ",t.lcZ(7,12,"FORM.Coverages / Benefit")," "),t.xp6(3),t.hij(" ",t.lcZ(10,14,"FORM.Sum Insured")," "),t.xp6(3),t.Q6J("ngForOf",n.showData),t.xp6(11),t.hij(" ",t.lcZ(24,16,"TABLE.No of Installment")," "),t.xp6(3),t.hij(" ",t.lcZ(27,18,"TABLE.Premium")," "),t.xp6(3),t.hij(" ",t.lcZ(30,20,"TABLE.Levy")," "),t.xp6(3),t.hij(" ",t.lcZ(33,22,"TABLE.Total")," "),t.xp6(3),t.Q6J("ngForOf",n.tempSchedule),t.xp6(5),t.Oqu(t.lcZ(41,24,"TABLE.Total")),t.xp6(3),t.Oqu(t.lcZ(44,26,n.totalP)),t.xp6(3),t.Oqu(t.lcZ(47,28,n.totalL)),t.xp6(3),t.Oqu(t.lcZ(50,30,n.totalP+n.totalL)))},directives:[d.sg],pipes:[v.X,d.JJ],styles:[""]}),i})();var Wt=c(75291);const Zt="static_1634018514043";let vt=(()=>{class i{constructor(e,n,o){this.healthService=e,this.globalFun=n,this.prodService=o,this.showData={}}ngOnInit(){this.refID=this.prodService.referenceID,this.tempResourcesId=this.resourcesId,this.globalFun.tempFormData[Zt]?this.showData=this.globalFun.tempFormData[Zt]:this.getDataAPI()}getDataAPI(){this.healthService.getOne(this.tempResourcesId).toPromise().then(e=>{e&&(this.showData=e)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Wt.e),t.Y36(C.Q),t.Y36(Y.f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-simple-page-view"]],inputs:{product:"product",resourcesId:"resourcesId"},decls:45,vars:38,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],[1,"list-group"],[1,"list-group-item"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Health Product Details :"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"ul",5),t.TgZ(7,"li",6),t._uU(8),t.ALo(9,"translate"),t.TgZ(10,"span"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.qZA(),t.TgZ(13,"li",6),t._uU(14),t.ALo(15,"translate"),t.TgZ(16,"span"),t._uU(17),t.ALo(18,"date"),t.qZA(),t.qZA(),t.TgZ(19,"li",6),t._uU(20),t.ALo(21,"translate"),t.TgZ(22,"span"),t._uU(23),t.qZA(),t.qZA(),t.TgZ(24,"li",6),t._uU(25),t.ALo(26,"translate"),t.TgZ(27,"span"),t._uU(28),t.ALo(29,"date"),t.qZA(),t.qZA(),t.TgZ(30,"li",6),t._uU(31),t.ALo(32,"translate"),t.TgZ(33,"span"),t._uU(34),t.qZA(),t.qZA(),t.TgZ(35,"li",6),t._uU(36),t.ALo(37,"translate"),t.TgZ(38,"span"),t._uU(39),t.qZA(),t.qZA(),t.TgZ(40,"li",6),t._uU(41),t.ALo(42,"translate"),t.TgZ(43,"span"),t._uU(44),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(8),t.hij(" ",t.lcZ(9,15,"FORM.Period of Insurance"),"(From) : "),t.xp6(3),t.hij(" ",t.xi3(12,17,n.showData.insuranceStartDate,"dd/MM/yyyy"),""),t.xp6(3),t.hij(" ",t.lcZ(15,20,"FORM.Period of Insurance"),"(To) : "),t.xp6(3),t.hij(" ",t.xi3(18,22,n.showData.insuranceEndDate,"dd/MM/yyyy"),""),t.xp6(3),t.hij(" ",t.lcZ(21,25,"FORM.Basic Cover")," : "),t.xp6(3),t.hij(" ","HEALTH"==n.showData.basicCoverId?"Health Insurance":"Critical Illness",""),t.xp6(2),t.hij(" ",t.lcZ(26,27,"FORM.Date of Birth"),": "),t.xp6(3),t.hij(" ",t.xi3(29,29,n.showData.dateOfBirth,"dd/MM/yyyy"),""),t.xp6(3),t.hij(" ",t.lcZ(32,32,"FORM.Payment Frequency"),": "),t.xp6(3),t.hij(" ","L"==n.showData.paymentFrequency?"Lump Sum":"Semi-Annually",""),t.xp6(2),t.hij(" ",t.lcZ(37,34,"FORM.Sum Insured of Main Cover")," : "),t.xp6(3),t.AsE(" ",n.showData.sumInsuredMainCover," Unit",n.showData.sumInsuredMainCover>1?"s":"",""),t.xp6(2),t.hij(" ",t.lcZ(42,36,"FORM.Medical Card No.")," : "),t.xp6(3),t.hij(" ",n.showData.medicalCardNo,""))},pipes:[v.X,d.uU],styles:[""]}),i})();var Ht=c(6920),Xt=c(37780);function Kt(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"titlecase"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"titlecase"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"titlecase"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.ALo(21,"number"),t.qZA(),t.qZA(),t.BQk()),2&i){const e=a.$implicit,n=a.index,o=t.oxw();t.xp6(3),t.Oqu(n+1),t.xp6(2),t.Oqu(t.lcZ(6,8,o.replaceT(e.travelPlan))),t.xp6(3),t.Oqu(t.lcZ(9,10,o.replaceT(e.insuredUnit))),t.xp6(3),t.Oqu(t.lcZ(12,12,o.replaceT(e.travelDuration))),t.xp6(3),t.Oqu(e.noOfTraveller),t.xp6(2),t.Oqu(e.totalUnit),t.xp6(2),t.Oqu(e.travellerName),t.xp6(2),t.Oqu(t.lcZ(21,14,e.premium))}}const dt={static_1634018514043:vt,addon_1634010770155:st,coverage_1634010995936:Ot,static_1635218894755:zt,static_1635309151504:Ft,static_1635747288508:vt,static_1642920843499:Nt,static_1643116155828:kt,static_1644896661652:Mt,static_1644896804675:mt,static_1648784270356:(()=>{class i{constructor(e,n,o){this.travelRikService=e,this.cdf=n,this.globalFun=o,this.travelForm=[],this.listData=[]}ngOnInit(){this.getRiskList()}getRiskList(){this.travelRikService.getMany(this.resourcesId).toPromise().then(e=>{e&&(this.globalFun.tempFormData[Ht.rf]=e,this.listData=e||[],this.cdf.detectChanges())})}replaceT(e){return e.replace("T-","").replace("TU-","")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Xt.G),t.Y36(t.sBO),t.Y36(C.Q))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-travel-risk-view"]],inputs:{product:"product",editData:"editData",resourcesId:"resourcesId",referenceID:"referenceID",premiumAmt:"premiumAmt",travelForm:"travelForm"},decls:32,vars:25,consts:[[1,"card","card-custom","gutter-b"],[1,"card-body","customer-card-body"],[1,"table-responsive","angular-bootstrap-table","mt-5"],[1,"table","table-head-custom","table-vertical-center"],[4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"table",3),t.TgZ(4,"thead"),t.TgZ(5,"tr"),t.TgZ(6,"th"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"th"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"th"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"th"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"th"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"th"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"th"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"tbody"),t.YNc(31,Kt,22,16,"ng-container",4),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(7),t.Oqu(t.lcZ(8,9,"FORM.risk_no")),t.xp6(3),t.Oqu(t.lcZ(11,11,"FORM.travel_plan")),t.xp6(3),t.Oqu(t.lcZ(14,13,"FORM.insured_unit")),t.xp6(3),t.Oqu(t.lcZ(17,15,"FORM.travel_duration")),t.xp6(3),t.Oqu(t.lcZ(20,17,"FORM.no_of_traveller")),t.xp6(3),t.Oqu(t.lcZ(23,19,"FORM.total_unit")),t.xp6(3),t.Oqu(t.lcZ(26,21,"FORM.traveller_name")),t.xp6(3),t.Oqu(t.lcZ(29,23,"FORM.premium")),t.xp6(3),t.Q6J("ngForOf",n.listData))},directives:[d.sg],pipes:[v.X,d.rS,d.JJ],encapsulation:2}),i})()};let te=(()=>{class i{constructor(e,n){this.resolver=e,this.container=n}ngOnInit(){if(dt[this.compId]){const e=this.resolver.resolveComponentFactory(dt[this.compId]);if(this.component=this.container.createComponent(e),this.component.instance.product=this.product,this.component.instance.resourcesId=this.resourcesId,"static_1635747288508"==this.compId){const n=this.resolver.resolveComponentFactory(dt.static_1635218894755);this.component2=this.container.createComponent(n),this.component2.instance.product=this.product,this.component2.instance.resourcesId=this.resourcesId}}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t._Vd),t.Y36(t.s_b))},i.\u0275dir=t.lG2({type:i,selectors:[["","staticPageView",""]],inputs:{compId:"compId",product:"product",resourcesId:"resourcesId"}}),i})();function ee(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.item.name)}}function ie(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.resourceDetail.premiumView||0)}}function ne(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,"in_progress"==e.resourceDetail.status?"In Progress":e.resourceDetail.status))}}function ae(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,e.resourceDetail.apiStatus))}}function oe(i,a){if(1&i&&(t.TgZ(0,"div",7),t._uU(1),t.ALo(2,"translate"),t._UZ(3,"br"),t.TgZ(4,"span"),t._uU(5),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,2,"FORM.bancs_quotation_no")," "),t.xp6(4),t.Oqu(e.resourceDetail.submittedCode)}}function re(i,a){if(1&i&&(t.TgZ(0,"div",7),t._uU(1),t.ALo(2,"translate"),t._UZ(3,"br"),t.TgZ(4,"span"),t._uU(5),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,2,"FORM.bancs_policy_no")," "),t.xp6(4),t.Oqu(e.resourceDetail.policyNumber)}}function se(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().viewPrint()}),t._UZ(1,"i",11),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"FORM.print")," "))}function ce(i,a){if(1&i&&(t.ynx(0),t.GkF(1,20),t.BQk()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("compId",e.id)("product",n.item)("resourcesId",n.resourceDetail.id)}}function le(i,a){if(1&i&&(t.TgZ(0,"li",29),t.TgZ(1,"h5",30),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(2),t.hij("",t.lcZ(3,1,"TABLE."+e.name)," ")}}function de(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.BQk()),2&i){const e=t.oxw(3).$implicit,n=t.oxw(4).$implicit,o=t.oxw(2);t.xp6(2),t.hij(" ",o.getOptionValue(o.resultObj[n.tableName+n.id][e.name],e.options,n.tableName+n.id,e.name),"")}}function ue(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw(4).$implicit,n=t.oxw(4).$implicit,o=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,o.resultObj[n.tableName+n.id][e.name]||0)," ")}}function pe(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw(4).$implicit,n=t.oxw(4).$implicit,o=t.oxw(2);t.xp6(1),t.hij(" ",o.resultObj[n.tableName+n.id][e.name]&&"null"!=o.resultObj[n.tableName+n.id][e.name]?t.xi3(2,1,o.resultObj[n.tableName+n.id][e.name],"dd/MM/yyyy"):""," ")}}function he(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4).$implicit,n=t.oxw(4).$implicit,o=t.oxw(2);t.xp6(1),t.hij(" ",o.resultObj[n.tableName+n.id][e.name]," ")}}function ge(i,a){if(1&i&&(t.ynx(0),t._uU(1),t.ALo(2,"date"),t.BQk()),2&i){const e=t.oxw(4).$implicit,n=t.oxw(4).$implicit,o=t.oxw(2);t.xp6(1),t.hij(" - ",t.xi3(2,1,o.resultObj[n.tableName+n.id][e.endName],"dd/MM/yyyy")," ")}}function me(i,a){if(1&i&&(t.YNc(0,ue,3,3,"span",6),t.YNc(1,pe,3,4,"span",6),t.YNc(2,he,2,1,"span",6),t.YNc(3,ge,3,4,"ng-container",6)),2&i){const e=t.oxw(3).$implicit;t.Q6J("ngIf","input"==e.input&&"currency"==e.type),t.xp6(1),t.Q6J("ngIf","date"==e.input),t.xp6(1),t.Q6J("ngIf","currency"!=e.type&&"date"!=e.input),t.xp6(1),t.Q6J("ngIf","date"==e.input&&"policy"==e.type)}}function _e(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"li",31),t._uU(2),t.ALo(3,"translate"),t.YNc(4,de,3,1,"ng-container",18),t.YNc(5,me,4,4,"ng-template",null,32,t.W1O),t._UZ(7,"div",33),t.qZA(),t.BQk()),2&i){const e=t.MAs(6),n=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,3,"TABLE."+n.label||0)," : "),t.xp6(2),t.Q6J("ngIf",("false"==n.master||0==n.master)&&n.options&&n.options.length>0)("ngIfElse",e)}}function fe(i,a){if(1&i&&(t.ynx(0),t.YNc(1,le,4,3,"li",28),t.YNc(2,_e,8,5,"ng-container",6),t.BQk()),2&i){const e=t.oxw().$implicit,n=t.oxw(4).$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf","label"==e.input),t.xp6(1),t.Q6J("ngIf",!e.isHideView&&o.checkDep(e.dependency,o.resultObj[n.tableName+n.id])&&"underline"!=e.input&&"label"!=e.input)}}function Ze(i,a){if(1&i&&(t.ynx(0),t.YNc(1,fe,3,2,"ng-container",6),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.show)}}function ve(i,a){if(1&i&&(t.TgZ(0,"ul",27),t.YNc(1,Ze,2,1,"ng-container",12),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngForOf",e.controls)}}const At=function(i){return{"text-align":i}};function Ae(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"th",36),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngStyle",t.VKq(4,At,"currency"==e.subType?"right":"left")),t.xp6(1),t.hij(" ",t.lcZ(3,2,"TABLE."+e.title)," ")}}function Te(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"td",36),t._uU(2),t.qZA(),t.BQk()),2&i){const e=a.$implicit,n=t.oxw().$implicit,o=t.oxw(7);t.xp6(1),t.Q6J("ngStyle",t.VKq(2,At,"currency"==e.subType?"right":"left")),t.xp6(1),t.hij(" ",o.getOtherData(e.cols,n),"")}}function xe(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.YNc(3,Te,3,4,"ng-container",12),t.qZA()),2&i){const e=a.index,n=t.oxw(5).$implicit,o=t.oxw(2);t.xp6(2),t.Oqu(e+1),t.xp6(1),t.Q6J("ngForOf",o.getFormatTable(n.controls))}}function ye(i,a){if(1&i&&(t.ynx(0),t.YNc(1,xe,4,2,"tr",12),t.BQk()),2&i){const e=t.oxw(4).$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",n.resultObj[e.tableName+e.id])}}function be(i,a){if(1&i&&(t.TgZ(0,"div",34),t.TgZ(1,"table",35),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.YNc(7,Ae,4,6,"ng-container",12),t.qZA(),t.qZA(),t.TgZ(8,"tbody"),t.YNc(9,ye,2,1,"ng-container",6),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(3).$implicit,n=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,3,"TABLE.No")),t.xp6(2),t.Q6J("ngForOf",n.getFormatTable(e.controls)),t.xp6(2),t.Q6J("ngIf",n.resultObj[e.tableName+e.id])}}function De(i,a){if(1&i&&(t.ynx(0),t.YNc(1,ve,2,1,"ul",25),t.YNc(2,be,10,5,"div",26),t.BQk()),2&i){const e=t.oxw(2).$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!n.Array.isArray(n.resultObj[e.tableName+e.id])),t.xp6(1),t.Q6J("ngIf",n.Array.isArray(n.resultObj[e.tableName+e.id]))}}function qe(i,a){if(1&i&&(t.TgZ(0,"div",2),t.TgZ(1,"div",21),t.TgZ(2,"div",22),t.TgZ(3,"h3",23),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",24),t.ynx(7),t.YNc(8,De,3,2,"ng-container",6),t.BQk(),t.qZA(),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(4),t.hij("",t.lcZ(5,2,"TABLE."+e.pageTitle)," : "),t.xp6(4),t.Q6J("ngIf",n.resultObj[e.tableName+e.id])}}function Oe(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",17),t.YNc(2,ce,2,3,"ng-container",18),t.YNc(3,qe,9,4,"ng-template",null,19,t.W1O),t.qZA(),t.BQk()),2&i){const e=a.$implicit,n=t.MAs(4);t.xp6(2),t.Q6J("ngIf","static"===e.type)("ngIfElse",n)}}function we(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",37),t.TgZ(1,"button",14),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).createPolicy()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"FORM.create_new_application")," "))}function Ie(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",38),t.TgZ(1,"button",14),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).createSign()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"FORM.create_signature")," "))}function Le(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",38),t.TgZ(1,"button",39),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).submitPolicy()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled","sending"==e.resourceDetail.apiStatus||"success"==e.resourceDetail.apiStatus),t.xp6(1),t.hij(" ",t.lcZ(3,2,"FORM.submit_application")," ")}}function Ue(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",0),t.YNc(2,Oe,5,2,"ng-container",12),t.qZA(),t.TgZ(3,"div",0),t.TgZ(4,"div",1),t.TgZ(5,"div",2),t.TgZ(6,"div",13),t.TgZ(7,"div",0),t.TgZ(8,"div"),t.TgZ(9,"button",14),t.NdJ("click",function(){return t.CHM(e),t.oxw().goToList()}),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.qZA(),t.YNc(12,we,4,3,"div",15),t.YNc(13,Ie,4,3,"div",16),t.YNc(14,Le,4,4,"div",16),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.pageOrder),t.xp6(6),t.Tol("quotation"==e.type?"col-sm-6":"col-sm-4"),t.xp6(2),t.hij(" ",t.lcZ(11,8,"FORM.go_back")," "),t.xp6(2),t.Q6J("ngIf","quotation"==e.type&&"complete"!=e.resourceDetail.status),t.xp6(1),t.Q6J("ngIf","policy"==e.type),t.xp6(1),t.Q6J("ngIf","policy"==e.type)}}let Ce=(()=>{class i{constructor(e,n,o,s,r,u,h,_,f,y,T,U,w){this.productService=e,this.location=n,this.pageDataService=o,this.addonQuo=s,this.coverageQuo=r,this.router=u,this.cdf=h,this.downloadService=_,this.numberPipe=f,this.datePipe=y,this.modalService=T,this.policyService=U,this.alertService=w,this.resultObj={},this.Object=Object,this.Array=Array,this.coverage={sumInsured:!1,unit:!1,premium:!1},this.addon={sumInsured:!1,unit:!1,premium:!1},this.coverageData={},this.addOnData={},this.resourceDetail={},this.detailInput={},this.formatedData={},this.printConfig={},this.signFileId=""}ngOnInit(){return(0,A.mG)(this,void 0,void 0,function*(){if(this.productService.createingProd&&this.productService.createingProd.id){if(this.item=this.productService.createingProd,this.type=this.productService.previewType,this.resourceDetail=this.productService.editData,this.resourceDetail.status=this.resourceDetail.status?this.resourceDetail.status:"in_progress",this.signFileId=this.resourceDetail.attachmentId,!this.resourceDetail)return void this.location.back();let e=JSON.parse(this.item.config);"quotation"==this.productService.previewType?(this.pageOrder=e.quotation||[],this.detailInput=e.quotation_input||{}):(this.pageOrder=e.application||[],this.detailInput=e.application_input||{});let n="policy"==this.type?"application":this.type,o=this.item.productUIs.map(r=>{if(r.type==n)return JSON.parse(r.dynamicProduct.config)});if(this.printConfig=JSON.parse(this.item.pdfConfig),this.item=this.productService.createingProd,this.getDetail(o),this.pageOrder.findIndex(r=>"static_1648784270356"==r.id)>=0){let r=this.pageOrder.findIndex(f=>"travel_detail"==f.tableName);r>=0&&this.pageOrder.splice(r,1);let u=this.pageOrder.findIndex(f=>"traveler_detail"==f.tableName);u>=0&&this.pageOrder.splice(u,1);let h=this.pageOrder.findIndex(f=>"trave_beneficiary"==f.tableName);h>=0&&this.pageOrder.splice(h,1);let _=this.pageOrder.findIndex(f=>"coverage_1634010995936"==f.id);_>=0&&this.pageOrder.splice(_,1)}console.log("resourceDetail",this.resourceDetail),this.cdf.detectChanges()}else this.location.back()})}ngOnDestroy(){this.productService.createingProd=null,this.productService.editData=null}getDetail(e){this.getOldData(this.resourceDetail,e)}getOldData(e,n){let o=0,s=this.pageOrder.length;for(let r of this.pageOrder){if(r.type==D.it.DYN){let u=this.findPageValue(n,r.id);this.pageOrder[o].tableName=u.tableName,this.pageOrder[o].id=u.id,this.pageOrder[o].controls=u.controls,this.pageDataService.getDetail(u.tableName,e.id,u.id,!0,u.controls).toPromise().then(h=>{if(h){let _="form"==u.pageType?{}:[];for(const f of h){let y={};for(const T of f.data)"id"!=T.column&&"created_at"!=T.column&&"updated_at"!=T.column&&(y[T.column]=T.value),T.valueCode&&(y[T.column+"Code"]=T.valueCode);Array.isArray(_)?_.push(y):_=y}this.resultObj[u.tableName+u.id]=_,this.formatedData=JSON.parse(JSON.stringify(this.resultObj)),s==o&&this.cdf.detectChanges()}})}o+=1}this.cdf.detectChanges()}download(e,n){let o=this.getOtherData(e,n);if(o){let s=o.split("].")[0].replace("[","");this.downloadService.getDownload(s,o)}}getFormatTable(e){let n=[],o=[],s=JSON.parse(JSON.stringify(e));for(let r of s){r.options=r.options?r.options:[];let u=!1;if(!r.isHideView)if(r.tableTitle&&(o.findIndex(_=>_==r.tableTitle)<0?o.push(r.tableTitle):u=!0),u){let h=n.findIndex(_=>_.parent==r.dependency.parentName);h>=0&&n[h].cols.push({name:r.name,type:r.input,subType:r.type,options:("false"==r.master||0==r.master)&&r.options.length>0?r.options:[]})}else n.push({title:r.tableTitle||r.label||r.name,cols:[{name:r.name,type:r.input,subType:r.type,options:("false"==r.master||0==r.master)&&r.options.length>0?r.options:[]}],type:r.input,subType:r.type,parent:r.dependency?r.dependency.parentName:"",options:("false"==r.master||0==r.master)&&r.options.length>0?r.options:[]})}return n}getOtherData(e,n){for(let o of e)if(n[o.name]&&(n[o.name]+"").length>0){if("input"==o.type&&"currency"==o.subType)return this.numberPipe.transform(n[o.name]);if("date"==o.type)return this.datePipe.transform(n[o.name],"dd/MM/yyyy");if("file"==o.type)return n[o.name].split("].")[1];if(o.options.length>0){let r=o.options.find(u=>u.value==n[o.name]);if(r)return r.text}return n[o.name]}}findPageValue(e,n){let o;for(let s=0;s<e.length;s++)if(e[s]&&(o=e[s].fromGroup.find(r=>r.id==n),o)){o.controls.map(r=>(this.detailInput[n]&&"underline"!=r.input&&"label"!=r.input?(r.show=this.detailInput[n][r.name]>=0?this.detailInput[n][r.name]>0:r.show,r.disabled=this.detailInput[n][r.name]>=0&&2==this.detailInput[n][r.name]||r.disabled):this.detailInput[n]&&"label"==r.input&&(r.show=this.detailInput[n][r.placeholder]>=0?this.detailInput[n][r.placeholder]>0:r.show),r));break}return o}rechangePageData(e){for(let n=0;n<this.pageOrder.length;n++){const o=this.pageOrder[n];if("coverage"!=o.id&&"addon"!=o.id){let s=this.findPageValue(e,o.id);this.pageOrder[n].tableName=s.tableName,this.pageOrder[n].id=s.id,this.pageOrder[n].controls=s.controls}}}goToList(){this.location.back()}createPolicy(){this.productService.createingProdRef=this.item,this.productService.viewType="policy",this.productService.type="policy",this.productService.referenceID=this.resourceDetail.id,this.productService.referenceStatus=this.resourceDetail.status,this.productService.creatingLeadId=this.resourceDetail.leadId,this.productService.editData=null,this.router.navigateByUrl("/product-form")}checkDep(e,n){return!e||(0,b.J)(e,{value:n})}getOptionValue(e,n,o,s){let r=n.find(u=>u.value==e);return r?(this.formatedData&&(this.formatedData[o][s]=r.text),r.text):e}viewPrint(){const e=this.modalService.open(I.s,{size:"xl",backdrop:!1});e.componentInstance.configData=this.printConfig.printFormat,e.componentInstance.configOrder=this.printConfig.prinitUI,e.componentInstance.product=this.item,e.componentInstance.tempData=this.formatedData,e.componentInstance.resourcesId=this.resourceDetail.id,e.result.then(()=>{},n=>{})}createSign(){this.modalService.open(j,{size:"md",backdrop:!1}).result.then(()=>{},n=>{n&&"save"==n.type&&this.policyService.updateAttachment(this.resourceDetail.id,n.data).toPromise().then(o=>{o&&(this.alertService.activate("This record was created","Success Message"),this.signFileId=n.data,this.productService.editData.attachmentId=n.data)})})}submitPolicy(){this.policyService.submitPolicy(this.resourceDetail.id).toPromise().then(e=>{e&&(this.alertService.activate("This record was submitted","Success Message"),this.resourceDetail.apiStatus="sending",this.resourceDetail.status="submitted",this.cdf.detectChanges())})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Y.f),t.Y36(d.Ye),t.Y36(it.Q),t.Y36(Q.D),t.Y36(k.a),t.Y36(H.F0),t.Y36(t.sBO),t.Y36(W.Ys),t.Y36(d.JJ),t.Y36(d.uU),t.Y36(B.FF),t.Y36(nt.d),t.Y36(R.c))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-resourse-detail"]],decls:29,vars:20,consts:[[1,"row"],[1,"col-12"],[1,"card","card-custom","gutter-b"],[1,"card-body"],[2,"display","flex"],[1,"top-box",2,"margin-left","0px"],[4,"ngIf"],[1,"top-box"],["class","top-box",4,"ngIf"],["class","btn btn-outline-primary","style","margin-left: auto;",3,"click",4,"ngIf"],[1,"btn","btn-outline-primary",2,"margin-left","auto",3,"click"],[1,"flaticon2-print"],[4,"ngFor","ngForOf"],[1,"card-footer"],["type","submit",1,"btn","btn-primary","btn-block",3,"click"],["class","col-sm-6",4,"ngIf"],["class","col-sm-4",4,"ngIf"],[1,"col-md-12","mx-auto"],[4,"ngIf","ngIfElse"],["dynView",""],["staticPageView","",3,"compId","product","resourcesId"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","customer-card-body"],["class","list-group",4,"ngIf"],["class","table-responsive angular-bootstrap-table",4,"ngIf"],[1,"list-group"],["class","list-group-item","style","border-top: 0.5px solid #dad9d9 !important;",4,"ngIf"],[1,"list-group-item",2,"border-top","0.5px solid #dad9d9 !important"],[2,"margin-bottom","0px"],[1,"list-group-item"],["nomalValue",""],[2,"clear","both"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center"],[3,"ngStyle"],[1,"col-sm-6"],[1,"col-sm-4"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._uU(6),t.ALo(7,"translate"),t._UZ(8,"br"),t.YNc(9,ee,2,1,"span",6),t.qZA(),t.TgZ(10,"div",7),t._uU(11),t.ALo(12,"translate"),t._UZ(13,"br"),t.YNc(14,ie,2,1,"span",6),t.qZA(),t.TgZ(15,"div",7),t._uU(16),t.ALo(17,"translate"),t._UZ(18,"br"),t.YNc(19,ne,3,3,"span",6),t.qZA(),t.TgZ(20,"div",7),t._uU(21),t.ALo(22,"translate"),t._UZ(23,"br"),t.YNc(24,ae,3,3,"span",6),t.qZA(),t.YNc(25,oe,6,4,"div",8),t.YNc(26,re,6,4,"div",8),t.YNc(27,se,4,3,"button",9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(28,Ue,15,10,"ng-container",6)),2&e&&(t.xp6(6),t.hij(" ",t.lcZ(7,12,"FORM.product_cap")," "),t.xp6(3),t.Q6J("ngIf",n.item),t.xp6(2),t.hij(" ",t.lcZ(12,14,"FORM.premium_cap")," "),t.xp6(3),t.Q6J("ngIf",n.resourceDetail),t.xp6(2),t.hij(" ",t.lcZ(17,16,"FORM.application_status")," "),t.xp6(3),t.Q6J("ngIf",n.resourceDetail),t.xp6(2),t.hij(" ",t.lcZ(22,18,"FORM.submission_status")," "),t.xp6(3),t.Q6J("ngIf",n.resourceDetail.apiStatus),t.xp6(1),t.Q6J("ngIf",n.resourceDetail.submittedCode),t.xp6(1),t.Q6J("ngIf",n.resourceDetail.policyNumber),t.xp6(1),t.Q6J("ngIf","policy"==n.type),t.xp6(1),t.Q6J("ngIf",n.resourceDetail))},directives:[d.O5,d.sg,te,d.PC],pipes:[v.X,d.rS,d.JJ,d.uU],styles:[".top-box[_ngcontent-%COMP%]{color:#b5b5c3;margin-left:50px}.top-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}"]}),i})();var Fe=c(70933),Se=c(18410),Pe=c(63699);let Re=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[d.uU,d.JJ],imports:[[d.ez,E.u5,E.UX,B.bz,Fe.Q,Se.J,z,Pe.j,H.Bz.forChild([{path:"",component:Ce}])]]}),i})()}}]);