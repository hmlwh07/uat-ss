"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9472],{552:(Y,y,i)=>{i.d(y,{Q:()=>D});var e=i(82997),t=i(85724),C=i(18260),I=i(91691),v=i(54753),f=i(83668),P=i(44522),p=i(26697);const A=`${C.N.apiUrl}/pagedata`;let D=(()=>{class x extends I.i{constructor(M,U){super(M,A),this.httpClient=M,this.masterData=U}getDetail(M,U,E,F=!1,B=[],N=!1){return this.httpClient.get(A+"/"+M+"/"+U+"/"+E).pipe((0,t.z)(O=>F?function(x,S,M,U=!1){return Array.isArray(S)&&S.length>0?(0,e.of)(S).pipe((0,v.U)(E=>{let F=[];return E.map(N=>{let O=N.data.filter(Q=>(Q.value+"").startsWith("T-")||(Q.value+"").startsWith("TA-")||(Q.value+"").startsWith("TU-"));if(O.length>0){let Q=O.map(J=>{let g=M.find(L=>L.name==J.column);if(g.masterData)return{codeId:J.value,codeType:g.masterData,langCd:"EN"}});F.push(...Q)}}),{result:E,masterPost:F}}),(0,t.z)(E=>E.masterPost.length>0?x.getMasterValue({codeBookRequest:E.masterPost}).pipe((0,v.U)(B=>E.result.map(N=>(N.data=N.data.flatMap(O=>{if((O.value+"").startsWith("T-")||(O.value+"").startsWith("TA-")){let Q=M.find(g=>g.name==O.column),J=B.findIndex(g=>g.codeId==O.value&&Q.masterData==g.codeType);if(J>=0){if(U)return[O,{column:O.column+"Value",value:B[J].codeName}];O.value=B[J].codeName,O.valueCode=B[J].codeId}}return O}),N)))):(0,e.of)(E.result))):(0,e.of)(S)}(this.masterData,O,B,N):(0,e.of)(O)))}deleteData(M,U,E){return this.httpClient.delete(A+"/"+M+"/"+U+"/"+E)}updatePremimun(M){return this.httpClient.put(A+"/resource",M)}}return x.\u0275fac=function(M){return new(M||x)(f.LFG(P.eN),f.LFG(p.D))},x.\u0275prov=f.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},43329:(Y,y,i)=>{i.d(y,{D:()=>R});var e=i(18260),t=i(91691),C=i(83668),I=i(44522);const v=`${e.N.apiUrl}/quotationAddon`;let R=(()=>{class f extends t.i{constructor(p){super(p,v),this.httpClient=p}getOne(p,A,D){return this.httpClient.get(v+"/"+p+"/"+A+"/"+D)}deleteAll(p,A,D=""){return this.httpClient.delete(v+"/quotation/"+p+"/"+A+"?expect=")}deleteOne(p,A,D){return this.httpClient.delete(v+"/"+p+"/"+A+"/"+D)}getAllById(p){return this.httpClient.post(v+"s",p)}}return f.\u0275fac=function(p){return new(p||f)(C.LFG(I.eN))},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},56156:(Y,y,i)=>{i.d(y,{g:()=>V});var e=i(64762),t=i(83668),C=i(11766),I=i(47975),v=i(6920),R=i(6241),f=i(43329),P=i(23449),p=i(35618),A=i(86019),D=i(552),x=i(60807);function S(d,T){1&d&&(t.TgZ(0,"th"),t._uU(1," Option "),t.qZA())}function M(d,T){1&d&&(t.TgZ(0,"th"),t._uU(1," Sum Insured "),t.qZA())}function U(d,T){1&d&&(t.TgZ(0,"th"),t._uU(1," Unit "),t.qZA())}function E(d,T){1&d&&(t.TgZ(0,"th"),t._uU(1," Premium "),t.qZA())}function F(d,T){if(1&d){const n=t.EpF();t.ynx(0),t.TgZ(1,"td"),t.TgZ(2,"input",9),t.NdJ("ngModelChange",function(u){t.CHM(n);const r=t.oxw(2).$implicit;return t.oxw(2).addOnsData[r.id].checked=u})("change",function(){t.CHM(n);const u=t.oxw(2).$implicit;return t.oxw(2).changeOption(u)}),t.qZA(),t.qZA(),t.BQk()}if(2&d){const n=t.oxw(2).$implicit,a=t.oxw(2);t.xp6(2),t.Q6J("ngModel",a.addOnsData[n.id].checked)}}function B(d,T){if(1&d){const n=t.EpF();t.ynx(0),t.TgZ(1,"ng-select",11),t.NdJ("change",function(){t.CHM(n);const u=t.oxw(4).$implicit;return t.oxw(2).rechangeOption(u)})("ngModelChange",function(u){t.CHM(n);const r=t.oxw(4).$implicit;return t.oxw(2).addOnsData[r.id].option=u}),t.qZA(),t.BQk()}if(2&d){const n=t.oxw(4).$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("items",a.fireOptionData[n.code])("ngModel",a.addOnsData[n.id].option)("clearable",!1)}}function N(d,T){if(1&d&&(t.TgZ(0,"td",2),t.YNc(1,B,2,3,"ng-container",3),t.qZA()),2&d){const n=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf","BURGLARY"==n.code||"STHTC"==n.code)}}function O(d,T){if(1&d){const n=t.EpF();t.ynx(0),t.TgZ(1,"input",12),t.NdJ("ngModelChange",function(u){t.CHM(n);const r=t.oxw(4).$implicit;return t.oxw(2).addOnsData[r.id].sum=u}),t.qZA(),t.BQk()}if(2&d){const n=t.oxw(4).$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("disabled",!a.addOnsData[n.id].checked)("ngModel",a.addOnsData[n.id].sum)}}function Q(d,T){if(1&d&&(t.ynx(0),t._uU(1),t.ALo(2,"number"),t.BQk()),2&d){const n=t.oxw(4).$implicit,a=t.oxw(2);t.xp6(1),t.hij(" ",a.addOnsData[n.id].sum>0?t.lcZ(2,1,a.addOnsData[n.id].sum):a.addOnsData[n.id].sum," ")}}function J(d,T){if(1&d&&(t.TgZ(0,"td"),t.YNc(1,O,2,2,"ng-container",3),t.YNc(2,Q,3,3,"ng-container",3),t.qZA()),2&d){const n=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",!n.sumInsuredStr),t.xp6(1),t.Q6J("ngIf",n.sumInsuredStr)}}function g(d,T){if(1&d){const n=t.EpF();t.ynx(0),t.TgZ(1,"input",12),t.NdJ("ngModelChange",function(u){t.CHM(n);const r=t.oxw(4).$implicit;return t.oxw(2).addOnsData[r.id].unit=u}),t.qZA(),t.BQk()}if(2&d){const n=t.oxw(4).$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("disabled",!a.addOnsData[n.id].checked)("ngModel",a.addOnsData[n.id].unit)}}function L(d,T){if(1&d&&(t.ynx(0),t._uU(1),t.BQk()),2&d){const n=t.oxw(4).$implicit,a=t.oxw(2);t.xp6(1),t.hij(" ",a.addOnsData[n.id].unit," ")}}function o(d,T){if(1&d&&(t.TgZ(0,"td"),t.YNc(1,g,2,2,"ng-container",3),t.YNc(2,L,2,1,"ng-container",3),t.qZA()),2&d){const n=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",!n.unitStr),t.xp6(1),t.Q6J("ngIf",n.unitStr)}}function s(d,T){if(1&d){const n=t.EpF();t.ynx(0),t.TgZ(1,"input",12),t.NdJ("ngModelChange",function(u){t.CHM(n);const r=t.oxw(4).$implicit;return t.oxw(2).addOnsData[r.id].premium=u}),t.qZA(),t.BQk()}if(2&d){const n=t.oxw(4).$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("disabled",!a.addOnsData[n.id].checked)("ngModel",a.addOnsData[n.id].premium)}}function c(d,T){if(1&d&&(t.ynx(0),t._uU(1),t.ALo(2,"number"),t.BQk()),2&d){const n=t.oxw(4).$implicit,a=t.oxw(2);t.xp6(1),t.hij(" ",a.addOnsData[n.id].premium>0?t.lcZ(2,1,a.addOnsData[n.id].premium):a.addOnsData[n.id].premium," ")}}function l(d,T){if(1&d&&(t.TgZ(0,"td"),t.YNc(1,s,2,2,"ng-container",3),t.YNc(2,c,3,3,"ng-container",3),t.qZA()),2&d){const n=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",!n.premiumStr),t.xp6(1),t.Q6J("ngIf",n.premiumStr)}}function m(d,T){if(1&d&&(t.ynx(0),t.YNc(1,N,2,1,"td",10),t.YNc(2,J,3,2,"td",3),t.YNc(3,o,3,2,"td",3),t.YNc(4,l,3,2,"td",3),t.BQk()),2&d){const n=t.oxw(2).$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("ngIf","CLFR01"==a.product.code),t.xp6(1),t.Q6J("ngIf",n.sumInsured),t.xp6(1),t.Q6J("ngIf",n.unit),t.xp6(1),t.Q6J("ngIf",n.premium)}}function h(d,T){if(1&d&&(t.TgZ(0,"tr"),t.YNc(1,F,3,1,"ng-container",3),t.TgZ(2,"td",2),t._uU(3),t.qZA(),t.YNc(4,m,5,4,"ng-container",3),t.qZA()),2&d){const n=t.oxw().$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("ngIf",a.addOnsData[n.id]),t.xp6(2),t.Oqu(n.description),t.xp6(1),t.Q6J("ngIf",a.addOnsData[n.id])}}function q(d,T){if(1&d&&(t.ynx(0),t.YNc(1,h,5,3,"tr",3),t.BQk()),2&d){const n=T.$implicit;t.xp6(1),t.Q6J("ngIf",n.show)}}function W(d,T){if(1&d&&(t.TgZ(0,"tbody",1),t.YNc(1,q,2,1,"ng-container",8),t.qZA()),2&d){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.product.addOns)}}function G(d,T){if(1&d){const n=t.EpF();t.TgZ(0,"div",13),t.TgZ(1,"div",14),t.TgZ(2,"button",15),t.NdJ("click",function(){return t.CHM(n),t.oxw().backPage()}),t._uU(3," Previous "),t.qZA(),t.qZA(),t.TgZ(4,"div",14),t.TgZ(5,"button",16),t.NdJ("click",function(){return t.CHM(n),t.oxw().nextPage()}),t._uU(6," Save & Next "),t.qZA(),t.qZA(),t.qZA()}}function w(d,T){if(1&d){const n=t.EpF();t.TgZ(0,"div",17),t.TgZ(1,"button",18),t.NdJ("click",function(){return t.CHM(n),t.oxw().nextPage()}),t._uU(2," Save "),t.qZA(),t.qZA()}}let V=(()=>{class d{constructor(n,a,u,r,_,Z,b){this.addOnQuoService=n,this.globalFun=a,this.cdRef=u,this.prodService=r,this.numberPipe=_,this.pageDataService=Z,this.loadingService=b,this.actionEvent=new t.vpe,this.fireAdd=!1,this.addOns={isSum:!1,isUnit:!1,isPremium:!1},this.addOnsData={},this.unsubscribe=[],this.premiumAmt="",this.parentData={},this.isLoading=!0,this.fireAddonRate={FLOOD:.1,SUBLSLD:.1,"BURGLARY-T-C1":.25,"BURGLARY-T-C2":.5,"BURGLARY-T-C3":.75,"BURGLARY-T-C4":1,"STHTC-T-BFMGS":.2,"STHTC-T-002":.2,"STHTC-T-003":.2,"STHTC-T-004":.2,"STHTC-T-WDGS":.25,WARRISK:.1,ACD:.1,EXPLOSION:.1,IMPD:.1,RSMD:.06,SPONTCOMB:.08,EQ:.1,Fire:.1},this.addOnList=[],this.crossAddons=[],this.fireOptionData={STHTC:[{code:"T-BFMGS",value:"Building,Furniture,Machine,Goods/Stocks"},{code:"T-WDGS",value:"Water Damage for Goods/Stocks"}],BURGLARY:[{code:"T-C1",value:"Class 1"},{code:"T-C2",value:"Class 2"},{code:"T-C3",value:"Class 3"},{code:"T-C4",value:"Class 4"}]}}ngOnInit(){return(0,e.mG)(this,void 0,void 0,function*(){if(this.refID=this.prodService.referenceID,this.optionId=this.optionId?this.optionId:this.resourcesId,"PLMO02"==this.product.code&&(this.parentData=this.getParnet()),this.addOnList=this.product.addOns.filter(n=>"MED EXP"!=n.code&&"CROSSBRDR"!=n.code),this.crossAddons=this.product.addOns.filter(n=>"MED EXP"==n.code||"CROSSBRDR"==n.code).map(n=>n.id),this.addOnList&&this.addOnList.length>0){yield this.loadingService.activate(),this.addOns={isSum:this.addOnList[0].sumInsured,isUnit:this.addOnList[0].unit,isPremium:this.addOnList[0].premium};let a={quotationNo:this.resourcesId,addOnIds:this.addOnList.map(r=>r.id),optionalKey:this.optionId},u=yield this.addOnQuoService.getAllById(a).toPromise();0==u.length&&(a.quotationNo=this.refID,a.optionalKey=this.refID,u=yield this.addOnQuoService.getAllById(a).toPromise());for(const r of this.addOnList){r.show=!0,r.validationFun&&(r.show=!this.globalFun[r.validationFun]||this.globalFun[r.validationFun](this.parentData)),"CLFR01"==this.product.code&&(r.sumInsuredStr="0",r.unitStr="0",r.premiumStr="0");let _=u.find(Z=>Z.addonId==r.id);this.addOnsData[r.id]={checked:!(!_||!r.show),sum:_&&_.sumInsured||0,unit:_&&_.unit||0,premium:_&&_.premium||0,option:_&&_.option||""},"STHTC"==r.code&&""==this.addOnsData[r.id].option?this.addOnsData[r.id].option="T-BFMGS":"BURGLARY"==r.code&&""==this.addOnsData[r.id].option&&(this.addOnsData[r.id].option="T-C1"),r.sumInsured&&this.getGlobalFun(r.sumInsuredStr,"addOnsData",r.id,"sum",r),r.unit&&this.getGlobalFun(r.unitStr,"addOnsData",r.id,"unit",r),r.premium&&("CROSSBRDR"==r.code&&this.addOnsData[r.id].checked||this.getGlobalFun(r.premiumStr,"addOnsData",r.id,"premium",r))}this.isLoading=!1,yield this.loadingService.deactivate(),this.cdRef.detectChanges()}else this.isLoading=!1})}getGlobalFun(n,a,u,r,_){if("PLMO02"==this.product.code&&"premium"==r)if(this.globalFun[n]){let Z="PAIDDRIVER"==_.code?this.getParnet("motor_driver"):this.parentData,b=this.globalFun[n](Z).subscribe(K=>{this[a][u][r]=K,this.cdRef.detectChanges()});this.unsubscribe.push(b)}else n&&(this[a][u][r]=n);else if("CLFR01"==this.product.code&&"premium"==r)this[a][u][r]=this.rateByValue(_);else if(this.globalFun[n+"Result"]){let Z=this.globalFun[n+"Result"].subscribe(b=>{this[a][u][r]=b,this.cdRef.detectChanges()});this.unsubscribe.push(Z)}else n&&(this[a][u][r]=n)}nextPage(){return(0,e.mG)(this,void 0,void 0,function*(){const n=this.addOnQuoService,a=this.addOnsData;yield n.deleteAll(this.resourcesId,this.optionId,this.crossAddons.join(",")).toPromise(),yield this.motorAddon.nextPage(),"CLFR01"==this.product.code?this.globalFun.tempFormData["addon_1634010770155"+this.optionId]=[]:this.globalFun.tempFormData.addon_1634010770155=[];for(let u of this.addOnList)if(a[u.id].checked){let r=a[u.id].sum?a[u.id].sum+"":"",_=a[u.id].unit?a[u.id].unit+"":"",Z=a[u.id].premium?a[u.id].premium+"":"",b=a[u.id].option?a[u.id].option+"":"";try{let K={addonId:u.id,quotationNo:this.resourcesId,option:b,optionalKey:this.optionId,sumInsured:r.replace(",","").replace("MMK","").replace("USD",""),unit:_.replace(",","").replace("MMK","").replace("USD",""),premium:Z.replace(",","").replace("MMK","").replace("USD","")};"CLFR01"==this.product.code?this.globalFun.tempFormData["addon_1634010770155"+this.optionId].push(K):this.globalFun.tempFormData.addon_1634010770155.push(K),yield n.save(K).toPromise()}catch(K){}}"PLMO02"==this.product.code&&(yield this.savePremimun().toPromise()),this.actionEvent.emit({type:C.V.NEXT})})}backPage(){this.actionEvent.emit({type:C.V.PREV})}onCheckAddon(){}changeOption(n){if("CROSSBRDR"!=n.code&&"PLMO02"==this.product.code){let a=this.addOnList.find(u=>"CROSSBRDR"==u.code);if(this.addOnsData[a.id].checked){let u=this.calcuCross();this.addOnsData[a.id].premium=.15*u}}else if(this.addOnsData[n.id].checked&&"CROSSBRDR"==n.code){let a=this.calcuCross();this.addOnsData[n.id].premium=.15*a}else!this.addOnsData[n.id].checked&&"CROSSBRDR"==n.code&&(this.addOnsData[n.id].premium=0)}rechangeOption(n){this.addOnsData[n.id].premium=this.rateByValue(n)}calcuCross(){let n=0;for(let _ of this.addOnList)this.addOnsData[_.id].checked&&"CROSSBRDR"!=_.code&&(n+=this.globalFun.calculateDecimal(this.addOnsData[_.id].premium||0));let a=this.globalFun.tempFormData.coverage_1634010995936?this.globalFun.tempFormData.coverage_1634010995936:[];for(let _ of a)n+=this.globalFun.calculateDecimal(_.premium||0);let r=0;if(this.parentData){let _=this.parentData.m_excess;"T-NILEX"==_&&"MMK"==(this.parentData?this.parentData.m_currency:"MMK")?r=5e4:"TU-NILEX"==_&&(r=25)}return n+r}caluMotorPremimun(){let n=0;for(let b of this.addOnList)this.addOnsData[b.id].checked&&(n+=this.globalFun.calculateDecimal(this.addOnsData[b.id].premium||0));let a=this.globalFun.tempFormData.coverage_1634010995936?this.globalFun.tempFormData.coverage_1634010995936:[];for(let b of a)n+=this.globalFun.calculateDecimal(b.premium||0);let u=this.parentData?this.parentData.m_currency:"MMK",r=0;if(this.parentData){let b=this.parentData.m_excess,K=this.parentData.excess_discount;"T-NILEX"==b&&"MMK"==u?r=-5e4:"TU-NILEX"==b?r=-25:"T-ED"==b&&"MMK"==u&&("T-EXD1"==K?r=5e4:"T-EXD2"==K?r=7e4:"T-EXD3"==K&&(r=1e5))}let Z=n-r+("MMK"==u?100:1);return this.premiumAmt=this.numberPipe.transform(Z)+" "+u.toUpperCase(),this.globalFun.paPremiumResult.next(this.premiumAmt),Z}caluFirePremimun(){let n=this.globalFun.tempFormData[v.nm],u="T-NM"==this.globalFun.tempFormData[v.T$].policyType?1:.75,r=0;for(let K of n)r+=this.globalFun.calculateDecimal(K.premium);const _=this.addOnsData;let Z=0;for(let K of this.addOnList)_[K.id].checked&&(Z+=this.globalFun.calculateDecimal(_[K.id].premium));let b=(r+Z)*u;return this.premiumAmt=this.numberPipe.transform(b)+" MMK",this.globalFun.paPremiumResult.next(this.premiumAmt),b}savePremimun(){this.caluMotorPremimun();let a={premium:(Number(this.premiumAmt.split(" ")[0].split(",").join(""))||0)+"",premiumView:this.premiumAmt,resourceId:this.resourcesId,type:this.prodService.viewType};return this.pageDataService.updatePremimun(a)}savePremimunFire(){this.caluFirePremimun();let a={premium:(Number(this.premiumAmt.split(" ")[0].split(",").join(""))||0)+"",premiumView:this.premiumAmt,resourceId:this.resourcesId,type:this.prodService.viewType};return this.pageDataService.updatePremimun(a)}getParnet(n="m_detail"){if((0,I.cU)(this.product.config)){let a=JSON.parse(this.product.config),r=("quotation"!=this.prodService.type?a.application||[]:a.quotation||[]).find(_=>_.tableName==n);return r&&this.globalFun.tempFormData[r.tableName+r.id]||null}return null}rateByValue(n){let a=0;a="BURGLARY"==n.code||"STHTC"==n.code?this.fireAddonRate[n.code+"-"+this.addOnsData[n.id].option]||0:this.fireAddonRate[n.code]||0;let u=this.globalFun.tempFormData[v.nm],r=0;if(u){let _=u.find(Z=>Z.id==this.optionId);r+=_?_.riskSi:0}if(a>0&&r>0){let _=r*(a/100);return"BURGLARY"==n.code&&(_-=.1*_),_}return 0}}return d.\u0275fac=function(n){return new(n||d)(t.Y36(f.D),t.Y36(P.Q),t.Y36(t.sBO),t.Y36(p.f),t.Y36(A.JJ),t.Y36(D.Q),t.Y36(x.b))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-addon-page"]],viewQuery:function(n,a){if(1&n&&t.Gf(R.L,5),2&n){let u;t.iGM(u=t.CRH())&&(a.motorAddon=u.first)}},inputs:{product:"product",editData:"editData",resourcesId:"resourcesId",optionId:"optionId",fireAdd:"fireAdd",premiumAmt:"premiumAmt"},outputs:{actionEvent:"actionEvent"},decls:16,vars:12,consts:[[1,"table","table-bordered"],[1,"tbody-align"],[2,"text-align","left"],[4,"ngIf"],["class","tbody-align",4,"ngIf"],[3,"product","editData","resourcesId","optionId","premiumAmt"],["class","row",4,"ngIf"],["style","text-align: right;",4,"ngIf"],[4,"ngFor","ngForOf"],["type","checkbox",3,"ngModel","ngModelChange","change"],["style","text-align: left;",4,"ngIf"],["bindLabel","value","bindValue","code",1,"ng-custom-select",3,"items","ngModel","clearable","change","ngModelChange"],["type","text",1,"form-control","form-control-sm",3,"disabled","ngModel","ngModelChange"],[1,"row"],[1,"col-sm-6","mx-auto"],[1,"btn","btn-block","btn-secondary",3,"click"],[1,"btn","btn-block","btn-primary",3,"click"],[2,"text-align","right"],[1,"btn","btn-primary",3,"click"]],template:function(n,a){1&n&&(t.TgZ(0,"table",0),t.TgZ(1,"thead",1),t.TgZ(2,"tr"),t._UZ(3,"th"),t.TgZ(4,"th",2),t._uU(5," Base Coverage "),t.qZA(),t.YNc(6,S,2,0,"th",3),t.YNc(7,M,2,0,"th",3),t.YNc(8,U,2,0,"th",3),t.YNc(9,E,2,0,"th",3),t.qZA(),t.qZA(),t.YNc(10,W,2,1,"tbody",4),t.qZA(),t._UZ(11,"hr"),t._UZ(12,"app-motor-addon",5),t._UZ(13,"hr"),t.YNc(14,G,7,0,"div",6),t.YNc(15,w,3,0,"div",7)),2&n&&(t.xp6(6),t.Q6J("ngIf","CLFR01"==a.product.code),t.xp6(1),t.Q6J("ngIf",a.addOns.isSum),t.xp6(1),t.Q6J("ngIf",a.addOns.isUnit),t.xp6(1),t.Q6J("ngIf",a.addOns.isPremium),t.xp6(1),t.Q6J("ngIf",!a.isLoading),t.xp6(2),t.Q6J("product",a.product)("editData",a.editData)("resourcesId",a.resourcesId)("optionId",a.optionId)("premiumAmt",a.premiumAmt),t.xp6(2),t.Q6J("ngIf",!a.fireAdd),t.xp6(1),t.Q6J("ngIf",a.fireAdd))},styles:[""]}),d})()},17268:(Y,y,i)=>{i.d(y,{k:()=>J});var e=i(83668),t=i(92070),I=i(82997),v=i(28100),R=i(83067),f=i(54753),P=i(85724),p=i(47975),A=i(11766),D=i(6920),x=i(23449),S=i(60940),M=i(35618),U=i(27673),E=i(65937),F=i(67198),B=i(86019);function N(g,L){if(1&g&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",8),e._uU(6),e.ALo(7,"number"),e.qZA(),e.TgZ(8,"td",8),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"td",8),e._uU(12),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"td",8),e._uU(15),e.ALo(16,"number"),e.qZA(),e.qZA()),2&g){const o=L.$implicit;e.xp6(2),e.Oqu(o.endOfPolicyYear),e.xp6(2),e.Oqu(o.age),e.xp6(2),e.Oqu(e.lcZ(7,6,o.premiumPaid)||"-"),e.xp6(3),e.Oqu(e.lcZ(10,8,o.deathBenefit)),e.xp6(3),e.Oqu(e.lcZ(13,10,o.surrenderValue)||"-"),e.xp6(3),e.Oqu(e.lcZ(16,12,o.maturityBenefit)||"-")}}function O(g,L){if(1&g&&(e.TgZ(0,"tbody"),e.YNc(1,N,17,14,"tr",7),e.qZA()),2&g){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.showDatas)}}function Q(g,L){if(1&g&&(e.ynx(0),e._UZ(1,"app-education-life-grip",9),e.BQk()),2&g){const o=e.oxw();e.xp6(1),e.Q6J("parentData",o.showDatas)}}let J=(()=>{class g{constructor(o,s,c,l,m,h,q,W,G){this.globalFun=o,this.alertService=s,this.prodService=c,this.eduPreService=l,this.eduSurrService=m,this.eduPayment=h,this.cdf=q,this.auth=W,this.numberPipe=G,this.actionEvent=new e.vpe,this.premimuRate={"9opt":5,"11opt":7,"14opt":10},this.frequency={monthly:1,quarterly:4,semi_annually:6,annually:12},this.lists=[],this.premiumRate=[],this.surrendRate=[],this.showDatas=[]}ngOnInit(){this.parentData=this.getParnet(),this.parentData2=this.getParnet(!0),this.parentData||this.parentData2?this.getRateValue().pipe((0,R.w)(o=>{if(!o[0]||!o[1])throw o;return(0,I.of)({premium:o[0],surrend:o[1]})})).toPromise().then(o=>{o&&(this.premiumRate=o.premium,this.surrendRate=o.surrend,this.createListData())}).catch(o=>{console.log(o)}):this.alertService.activate("This page cann't to show because there is no education life product detail data. Please add education life product detail in rodcut configuration","Warning")}createListData(){this.getcalculateData(),this.showDatas=[];let o="001"==this.plan?1:2;this.lists.forEach((s,c)=>{let l={resourceId:this.resourcesId,endOfPolicyYear:s,age:this.currentAge+c,benefitPlan:this.plan,premiumPaid:this.premimuRateNum>=s?this.calculatePre(this.currentAge+c,s):0,deathBenefit:this.sumInsured*o,surrenderValue:this.calculateSur(s),maturityBenefit:.9*this.calculateSur(s)};this.showDatas.push(l),c+1==this.lists.length&&this.cdf.detectChanges()})}getcalculateData(){let s=this.globalFun.paPolicyValidationResult.value.validationValue;this.premimuRateNum=this.premimuRate[s+"opt"],this.policyTermCode=this.parentData.policy_term,this.sumInsured=this.parentData.sum_insured,this.plan=this.parentData.insured_plan;let c=this.parentData2.date_of_birth;return this.currentAge=Math.ceil(t().diff(c,"years",!0)),this.frequencyValue=this.frequency[this.parentData.payment_frequency],this.lists=Array.from({length:s},(m,h)=>h+1),!0}getParnet(o){if((0,p.cU)(this.product.config)){let s=JSON.parse(this.product.config),l={};return l=("quotation"!=this.prodService.type?s.application||[]:s.quotation||[]).find(o?m=>"life_insured_el"==m.tableName:m=>"el_detail"==m.tableName),l&&this.globalFun.tempFormData[l.tableName+l.id]||null}return null}calculatePre(o,s){let c=15.5,l=this.premiumRate.find(h=>h.age==o);l&&(c=l.rate);let m=c/1e3*this.sumInsured;if(1==s){console.log(this.frequencyValue);let h=this.globalFun.calculateDecimal(m*this.frequencyValue)+1500;this.premiumAmt=this.numberPipe.transform(h)+" MMK / "+this.parentData.payment_frequency,this.globalFun.paPremiumResult.next(this.premiumAmt)}return this.globalFun.calculateDecimal(12*m)*s}calculateSur(o){let s=10,c=this.surrendRate.find(l=>l.year==o);return c?(s=c.rate,s/100*this.sumInsured):0}getRateValue(){return(0,v.D)([this.getPRate(),this.getSurRate()]).pipe((0,f.U)(o=>o))}getPRate(){return this.eduPreService.getMany(this.parentData.insured_plan,this.parentData.policy_term)}getSurRate(){return this.eduSurrService.getMany(this.parentData.policy_term)}nextPage(){this.showDatas.length>0&&this.eduPayment.deleteMany(this.resourcesId).pipe((0,P.z)(o=>{let s={request:this.showDatas,resourceDataDTO:{agentId:this.auth.currentUserValue.id||1,customerId:this.prodService.creatingCustomer.customerId||1,policyNumber:null,premium:(Number(this.premiumAmt.split(" ")[0].split(",").join(""))||0)+"",premiumView:this.premiumAmt,productId:this.product.id,quotationId:this.prodService.referenceID,type:this.prodService.type},resourceId:this.resourcesId};return this.eduPayment.saveMany(s)})).toPromise().then(o=>{o&&(this.globalFun.tempFormData[D.S_]=this.showDatas,this.actionEvent.emit({type:A.V.NEXT}))})}backPage(){this.actionEvent.emit({type:A.V.PREV})}}return g.\u0275fac=function(o){return new(o||g)(e.Y36(x.Q),e.Y36(S.c),e.Y36(M.f),e.Y36(U.H),e.Y36(U.D),e.Y36(E.D),e.Y36(e.sBO),e.Y36(F.e8),e.Y36(B.JJ))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-education-life"]],inputs:{product:"product",editData:"editData",resourcesId:"resourcesId"},outputs:{actionEvent:"actionEvent"},decls:25,vars:2,consts:[[1,"table","table-bordered"],[4,"ngIf"],[1,"mb-5"],[1,"row","mt-3"],[1,"col-sm-6","mx-auto"],[1,"btn","btn-block","btn-secondary",3,"click"],[1,"btn","btn-block","btn-primary",3,"click"],[4,"ngFor","ngForOf"],[2,"text-align","right"],[3,"parentData"]],template:function(o,s){1&o&&(e.TgZ(0,"table",0),e.TgZ(1,"thead"),e.TgZ(2,"tr"),e.TgZ(3,"th"),e._uU(4,"End of Policy Year"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Age"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Premium Paid"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Death/PTD Benefit"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Surrender Value"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Maturity Benefit"),e.qZA(),e.qZA(),e.qZA(),e.YNc(15,O,2,1,"tbody",1),e.qZA(),e._UZ(16,"hr",2),e.YNc(17,Q,2,1,"ng-container",1),e.TgZ(18,"div",3),e.TgZ(19,"div",4),e.TgZ(20,"button",5),e.NdJ("click",function(){return s.backPage()}),e._uU(21," Previous "),e.qZA(),e.qZA(),e.TgZ(22,"div",4),e.TgZ(23,"button",6),e.NdJ("click",function(){return s.nextPage()}),e._uU(24," Save & Next "),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(15),e.Q6J("ngIf",s.premiumRate.length>0&&s.surrendRate.length>0),e.xp6(2),e.Q6J("ngIf",s.showDatas.length>0))},styles:[""]}),g})()},27673:(Y,y,i)=>{i.d(y,{H:()=>R,D:()=>P});var e=i(18260),t=i(91691),C=i(83668),I=i(44522);const v=`${e.N.apiUrl}/education-premium-rates`;let R=(()=>{class p extends t.i{constructor(D){super(D,v),this.httpClient=D}getMany(D,x){return this.httpClient.get(v+"?benefitPlan="+D+"&policyTerm="+x)}}return p.\u0275fac=function(D){return new(D||p)(C.LFG(I.eN))},p.\u0275prov=C.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const f=`${e.N.apiUrl}/education-surrender-values`;let P=(()=>{class p extends t.i{constructor(D){super(D,f),this.httpClient=D}getMany(D){return this.httpClient.get(f+"?policyTerm="+D)}}return p.\u0275fac=function(D){return new(D||p)(C.LFG(I.eN))},p.\u0275prov=C.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},65937:(Y,y,i)=>{i.d(y,{D:()=>R});var e=i(18260),t=i(91691),C=i(83668),I=i(44522);const v=`${e.N.apiUrl}/education/life-benefit`;let R=(()=>{class f extends t.i{constructor(p){super(p,v),this.httpClient=p}deleteMany(p){return this.httpClient.delete(v+"/resource/"+p)}getMany(p){return this.httpClient.get(v+"/resource/"+p)}saveMany(p){return this.httpClient.post(v+"s",p)}}return f.\u0275fac=function(p){return new(p||f)(C.LFG(I.eN))},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},6241:(Y,y,i)=>{i.d(y,{L:()=>J});var e=i(64762),t=i(83668),C=i(92118),I=i(44290),v=i(74464),R=i(47975),f=i(11766),P=i(23449),p=i(35618),A=i(86019),D=i(43329),x=i(552),S=i(13468),M=i(49133),U=i(57842),E=i(57730),F=i(78480),B=i(86031);function N(g,L){if(1&g){const o=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"div",2),t.TgZ(2,"div",9),t.TgZ(3,"div",10),t.TgZ(4,"ng-select",11),t.NdJ("ngModelChange",function(c){return t.CHM(o),t.oxw().planOption=c})("change",function(){return t.CHM(o),t.oxw().changePlan()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",2),t.TgZ(6,"label",12),t._uU(7,"Premium : "),t.TgZ(8,"span"),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&g){const o=t.oxw();t.xp6(4),t.Q6J("ngModel",o.planOption)("items",o.planOptionOption),t.xp6(5),t.Oqu(o.medPremium)}}function O(g,L){if(1&g){const o=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"div",13),t.TgZ(2,"div",9),t.TgZ(3,"label",14),t._uU(4,"Start Date"),t.qZA(),t.TgZ(5,"div",10),t.TgZ(6,"div",15),t.TgZ(7,"input",16),t.NdJ("ngModelChange",function(c){return t.CHM(o),t.oxw().startDate=c}),t.qZA(),t._UZ(8,"mat-datepicker-toggle",17),t._UZ(9,"mat-datepicker",18,19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",13),t.TgZ(12,"div",9),t.TgZ(13,"label",14),t._uU(14,"End Date"),t.qZA(),t.TgZ(15,"div",10),t.TgZ(16,"div",15),t.TgZ(17,"input",16),t.NdJ("ngModelChange",function(c){return t.CHM(o),t.oxw().endDate=c}),t.qZA(),t._UZ(18,"mat-datepicker-toggle",17),t._UZ(19,"mat-datepicker",18,20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&g){const o=t.MAs(10),s=t.MAs(20),c=t.oxw();t.xp6(7),t.Q6J("ngModel",c.startDate)("matDatepicker",o),t.xp6(1),t.Q6J("for",o),t.xp6(9),t.Q6J("ngModel",c.endDate)("matDatepicker",s),t.xp6(1),t.Q6J("for",s)}}function Q(g,L){if(1&g){const o=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"div",13),t.TgZ(2,"div",9),t.TgZ(3,"label",14),t._uU(4,"Source Place"),t.qZA(),t.TgZ(5,"div",10),t.TgZ(6,"input",21),t.NdJ("ngModelChange",function(c){return t.CHM(o),t.oxw().option1=c}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",13),t.TgZ(8,"div",9),t.TgZ(9,"label",14),t._uU(10,"Destination Place"),t.qZA(),t.TgZ(11,"div",10),t.TgZ(12,"input",22),t.NdJ("ngModelChange",function(c){return t.CHM(o),t.oxw().option2=c}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",13),t.TgZ(14,"div",9),t.TgZ(15,"label",12),t._uU(16,"Premium : "),t.TgZ(17,"span"),t._uU(18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&g){const o=t.oxw();t.xp6(6),t.Q6J("disabled",!0)("ngModel",o.option1),t.xp6(6),t.Q6J("disabled",!0)("ngModel",o.option2),t.xp6(6),t.hij("$",o.crossPremium,"")}}let J=(()=>{class g{constructor(o,s,c,l,m,h){this.globalFun=o,this.prodService=s,this.numberPipe=c,this.addOnQuoService=l,this.pageDataService=m,this.cdf=h,this.actionEvent=new t.vpe,this.premiumAmt="",this.changeCheck=new t.vpe,this.primary="primary",this.isMedical=!1,this.isCross=!1,this.planOption="basic",this.planOptionOption=[{code:"basic",value:"Basic Plan"},{code:"special",value:"Special Plan"}],this.option1="Digital Source Place",this.option2="Digital Destination Place",this.parentData={},this.addOnsData={}}ngOnInit(){this.parentData=this.getParnet()}getParnet(o="m_detail"){if((0,R.cU)(this.product.config)){let s=JSON.parse(this.product.config),l=("quotation"!=this.prodService.type?s.application||[]:s.quotation||[]).find(m=>m.tableName==o);return l&&this.globalFun.tempFormData[l.tableName+l.id]||null}return null}toggleChange(o){"medical"==o&&(this.isMedical=!this.isMedical,this.changePlan(),this.cdf.detectChanges()),"cross"==o&&(this.isCross=!this.isCross,this.cdf.detectChanges())}changePlan(){this.medPremium=this.calcumotorMedical()}calcumotorMedical(){let o=0;return o="basic"==this.planOption?20:30,o}calcuCross(o){let s=0;for(let h of o)this.addOnsData[h.id]&&(s+=this.globalFun.calculateDecimal(this.addOnsData[h.id].premium||0));this.isMedical&&(s+=this.globalFun.calculateDecimal(this.medPremium));let c=this.globalFun.tempFormData.coverage_1634010995936?this.globalFun.tempFormData.coverage_1634010995936:[];for(let h of c)s+=this.globalFun.calculateDecimal(h.premium||0);let m=0;if(this.parentData){let h=this.parentData.m_excess;"T-NILEX"==h&&"MMK"==(this.parentData?this.parentData.m_currency:"MMK")?m=5e4:"TU-NILEX"==h&&(m=25)}this.crossPremium=s+m}backPage(){this.actionEvent.emit({type:f.V.PREV})}nextPage(){return(0,e.mG)(this,void 0,void 0,function*(){const o=this.addOnQuoService;let s=this.product.addOns.find(l=>"MED EXP"==l.code);if(s&&(yield o.deleteOne(s,this.resourcesId,this.resourcesId)),this.isMedical&&(this.medPremium="string"!=typeof this.medPremium?this.medPremium+"":this.medPremium,s)){let l={addonId:s.id,quotationNo:this.resourcesId,optionalKey:this.resourcesId,premium:this.medPremium.replace(",","").replace("MMK","").replace("USD",""),option:this.planOption};yield o.save(l).toPromise(),this.globalFun.tempFormData.addon_1634010770155?this.globalFun.tempFormData.addon_1634010770155.push(l):this.globalFun.tempFormData.addon_1634010770155=[l]}let c=this.product.addOns.find(l=>"CROSSBRDR"==l.code);if(c&&(yield o.deleteOne(c,this.resourcesId,this.resourcesId)),this.isCross&&(this.crossPremium="string"!=typeof this.crossPremium?this.crossPremium+"":this.crossPremium,c)){let l={addonId:c.id,quotationNo:this.resourcesId,optionalKey:this.resourcesId,premium:this.crossPremium.replace(",","").replace("MMK","").replace("USD",""),startDate:this.startDate,endDate:this.endDate,option:this.option1,option2:this.option2};yield o.save(l).toPromise()}yield this.savePremimun(),this.actionEvent.emit({type:f.V.NEXT})})}savePremimun(){this.caluMotorPremimun();let s={premium:(Number(this.premiumAmt.split(" ")[0].split(",").join(""))||0)+"",premiumView:this.premiumAmt,resourceId:this.resourcesId,type:this.prodService.viewType};return this.pageDataService.updatePremimun(s)}caluMotorPremimun(){let o=0,s=this.globalFun.tempFormData.addon_1634010770155||[];for(let W of s)o+=this.globalFun.calculateDecimal(W.premium||0);let c=this.globalFun.tempFormData.coverage_1634010995936?this.globalFun.tempFormData.coverage_1634010995936:[];for(let W of c)o+=this.globalFun.calculateDecimal(W.premium||0);let l=this.parentData?this.parentData.m_currency:"MMK",m=0;if(this.parentData){let W=this.parentData.m_excess,G=this.parentData.excess_discount;"T-NILEX"==W&&"MMK"==l?m=-5e4:"TU-NILEX"==W?m=-25:"T-ED"==W&&"MMK"==l&&("T-EXD1"==G?m=5e4:"T-EXD2"==G?m=7e4:"T-EXD3"==G&&(m=1e5))}let q=o-m+("MMK"==l?100:1);return this.premiumAmt=this.numberPipe.transform(q)+" "+l.toUpperCase(),this.globalFun.paPremiumResult.next(this.premiumAmt),q}}return g.\u0275fac=function(o){return new(o||g)(t.Y36(P.Q),t.Y36(p.f),t.Y36(A.JJ),t.Y36(D.D),t.Y36(x.Q),t.Y36(t.sBO))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-motor-addon"]],inputs:{product:"product",editData:"editData",resourcesId:"resourcesId",optionId:"optionId",premiumAmt:"premiumAmt"},outputs:{actionEvent:"actionEvent",changeCheck:"changeCheck"},features:[t._Bn([{provide:v._A,useClass:C.t7,deps:[I.Ad]},{provide:I.sG,useValue:R.Gs}])],decls:22,vars:7,consts:[[1,"form-group"],[1,"row",2,"align-items","center"],[1,"col-sm-6"],[1,"col-sm-6","text-bold"],[1,"col-sm-6","text-bold","left-border-image"],[1,"col-sm-2"],[1,"toggle","ft-right",3,"ngModel","color","ngModelChange","toggleChange"],["class","row","style","align-items: center; margin-top: 10px;",4,"ngIf"],[1,"row",2,"align-items","center","margin-top","10px"],[1,"form-group","row"],[1,"col-sm-8"],["bindLabel","value","bindValue","code",1,"ng-custom-select",3,"ngModel","items","ngModelChange","change"],[1,"col-sm-12","text-bold"],[1,"col-sm-4"],[1,"col-sm-4","col-form-label"],[1,"input-group","input-group-sm"],["matInput","","readonly","",1,"form-control-sm","date-input",2,"width","100%",3,"ngModel","matDatepicker","ngModelChange"],["matSuffix","",3,"for"],["disabled","false"],["start",""],["end",""],["type","text","name","option1","autocomplete","off",1,"form-control","form-control-sm",3,"disabled","ngModel","ngModelChange"],["type","text","name","option2","autocomplete","off",1,"form-control","form-control-sm",3,"disabled","ngModel","ngModelChange"]],template:function(o,s){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"label",3),t._uU(4,"Optional Covers"),t.qZA(),t.qZA(),t.qZA(),t._UZ(5,"hr"),t.TgZ(6,"div"),t.TgZ(7,"div",1),t.TgZ(8,"div",2),t.TgZ(9,"label",4),t._uU(10,"Medical Expense"),t.qZA(),t.qZA(),t.TgZ(11,"div",5),t.TgZ(12,"mat-slide-toggle",6),t.NdJ("ngModelChange",function(l){return s.isMedical=l})("toggleChange",function(){return s.toggleChange("medical")}),t.qZA(),t.qZA(),t.qZA(),t.YNc(13,N,10,3,"div",7),t.TgZ(14,"div",8),t.TgZ(15,"div",2),t.TgZ(16,"label",4),t._uU(17,"Cross Border"),t.qZA(),t.qZA(),t.TgZ(18,"div",5),t.TgZ(19,"mat-slide-toggle",6),t.NdJ("ngModelChange",function(l){return s.isCross=l})("toggleChange",function(){return s.toggleChange("cross")}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(20,O,21,6,"div",7),t.YNc(21,Q,19,5,"div",7),t.qZA()),2&o&&(t.xp6(12),t.Q6J("ngModel",s.isMedical)("color",s.primary),t.xp6(1),t.Q6J("ngIf",s.isMedical),t.xp6(6),t.Q6J("ngModel",s.isCross)("color",s.primary),t.xp6(1),t.Q6J("ngIf",s.isCross),t.xp6(1),t.Q6J("ngIf",s.isCross))},directives:[S.Rr,M.JJ,M.On,A.O5,U.w9,E.Nt,M.Fj,F.hl,F.nW,B.R9,F.Mq],styles:[".input-group[_ngcontent-%COMP%]   .form-control-sm[_ngcontent-%COMP%]{background-color:#fff;background-clip:padding-box;border:1px solid #E4E6EF;padding:0 .75rem}.input-group[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;right:5px}.active[_ngcontent-%COMP%]{display:block}.inactive[_ngcontent-%COMP%]{display:none}.icon[_ngcontent-%COMP%]{position:relative;border:none;margin:0;font-size:1.5rem;background-color:transparent}.add[_ngcontent-%COMP%]{top:-11px;position:relative;border:none;background:#f2f2f2;margin:0}.add[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:-52px;right:78px;width:110px}.btn-box[_ngcontent-%COMP%]{text-align:end}.btn-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;width:127%;height:100%;opacity:0}h2[_ngcontent-%COMP%]{font-size:13px;color:#005ca2;background:#F2F2F2;border:none;cursor:pointer;position:relative;margin-top:24px;padding:12px 24px 1px}h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:14px;top:5px}h2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:6px;height:12px;float:left}h2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;padding-left:18px}.tab-div[_ngcontent-%COMP%]{position:relative;padding:20px 0 0;background:#d1d7e2;border-bottom:1px solid #d2d2d2;margin:-10px 0 0}.tab-div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}"]}),g})()},11766:(Y,y,i)=>{i.d(y,{V:()=>e});var e=(()=>{return(t=e||(e={})).NEXT="next",t.PREV="prev",e;var t})()},6920:(Y,y,i)=>{i.d(y,{p:()=>t,Hu:()=>I,T$:()=>v,nm:()=>R,S_:()=>D,Ft:()=>S,rf:()=>E});var e=i(1402);const t=[{id:"addon_1634010770155",type:e.it.STATIC,pageTitle:"AddOn",showLabel:"AddOn",pageType:"form",tableName:"addon",pageIcon:"fa-briefcase"},{id:"coverage_1634010995936",type:e.it.STATIC,pageTitle:"Coverage",showLabel:"Coverage",pageType:"form",tableName:"coverage",pageIcon:"fa-clipboard-check"},{id:"static_1634018514043",type:e.it.STATIC,pageTitle:"Product Detail",showLabel:"Motor Product Detail",pageType:"form",tableName:"static",pageIcon:"fa-briefcase"},{id:"static_1635747288508",type:e.it.STATIC,pageTitle:"Product Detail",showLabel:"Motor Product Detail (Application)",pageType:"form",tableName:"static",pageIcon:"fa-briefcase"},{id:"static_1635218894755",type:e.it.STATIC,pageTitle:"Payment Schedules",showLabel:"Payment Schedules",pageType:"form",tableName:"static",pageIcon:"fa-briefcase"},{id:"static_1635309151504",type:e.it.STATIC,pageTitle:"Education Life Benefit",showLabel:"Education Life Benefit",pageType:"form",tableName:"static",pageIcon:"fa-briefcase"},{id:"static_1641364737069",type:e.it.STATIC,pageTitle:"Product Detail",showLabel:"Fire Product Detail",pageType:"form",tableName:"static",pageIcon:"fa-briefcase"},{id:"static_1643116155828",type:e.it.STATIC,pageTitle:"Risk Detail",showLabel:"Fire Risk Detail",pageType:"form",tableName:"static",pageIcon:"fa-briefcase"},{id:"static_1644896661652",type:e.it.STATIC,pageTitle:"Benefit Illustration",showLabel:"Endowment Benefit Illustration",pageType:"form",tableName:"static",pageIcon:"fa-briefcase"},{id:"static_1648784270432",type:e.it.STATIC,pageTitle:"Optional Coverages",showLabel:"Motor Addons",pageType:"form",tableName:"static",pageIcon:"fa-briefcase"},{id:"static_1648784270356",type:e.it.STATIC,pageTitle:"Tavel Risk",showLabel:"Tavel Risk",pageType:"form",tableName:"static",pageIcon:"fa-briefcase"}],I="static_1634018514043",v="static_1641364737069",R="static_1643116155828",D="static_1635309151504",S="static_1644896661652",E="static_1648784270356"},59472:(Y,y,i)=>{i.d(y,{Q:()=>s});var e=i(86019),t=i(49133),C=i(85993),I=i(56156),v=i(55167),R=i(45598),f=i(17268),P=i(83668),p=i(11766),A=i(6920),D=i(60940),x=i(23449),S=i(75396);const M=["chart"];let U=(()=>{class c{constructor(m,h){this.alertService=m,this.globalFun=h,this.actionEvent=new P.vpe,this.showDatas=[],this.chartOptions={series:[{name:"Premium Amount",data:[],color:"#005f99"}],chart:{height:450,type:"line",toolbar:{show:!1}},title:{text:"Basic Benefit Illustration",offsetX:0,offsetY:10,floating:!1,style:{fontSize:"1.1rem",fontFamily:"Roboto"}},xaxis:{type:"category",categories:["0","1 year","2 years","3 years","4 years","5 years","6 years","7 years","8 years","9 years","10 years","11 years","12 years","13 years","14 years"],labels:{style:{fontSize:"1rem",fontFamily:"Roboto"}}},yaxis:{min:0,max:5e6,tickAmount:5,labels:{style:{fontSize:"1rem",fontFamily:"Roboto"}}},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5},dataLabels:{enabled:!0,textAnchor:"middle",offsetX:-10,offsetY:-5,enabledOnSeries:[0]},markers:{size:[5,0,0]}}}ngOnInit(){if(this.parentData){let m=this.parentData.map(h=>h.premiumPaid&&h.premiumPaid>0?h.premiumPaid:null);m.unshift(null),this.parentData.length>0&&"002"==this.parentData[0].benefitPlan&&(this.chartOptions.title.text="Double Benefit Illustration",this.chartOptions.yaxis.max=1e7,this.chartOptions.series[1]={data:[],name:"Goal"},this.chartOptions.series[2]={data:[],name:"2X Goal"},this.chartOptions.series[1].data=[5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6,5e6],this.chartOptions.series[2].data=[1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7]),this.chartOptions.series[0].data=m}else this.alertService.activate("This page cann't to show because there is no education life product detail data. Please add education life product detail in rodcut configuration","Warning")}getParnet(){return this.globalFun.tempFormData[A.S_]}nextPage(){this.actionEvent.emit({type:p.V.NEXT})}backPage(){this.actionEvent.emit({type:p.V.PREV})}}return c.\u0275fac=function(m){return new(m||c)(P.Y36(D.c),P.Y36(x.Q))},c.\u0275cmp=P.Xpm({type:c,selectors:[["app-education-life-grip"]],viewQuery:function(m,h){if(1&m&&P.Gf(M,5),2&m){let q;P.iGM(q=P.CRH())&&(h.chart=q.first)}},inputs:{product:"product",editData:"editData",resourcesId:"resourcesId",parentData:"parentData"},outputs:{actionEvent:"actionEvent"},decls:1,vars:8,consts:[[3,"series","chart","xaxis","yaxis","title","legend","dataLabels","markers"]],template:function(m,h){1&m&&P._UZ(0,"apx-chart",0),2&m&&P.Q6J("series",h.chartOptions.series)("chart",h.chartOptions.chart)("xaxis",h.chartOptions.xaxis)("yaxis",h.chartOptions.yaxis)("title",h.chartOptions.title)("legend",h.chartOptions.legend)("dataLabels",h.chartOptions.dataLabels)("markers",h.chartOptions.markers)},directives:[S.x],styles:[""]}),c})();var E=i(44290),F=i(78480),B=i(57730),N=i(86031),O=i(57842),Q=i(13468),J=i(99765),g=i(6241),L=i(87626),o=i(70933);let s=(()=>{class c{}return c.\u0275fac=function(m){return new(m||c)},c.\u0275mod=P.oAB({type:c}),c.\u0275inj=P.cJS({imports:[[e.ez,t.u5,R.fA,t.UX,C.bz,v.Fk,C.M,O.A0,Q.rP,S.X,L.vi,F.FA,E.XK,B.c,N.lN,J.Ud,o.Q]]}),c})();P.B6R(I.g,[e.O5,e.sg,t.Wl,t.JJ,t.On,O.w9,t.Fj,g.L],[e.JJ]),P.B6R(f.k,[e.O5,e.sg,U],[e.JJ])}}]);