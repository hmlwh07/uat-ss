"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5776,7975],{92118:(J,C,c)=>{c.d(C,{t7:()=>v});var h=c(83668),f=c(44290),a=c(92070);const d=c.n(a)()||a,g=new h.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function w(m,I){const l=Array(m);for(let p=0;p<m;p++)l[p]=I(p);return l}let v=(()=>{class m extends f._A{constructor(l,p){super(),this._options=p,this.setLocale(l||d.locale())}setLocale(l){super.setLocale(l);let p=d.localeData(l);this._localeData={firstDayOfWeek:p.firstDayOfWeek(),longMonths:p.months(),shortMonths:p.monthsShort(),dates:w(31,b=>this.createDate(2017,0,b+1).format("D")),longDaysOfWeek:p.weekdays(),shortDaysOfWeek:p.weekdaysShort(),narrowDaysOfWeek:p.weekdaysMin()}}getYear(l){return this.clone(l).year()}getMonth(l){return this.clone(l).month()}getDate(l){return this.clone(l).date()}getDayOfWeek(l){return this.clone(l).day()}getMonthNames(l){return"long"==l?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(l){return"long"==l?this._localeData.longDaysOfWeek:"short"==l?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(l){return this.clone(l).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(l){return this.clone(l).daysInMonth()}clone(l){return l.clone().locale(this.locale)}createDate(l,p,b){const T=this._createMoment({year:l,month:p,date:b}).locale(this.locale);return T.isValid(),T}today(){return this._createMoment().locale(this.locale)}parse(l,p){return l&&"string"==typeof l?this._createMoment(l,p,this.locale):l?this._createMoment(l).locale(this.locale):null}format(l,p){return l=this.clone(l),this.isValid(l),l.format(p)}addCalendarYears(l,p){return this.clone(l).add({years:p})}addCalendarMonths(l,p){return this.clone(l).add({months:p})}addCalendarDays(l,p){return this.clone(l).add({days:p})}toIso8601(l){return this.clone(l).format()}deserialize(l){let p;if(l instanceof Date)p=this._createMoment(l).locale(this.locale);else if(this.isDateInstance(l))return this.clone(l);if("string"==typeof l){if(!l)return null;p=this._createMoment(l,d.ISO_8601).locale(this.locale)}return p&&this.isValid(p)?this._createMoment(p).locale(this.locale):super.deserialize(l)}isDateInstance(l){return d.isMoment(l)}isValid(l){return this.clone(l).isValid()}invalid(){return d.invalid()}_createMoment(l,p,b){const{strict:T,useUtc:z}=this._options||{};return z?d.utc(l,p,b,T):d(l,p,b,T)}}return m.\u0275fac=function(l){return new(l||m)(h.LFG(f.Ad,8),h.LFG(g,8))},m.\u0275prov=h.Yz7({token:m,factory:m.\u0275fac}),m})()},47975:(J,C,c)=>{function h(d){try{JSON.parse(d)}catch(g){return!1}return!0}c.d(C,{cU:()=>h,Gs:()=>f,Ny:()=>y});const f={parse:{dateInput:"DD-MM-YYYY"},display:{dateInput:"DD-MM-YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},y={parse:{dateInput:"MM-YYYY"},display:{dateInput:"MM-YYYY",monthYearLabel:"MM-YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MM-YYYY"}}},53489:(J,C,c)=>{c.d(C,{w:()=>f});var h=c(49133);function f(a){Object.keys(a.controls).forEach(y=>{const d=a.get(y);d instanceof h.NI?d.markAsTouched({onlySelf:!0}):d instanceof h.cw&&this.validateAllFields(d)})}},27738:(J,C,c)=>{c.d(C,{v:()=>g});var h=c(18260),f=c(91691),a=c(83668),y=c(44522);const d=`${h.N.apiUrl}/customer`;let g=(()=>{class _ extends f.i{constructor(v){super(v,d),this.httpClient=v}}return _.\u0275fac=function(v){return new(v||_)(a.LFG(y.eN))},_.\u0275prov=a.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},25776:(J,C,c)=>{c.r(C),c.d(C,{FnaDetailModule:()=>ye});var h=c(86019),f=c(4205),a=c(49133),y=c(45598),d=c(64762),g=c(85993),_=c(21177),w=c(98849),v=c(48921),t=c(83668),A=c(28210),j=c(34824),M=c(15346);function m(o,r){1&o&&t._UZ(0,"img",38)}function I(o,r){1&o&&t._UZ(0,"img",39)}function l(o,r){1&o&&t._UZ(0,"img",40)}function p(o,r){1&o&&t._UZ(0,"img",41)}function b(o,r){1&o&&t._UZ(0,"img",42)}function T(o,r){1&o&&t._UZ(0,"img",43)}function z(o,r){1&o&&t._UZ(0,"img",44)}function it(o,r){1&o&&t._UZ(0,"img",45)}function at(o,r){1&o&&t._UZ(0,"img",46)}function st(o,r){1&o&&t._UZ(0,"img",47)}function rt(o,r){1&o&&t._UZ(0,"img",48)}function lt(o,r){1&o&&t._UZ(0,"img",49)}const B=function(o){return{color:o}},W=function(o){return{background:o}};let ct=(()=>{class o{constructor(e,n,i,s){this.fnaService=e,this.cdf=n,this.modalService=i,this.navController=s,this.aboutLLP=null,this.customerId=null,this.change=new t.vpe,this.fnaEducations=[],this.fnaRetirementSaving=null,this.fnaIncome=null,this.fnaHealths=[],this.fnaAssets=[],this.freedom=[],this.fnaProduct=[],this.bgColor="progress-middle",this.percentage="",this.totalPercentage=0,this.percentageText=0,this.totalPercentageText="",this.products=[],this.isValue=!1}ngOnInit(){this.oldId=this.aboutLLP,this.fnaService.fnaUpdateProducts&&(this.products=this.fnaService.fnaUpdateProducts),this.oldId&&this.getFNAById()}getFNAById(){return(0,d.mG)(this,void 0,void 0,function*(){this.isValue=!1,this.fnaProduct=[],this.products=[],this.fnaService.fnaUpdateProducts=[],this.fnaService.fnaIncome=new w.V,this.fnaService.fnaRetirementSaving=new v.E,this.fnaService.fnaHealths=new Array,this.fnaService.fnaEducations=new Array,this.fnaService.fnaAssect=new Array,this.fnaService.fnaProduct=new Array,this.fnaService.percentage="",this.fnaService.totalPercentageText="",this.fnaService.bgColor="",this.fnaService.fnaUpdateProducts=new Array,this.fnaService.fnaTextColor=null,yield this.fnaService.findOne(this.oldId).toPromise().then(e=>{e&&(e.fnaAssets.length>0&&e.fnaEducations.length&&e.fnaHealths.length>0&&null!=e.fnaIncome&&null!=e.fnaRetirementSaving&&this.freedom.push({hasData:!0}),this.fnaIncome=e.fnaIncome,this.fnaService.fnaIncome=this.fnaIncome,this.fnaRetirementSaving=e.fnaRetirementSaving,this.fnaService.fnaRetirementSaving=this.fnaRetirementSaving,this.fnaHealths=e.fnaHealths,this.fnaService.fnaHealths=this.fnaHealths,this.fnaProduct=e.products,this.fnaService.fnaProduct=this.fnaProduct,this.fnaEducations=e.fnaEducations,0==this.fnaEducations.length?this.fnaService.fnaHealths=this.fnaHealths:this.fnaService.fnaEducations=this.fnaEducations,this.fnaAssets=e.fnaAssets,this.fnaService.fnaAssect=this.fnaAssets,this.fnaService.fnaUpdateProducts=this.fnaProduct,this.fnaAssets.length>0&&(this.totalPercentage+=20),this.fnaEducations.length>0&&(this.totalPercentage+=20),this.fnaHealths.length>0&&(this.totalPercentage+=20),this.fnaIncome&&(this.totalPercentage+=20),this.fnaRetirementSaving&&(this.totalPercentage+=20),this.percentage=this.totalPercentage.toString()+"%",(20==this.totalPercentage||40==this.totalPercentage||60==this.totalPercentage||80==this.totalPercentage||100==this.totalPercentage)&&(this.percentageText=-50),this.totalPercentageText=this.percentageText.toString()+"%",0==this.totalPercentage?(this.bgColor="progress-lower",this.fnaTextColor=null):100==this.totalPercentage?(this.bgColor="progress-upper",this.fnaTextColor=100):(this.bgColor="progress-middle",this.fnaTextColor=null),this.fnaService.percentage=this.percentage,this.fnaService.totalPercentageText=this.totalPercentageText,this.fnaService.bgColor=this.bgColor,this.fnaService.fnaTextColor=this.fnaTextColor,this.change.emit("aboutLLP"),this.cdf.detectChanges()),this.isValue=!0})})}fnaSwitchEvent(e){this.isValue&&(this.fnaSwitch=e,this.change.emit(e),this.products.length>0&&this.update())}actionChart(e){}update(){return(0,d.mG)(this,void 0,void 0,function*(){this.products=this.removeDuplicates(this.products),this.fnaService.fnaUpdateProducts.concat(this.products);let e={customerId:this.customerId,fnaType:"LPP",grandDiscount:0,highDiscount:0,id:this.oldId,products:this.products};yield this.fnaService.updateFNAProduct(e).toPromise().then(n=>{})})}removeDuplicates(e){let i=new Set(e).values();return Array.from(i)}backToDetail(){this.navController.back()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A.T),t.Y36(t.sBO),t.Y36(g.FF),t.Y36(j.SH))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-llp-analysis"]],inputs:{aboutLLP:"aboutLLP",customerId:"customerId"},outputs:{change:"change"},decls:81,vars:78,consts:[[2,"margin","50px 0 0 0","position","relative"],[1,"chart"],[1,"inner","investment",3,"click"],[1,"sub-inner",3,"ngClass"],[1,"lpp-icon"],["class","freedom","src","./assets/images/success/freedom-01.svg","alt","freedom",4,"ngIf"],["class","freedom","src","./assets/images/default/freedom-01.svg","alt","freedom",4,"ngIf"],[2,"text-decoration","none",3,"ngStyle"],[1,"investment-1",3,"ngStyle"],[1,"inner","saving"],[1,"sub-inner"],[1,"education-left-inner",3,"click"],[3,"ngClass"],[3,"ngStyle"],["class","education","src","./assets/images/success/Education-01.svg","alt","education",4,"ngIf"],["class","education","src","./assets/images/default/education-01.svg","alt","education",4,"ngIf"],[1,"retirement-right-inner",3,"click"],["class","retirement-img","src","./assets/images/success/retirement-01.svg","alt","retirement",4,"ngIf"],["class","retirement-img","src","./assets/images/default/retirement-01.svg","alt","retirement",4,"ngIf"],[1,"investment-1","button-saving",3,"ngStyle"],[1,"protection"],[1,"sub-inner","row"],[1,"income-left-inner","col-4",3,"click"],["class","income","src","./assets/images/success/income-01.svg","alt","income",4,"ngIf"],["class","income","src","./assets/images/default/income-01.svg","alt","income",4,"ngIf"],[1,"health-middle-inner","col-4",3,"click"],[2,"margin","0 0 0 2px",3,"ngStyle"],["class","health","src","./assets/images/success/health-01.svg","alt","healths",4,"ngIf"],["class","health","src","./assets/images/default/health-01.svg","alt","healths",4,"ngIf"],[1,"asset-right-inner","col-4",3,"click"],["class","assets","src","./assets/images/success/assets-01.svg","alt","assets",4,"ngIf"],["class","assets","src","./assets/images/default/assets-01.svg","alt","assets",4,"ngIf"],[1,"investment-1","button-protection",3,"ngStyle"],[1,"left-border"],[1,"right-border"],[1,"next-btn"],[1,"fna-segment"],["type","button",1,"btn","btn-primary","btn-elevate","mt-3",3,"click"],["src","./assets/images/success/freedom-01.svg","alt","freedom",1,"freedom"],["src","./assets/images/default/freedom-01.svg","alt","freedom",1,"freedom"],["src","./assets/images/success/Education-01.svg","alt","education",1,"education"],["src","./assets/images/default/education-01.svg","alt","education",1,"education"],["src","./assets/images/success/retirement-01.svg","alt","retirement",1,"retirement-img"],["src","./assets/images/default/retirement-01.svg","alt","retirement",1,"retirement-img"],["src","./assets/images/success/income-01.svg","alt","income",1,"income"],["src","./assets/images/default/income-01.svg","alt","income",1,"income"],["src","./assets/images/success/health-01.svg","alt","healths",1,"health"],["src","./assets/images/default/health-01.svg","alt","healths",1,"health"],["src","./assets/images/success/assets-01.svg","alt","assets",1,"assets"],["src","./assets/images/default/assets-01.svg","alt","assets",1,"assets"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.NdJ("click",function(){return n.actionChart("Freedom")}),t._UZ(3,"div",3),t.TgZ(4,"div",4),t.YNc(5,m,1,0,"img",5),t.YNc(6,I,1,0,"img",6),t.qZA(),t.TgZ(7,"a",7),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.TgZ(10,"div"),t.TgZ(11,"div",8),t.TgZ(12,"label"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",9),t.TgZ(16,"div",10),t.TgZ(17,"div",11),t.NdJ("click",function(){return n.fnaSwitchEvent("Education")}),t._UZ(18,"div",12),t.TgZ(19,"a",13),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"div",4),t.YNc(23,l,1,0,"img",14),t.YNc(24,p,1,0,"img",15),t.qZA(),t.qZA(),t.TgZ(25,"div",16),t.NdJ("click",function(){return n.fnaSwitchEvent("Retirement")}),t._UZ(26,"div",12),t.TgZ(27,"a",13),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"div",4),t.YNc(31,b,1,0,"img",17),t.YNc(32,T,1,0,"img",18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"div"),t.TgZ(34,"div",19),t.TgZ(35,"label"),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"div",20),t.TgZ(39,"div",21),t.TgZ(40,"div",22),t.NdJ("click",function(){return n.fnaSwitchEvent("Income")}),t._UZ(41,"div",12),t.TgZ(42,"a",13),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"div",4),t.YNc(46,z,1,0,"img",23),t.YNc(47,it,1,0,"img",24),t.qZA(),t.qZA(),t.TgZ(48,"div",25),t.NdJ("click",function(){return n.fnaSwitchEvent("Health")}),t._UZ(49,"div",12),t.TgZ(50,"a",26),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"div",4),t.YNc(54,at,1,0,"img",27),t.YNc(55,st,1,0,"img",28),t.qZA(),t.qZA(),t.TgZ(56,"div",29),t.NdJ("click",function(){return n.fnaSwitchEvent("Asset")}),t._UZ(57,"div",12),t.TgZ(58,"div",4),t.YNc(59,rt,1,0,"img",30),t.YNc(60,lt,1,0,"img",31),t.qZA(),t.TgZ(61,"a",13),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(64,"div"),t.TgZ(65,"div",32),t.TgZ(66,"label"),t._uU(67),t.ALo(68,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(69,"div",33),t._UZ(70,"div",34),t.qZA(),t.qZA(),t.TgZ(71,"div",35),t.TgZ(72,"div",36),t.TgZ(73,"button",37),t.NdJ("click",function(){return n.backToDetail()}),t.TgZ(74,"label"),t._uU(75),t.ALo(76,"translate"),t.qZA(),t.qZA(),t.TgZ(77,"button",37),t.NdJ("click",function(){return n.fnaSwitchEvent("product")}),t.TgZ(78,"label"),t._uU(79),t.ALo(80,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngClass",n.freedom.length?"bg-freedom":"inactive-freedon-left"),t.xp6(2),t.Q6J("ngIf",n.freedom.length>0),t.xp6(1),t.Q6J("ngIf",0==n.freedom.length),t.xp6(1),t.Q6J("ngStyle",t.VKq(60,B,n.freedom.length?"#ffffff":"#275f96")),t.xp6(1),t.Oqu(t.lcZ(9,38,"FORM.freedom")),t.xp6(3),t.Q6J("ngStyle",t.VKq(62,W,n.freedom.length?"#16384d":"#aaaaaa")),t.xp6(2),t.Oqu(t.lcZ(14,40,"FORM.investment")),t.xp6(5),t.Q6J("ngClass",n.fnaEducations.length?"bg-saving":"inactive-freedon-right"),t.xp6(1),t.Q6J("ngStyle",t.VKq(64,B,n.fnaEducations.length?"#16384d":"#275f96")),t.xp6(1),t.Oqu(t.lcZ(21,42,"FORM.education")),t.xp6(3),t.Q6J("ngIf",n.fnaEducations.length>0),t.xp6(1),t.Q6J("ngIf",0==n.fnaEducations.length),t.xp6(2),t.Q6J("ngClass",n.fnaRetirementSaving?"bg-saving":"inactive-freedon-left"),t.xp6(1),t.Q6J("ngStyle",t.VKq(66,B,n.fnaRetirementSaving?"#16384d":"#275f96")),t.xp6(1),t.Oqu(t.lcZ(29,44,"FORM.retirement")),t.xp6(3),t.Q6J("ngIf",n.fnaRetirementSaving),t.xp6(1),t.Q6J("ngIf",!n.fnaRetirementSaving),t.xp6(2),t.Q6J("ngStyle",t.VKq(68,W,n.fnaEducations.length&&n.fnaRetirementSaving?"#16384d":"#aaaaaa")),t.xp6(2),t.Oqu(t.lcZ(37,46,"FORM.saving")),t.xp6(5),t.Q6J("ngClass",n.fnaIncome?"bg-protection":"inactive-freedon-left"),t.xp6(1),t.Q6J("ngStyle",t.VKq(70,B,n.fnaIncome?"#ffffff":"#275f96")),t.xp6(1),t.Oqu(t.lcZ(44,48,"FORM.income")),t.xp6(3),t.Q6J("ngIf",n.fnaIncome),t.xp6(1),t.Q6J("ngIf",!n.fnaIncome),t.xp6(2),t.Q6J("ngClass",n.fnaHealths.length?"bg-protection":"inactive-freedon-right"),t.xp6(1),t.Q6J("ngStyle",t.VKq(72,B,n.fnaHealths.length?"#ffffff":"#275f96")),t.xp6(1),t.Oqu(t.lcZ(52,50,"FORM.health")),t.xp6(3),t.Q6J("ngIf",n.fnaHealths.length>0),t.xp6(1),t.Q6J("ngIf",0==n.fnaHealths.length),t.xp6(2),t.Q6J("ngClass",n.fnaAssets.length?"bg-protection":"inactive-freedon-left"),t.xp6(2),t.Q6J("ngIf",n.fnaAssets.length>0),t.xp6(1),t.Q6J("ngIf",0==n.fnaAssets.length),t.xp6(1),t.Q6J("ngStyle",t.VKq(74,B,n.fnaAssets.length?"#ffffff":"#275f96")),t.xp6(1),t.Oqu(t.lcZ(63,52,"FORM.assets")),t.xp6(3),t.Q6J("ngStyle",t.VKq(76,W,n.fnaIncome&&n.fnaHealths.length&&n.fnaAssets.length?"#16384d":"#aaaaaa")),t.xp6(2),t.Oqu(t.lcZ(68,54,"FORM.protection")),t.xp6(8),t.Oqu(t.lcZ(76,56,"FORM.btn_back")),t.xp6(4),t.Oqu(t.lcZ(80,58,"FORM.btn_save_and_next")))},directives:[h.mk,h.O5,h.PC],pipes:[M.X],styles:[".sub-inner[_ngcontent-%COMP%]{margin:0 auto;text-align:center;position:relative}.left-border[_ngcontent-%COMP%]{transform:skew(-30deg);width:95px;background:#fff;height:457px;position:absolute;bottom:0;left:23px;z-index:1}.right-border[_ngcontent-%COMP%]{transform:skew(30deg);width:95px;background:#fff;height:457px;position:absolute;bottom:0;right:24px;z-index:1}.inner[_ngcontent-%COMP%]{height:120px}.investment[_ngcontent-%COMP%]{width:35%;margin:0 auto;position:relative;overflow:hidden}.investment[_ngcontent-%COMP%]   .freedom-left-inner[_ngcontent-%COMP%]{width:50%;float:left;height:120px;background:#f2f2f2;position:relative}.investment[_ngcontent-%COMP%]   .freedom-left-inner[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{top:31px;left:62px;width:22.75px}.investment[_ngcontent-%COMP%]   .freedom-right-inner[_ngcontent-%COMP%]{width:50%;float:right;height:120px;background:#f2f2f2}.investment[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;top:88px;text-decoration:underline;color:#f5821f;width:97%;text-align:center;display:block;left:5px;font-size:12px;font-weight:bold}.saving[_ngcontent-%COMP%]{width:65%;margin:0 auto;position:relative;overflow:hidden}.saving[_ngcontent-%COMP%]   .education-left-inner[_ngcontent-%COMP%]{width:50%;float:left;height:120px;background:#f2f2f2;position:relative}.saving[_ngcontent-%COMP%]   .education-left-inner[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;bottom:21px;text-decoration:underline;color:#7f7f7f;width:100%;text-align:center;display:block;font-size:12px;font-weight:bold;left:12%}.saving[_ngcontent-%COMP%]   .education-left-inner[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{left:77px;top:30px}.saving[_ngcontent-%COMP%]   .retirement-right-inner[_ngcontent-%COMP%]{width:50%;float:right;height:120px;background:#f2f2f2;position:relative}.saving[_ngcontent-%COMP%]   .retirement-right-inner[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;bottom:21px;text-decoration:underline;color:#7f7f7f;width:100%;text-align:center;display:block;font-size:12px;font-weight:bold;right:11%}.saving[_ngcontent-%COMP%]   .retirement-right-inner[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{left:50px;top:30px}.protection[_ngcontent-%COMP%]{width:460px;margin:0 auto;position:relative;overflow:hidden;width:100%}.protection[_ngcontent-%COMP%]   .income-left-inner[_ngcontent-%COMP%]{padding:0;height:140px;background:#f2f2f2}.protection[_ngcontent-%COMP%]   .income-left-inner[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;bottom:30px;text-decoration:underline;color:#22aae1;width:100%;text-align:center;display:block;font-size:12px;font-weight:bold;left:13%}.protection[_ngcontent-%COMP%]   .income-left-inner[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{top:18px;left:83px}.protection[_ngcontent-%COMP%]   .health-middle-inner[_ngcontent-%COMP%]{padding:0;height:140px;background:#f2f2f2}.protection[_ngcontent-%COMP%]   .health-middle-inner[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;bottom:30px;text-decoration:underline;color:#f5821f;width:100%;text-align:center;display:block;font-size:12px;font-weight:bold}.protection[_ngcontent-%COMP%]   .health-middle-inner[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{top:18px;left:62px}.protection[_ngcontent-%COMP%]   .asset-right-inner[_ngcontent-%COMP%]{height:140px;padding:0;background:#f2f2f2}.protection[_ngcontent-%COMP%]   .asset-right-inner[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;bottom:30px;text-decoration:underline;color:#f5821f;width:100%;text-align:center;display:block;font-size:12px;font-weight:bold;right:15%}.protection[_ngcontent-%COMP%]   .asset-right-inner[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{left:43px;top:18px}.left-transparent[_ngcontent-%COMP%]{height:360px;position:absolute;background:#fff;width:70px;top:0;transform:skew(-29.2deg);left:28px;z-index:1}.right-transparent[_ngcontent-%COMP%]{height:360px;position:absolute;background:#fff;width:70px;top:0;transform:skew(29.2deg);right:28px;z-index:1}.investment-dot[_ngcontent-%COMP%]{position:absolute;top:120px;width:100%;border-bottom:medium dashed #d9d9d9;z-index:2}.investment-dot[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:-100px;color:#7f7f7f;text-decoration:underline}.saving-dot[_ngcontent-%COMP%]{position:absolute;top:240px;width:100%;border-bottom:medium dashed #d9d9d9;z-index:2}.saving-dot[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:-100px;color:#7f7f7f;text-decoration:underline}.protection-dot[_ngcontent-%COMP%]{position:absolute;bottom:20px;width:100%;border-bottom:medium dashed #d9d9d9;z-index:2}.protection-dot[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:-100px;color:#7f7f7f;text-decoration:underline}.progress[_ngcontent-%COMP%]{top:10px;left:69%;width:15%;height:55%;position:absolute;overflow:hidden;background-color:transparent;border-radius:0!important}.progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;position:absolute;bottom:0;width:100%}.sub-progress[_ngcontent-%COMP%]{background-color:#d6185e;animation:progressBar1 1s ease-in-out;animation-fill-mode:forwards}@keyframes progressBar1{0%{height:0}to{height:100%}}.text-rotate[_ngcontent-%COMP%]{color:#fff;position:relative;top:45%;transform:rotate(90deg)}.saving-border[_ngcontent-%COMP%]{width:1px;height:90%;background:#d9d9d9;position:absolute;right:0;top:8px}.btn-next[_ngcontent-%COMP%]{width:100%;overflow:hidden;margin:47px 0 0}.btn-next[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:600px;margin:0 auto;overflow:hidden}.btn-next[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:220px;float:left}.btn-next[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){float:right}.inactive-freedon-left[_ngcontent-%COMP%]{background-color:#cac9ca!important;opacity:.7;width:100%;height:100%}.inactive-freedon-right[_ngcontent-%COMP%]{background-color:#cac9ca!important;opacity:.3;width:100%;height:100%}.red[_ngcontent-%COMP%]{background:red}.investment-1[_ngcontent-%COMP%]{text-align:center;width:22%;margin:0 auto;height:25px;left:6px;transform:skew(60deg);position:relative}.investment-1[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{transform:skew(-60deg);color:#fff;font-size:10px;margin:0}.bg-protection[_ngcontent-%COMP%]{background:#ff8100!important;height:100%;width:100%}.bg-saving[_ngcontent-%COMP%]{background:#ffd300!important;height:100%;width:100%}.bg-freedom[_ngcontent-%COMP%]{background:#00acea!important;height:100%;width:100%}.lpp-icon[_ngcontent-%COMP%]{width:100%;position:absolute;top:40px;text-align:center}.lpp-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:35px;min-width:25px;position:relative}.lpp-icon[_ngcontent-%COMP%]   .education[_ngcontent-%COMP%]{left:13%;top:-7px}.lpp-icon[_ngcontent-%COMP%]   .retirement-img[_ngcontent-%COMP%]{right:13%;top:-7px}.lpp-icon[_ngcontent-%COMP%]   .income[_ngcontent-%COMP%]{left:15%;top:4px}.lpp-icon[_ngcontent-%COMP%]   .health[_ngcontent-%COMP%]{top:4px}.lpp-icon[_ngcontent-%COMP%]   .assets[_ngcontent-%COMP%]{right:16%;top:4px}.lpp-icon[_ngcontent-%COMP%]   .freedom[_ngcontent-%COMP%]{top:5px}.chart[_ngcontent-%COMP%]{position:relative;margin:0 auto}@media screen and (min-width: 320px) and (max-width: 460px){.chart[_ngcontent-%COMP%]{width:265px}.chart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:25px;max-width:25px}.chart[_ngcontent-%COMP%]   .investment[_ngcontent-%COMP%]{height:90px}.chart[_ngcontent-%COMP%]   .investment[_ngcontent-%COMP%]   .lpp-icon[_ngcontent-%COMP%]{top:28px}.chart[_ngcontent-%COMP%]   .investment[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:65px;font-size:10px}.chart[_ngcontent-%COMP%]   .saving[_ngcontent-%COMP%]{height:90px}.chart[_ngcontent-%COMP%]   .saving[_ngcontent-%COMP%]   .lpp-icon[_ngcontent-%COMP%]{top:28px}.chart[_ngcontent-%COMP%]   .saving[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:60px;font-size:10px}.chart[_ngcontent-%COMP%]   .protection[_ngcontent-%COMP%]{height:90px}.chart[_ngcontent-%COMP%]   .protection[_ngcontent-%COMP%]   .lpp-icon[_ngcontent-%COMP%]{top:28px}.chart[_ngcontent-%COMP%]   .protection[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:65px;font-size:10px}.chart[_ngcontent-%COMP%]   .investment-1[_ngcontent-%COMP%]{height:20px;width:23%}.chart[_ngcontent-%COMP%]   .investment-1[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:9px;line-height:20px}.chart[_ngcontent-%COMP%]   .button-saving[_ngcontent-%COMP%]{width:59%}.chart[_ngcontent-%COMP%]   .button-protection[_ngcontent-%COMP%]{width:90%;left:0px}.left-border[_ngcontent-%COMP%]{transform:skew(-23deg);width:60px;height:312px;left:5px;bottom:18px}.right-border[_ngcontent-%COMP%]{transform:skew(23deg);width:60px;height:312px;right:5px;bottom:18px}}@media screen and (min-width: 461px) and (max-width: 680px){.chart[_ngcontent-%COMP%]{width:395px}.chart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:25px;max-width:25px}.chart[_ngcontent-%COMP%]   .investment[_ngcontent-%COMP%]{height:100px}.chart[_ngcontent-%COMP%]   .investment[_ngcontent-%COMP%]   .lpp-icon[_ngcontent-%COMP%]{top:27px}.chart[_ngcontent-%COMP%]   .investment[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:70px;font-size:12px}.chart[_ngcontent-%COMP%]   .saving[_ngcontent-%COMP%]{height:100px}.chart[_ngcontent-%COMP%]   .saving[_ngcontent-%COMP%]   .lpp-icon[_ngcontent-%COMP%]{top:27px}.chart[_ngcontent-%COMP%]   .saving[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:70px;font-size:12px}.chart[_ngcontent-%COMP%]   .protection[_ngcontent-%COMP%]{height:100px}.chart[_ngcontent-%COMP%]   .protection[_ngcontent-%COMP%]   .lpp-icon[_ngcontent-%COMP%]{top:27px}.chart[_ngcontent-%COMP%]   .protection[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:70px;font-size:12px}.chart[_ngcontent-%COMP%]   .investment-1[_ngcontent-%COMP%]{height:20px;width:23%}.chart[_ngcontent-%COMP%]   .button-saving[_ngcontent-%COMP%]{width:59%}.chart[_ngcontent-%COMP%]   .button-protection[_ngcontent-%COMP%]{width:90%;left:0px}.left-border[_ngcontent-%COMP%]{transform:skew(-30deg);width:75px;height:350px;left:25px;bottom:18px}.right-border[_ngcontent-%COMP%]{transform:skew(30deg);width:75px;height:350px;right:25px;bottom:18px}}@media screen and (min-width: 681px) and (max-width: 780px){.chart[_ngcontent-%COMP%]{width:430px}.chart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:30px;max-width:30px}.chart[_ngcontent-%COMP%]   .investment[_ngcontent-%COMP%]{height:110px}.chart[_ngcontent-%COMP%]   .investment[_ngcontent-%COMP%]   .lpp-icon[_ngcontent-%COMP%]{top:32px}.chart[_ngcontent-%COMP%]   .investment[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:77px;font-size:12px}.chart[_ngcontent-%COMP%]   .saving[_ngcontent-%COMP%]{height:110px}.chart[_ngcontent-%COMP%]   .saving[_ngcontent-%COMP%]   .lpp-icon[_ngcontent-%COMP%]{top:32px}.chart[_ngcontent-%COMP%]   .saving[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:70px;font-size:12px}.chart[_ngcontent-%COMP%]   .protection[_ngcontent-%COMP%]{height:110px}.chart[_ngcontent-%COMP%]   .protection[_ngcontent-%COMP%]   .lpp-icon[_ngcontent-%COMP%]{top:32px}.chart[_ngcontent-%COMP%]   .protection[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:77px;font-size:12px}.chart[_ngcontent-%COMP%]   .investment-1[_ngcontent-%COMP%]{height:20px;width:23%}.chart[_ngcontent-%COMP%]   .investment-1[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{line-height:20px;display:block}.chart[_ngcontent-%COMP%]   .button-saving[_ngcontent-%COMP%]{width:59%}.chart[_ngcontent-%COMP%]   .button-protection[_ngcontent-%COMP%]{width:90%;left:-2px}.left-border[_ngcontent-%COMP%]{transform:skew(-30deg);width:85px;height:380px;left:25px;bottom:18px}.right-border[_ngcontent-%COMP%]{transform:skew(30deg);width:85px;height:380px;right:25px;bottom:18px}}@media screen and (min-width: 781px) and (max-width: 1060px){.chart[_ngcontent-%COMP%]{width:430px}.chart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:30px;max-width:30px}.chart[_ngcontent-%COMP%]   .investment[_ngcontent-%COMP%]{height:110px}.chart[_ngcontent-%COMP%]   .investment[_ngcontent-%COMP%]   .lpp-icon[_ngcontent-%COMP%]{top:32px}.chart[_ngcontent-%COMP%]   .investment[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:77px;font-size:12px}.chart[_ngcontent-%COMP%]   .saving[_ngcontent-%COMP%]{height:110px}.chart[_ngcontent-%COMP%]   .saving[_ngcontent-%COMP%]   .lpp-icon[_ngcontent-%COMP%]{top:32px}.chart[_ngcontent-%COMP%]   .saving[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:70px;font-size:12px}.chart[_ngcontent-%COMP%]   .protection[_ngcontent-%COMP%]{height:110px}.chart[_ngcontent-%COMP%]   .protection[_ngcontent-%COMP%]   .lpp-icon[_ngcontent-%COMP%]{top:32px}.chart[_ngcontent-%COMP%]   .protection[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:77px;font-size:12px}.chart[_ngcontent-%COMP%]   .investment-1[_ngcontent-%COMP%]{height:20px;width:23%}.chart[_ngcontent-%COMP%]   .investment-1[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{line-height:20px;display:block}.chart[_ngcontent-%COMP%]   .button-saving[_ngcontent-%COMP%]{width:59%}.chart[_ngcontent-%COMP%]   .button-protection[_ngcontent-%COMP%]{width:90%;left:-2px}.left-border[_ngcontent-%COMP%]{transform:skew(-30deg);width:85px;height:380px;left:25px;bottom:18px}.right-border[_ngcontent-%COMP%]{transform:skew(30deg);width:85px;height:380px;right:25px;bottom:18px}}@media screen and (min-width: 1061px){.chart[_ngcontent-%COMP%]{width:500px}.chart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:35px;max-width:35px}.chart[_ngcontent-%COMP%]   .investment[_ngcontent-%COMP%]{height:115px}.chart[_ngcontent-%COMP%]   .investment[_ngcontent-%COMP%]   .lpp-icon[_ngcontent-%COMP%]{top:32px}.chart[_ngcontent-%COMP%]   .investment[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:81px;font-size:12px}.chart[_ngcontent-%COMP%]   .saving[_ngcontent-%COMP%]{height:115px}.chart[_ngcontent-%COMP%]   .saving[_ngcontent-%COMP%]   .lpp-icon[_ngcontent-%COMP%]{top:32px}.chart[_ngcontent-%COMP%]   .saving[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:75px;font-size:12px}.chart[_ngcontent-%COMP%]   .protection[_ngcontent-%COMP%]{height:115px}.chart[_ngcontent-%COMP%]   .protection[_ngcontent-%COMP%]   .lpp-icon[_ngcontent-%COMP%]{top:32px}.chart[_ngcontent-%COMP%]   .protection[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:81px;font-size:12px}.chart[_ngcontent-%COMP%]   .investment-1[_ngcontent-%COMP%]{height:25px;width:23%}.chart[_ngcontent-%COMP%]   .investment-1[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;line-height:25px;display:block}.chart[_ngcontent-%COMP%]   .button-saving[_ngcontent-%COMP%]{width:59%}.chart[_ngcontent-%COMP%]   .button-protection[_ngcontent-%COMP%]{width:90%;left:0px}.left-border[_ngcontent-%COMP%]{transform:skew(-32deg);width:90px;height:405px;left:35px;bottom:18px}.right-border[_ngcontent-%COMP%]{transform:skew(32deg);width:90px;height:405px;right:35px;bottom:18px}}button[_ngcontent-%COMP%]{color:#fff}button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0}.next-btn[_ngcontent-%COMP%]{overflow:hidden;margin:47px 0 0}.fna-segment[_ngcontent-%COMP%]{width:80%;margin:0 auto;overflow:hidden}.fna-segment[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:49%;color:#fff}.fna-segment[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{float:right}@media screen and (min-width: 320px) and (max-width: 460px){.chart-grid[_ngcontent-%COMP%]{width:100%;padding:0!important}.fna-segment[_ngcontent-%COMP%]{width:100%}}@media screen and (min-width: 461px) and (max-width: 680px){.fna-segment[_ngcontent-%COMP%]{width:100%}}"]}),o})();var ut=c(28100),dt=c(82997),ht=c(72835),O=c(18260),D=c(91691),N=c(44522);const L=`${O.N.apiUrl}/fna`;let pt=(()=>{class o extends D.i{constructor(e){super(e,L),this.httpClient=e}getAllAsset(e){return this.httpClient.get(L+"/"+e+"/asset")}saveAsset(e){return this.httpClient.post(L+"/asset",e)}deleteAssetById(e){return this.httpClient.delete(L+"/asset/"+e)}updateAsset(e){return this.httpClient.put(L+"/asset/",e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(N.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var k=c(60940),mt=c(35618),ft=c(27738);function gt(o,r){if(1&o&&t._UZ(0,"img",10),2&o){const e=t.oxw().$implicit;t.Q6J("src",e.productImage,t.LSH)}}function _t(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",5),t.TgZ(1,"div",6),t.YNc(2,gt,1,1,"img",7),t.qZA(),t.TgZ(3,"label",8),t._uU(4),t.qZA(),t.TgZ(5,"button",9),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().display(s)}),t.TgZ(6,"label"),t._uU(7,"Get Quote"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=r.$implicit;t.xp6(2),t.Q6J("ngIf",e.productImage),t.xp6(2),t.Oqu(e.name)}}const $=function(o){return{"background-color":o}};let vt=(()=>{class o{constructor(e,n,i,s,u,G){this.fnaService=e,this.fnaProductService=n,this.alertService=i,this.prodctService=s,this.customerService=u,this.router=G,this.product=null,this.fnaId=null,this.customerId=null,this.passValue={},this.changeProduct=new t.vpe,this.productSwitch="product",this.Default_DOWNLOAD_URL=`${O.N.apiUrl}/attachment-downloader`,this.fnaProducts=[],this.products=[]}ngOnInit(){if(this.fnaService.fnaProduct){this.fnaProducts=this.fnaService.fnaProduct;for(var e=0;e<this.fnaProducts.length;e++)this.fnaProducts[e].icon&&(this.fnaProducts[e].productImage=this.Default_DOWNLOAD_URL+"/"+this.fnaProducts[e].icon)}this.fnaService.fnaUpdateProducts&&(this.products=this.fnaService.fnaUpdateProducts)}previous(e){this.changeProduct.emit(e)}saveProduct(e){return(0,d.mG)(this,void 0,void 0,function*(){this.productSwitch=e,this.products=this.removeDuplicates(this.products),this.fnaService.fnaUpdateProducts.concat(this.products);let n={customerId:this.customerId,fnaType:"LPP",grandDiscount:0,highDiscount:0,id:this.fnaId,products:this.products};yield this.fnaService.updateFNAProduct(n).toPromise().then(i=>{i&&this.alertService.activate("This record was updated","Success Message").then(s=>{this.previous("aboutLLP")})})})}removeDuplicates(e){let i=new Set(e).values();return Array.from(i)}display(e){(0,ut.D)([this.prodctService.findOne(e.id),this.customerService.findOne(this.customerId||1).pipe((0,ht.K)(n=>(0,dt.of)(void 0)))]).toPromise().then(n=>{n&&(this.prodctService.createingProd=n[0],this.prodctService.creatingCustomer=n[1],this.prodctService.type="CLFR01"==n[0].code||"PLMO02"==n[0].code||"PLTR01"==n[0].code?"policy":"quotation",this.prodctService.viewType="CLFR01"==n[0].code||"PLMO02"==n[0].code||"PLTR01"==n[0].code?"policy":"quotation",this.prodctService.referenceID=null,this.prodctService.creatingLeadId=this.passValue.leadId,this.router.navigateByUrl("/product-form"))})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A.T),t.Y36(pt),t.Y36(k.c),t.Y36(mt.f),t.Y36(ft.v),t.Y36(f.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-analysis"]],inputs:{product:"product",fnaId:"fnaId",customerId:"customerId",passValue:"passValue"},outputs:{changeProduct:"changeProduct"},decls:11,vars:7,consts:[[1,"product-grid"],[1,"card-label","left-border-image",2,"margin","24px 0"],["class","products col-12",4,"ngFor","ngForOf"],[1,"btn-group","col-12"],["type","button",1,"btn",3,"ngStyle","click"],[1,"products","col-12"],[1,"col-2",2,"float","left","padding","0","width","60px","height","60px","position","relative","top","-10px"],["style","width: 100%; height: 100%;","title","","alt","",3,"src",4,"ngIf"],[1,"col-6"],["type","button",1,"btn","btn-primary","btn-elevate",3,"click"],["title","","alt","",2,"width","100%","height","100%",3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h3",1),t._uU(2,"Recommended"),t.qZA(),t.YNc(3,_t,8,2,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"button",4),t.NdJ("click",function(){return n.previous("aboutLLP")}),t.TgZ(6,"label"),t._uU(7,"Previous"),t.qZA(),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return n.saveProduct("save")}),t.TgZ(9,"label"),t._uU(10,"Save"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngForOf",n.fnaProducts),t.xp6(2),t.Q6J("ngStyle",t.VKq(3,$,"product"===n.productSwitch?"#005f99":"#A6A6A6")),t.xp6(3),t.Q6J("ngStyle",t.VKq(5,$,"save"===n.productSwitch?"#005f99":"#A6A6A6")))},directives:[h.sg,h.PC,h.O5],styles:[".products[_ngcontent-%COMP%]{margin-bottom:40px}button[_ngcontent-%COMP%]{color:#fff}button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0}"]}),o})();var tt,H=c(92070),E=c(53489),x=c(25674);tt||(tt={});class S{}const At=[{age:18,nine:16,eleven:11,fourteen:7.5},{age:19,nine:16,eleven:11,fourteen:7.5},{age:20,nine:16.1,eleven:11,fourteen:7.5},{age:21,nine:16.1,eleven:11.1,fourteen:7.6},{age:22,nine:16.1,eleven:11.1,fourteen:7.6},{age:23,nine:16.2,eleven:11.1,fourteen:7.6},{age:24,nine:16.3,eleven:11.3,fourteen:7.8},{age:25,nine:16.4,eleven:11.3,fourteen:7.8},{age:26,nine:16.4,eleven:11.4,fourteen:7.9},{age:27,nine:16.5,eleven:11.4,fourteen:7.9},{age:28,nine:16.5,eleven:11.5,fourteen:8},{age:29,nine:16.7,eleven:11.5,fourteen:8},{age:30,nine:16.8,eleven:11.7,fourteen:8.2},{age:31,nine:16.8,eleven:11.7,fourteen:8.2},{age:32,nine:16.9,eleven:11.8,fourteen:8.3},{age:33,nine:16.9,eleven:11.8,fourteen:8.3},{age:34,nine:17.1,eleven:12,fourteen:8.5},{age:35,nine:17.2,eleven:12.1,fourteen:8.5},{age:36,nine:17.2,eleven:12.1,fourteen:8.6},{age:37,nine:17.3,eleven:12.3,fourteen:8.6},{age:38,nine:17.4,eleven:12.4,fourteen:8.8},{age:39,nine:17.5,eleven:12.5,fourteen:8.8},{age:40,nine:17.6,eleven:12.5,fourteen:8.9},{age:41,nine:17.6,eleven:12.6,fourteen:9},{age:42,nine:17.8,eleven:12.8,fourteen:9.1},{age:43,nine:17.9,eleven:12.9,fourteen:9.2},{age:44,nine:18,eleven:13,fourteen:9.3},{age:45,nine:18.2,eleven:13.2,fourteen:9.5},{age:46,nine:18.3,eleven:13.3,fourteen:9.7},{age:47,nine:18.6,eleven:13.5,fourteen:9.9},{age:48,nine:18.7,eleven:13.7,fourteen:10.2},{age:49,nine:19,eleven:13.9,fourteen:10.4},{age:50,nine:19.2,eleven:14.2,fourteen:10.7},{age:51,nine:19.5,eleven:14.5,fourteen:11},{age:52,nine:19.8,eleven:14.8,fourteen:0},{age:53,nine:20.2,eleven:15.2,fourteen:0},{age:54,nine:20.6,eleven:15.6,fourteen:0},{age:55,nine:21.1,eleven:0,fourteen:0},{age:56,nine:21.6,eleven:0,fourteen:0}],Y=`${O.N.apiUrl}/fna`;let xt=(()=>{class o extends D.i{constructor(e){super(e,Y),this.httpClient=e}getAllEducation(e){return this.httpClient.get(Y+"/"+e+"/education")}saveEducation(e){return this.httpClient.post(Y+"/education",e)}deleteDeleteById(e){return this.httpClient.delete(Y+"/education/"+e)}updateEducation(e){return this.httpClient.put(Y+"/education",e)}getFNAEducationPremiumRate(e,n){let s,i=[];return i=At.filter(u=>u.age==e),9==n&&(s=i[0].nine),11==n&&(s=i[0].eleven),14==n&&(s=i[0].fourteen),s}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(N.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var P=c(78480),K=c(86031),q=c(55167);function Zt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"a",31),t.NdJ("click",function(){return t.CHM(e),t.oxw().deleteDeleteById()}),t._uU(1,"Delete"),t.qZA()}}function Ct(o,r){1&o&&(t.TgZ(0,"div",32),t._uU(1,"Sum Assured must be between 5000000 and 100000000"),t.qZA())}function yt(o,r){1&o&&(t.TgZ(0,"div",32),t._uU(1,"Customer age must be between 18 and 56 years"),t.qZA())}function It(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){return t.CHM(e),t.oxw().viewAll()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"FORM.view_all")))}function Mt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){return t.CHM(e),t.oxw().backToStartAction()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"FORM.back_main_page")))}function bt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){return t.CHM(e),t.oxw().backAction()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"FORM.btn_back")))}function Tt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){return t.CHM(e),t.oxw().addChild("add")}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",!e.formGroup.value.id),t.xp6(1),t.Oqu(t.lcZ(2,2,"FORM.add_child"))}}function Ot(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().addChild("next")}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",!e.formGroup.value.id),t.xp6(1),t.Oqu(t.lcZ(2,2,"FORM.btn_next"))}}let St=(()=>{class o{constructor(e,n,i,s,u){this.fb=e,this.cdf=n,this.fnaService=i,this.fnaEducationService=s,this.alertService=u,this.education=null,this.fnaId=null,this.customerId=null,this.changeAnalysis=new t.vpe,this.selectedIndex=0,this.educationDto=new S,this.educations=new Array,this.healths=new Array,this.selectedIndexId=0,this.products=[],this.fromMinDate=null,this.fromMaxDate=new Date,this.nextCount=0}ngOnInit(){this.education=new S,this.healths=[],this.educations=[],this.loadForm(),this.fnaService.fnaHealths&&(this.healths=this.fnaService.fnaHealths),this.fnaService.fnaHealths&&(this.healths.splice(0,1),this.healths.splice(0,1)),this.educations=this.fnaService.fnaEducations,x.k.FNA_DETAIL_LIST=this.educations,this.educations.length>0&&(this.healths=[]),this.getAllEducation(),this.fnaService.fnaUpdateProducts&&(this.products=this.fnaService.fnaUpdateProducts),this.checkNextChild()}backAction(){0==this.selectedIndex?this.changeAnalysis.emit("aboutLLP"):(this.selectedIndex--,this.setEducation(this.educations[this.selectedIndex])),this.checkNextChild()}loadForm(){this.formGroup=new a.cw({childName:new a.NI(this.educationDto.childName),createdAt:new a.NI(this.educationDto.createdAt),dateOfBirth:new a.NI(this.educationDto.dateOfBirth,[a.kI.required,a.kI.nullValidator]),educationExpense:new a.NI(this.educationDto.educationExpense,[a.kI.required,a.kI.nullValidator]),fnaId:new a.NI(this.educationDto.fnaId),highEducation:new a.NI(this.educationDto.highEducation),id:new a.NI(this.educationDto.id),sumAssured:new a.NI(this.educationDto.sumAssured||null,[a.kI.required,a.kI.nullValidator]),updatedAt:new a.NI(this.educationDto.updatedAt)}),this.formGroup.controls.fnaId.setValue(this.fnaId),this.cdf.detectChanges()}isControlValid(e){const n=this.formGroup.controls[e];return n.valid&&(n.dirty||n.touched)}isControlInvalid(e){const n=this.formGroup.controls[e];return n.invalid&&(n.dirty||n.touched)}saveEducation(){return(0,d.mG)(this,void 0,void 0,function*(){let e=!1;this.formGroup.invalid?(0,E.w)(this.formGroup):(this.formGroup.value.id?yield this.fnaEducationService.updateEducation(this.getEducation()).toPromise().then(i=>{i&&(e=!1,this.educations[this.selectedIndex]=this.getEducation(),this.alertService.activate("This record was updated","Success Message"))}):yield this.fnaEducationService.saveEducation(this.getEducation()).toPromise().then(i=>(0,d.mG)(this,void 0,void 0,function*(){if(i){if(e=!0,this.educations[this.selectedIndex]=this.getEducation(),this.educations[this.selectedIndex].id=i,this.selectedIndexId=i,0==this.selectedIndex){this.products.push.apply(this.products,this.fnaService.getFNAProduct("Education","")),this.products=this.removeDuplicates(this.products),this.fnaService.fnaUpdateProducts.concat(this.products);let s={customerId:this.customerId,fnaType:"LPP",grandDiscount:0,highDiscount:0,id:this.fnaId,products:this.products};yield this.fnaService.updateFNAProduct(s).toPromise().then(u=>{})}this.alertService.activate("This record was created","Success Message")}})),this.education=new S,this.loadForm(),this.educations[this.selectedIndex]&&this.setEducation(this.educations[this.selectedIndex]),this.checkNextChild(),x.k.FNA_DETAIL_LIST=this.educations)})}removeDuplicates(e){let i=new Set(e).values();return Array.from(i)}getAllEducation(){this.educations.length>0?0==this.selectedIndex?this.setEducation(this.educations[0]):(this.education=this.educations[this.selectedIndex],this.education?(this.setEducation(this.educations[this.selectedIndex]),this.cdf.detectChanges()):(this.education=new S,this.loadForm())):(this.education=new S,this.loadForm()),this.educations.length<this.healths.length&&(this.formGroup.controls.childName.setValue(this.healths[this.selectedIndex].name),this.formGroup.controls.dateOfBirth.setValue(this.healths[this.selectedIndex].dateOfBirth?this.formatDateYYYYMMDD(this.healths[this.selectedIndex].dateOfBirth):null))}formatDateYYYYMMDD(e){var n=new Date(e.split("/").reverse().join("/")),i=""+(n.getMonth()+1),s=""+n.getDate(),u=n.getFullYear();return i.length<2&&(i="0"+i),s.length<2&&(s="0"+s),[u,i,s].join("-")}formatDateDDMMYYY(e){var n=new Date(e),i=""+(n.getMonth()+1),s=""+n.getDate(),u=n.getFullYear();return i.length<2&&(i="0"+i),s.length<2&&(s="0"+s),[s,i,u].join("/")}getEducation(){let e=null;this.formGroup.value.dateOfBirth&&(e=this.formatDateYYYYMMDD(this.formGroup.value.dateOfBirth));let n=null;this.formGroup.value.educationExpense&&(n=Number(this.formGroup.value.educationExpense.replace(/,/g,"")));let i=0;return this.formGroup.value.sumAssured&&(i=Number(this.formGroup.value.sumAssured.replace(/,/g,""))),{childName:this.formGroup.value.childName,createdAt:this.formGroup.value.createdAt,dateOfBirth:e,educationExpense:Number(n),fnaId:this.formGroup.value.fnaId,highEducation:this.formGroup.value.highEducation,id:this.formGroup.value.id,sumAssured:Number(i),updatedAt:this.formGroup.value.updatedAt}}setEducation(e){let n=null;n=null!=e.dateOfBirth?this.formatDateYYYYMMDD(e.dateOfBirth):null,0==e.educationExpense&&(e.educationExpense=null),this.selectedIndexId=e.id?e.id:0,this.formGroup.controls.childName.setValue(e.childName),this.formGroup.controls.dateOfBirth.setValue(n),this.formGroup.controls.educationExpense.setValue(e.educationExpense?this.fnaService.mathRoundTo(e.educationExpense,2):null),this.formGroup.controls.fnaId.setValue(e.fnaId),this.formGroup.controls.highEducation.setValue(e.highEducation),this.formGroup.controls.id.setValue(e.id),this.formGroup.controls.sumAssured.setValue(e.sumAssured?this.fnaService.mathRoundTo(e.sumAssured,2):null)}deleteDeleteById(){return(0,d.mG)(this,void 0,void 0,function*(){this.alertService.activate("Are you sure want to delete?","Warning Message").then(e=>(0,d.mG)(this,void 0,void 0,function*(){e&&(this.educations.length<this.healths.length&&(delete this.healths[this.selectedIndex],this.formGroup.controls.dateOfBirth.setValue(""),this.formGroup.controls.childName.setValue("")),0!=this.selectedIndexId&&this.educations.length>1&&(yield this.fnaEducationService.deleteDeleteById(this.selectedIndexId).toPromise().then(n=>{n&&(this.educations=this.educations.filter(s=>s.id!==this.selectedIndexId),this.education=new S,this.loadForm(),this.educations[this.selectedIndex]?(this.educations[this.selectedIndex].dateOfBirth=this.formatDateYYYYMMDD(this.educations[this.selectedIndex].dateOfBirth),this.setEducation(this.educations[this.selectedIndex]),this.selectedIndexId=this.educations[this.selectedIndex].id):this.selectedIndexId=0)})),this.checkNextChild(),x.k.FNA_DETAIL_LIST=this.educations)}))})}updateCommaInput(e,n){var i=this.fnaService.getNumber(e.target.value);0==i?("sumAssured"==n&&(this.formGroup.controls.sumAssured.setValue(""),this.formGroup.controls.educationExpense.setValue("")),"educationExpense"==n&&this.formGroup.controls.educationExpense.setValue("")):("sumAssured"==n&&this.formGroup.controls.sumAssured.setValue(i.toLocaleString()),"educationExpense"==n&&this.formGroup.controls.educationExpense.setValue(i.toLocaleString()))}backToStartAction(){this.changeAnalysis.emit("aboutLLP")}viewAll(){this.educations.length>0&&this.fnaService.openModal("Education")}addChild(e){this.education=new S,this.loadForm(),this.selectedIndex++,this.educations[this.selectedIndex]&&this.setEducation(this.educations[this.selectedIndex]),this.educations.length<this.healths.length&&(this.formGroup.controls.childName.setValue(this.healths[this.selectedIndex].name),this.formGroup.controls.dateOfBirth.setValue(this.healths[this.selectedIndex].dateOfBirth?this.formatDateYYYYMMDD(this.healths[this.selectedIndex].dateOfBirth):null)),"add"==e&&(this.selectedIndexId=0)}doValid(){if(this.formGroup.controls.dateOfBirth.value){let n=H(this.formGroup.controls.dateOfBirth.value).add(0,"years");this.toMaxDate={year:parseInt(n.format("YYYY")),month:parseInt(n.format("M")),day:parseInt(n.format("D"))},this.formGroup.controls.dateOfBirth.setValue(n.format("YYYY-MM-DD")),this.calculateEducationExpense(this.formGroup.value.sumAssured)}}clearDOB(){this.formGroup.controls.dateOfBirth.setValue(null),this.formGroup.controls.educationExpense.setValue(null),this.formGroup.controls.sumAssured.setValue(null)}calculateEducationExpense(e){if(e){let n=Number(e.replace(/,/g,""));if(n<5e6||n>1e8)return this.isSumAssured=!0,this.isCustomerAge=!1,this.formGroup.controls.educationExpense.setValue(null),!1;{this.isSumAssured=!1;let i=0,s=this.calculate_age(new Date(this.formGroup.value.dateOfBirth.split("/").reverse().join("/"))),u=18;if(u<18||u>56)this.isCustomerAge=!0;else{this.isCustomerAge=!1,s<9&&(i=14),s>8&&s<12&&(i=11),s>11&&(i=9);let G=this.fnaEducationService.getFNAEducationPremiumRate(u,i);this.formGroup.controls.educationExpense.setValue(this.fnaService.mathRoundTo(G*(n/1e3)*12,2))}}}}calculate_age(e){var n=Date.now()-e.getTime(),i=new Date(n);return Math.abs(i.getUTCFullYear()-1970)}checkNextChild(){this.nextCount=this.educations.length}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.qu),t.Y36(t.sBO),t.Y36(A.T),t.Y36(xt),t.Y36(k.c))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-education"]],inputs:{education:"education",fnaId:"fnaId",customerId:"customerId"},outputs:{changeAnalysis:"changeAnalysis"},decls:84,vars:44,consts:[["action","#",1,"form",3,"formGroup"],[1,"card-label","left-border-image"],[1,"row"],[1,"form-group"],[1,"col-12",2,"padding-left","26px","margin","0 0 10px 0"],[1,"col-4","sub-title"],["class","col-1 delete",3,"click",4,"ngIf"],[1,"col-4"],[1,"form-label"],[1,"col-8"],["type","text","name","actualDateStr","autocomplete","off","formControlName","childName",1,"form-control","form-control-sm"],[1,"col-6"],[1,"input-group"],["type","text","readonly","","formControlName","dateOfBirth","autocomplete","off",1,"form-control","form-control-sm","date-input",3,"min","max","matDatepicker","dateChange"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],[1,"col-2",2,"padding","0"],["type","button",1,"btn","btn-primary","btn-elevate","mx-2",2,"width","auto","float","left","margin","0 !important",3,"click"],["formControlName","highEducation"],["value","bachelor",1,"example-margin"],["value","master",1,"example-margin"],["type","text","name","sumAssured","autocomplete","off","formControlName","sumAssured",1,"form-control","form-control-sm",3,"readonly","keyup","ngModelChange"],["class","error-message",4,"ngIf"],["type","text","readonly","","name","educationExpense","autocomplete","off","formControlName","educationExpense",1,"form-control","form-control-sm"],[1,"btn-about"],["type","button","class","btn btn-primary btn-elevate mx-2","style","margin-bottom: 10px;",3,"click",4,"ngIf"],["type","button","class","btn btn-primary btn-elevate mx-2","style","width: auto; margin-bottom: 10px;",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-elevate","mx-2",2,"margin-bottom","10px",3,"click"],["type","button","class","btn btn-primary btn-elevate mx-2","style","width: auto; margin-bottom: 10px;",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary btn-elevate mx-2","style","margin-bottom: 10px;",3,"disabled","click",4,"ngIf"],[1,"col-1","delete",3,"click"],[1,"error-message"],["type","button",1,"btn","btn-primary","btn-elevate","mx-2",2,"width","auto","margin-bottom","10px",3,"click"],["type","button",1,"btn","btn-primary","btn-elevate","mx-2",2,"width","auto","margin-bottom","10px",3,"disabled","click"],["type","button",1,"btn","btn-primary","btn-elevate","mx-2",2,"margin-bottom","10px",3,"disabled","click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"form",0),t.TgZ(2,"h3",1),t._uU(3,"Education Savings"),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t._uU(7,"Information on children's age and university years collected earlier"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",2),t.TgZ(9,"h4",5),t._uU(10),t.qZA(),t.YNc(11,Zt,2,0,"a",6),t.qZA(),t.TgZ(12,"div",2),t.TgZ(13,"div",7),t.TgZ(14,"div",3),t.TgZ(15,"label",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.TgZ(19,"div",3),t._UZ(20,"input",10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",2),t.TgZ(22,"div",7),t.TgZ(23,"div",3),t.TgZ(24,"label",8),t._uU(25),t.ALo(26,"translate"),t.TgZ(27,"span"),t._uU(28,"*"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"div",11),t.TgZ(30,"div",3),t.TgZ(31,"div",12),t.TgZ(32,"input",13),t.NdJ("dateChange",function(){return n.doValid()}),t.qZA(),t._UZ(33,"mat-datepicker-toggle",14),t._UZ(34,"mat-datepicker",15,16),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",17),t.TgZ(37,"button",18),t.NdJ("click",function(){return n.clearDOB()}),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"div",2),t.TgZ(41,"div",7),t.TgZ(42,"div",3),t.TgZ(43,"label",8),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(46,"div",9),t.TgZ(47,"div",3),t.TgZ(48,"mat-radio-group",19),t.TgZ(49,"mat-radio-button",20),t._uU(50,"Bachelor"),t.qZA(),t.TgZ(51,"mat-radio-button",21),t._uU(52,"Master"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(53,"div",2),t.TgZ(54,"div",7),t.TgZ(55,"div",3),t.TgZ(56,"label",8),t._uU(57),t.ALo(58,"translate"),t.TgZ(59,"span"),t._uU(60,"*"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(61,"div",9),t.TgZ(62,"div",3),t.TgZ(63,"input",22),t.NdJ("keyup",function(s){return n.updateCommaInput(s,"sumAssured")})("ngModelChange",function(s){return n.calculateEducationExpense(s)}),t.qZA(),t.qZA(),t.YNc(64,Ct,2,0,"div",23),t.YNc(65,yt,2,0,"div",23),t.qZA(),t.qZA(),t.TgZ(66,"div",2),t.TgZ(67,"div",7),t.TgZ(68,"div",3),t.TgZ(69,"label",8),t._uU(70),t.ALo(71,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(72,"div",9),t.TgZ(73,"div",3),t._UZ(74,"input",24),t.qZA(),t.qZA(),t.qZA(),t.TgZ(75,"div",25),t.YNc(76,It,3,3,"button",26),t.YNc(77,Mt,3,3,"button",27),t.YNc(78,bt,3,3,"button",26),t.TgZ(79,"button",28),t.NdJ("click",function(){return n.saveEducation()}),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.YNc(82,Tt,3,4,"button",29),t.YNc(83,Ot,3,4,"button",30),t.qZA(),t.qZA(),t.qZA()),2&e){const i=t.MAs(35);t.xp6(1),t.Q6J("formGroup",n.formGroup),t.xp6(9),t.hij("Child ",n.selectedIndex+1,""),t.xp6(1),t.Q6J("ngIf",n.selectedIndex>0),t.xp6(5),t.Oqu(t.lcZ(17,30,"FORM.child_name")),t.xp6(9),t.hij("",t.lcZ(26,32,"FORM.date_of_birth")," "),t.xp6(7),t.ekj("is-invalid",n.isControlInvalid("dateOfBirth"))("is-valid",n.isControlValid("dateOfBirth")),t.Q6J("min",n.fromMinDate)("max",n.fromMaxDate)("matDatepicker",i),t.xp6(1),t.Q6J("for",i),t.xp6(5),t.Oqu(t.lcZ(39,34,"FORM.btn_clear")),t.xp6(6),t.Oqu(t.lcZ(45,36,"FORM.higher_education")),t.xp6(13),t.hij("",t.lcZ(58,38,"FORM.sum_insured")," "),t.xp6(6),t.ekj("is-invalid",n.isControlInvalid("sumAssured"))("is-valid",n.isControlValid("sumAssured")),t.Q6J("readonly",!n.formGroup.value.dateOfBirth),t.xp6(1),t.Q6J("ngIf",n.isSumAssured),t.xp6(1),t.Q6J("ngIf",n.isCustomerAge),t.xp6(5),t.Oqu(t.lcZ(71,40,"FORM.education_expenses")),t.xp6(6),t.Q6J("ngIf",0==n.selectedIndex&&n.educations.length>0),t.xp6(1),t.Q6J("ngIf",n.selectedIndex>=0),t.xp6(1),t.Q6J("ngIf",n.selectedIndex>0),t.xp6(2),t.Oqu(t.lcZ(81,42,"FORM.btn_save")),t.xp6(2),t.Q6J("ngIf",n.selectedIndex+1>=n.nextCount),t.xp6(1),t.Q6J("ngIf",n.selectedIndex+1<n.nextCount)}},directives:[a._Y,a.JL,a.sg,h.O5,a.Fj,a.JJ,a.u,P.hl,P.nW,K.R9,P.Mq,q.VQ,q.U0],pipes:[M.X],styles:[".btn-about[_ngcontent-%COMP%]{text-align:end;padding:0;margin-top:150px}.btn-about[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0!important}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-size:.9rem}.add-child[_ngcontent-%COMP%]{float:left}.col-4[_ngcontent-%COMP%]{padding-left:26px}.col-4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red;display:inline-block;padding:0 0 0 5px}.delete[_ngcontent-%COMP%]{margin:13px 0 0;display:inline-block;color:#005f99!important;text-decoration:underline;font-size:.9rem;min-width:70px}button[_ngcontent-%COMP%]{width:120px}.error-message[_ngcontent-%COMP%]{color:red}.sub-title[_ngcontent-%COMP%]{color:#005f99!important}"]}),o})();var et;et||(et={});class Z{constructor(){this.amountByEmployer=0,this.amountByInsurance=0,this.amountBySocialBenefit=0,this.protectionSelf=!1,this.nameSpouse="",this.amountByEmployerSpouse=0,this.amountByInsuranceSpouse=0,this.amountBySocialBenefitSpouse=0,this.protectionSpouse=!1,this.protection=!1,this.amountByEmployerSelf=0,this.amountByInsuranceSelf=0,this.amountBySocialBenefitSelf=0,this.createdAt="",this.fnaId="",this.healthType="",this.id=0,this.name="",this.updatedAt=""}}const F=`${O.N.apiUrl}/fna`;let Pt=(()=>{class o extends D.i{constructor(e){super(e,F),this.httpClient=e}saveHealth(e){return this.httpClient.post(F+"/health",e)}getAllHealth(e){return this.httpClient.get(F+"/"+e+"/health")}updateHealth(e){return this.httpClient.put(F+"/health",e)}deleteHealthById(e){return this.httpClient.delete(F+"/health/"+e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(N.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function qt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",3),t.TgZ(2,"div",4),t.TgZ(3,"div",5),t.TgZ(4,"label",9),t._uU(5,"Amount protected by insurance"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",10),t.TgZ(7,"div",5),t.TgZ(8,"input",34),t.NdJ("keyup",function(i){return t.CHM(e),t.oxw(2).updateCommaInputSelf(i,"amountByInsuranceSelf")}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",3),t.TgZ(10,"div",4),t.TgZ(11,"div",5),t.TgZ(12,"label",9),t._uU(13,"Amount protected by employer"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",10),t.TgZ(15,"div",5),t.TgZ(16,"input",35),t.NdJ("keyup",function(i){return t.CHM(e),t.oxw(2).updateCommaInputSelf(i,"amountByEmployerSelf")}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",3),t.TgZ(18,"div",4),t.TgZ(19,"div",5),t.TgZ(20,"label",9),t._uU(21,"Amount protected by social benefit"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",10),t.TgZ(23,"div",5),t.TgZ(24,"input",36),t.NdJ("keyup",function(i){return t.CHM(e),t.oxw(2).updateCommaInputSelf(i,"amountBySocialBenefitSelf")}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(8),t.ekj("is-invalid",e.isControlInvalid("amountByInsuranceSelf"))("is-valid",e.isControlValid("amountByInsuranceSelf")),t.xp6(8),t.ekj("is-invalid",e.isControlInvalid("amountByEmployerSelf"))("is-valid",e.isControlValid("amountByEmployerSelf")),t.xp6(8),t.ekj("is-invalid",e.isControlInvalid("amountBySocialBenefitSelf"))("is-valid",e.isControlValid("amountBySocialBenefitSelf"))}}function wt(o,r){if(1&o&&(t.TgZ(0,"div",29),t.TgZ(1,"div",30),t._uU(2,"We need health to work, so whatever it costs we need to protect our health"),t.qZA(),t.TgZ(3,"h4",31),t._uU(4,"Current health protection self"),t.qZA(),t.TgZ(5,"div",32),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"label",9),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",10),t.TgZ(12,"div",5),t.TgZ(13,"mat-radio-group",33),t.TgZ(14,"mat-radio-button",21),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"mat-radio-button",21),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(20,qt,25,12,"div",22),t.qZA()),2&o){const e=t.oxw();t.xp6(9),t.Oqu(t.lcZ(10,6,"FORM.with_protection")),t.xp6(5),t.Q6J("value",!0),t.xp6(1),t.hij(" ",t.lcZ(16,8,"FORM.rad_yes")," "),t.xp6(2),t.Q6J("value",!1),t.xp6(1),t.hij(" ",t.lcZ(19,10,"FORM.rad_no"),""),t.xp6(2),t.Q6J("ngIf",e.formGroup.value.protectionSelf)}}function Bt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",3),t.TgZ(2,"div",4),t.TgZ(3,"div",5),t.TgZ(4,"label",9),t._uU(5,"Amount protected by insurance"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",10),t.TgZ(7,"div",5),t.TgZ(8,"input",42),t.NdJ("keyup",function(i){return t.CHM(e),t.oxw(2).updateCommaInputSpouse(i,"amountByInsuranceSpouse")}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",3),t.TgZ(10,"div",4),t.TgZ(11,"div",5),t.TgZ(12,"label",9),t._uU(13,"Amount protected by employer"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",10),t.TgZ(15,"div",5),t.TgZ(16,"input",43),t.NdJ("keyup",function(i){return t.CHM(e),t.oxw(2).updateCommaInputSpouse(i,"amountByEmployerSpouse")}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",3),t.TgZ(18,"div",4),t.TgZ(19,"div",5),t.TgZ(20,"label",9),t._uU(21,"Amount protected by social benefit"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",10),t.TgZ(23,"div",5),t.TgZ(24,"input",44),t.NdJ("keyup",function(i){return t.CHM(e),t.oxw(2).updateCommaInputSpouse(i,"amountBySocialBenefitSpouse")}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(8),t.ekj("is-invalid",e.isControlInvalid("amountByInsuranceSpouse"))("is-valid",e.isControlValid("amountByInsuranceSpouse")),t.xp6(8),t.ekj("is-invalid",e.isControlInvalid("amountByEmployerSpouse"))("is-valid",e.isControlValid("amountByEmployerSpouse")),t.xp6(8),t.ekj("is-invalid",e.isControlInvalid("amountBySocialBenefitSpouse"))("is-valid",e.isControlValid("amountBySocialBenefitSpouse"))}}function Dt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",29),t.TgZ(1,"div",3),t.TgZ(2,"div",5),t.TgZ(3,"div",37),t._uU(4,"Current health protection Spouse"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"label",9),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",10),t.TgZ(12,"div",5),t._UZ(13,"input",38),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",3),t.TgZ(15,"div",4),t.TgZ(16,"div",5),t.TgZ(17,"label",9),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",12),t.TgZ(21,"div",5),t.TgZ(22,"div",13),t.TgZ(23,"input",39),t.NdJ("dateChange",function(){return t.CHM(e),t.oxw().doValid("dateOfBirthSpouse")}),t.qZA(),t._UZ(24,"mat-datepicker-toggle",15),t._UZ(25,"mat-datepicker",16,17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",18),t.TgZ(28,"a",19),t.NdJ("click",function(){return t.CHM(e),t.oxw().clearDOB("dateOfBirthSpouse")}),t._uU(29,"X"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",3),t.TgZ(31,"div",4),t.TgZ(32,"div",5),t.TgZ(33,"label",9),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",40),t.TgZ(37,"div",5),t.TgZ(38,"mat-radio-group",41),t.TgZ(39,"mat-radio-button",21),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"mat-radio-button",21),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(45,Bt,25,12,"div",22),t.qZA()}if(2&o){const e=t.MAs(26),n=t.oxw();t.xp6(9),t.hij(" ",t.lcZ(10,12,"FORM.name_of_spouse"),""),t.xp6(9),t.hij(" ",t.lcZ(19,14,"FORM.date_of_birth"),""),t.xp6(5),t.Q6J("min",n.fromMinDate)("max",n.fromMaxDate)("matDatepicker",e),t.xp6(1),t.Q6J("for",e),t.xp6(10),t.hij(" ",t.lcZ(35,16,"FORM.with_protection"),""),t.xp6(5),t.Q6J("value",!0),t.xp6(1),t.hij(" ",t.lcZ(41,18,"FORM.rad_yes"),""),t.xp6(2),t.Q6J("value",!1),t.xp6(1),t.hij(" ",t.lcZ(44,20,"FORM.rad_no"),""),t.xp6(2),t.Q6J("ngIf",n.formGroup.value.protectionSpouse)}}function Nt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"a",45),t.NdJ("click",function(){return t.CHM(e),t.oxw().deleteHealthById()}),t._uU(1,"Delete"),t.qZA()}}function kt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",3),t.TgZ(2,"div",4),t.TgZ(3,"div",5),t.TgZ(4,"label",9),t._uU(5,"Amount protected by insurance"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",10),t.TgZ(7,"div",5),t.TgZ(8,"input",46),t.NdJ("keyup",function(i){return t.CHM(e),t.oxw().updateCommaInputChild(i,"amountByInsurance")}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",3),t.TgZ(10,"div",4),t.TgZ(11,"div",5),t.TgZ(12,"label",9),t._uU(13,"Amount protected by employer"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",10),t.TgZ(15,"div",5),t.TgZ(16,"input",47),t.NdJ("keyup",function(i){return t.CHM(e),t.oxw().updateCommaInputChild(i,"amountByEmployer")}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",3),t.TgZ(18,"div",4),t.TgZ(19,"div",5),t.TgZ(20,"label",9),t._uU(21,"Amount protected by social benefit"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",10),t.TgZ(23,"div",5),t.TgZ(24,"input",48),t.NdJ("keyup",function(i){return t.CHM(e),t.oxw().updateCommaInputChild(i,"amountBySocialBenefit")}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(8),t.ekj("is-invalid",e.isControlInvalid("amountByInsurance"))("is-valid",e.isControlValid("amountByInsurance")),t.xp6(8),t.ekj("is-invalid",e.isControlInvalid("amountByEmployer"))("is-valid",e.isControlValid("amountByEmployer")),t.xp6(8),t.ekj("is-invalid",e.isControlInvalid("amountBySocialBenefit"))("is-valid",e.isControlValid("amountBySocialBenefit"))}}function Gt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){return t.CHM(e),t.oxw().viewAll()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"FORM.view_all")))}function Lt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",49),t.NdJ("click",function(){return t.CHM(e),t.oxw().backToStartAction()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"FORM.back_main_page")))}function Et(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){return t.CHM(e),t.oxw().backAction()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"FORM.btn_back")))}function Yt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",50),t.NdJ("click",function(){return t.CHM(e),t.oxw().addChild("add")}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",!e.formGroup.value.id),t.xp6(1),t.Oqu(t.lcZ(2,2,"FORM.add_child"))}}function Ft(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",49),t.NdJ("click",function(){return t.CHM(e),t.oxw().addChild("next")}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"FORM.btn_next")))}let Vt=(()=>{class o{constructor(e,n,i,s,u){this.fb=e,this.cdf=n,this.alertService=i,this.fnaHealthManageService=s,this.fnaService=u,this.health=null,this.fnaId=null,this.customerId=null,this.changeAnalysis=new t.vpe,this.healths=new Array,this.healthDto=new Z,this.tempChildList=new Array,this.selectedIndex=2,this.selectedIndexId=0,this.products=[],this.type="",this.fromMinDate=null,this.fromMaxDate=new Date,this.nextCount=0}ngOnInit(){this.loadForm(),this.fnaService.fnaHealths&&(this.tempChildList=this.fnaService.fnaHealths,x.k.FNA_DETAIL_LIST=this.tempChildList),this.fnaService.fnaUpdateProducts&&(this.products=this.fnaService.fnaUpdateProducts),this.getAllFNAHealth(),this.checkNextChild()}backAction(){return(0,d.mG)(this,void 0,void 0,function*(){if(2==this.selectedIndex)this.changeAnalysis.emit("aboutLLP");else if(this.selectedIndex--,this.healthDto=this.tempChildList[this.selectedIndex],2==this.selectedIndex){this.healthDto=new Z,yield this.loadForm();let e=new Z,n=new Z,i=new Z;e=this.tempChildList[0],yield this.setSelfInsurance(e),n=this.tempChildList[1],yield this.setSpouseInsurance(n),i=this.tempChildList[2],yield this.setChildInsurance(i)}else this.setChildInsurance(this.tempChildList[this.selectedIndex]);this.checkNextChild()})}loadForm(){this.formGroup=new a.cw({selfId:new a.NI(this.healthDto.selfId||0),amountByEmployer:new a.NI(this.healthDto.amountByEmployer||""),amountByInsurance:new a.NI(this.healthDto.amountByInsurance||""),amountBySocialBenefit:new a.NI(this.healthDto.amountBySocialBenefit||""),protectionSelf:new a.NI(this.healthDto.protectionSelf),spouseId:new a.NI(this.healthDto.spouseId||0),nameSpouse:new a.NI(this.healthDto.nameSpouse||""),amountByEmployerSpouse:new a.NI(this.healthDto.amountByEmployerSpouse||""),amountByInsuranceSpouse:new a.NI(this.healthDto.amountByInsuranceSpouse||""),amountBySocialBenefitSpouse:new a.NI(this.healthDto.amountBySocialBenefitSpouse||""),protectionSpouse:new a.NI(this.healthDto.protectionSpouse),dateOfBirthSpouse:new a.NI(this.healthDto.dateOfBirthSpouse),protection:new a.NI(this.healthDto.protection),amountByEmployerSelf:new a.NI(this.healthDto.amountByEmployerSelf||""),amountByInsuranceSelf:new a.NI(this.healthDto.amountByInsuranceSelf||""),amountBySocialBenefitSelf:new a.NI(this.healthDto.amountBySocialBenefitSelf||""),createdAt:new a.NI(this.healthDto.createdAt||""),dateOfBirth:new a.NI(this.healthDto.dateOfBirth),fnaId:new a.NI(this.healthDto.fnaId),healthType:new a.NI(this.healthDto.healthType||""),id:new a.NI(this.healthDto.id||0),name:new a.NI(this.healthDto.name||""),updatedAt:new a.NI(this.healthDto.updatedAt||"")}),this.formGroup.controls.fnaId.setValue(this.fnaId),this.cdf.detectChanges()}getSelfInsurance(){let e=new Z,n=0,i=0,s=0;return this.formGroup.value.amountByEmployerSelf&&(n=Number(this.formGroup.value.amountByEmployerSelf.replace(/,/g,""))),this.formGroup.value.amountByInsuranceSelf&&(i=Number(this.formGroup.value.amountByInsuranceSelf.replace(/,/g,""))),this.formGroup.value.amountBySocialBenefitSelf&&(s=Number(this.formGroup.value.amountBySocialBenefitSelf.replace(/,/g,""))),e.amountByEmployer=n,e.amountByInsurance=i,e.amountBySocialBenefit=s,e.createdAt=this.formGroup.value.createdAt,e.dateOfBirth=null,e.fnaId=this.formGroup.value.fnaId,e.healthType=this.formGroup.value.healthType,e.id=this.formGroup.value.selfId,e.name=this.formGroup.value.name,e.protection=this.formGroup.value.protectionSelf,e.updatedAt=this.formGroup.value.updatedAt,e}setSelfInsurance(e){this.formGroup.controls.protectionSelf.setValue(e.protection),this.formGroup.controls.amountByEmployerSelf.setValue(e.amountByEmployer?this.fnaService.mathRoundTo(e.amountByEmployer,2):null),this.formGroup.controls.amountByInsuranceSelf.setValue(e.amountByInsurance?this.fnaService.mathRoundTo(e.amountByInsurance,2):null),this.formGroup.controls.amountBySocialBenefitSelf.setValue(e.amountBySocialBenefit?this.fnaService.mathRoundTo(e.amountBySocialBenefit,2):null),this.formGroup.controls.selfId.setValue(e.id)}getSpouseInsurance(){let e=null;this.formGroup.value.dateOfBirthSpouse&&(e=this.formatDateYYYYMMDD(this.formGroup.value.dateOfBirthSpouse));let n=new Z,i=0,s=0,u=0;return this.formGroup.value.amountByEmployerSpouse&&(i=Number(this.formGroup.value.amountByEmployerSpouse.replace(/,/g,""))),this.formGroup.value.amountByInsuranceSpouse&&(s=Number(this.formGroup.value.amountByInsuranceSpouse.replace(/,/g,""))),this.formGroup.value.amountBySocialBenefitSpouse&&(u=Number(this.formGroup.value.amountBySocialBenefitSpouse.replace(/,/g,""))),n.amountByEmployer=i,n.amountByInsurance=s,n.amountBySocialBenefit=u,n.createdAt=this.formGroup.value.createdAt,n.dateOfBirth=e,n.fnaId=this.formGroup.value.fnaId,n.healthType=this.formGroup.value.healthType,n.id=this.formGroup.value.spouseId,n.name=this.formGroup.value.nameSpouse,n.protection=this.formGroup.value.protectionSpouse,n.updatedAt=this.formGroup.value.updatedAt,n}setSpouseInsurance(e){e.dateOfBirth=e.dateOfBirth?this.formatDateYYYYMMDD(e.dateOfBirth):null,this.selectedIndexId=e.id,this.formGroup.controls.nameSpouse.setValue(e.name),this.formGroup.controls.dateOfBirthSpouse.setValue(e.dateOfBirth),this.formGroup.controls.protectionSpouse.setValue(e.protection),this.formGroup.controls.amountByEmployerSpouse.setValue(e.amountByEmployer?this.fnaService.mathRoundTo(e.amountByEmployer,2):null),this.formGroup.controls.amountByInsuranceSpouse.setValue(e.amountByInsurance?this.fnaService.mathRoundTo(e.amountByInsurance,2):null),this.formGroup.controls.amountBySocialBenefitSpouse.setValue(e.amountBySocialBenefit?this.fnaService.mathRoundTo(e.amountBySocialBenefit,2):null),this.formGroup.controls.spouseId.setValue(e.id)}getChildInsurance(){let e=null;this.formGroup.value.dateOfBirth&&(e=this.formatDateYYYYMMDD(this.formGroup.value.dateOfBirth));let n=new Z,i=0,s=0,u=0;return this.formGroup.value.amountByEmployer&&(i=Number(this.formGroup.value.amountByEmployer.replace(/,/g,""))),this.formGroup.value.amountByInsurance&&(s=Number(this.formGroup.value.amountByInsurance.replace(/,/g,""))),this.formGroup.value.amountBySocialBenefit&&(u=Number(this.formGroup.value.amountBySocialBenefit.replace(/,/g,""))),n.amountByEmployer=i,n.amountByInsurance=s,n.amountBySocialBenefit=u,n.createdAt=this.formGroup.value.createdAt,n.dateOfBirth=e,n.fnaId=this.formGroup.value.fnaId,n.healthType=this.formGroup.value.healthType,n.id=this.formGroup.value.id,n.name=this.formGroup.value.name,n.protection=this.formGroup.value.protection,n.updatedAt=this.formGroup.value.updatedAt,n}setChildInsurance(e){e.dateOfBirth=e.dateOfBirth?this.formatDateYYYYMMDD(e.dateOfBirth):null,this.formGroup.controls.name.setValue(e.name),this.formGroup.controls.dateOfBirth.setValue(e.dateOfBirth),this.formGroup.controls.protection.setValue(e.protection),this.formGroup.controls.amountByEmployer.setValue(e.amountByEmployer?this.fnaService.mathRoundTo(e.amountByEmployer,2):null),this.formGroup.controls.amountByInsurance.setValue(e.amountByInsurance?this.fnaService.mathRoundTo(e.amountByInsurance,2):null),this.formGroup.controls.amountBySocialBenefit.setValue(e.amountBySocialBenefit?this.fnaService.mathRoundTo(e.amountBySocialBenefit,2):null),this.formGroup.controls.id.setValue(e.id),this.selectedIndexId=e.id?e.id:0}removeSelfValidate(){this.removeValidate("amountByInsuranceSelf"),this.removeValidate("amountByEmployerSelf"),this.removeValidate("amountBySocialBenefitSelf"),this.formGroup.controls.amountByInsuranceSelf.setValue(null),this.formGroup.controls.amountByEmployerSelf.setValue(null),this.formGroup.controls.amountBySocialBenefitSelf.setValue(null)}addSelfValidate(){this.addValidate("amountByInsuranceSelf"),this.addValidate("amountByEmployerSelf"),this.addValidate("amountBySocialBenefitSelf")}removeSpouseValidate(){this.removeValidate("amountByInsuranceSpouse"),this.removeValidate("amountByEmployerSpouse"),this.removeValidate("amountBySocialBenefitSpouse"),this.removeValidate("dateOfBirthSpouse"),this.formGroup.controls.amountByInsuranceSpouse.setValue(null),this.formGroup.controls.amountByEmployerSpouse.setValue(null),this.formGroup.controls.amountBySocialBenefitSpouse.setValue(null)}addSpouseValidate(){this.addValidate("amountByInsuranceSpouse"),this.addValidate("amountByEmployerSpouse"),this.addValidate("amountBySocialBenefitSpouse"),this.removeValidate("dateOfBirthSpouse")}removeChildValidate(){this.removeValidate("amountByInsurance"),this.removeValidate("amountByEmployer"),this.removeValidate("amountBySocialBenefit"),this.formGroup.controls.amountByInsurance.setValue(null),this.formGroup.controls.amountByEmployer.setValue(null),this.formGroup.controls.amountBySocialBenefit.setValue(null)}addChildValidate(){this.addValidate("amountByInsurance"),this.addValidate("amountByEmployer"),this.addValidate("amountBySocialBenefit")}saveAndNextHealth(){return(0,d.mG)(this,void 0,void 0,function*(){if(this.selectedIndex<=5){if(2==this.selectedIndex?(this.formGroup.value.protectionSelf?yield this.addSelfValidate():yield this.removeSelfValidate(),this.formGroup.value.protectionSpouse?yield this.addSpouseValidate():yield this.removeSpouseValidate()):(yield this.removeSelfValidate(),yield this.removeSpouseValidate()),this.formGroup.value.protection?yield this.addChildValidate():yield this.removeChildValidate(),this.formGroup.invalid)yield(0,E.w)(this.formGroup);else{if(2==this.selectedIndex){this.formGroup.value.selfId?yield this.fnaHealthManageService.updateHealth(this.getSelfInsurance()).toPromise().then(n=>{n&&(this.tempChildList[0]=this.getSelfInsurance(),this.tempChildList[0].id=n)}):yield this.fnaHealthManageService.saveHealth(this.getSelfInsurance()).toPromise().then(n=>{n&&(this.tempChildList[0]=this.getSelfInsurance(),this.tempChildList[0].id=n)}),this.formGroup.value.spouseId?yield this.fnaHealthManageService.updateHealth(this.getSpouseInsurance()).toPromise().then(n=>{n&&(this.tempChildList[1]=this.getSpouseInsurance(),this.tempChildList[1].id=n)}):yield this.fnaHealthManageService.saveHealth(this.getSpouseInsurance()).toPromise().then(n=>{n&&(this.tempChildList[1]=this.getSpouseInsurance(),this.tempChildList[1].id=n)}),this.products.push.apply(this.products,this.fnaService.getFNAProduct("Health","")),this.products=this.removeDuplicates(this.products),this.fnaService.fnaUpdateProducts.concat(this.products);let e={customerId:this.customerId,fnaType:"LPP",grandDiscount:0,highDiscount:0,id:this.fnaId,products:this.products};yield this.fnaService.updateFNAProduct(e).toPromise().then(n=>{}),this.formGroup.value.id?yield this.fnaHealthManageService.updateHealth(this.getChildInsurance()).toPromise().then(n=>{n&&(this.tempChildList[this.selectedIndex]=this.getChildInsurance(),this.tempChildList[this.selectedIndex].id=n,this.alertService.activate("This record was updated","Success Message").then(i=>{5==this.selectedIndex&&this.changeAnalysis.emit("aboutLLP")}))}):yield this.fnaHealthManageService.saveHealth(this.getChildInsurance()).toPromise().then(n=>(0,d.mG)(this,void 0,void 0,function*(){n&&(this.tempChildList[this.selectedIndex]=this.getChildInsurance(),this.tempChildList[this.selectedIndex].id=n,this.alertService.activate("This record was created","Success Message").then(i=>{5==this.selectedIndex&&this.changeAnalysis.emit("aboutLLP")}))}))}else this.formGroup.value.id?yield this.fnaHealthManageService.updateHealth(this.getChildInsurance()).toPromise().then(e=>{e&&(this.tempChildList[this.selectedIndex]=this.getChildInsurance(),this.alertService.activate("This record was updated","Success Message").then(n=>{5==this.selectedIndex&&this.changeAnalysis.emit("aboutLLP")}))}):yield this.fnaHealthManageService.saveHealth(this.getChildInsurance()).toPromise().then(e=>(0,d.mG)(this,void 0,void 0,function*(){e&&(this.tempChildList[this.selectedIndex]=this.getChildInsurance(),this.tempChildList[this.selectedIndex].id=e,this.alertService.activate("This record was created","Success Message").then(n=>{5==this.selectedIndex&&this.changeAnalysis.emit("aboutLLP")}))}));this.healthDto=this.tempChildList[this.selectedIndex],this.healthDto&&(yield this.setChildInsurance(this.tempChildList[this.selectedIndex]))}yield this.checkNextChild(),x.k.FNA_DETAIL_LIST=this.tempChildList}})}removeDuplicates(e){let i=new Set(e).values();return Array.from(i)}isControlValid(e){const n=this.formGroup.controls[e];return n.valid&&(n.dirty||n.touched)}isControlInvalid(e){const n=this.formGroup.controls[e];return n.invalid&&(n.dirty||n.touched)}removeValidate(e){this.formGroup.get(e).clearValidators(),this.formGroup.get(e).updateValueAndValidity()}addValidate(e){this.formGroup.get(e).setValidators([a.kI.required]),this.formGroup.get(e).updateValueAndValidity()}getAllFNAHealth(){this.tempChildList.length>0&&(2==this.selectedIndex?(this.setSelfInsurance(this.tempChildList[0]),this.setSpouseInsurance(this.tempChildList[1]),this.setChildInsurance(this.tempChildList[2])):(this.healthDto=this.tempChildList[this.selectedIndex],this.healthDto?(this.setChildInsurance(this.healthDto),this.cdf.detectChanges()):this.healthDto=new Z))}deleteHealthById(){return(0,d.mG)(this,void 0,void 0,function*(){0!=this.selectedIndexId&&this.alertService.activate("Are you sure want to delete?","Warning Message").then(e=>(0,d.mG)(this,void 0,void 0,function*(){e&&(yield this.fnaHealthManageService.deleteHealthById(this.selectedIndexId).toPromise().then(n=>(0,d.mG)(this,void 0,void 0,function*(){n&&(this.tempChildList=this.tempChildList.filter(s=>s.id!==this.selectedIndexId),this.healthDto=new Z,this.loadForm(),this.tempChildList[this.selectedIndex]?(this.selectedIndexId=this.tempChildList[this.selectedIndex].id,this.setChildInsurance(this.tempChildList[this.selectedIndex])):this.selectedIndexId=0)})))})),this.checkNextChild(),x.k.FNA_DETAIL_LIST=this.tempChildList})}formatDateYYYYMMDD(e){var n=new Date(e.split("/").reverse().join("/")),i=""+(n.getMonth()+1),s=""+n.getDate(),u=n.getFullYear();return i.length<2&&(i="0"+i),s.length<2&&(s="0"+s),[u,i,s].join("-")}formatDateDDMMYYY(e){var n=new Date(e),i=""+(n.getMonth()+1),s=""+n.getDate(),u=n.getFullYear();return i.length<2&&(i="0"+i),s.length<2&&(s="0"+s),[s,i,u].join("/")}updateCommaInputSelf(e,n){var i=this.fnaService.getNumber(e.target.value);0==i?("amountByInsuranceSelf"==n&&this.formGroup.controls.amountByInsuranceSelf.setValue(""),"amountByEmployerSelf"==n&&this.formGroup.controls.amountByEmployerSelf.setValue(""),"amountBySocialBenefitSelf"==n&&this.formGroup.controls.amountBySocialBenefitSelf.setValue("")):("amountByInsuranceSelf"==n&&this.formGroup.controls.amountByInsuranceSelf.setValue(i.toLocaleString()),"amountByEmployerSelf"==n&&this.formGroup.controls.amountByEmployerSelf.setValue(i.toLocaleString()),"amountBySocialBenefitSelf"==n&&this.formGroup.controls.amountBySocialBenefitSelf.setValue(i.toLocaleString()))}updateCommaInputSpouse(e,n){var i=this.fnaService.getNumber(e.target.value);0==i?("amountByInsuranceSpouse"==n&&this.formGroup.controls.amountByInsuranceSpouse.setValue(""),"amountByEmployerSpouse"==n&&this.formGroup.controls.amountByEmployerSpouse.setValue(""),"amountBySocialBenefitSpouse"==n&&this.formGroup.controls.amountBySocialBenefitSpouse.setValue("")):("amountByInsuranceSpouse"==n&&this.formGroup.controls.amountByInsuranceSpouse.setValue(i.toLocaleString()),"amountByEmployerSpouse"==n&&this.formGroup.controls.amountByEmployerSpouse.setValue(i.toLocaleString()),"amountBySocialBenefitSpouse"==n&&this.formGroup.controls.amountBySocialBenefitSpouse.setValue(i.toLocaleString()))}updateCommaInputChild(e,n){var i=this.fnaService.getNumber(e.target.value);0==i?("amountByInsurance"==n&&this.formGroup.controls.amountByInsurance.setValue(""),"amountByEmployer"==n&&this.formGroup.controls.amountByEmployer.setValue(""),"amountBySocialBenefit"==n&&this.formGroup.controls.amountBySocialBenefit.setValue("")):("amountByInsurance"==n&&this.formGroup.controls.amountByInsurance.setValue(i.toLocaleString()),"amountByEmployer"==n&&this.formGroup.controls.amountByEmployer.setValue(i.toLocaleString()),"amountBySocialBenefit"==n&&this.formGroup.controls.amountBySocialBenefit.setValue(i.toLocaleString()))}backToStartAction(){this.changeAnalysis.emit("aboutLLP")}viewAll(){this.tempChildList.length>0&&this.fnaService.openModal("Health")}doValid(e){if("dateOfBirthSpouse"==e&&this.formGroup.controls.dateOfBirthSpouse.value){let i=H(this.formGroup.controls.dateOfBirthSpouse.value).add(0,"years");this.toMaxDate={year:parseInt(i.format("YYYY")),month:parseInt(i.format("M")),day:parseInt(i.format("D"))},this.formGroup.controls.dateOfBirthSpouse.setValue(i.format("YYYY-MM-DD"))}if("dateOfBirth"==e&&this.formGroup.controls.dateOfBirth.value){let i=H(this.formGroup.controls.dateOfBirth.value).add(0,"years");this.toMaxDate={year:parseInt(i.format("YYYY")),month:parseInt(i.format("M")),day:parseInt(i.format("D"))},this.formGroup.controls.dateOfBirth.setValue(i.format("YYYY-MM-DD"))}}addChild(e){this.selectedIndex<=4&&(this.healthDto=new Z,this.loadForm(),this.selectedIndex++,this.healthDto=this.tempChildList[this.selectedIndex],this.healthDto&&this.setChildInsurance(this.tempChildList[this.selectedIndex])),"add"==e&&(this.selectedIndexId=0)}clearDOB(e){"dateOfBirth"==e?this.formGroup.controls.dateOfBirth.setValue(null):this.formGroup.controls.dateOfBirthSpouse.setValue(null)}checkNextChild(){this.nextCount=this.tempChildList.length-2}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.qu),t.Y36(t.sBO),t.Y36(k.c),t.Y36(Pt),t.Y36(A.T))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-health"]],inputs:{health:"health",fnaId:"fnaId",customerId:"customerId"},outputs:{changeAnalysis:"changeAnalysis"},decls:66,vars:38,consts:[[1,"card-label","left-border-image"],["action","#",1,"form",3,"formGroup"],["class","set",4,"ngIf"],[1,"row"],[1,"col-4"],[1,"form-group"],[1,"sub-title",2,"padding","0"],[1,"col-1"],["class","delete",3,"click",4,"ngIf"],[1,"form-label"],[1,"col-8"],["type","text","autocomplete","off","formControlName","name",1,"form-control","form-control-sm","form-control-md"],[1,"col-7"],[1,"input-group"],["type","text","readonly","","formControlName","dateOfBirth","autocomplete","off",1,"form-control","form-control-sm","date-input",3,"min","max","matDatepicker","dateChange"],["matSuffix","",2,"z-index","99999",3,"for"],["disabled","false"],["picker",""],[1,"btn_clear"],[3,"click"],["formControlName","protection"],[1,"example-margin",3,"value"],[4,"ngIf"],[1,"btn-about","col-12"],["type","button","class","btn btn-primary btn-elevate mx-2","style","margin-bottom: 10px;",3,"click",4,"ngIf"],["type","button","class","btn btn-primary btn-elevate mx-2","style","width: auto; margin-bottom: 10px;",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-elevate","mx-2",2,"margin-bottom","10px",3,"click"],["type","button","style","width: auto; margin-bottom: 10px;","class","btn btn-primary btn-elevate mx-2",3,"disabled","click",4,"ngIf"],["type","button","style","width: auto; margin-bottom: 10px;","class","btn btn-primary btn-elevate mx-2",3,"click",4,"ngIf"],[1,"set"],[1,"col-12"],[1,"col-12","sub-title",2,"padding-left","13px"],[1,"row","form-group"],["formControlName","protectionSelf"],["type","text","autocomplete","off","formControlName","amountByInsuranceSelf",1,"form-control","form-control-sm","form-control-md",3,"keyup"],["type","text","autocomplete","off","formControlName","amountByEmployerSelf",1,"form-control","form-control-sm","form-control-md",3,"keyup"],["type","text","autocomplete","off","formControlName","amountBySocialBenefitSelf",1,"form-control","form-control-sm","form-control-md",3,"keyup"],[1,"col-12","sub-title"],["type","text","autocomplete","off","formControlName","nameSpouse",1,"form-control","form-control-sm","form-control-md"],["type","text","readonly","","formControlName","dateOfBirthSpouse",1,"form-control","form-control-sm","date-input",3,"min","max","matDatepicker","dateChange"],[1,"col-sm-8"],["formControlName","protectionSpouse"],["type","text","autocomplete","off","formControlName","amountByInsuranceSpouse",1,"form-control","form-control-sm","form-control-md",3,"keyup"],["type","text","autocomplete","off","formControlName","amountByEmployerSpouse",1,"form-control","form-control-sm","form-control-md",3,"keyup"],["type","text","autocomplete","off","formControlName","amountBySocialBenefitSpouse",1,"form-control","form-control-sm","form-control-md",3,"keyup"],[1,"delete",3,"click"],["type","text","autocomplete","off","formControlName","amountByInsurance",1,"form-control","form-control-sm","form-control-md",3,"keyup"],["type","text","autocomplete","off","formControlName","amountByEmployer",1,"form-control","form-control-sm","form-control-md",3,"keyup"],["type","text","autocomplete","off","formControlName","amountBySocialBenefit",1,"form-control","form-control-sm","form-control-md",3,"keyup"],["type","button",1,"btn","btn-primary","btn-elevate","mx-2",2,"width","auto","margin-bottom","10px",3,"click"],["type","button",1,"btn","btn-primary","btn-elevate","mx-2",2,"width","auto","margin-bottom","10px",3,"disabled","click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h3",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"form",1),t.YNc(5,wt,21,12,"div",2),t.YNc(6,Dt,46,22,"div",2),t.TgZ(7,"div"),t.TgZ(8,"div",3),t.TgZ(9,"div",4),t.TgZ(10,"div",5),t.TgZ(11,"h4",6),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",7),t.TgZ(14,"div",5),t.YNc(15,Nt,2,0,"a",8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",3),t.TgZ(17,"div",4),t.TgZ(18,"div",5),t.TgZ(19,"label",9),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",10),t.TgZ(23,"div",5),t._UZ(24,"input",11),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"div",3),t.TgZ(26,"div",4),t.TgZ(27,"div",5),t.TgZ(28,"label",9),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"div",12),t.TgZ(32,"div",5),t.TgZ(33,"div",13),t.TgZ(34,"input",14),t.NdJ("dateChange",function(){return n.doValid("dateOfBirth")}),t.qZA(),t._UZ(35,"mat-datepicker-toggle",15),t._UZ(36,"mat-datepicker",16,17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"div",18),t.TgZ(39,"a",19),t.NdJ("click",function(){return n.clearDOB("dateOfBirth")}),t._uU(40," X "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(41,"div",3),t.TgZ(42,"div",4),t.TgZ(43,"div",5),t.TgZ(44,"label",9),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(47,"div",10),t.TgZ(48,"div",5),t.TgZ(49,"mat-radio-group",20),t.TgZ(50,"mat-radio-button",21),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"mat-radio-button",21),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(56,kt,25,12,"div",22),t.qZA(),t.TgZ(57,"div",23),t.YNc(58,Gt,3,3,"button",24),t.YNc(59,Lt,3,3,"button",25),t.YNc(60,Et,3,3,"button",24),t.TgZ(61,"button",26),t.NdJ("click",function(){return n.saveAndNextHealth()}),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.YNc(64,Yt,3,4,"button",27),t.YNc(65,Ft,3,3,"button",28),t.qZA(),t.qZA(),t.qZA()),2&e){const i=t.MAs(37);t.xp6(2),t.Oqu(t.lcZ(3,24,"FORM.health")),t.xp6(2),t.Q6J("formGroup",n.formGroup),t.xp6(1),t.Q6J("ngIf",2==n.selectedIndex),t.xp6(1),t.Q6J("ngIf",2==n.selectedIndex),t.xp6(6),t.hij("Current health protection Child ",n.selectedIndex-1," "),t.xp6(3),t.Q6J("ngIf",n.selectedIndex>2),t.xp6(5),t.Oqu(t.lcZ(21,26,"FORM.name_of_child")),t.xp6(9),t.Oqu(t.lcZ(30,28,"FORM.date_of_birth")),t.xp6(5),t.Q6J("min",n.fromMinDate)("max",n.fromMaxDate)("matDatepicker",i),t.xp6(1),t.Q6J("for",i),t.xp6(10),t.Oqu(t.lcZ(46,30,"FORM.with_protection")),t.xp6(5),t.Q6J("value",!0),t.xp6(1),t.hij(" ",t.lcZ(52,32,"FORM.rad_yes"),""),t.xp6(2),t.Q6J("value",!1),t.xp6(1),t.hij(" ",t.lcZ(55,34,"FORM.rad_no"),""),t.xp6(2),t.Q6J("ngIf",n.formGroup.value.protection),t.xp6(2),t.Q6J("ngIf",2==n.selectedIndex&&n.tempChildList.length>0),t.xp6(1),t.Q6J("ngIf",n.selectedIndex>=2),t.xp6(1),t.Q6J("ngIf",n.selectedIndex>2),t.xp6(2),t.Oqu(t.lcZ(63,36,"FORM.btn_save")),t.xp6(2),t.Q6J("ngIf",n.selectedIndex<=4&&n.selectedIndex-1>=n.nextCount),t.xp6(1),t.Q6J("ngIf",n.selectedIndex<=4&&n.selectedIndex-1<n.nextCount)}},directives:[a._Y,a.JL,a.sg,h.O5,a.Fj,a.JJ,a.u,P.hl,P.nW,K.R9,P.Mq,q.VQ,q.U0],pipes:[M.X],styles:[".btn-about[_ngcontent-%COMP%]{text-align:end;padding:0;margin-top:150px}.btn-about[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0!important}h3[_ngcontent-%COMP%]{font-size:.9rem}.add-child[_ngcontent-%COMP%]{float:left}.sub-title[_ngcontent-%COMP%]{padding-left:26px;color:#005f99!important;font-size:.9rem;margin:15px 0 5px}.col-4[_ngcontent-%COMP%]{padding-left:26px}.col-4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red;display:inline-block;padding:0 0 0 5px}.delete[_ngcontent-%COMP%]{margin:12px 0 0;display:inline-block;color:#005f99!important;text-decoration:underline;font-size:.9rem}button[_ngcontent-%COMP%]{width:120px}.btn_clear[_ngcontent-%COMP%]{padding:0;position:relative}.btn_clear[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;top:14px;display:inline-block;cursor:pointer}"]}),o})();const V=`${O.N.apiUrl}/fna`;let Ut=(()=>{class o extends D.i{constructor(e){super(e,V),this.httpClient=e}getFNAIncome(e){return this.httpClient.get(V+"/"+e+"/income")}saveFNAIncome(e){return this.httpClient.post(V+"/income",e)}deleteFNAIncomeById(e){return this.httpClient.delete(V+"/income/"+e)}updateFNAIncome(e){return this.httpClient.put(V+"/income",e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(N.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Rt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){return t.CHM(e),t.oxw().viewAll()}),t._uU(1,"View All"),t.qZA()}}let Jt=(()=>{class o{constructor(e,n,i,s,u){this.fb=e,this.cdf=n,this.alertService=i,this.fnaIncomeManageService=s,this.fnaService=u,this.fnaIncome={},this.fnaId={},this.customerId=null,this.changeAnalysis=new t.vpe,this.income={estimatedMonthlyIncome:null,estimatedMonthlyIncomeText:null,familyMonthlySpending:0,familyMonthlySpendingText:null,fnaId:null,id:null,sourceOfIncome:null,createdAt:null,updatedAt:null}}ngOnInit(){this.loadForm(),this.fnaService.fnaIncome&&(x.k.FNA_DETAIL_OBJ=this.fnaService.fnaIncome,this.setIncome(this.fnaService.fnaIncome))}loadForm(){this.formGroup=this.fb.group({estimatedMonthlyIncome:[this.income.estimatedMonthlyIncome,a.kI.compose([])],estimatedMonthlyIncomeText:[this.income.estimatedMonthlyIncomeText,a.kI.compose([a.kI.required,a.kI.nullValidator])],familyMonthlySpending:[this.income.familyMonthlySpending||null,a.kI.compose([a.kI.required,a.kI.nullValidator])],familyMonthlySpendingText:[this.income.familyMonthlySpendingText,a.kI.compose([a.kI.required,a.kI.nullValidator])],fnaId:[this.income.fnaId,a.kI.compose([])],id:[this.income.id,a.kI.compose([])],sourceOfIncome:[this.income.sourceOfIncome,a.kI.compose([])],createdAt:[this.income.createdAt,a.kI.compose([])],updatedAt:[this.income.updatedAt,a.kI.compose([])]}),this.formGroup.controls.fnaId.setValue(this.fnaId),this.cdf.detectChanges()}setIncome(e){this.formGroup.controls.estimatedMonthlyIncome.setValue(e.estimatedMonthlyIncome),this.formGroup.controls.estimatedMonthlyIncomeText.setValue(this.fnaService.mathRoundTo(e.estimatedMonthlyIncome,2)),this.formGroup.controls.familyMonthlySpending.setValue(e.familyMonthlySpending),this.formGroup.controls.familyMonthlySpendingText.setValue(this.fnaService.mathRoundTo(e.familyMonthlySpending,2)),this.formGroup.controls.fnaId.setValue(e.fnaId),this.formGroup.controls.id.setValue(e.id),this.formGroup.controls.sourceOfIncome.setValue(e.sourceOfIncome),this.formGroup.controls.createdAt.setValue(e.createdAt),this.formGroup.controls.updatedAt.setValue(e.updatedAt),this.cdf.detectChanges()}isControlValid(e){const n=this.formGroup.controls[e];return n.valid&&(n.dirty||n.touched)}isControlInvalid(e){const n=this.formGroup.controls[e];return n.invalid&&(n.dirty||n.touched)}getFNAIncome(){return(0,d.mG)(this,void 0,void 0,function*(){yield this.fnaIncomeManageService.getFNAIncome(this.fnaId).toPromise().then(e=>{e&&this.setIncome(e)})})}backAction(){this.changeAnalysis.emit("aboutLLP")}saveFNAIncome(){return(0,d.mG)(this,void 0,void 0,function*(){this.formGroup.invalid?(0,E.w)(this.formGroup):this.formGroup.value.id?yield this.fnaIncomeManageService.updateFNAIncome(this.formGroup.value).toPromise().then(e=>{e&&this.alertService.activate("This record was updated","Success Message").then(n=>{this.backAction()})}):yield this.fnaIncomeManageService.saveFNAIncome(this.formGroup.value).toPromise().then(e=>{e&&this.alertService.activate("This record was created","Success Message").then(n=>{this.backAction()})})})}calculateMonthlyIncome(e){let n=Number(e.replace(/,/g,"")),i=n/.9;if(e&&0!=this.fnaService.getNumber(e)&&0!=this.formGroup.value.familyMonthlySpending){let u=Number(e.replace(/,/g,""))/.9;this.formGroup.controls.estimatedMonthlyIncomeText.setValue(this.fnaService.mathRoundTo(u,2))}this.formGroup.controls.familyMonthlySpending.setValue(n),this.formGroup.controls.estimatedMonthlyIncome.setValue(i)}updateCommaInput(e){var n=this.fnaService.getNumber(e.target.value);0==n?(this.formGroup.controls.familyMonthlySpendingText.setValue(""),this.formGroup.controls.estimatedMonthlyIncomeText.setValue("")):this.formGroup.controls.familyMonthlySpendingText.setValue(n.toLocaleString())}viewAll(){this.fnaService.fnaIncome&&this.fnaService.openModal("Income")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.qu),t.Y36(t.sBO),t.Y36(k.c),t.Y36(Ut),t.Y36(A.T))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-income"]],inputs:{fnaIncome:"fnaIncome",fnaId:"fnaId",customerId:"customerId"},outputs:{changeAnalysis:"changeAnalysis"},decls:54,vars:21,consts:[[1,"card-label","left-border-image"],["action","#",1,"form",3,"formGroup","ngSubmit"],[1,"about"],[2,"padding-left","13px"],[1,"row"],[1,"col-4"],[1,"form-group"],[1,"form-label"],[1,"col-8"],["formControlName","sourceOfIncome","name","builder[layout][subheader][layoutVersion]",1,"form-control","form-control-sm"],["value","employee"],["value","professional"],["value","nrm"],["value","smallbusiness"],["value","largebusiness"],[2,"position","absolute","top","9px","right","10px"],["type","text","name","familyMonthlySpendingText","autocomplete","off","formControlName","familyMonthlySpendingText",1,"form-control","form-control-sm","form-control-md",3,"keyup","ngModelChange"],["type","text","readonly","","name","estimatedMonthlyIncomeText","autocomplete","off","formControlName","estimatedMonthlyIncomeText",1,"form-control","form-control-sm","form-control-md"],[1,"btn-about","col-12"],["type","button","class","btn btn-primary btn-elevate mx-2","style","width: auto; margin-bottom: 10px;",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-elevate",2,"width","auto","margin-bottom","10px",3,"click"],["type","submit",1,"btn","btn-primary","btn-elevate","mx-2",2,"margin-bottom","10px"],["type","button",1,"btn","btn-primary","btn-elevate","mx-2",2,"width","auto","margin-bottom","10px",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h3",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return n.saveFNAIncome()}),t.TgZ(5,"div",2),t.TgZ(6,"div",3),t._uU(7,"We all work for our income - can you provide some details"),t.qZA(),t.TgZ(8,"div",4),t.TgZ(9,"div",5),t.TgZ(10,"div",6),t.TgZ(11,"label",7),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",8),t.TgZ(15,"div",6),t.TgZ(16,"select",9),t.TgZ(17,"option",10),t._uU(18,"Employee"),t.qZA(),t.TgZ(19,"option",11),t._uU(20,"Professional"),t.qZA(),t.TgZ(21,"option",12),t._uU(22,"NRM"),t.qZA(),t.TgZ(23,"option",13),t._uU(24,"Small business"),t.qZA(),t.TgZ(25,"option",14),t._uU(26,"Large business"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",4),t.TgZ(28,"div",5),t.TgZ(29,"div",6),t.TgZ(30,"label",7),t._uU(31),t.ALo(32,"translate"),t.TgZ(33,"span",15),t._uU(34,"*"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",8),t.TgZ(36,"div",6),t.TgZ(37,"input",16),t.NdJ("keyup",function(s){return n.updateCommaInput(s)})("ngModelChange",function(s){return n.calculateMonthlyIncome(s)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"div",4),t.TgZ(39,"div",5),t.TgZ(40,"div",6),t.TgZ(41,"label",7),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(44,"div",8),t.TgZ(45,"div",6),t._UZ(46,"input",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(47,"div",18),t.YNc(48,Rt,2,0,"button",19),t.TgZ(49,"button",20),t.NdJ("click",function(){return n.backAction()}),t._uU(50,"Back Main Page"),t.qZA(),t.TgZ(51,"button",21),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,11,"FORM.income")),t.xp6(2),t.Q6J("formGroup",n.formGroup),t.xp6(8),t.hij(" ",t.lcZ(13,13,"FORM.source_of_income"),""),t.xp6(19),t.hij("",t.lcZ(32,15,"FORM.family_monthly_spending")," "),t.xp6(6),t.ekj("is-invalid",n.isControlInvalid("familyMonthlySpendingText"))("is-valid",n.isControlValid("familyMonthlySpendingText")),t.xp6(5),t.hij(" ",t.lcZ(43,17,"FORM.estimated_monthly_income")," "),t.xp6(6),t.Q6J("ngIf",n.fnaService.fnaIncome),t.xp6(4),t.Oqu(t.lcZ(53,19,"FORM.btn_save")))},directives:[a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,a.YN,a.Kr,a.Fj,h.O5],pipes:[M.X],styles:[".btn-about[_ngcontent-%COMP%]{text-align:end;padding:0;margin-top:150px}.btn-about[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0!important}h3[_ngcontent-%COMP%]{font-size:.9rem}.col-4[_ngcontent-%COMP%]{padding-left:26px}.col-4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red;display:inline-block;padding:0 0 0 5px}button[_ngcontent-%COMP%]{width:120px}"]}),o})();const U=`${O.N.apiUrl}/fna`;let Ht=(()=>{class o extends D.i{constructor(e){super(e,U),this.httpClient=e}getRetirement(e){return this.httpClient.get(U+"/"+e+"/retirement-saving")}saveRetirement(e){return this.httpClient.post(U+"/retirement-saving",e)}deleteRetirementById(e){return this.httpClient.delete(U+"/retirement-saving/"+e)}updateRetirement(e){return this.httpClient.put(U+"/retirement-saving/",e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(N.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Qt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){return t.CHM(e),t.oxw().viewAll()}),t._uU(1,"View All"),t.qZA()}}let jt=(()=>{class o{constructor(e,n,i,s,u){this.fb=e,this.cdf=n,this.alertService=i,this.fnaRetirementService=s,this.fnaService=u,this.retirement=null,this.fnaId=null,this.customerDob=null,this.customerId=null,this.changeAnalysis=new t.vpe,this.retirementDto=new v.E,this.currentIncome=null,this.isCalculate=!1,this.fromMinDate=null,this.fromMaxDate=new Date}ngOnInit(){this.loadForm(),this.fnaService.fnaIncome&&(this.currentIncome=this.fnaService.fnaIncome.estimatedMonthlyIncome),this.fnaService.fnaRetirementSaving?(this.isCalculate=!0,x.k.FNA_DETAIL_OBJ=this.fnaService.fnaRetirementSaving,this.setRetirement(this.fnaService.fnaRetirementSaving)):this.customerDob&&(this.formGroup.controls.dateOfBirth.setValue(this.customerDob),this.doValid("dateOfBirth"))}backAction(){this.changeAnalysis.emit("aboutLLP")}loadForm(){this.formGroup=new a.cw({dateOfBirth:new a.NI(this.retirementDto.dateOfBirth),fnaId:new a.NI(this.retirementDto.fnaId||null),id:new a.NI(this.retirementDto.id||0),retirementAge:new a.NI(this.retirementDto.retirementAge||"",[a.kI.required,a.kI.nullValidator]),retirementIncome:new a.NI(this.retirementDto.retirementIncome||""),retirementSaving:new a.NI(this.retirementDto.retirementSaving||""),retirementSavingSpouse:new a.NI(this.retirementDto.retirementSavingSpouse||""),retirementIncomeText:new a.NI(this.retirementDto.retirementIncomeText||""),retirementSavingText:new a.NI(this.retirementDto.retirementSavingText||""),retirementSavingSpouseText:new a.NI(this.retirementDto.retirementSavingSpouseText||""),createdAt:new a.NI(this.retirementDto.createdAt||""),updatedAt:new a.NI(this.retirementDto.updatedAt||"")}),this.formGroup.controls.fnaId.setValue(this.fnaId)}getRetirement(){let e="";return this.formGroup.value.dateOfBirth&&(e=this.formatDateYYYYMMDD(this.formGroup.value.dateOfBirth)),{dateOfBirth:e,fnaId:this.formGroup.value.fnaId,id:this.formGroup.value.id,retirementAge:this.formGroup.value.retirementAge,retirementIncome:this.formGroup.value.retirementIncome,retirementSaving:this.formGroup.value.retirementSaving,retirementSavingSpouse:this.formGroup.value.retirementSavingSpouse,createdAt:this.formGroup.value.createdAt,updatedAt:this.formGroup.value.updatedAt}}setRetirement(e){e.dateOfBirth&&(e.dateOfBirth=e.dateOfBirth),this.formGroup.controls.dateOfBirth.setValue(e.dateOfBirth),this.formGroup.controls.fnaId.setValue(e.fnaId),this.formGroup.controls.id.setValue(e.id),this.formGroup.controls.fnaId.setValue(e.fnaId),this.formGroup.controls.retirementAge.setValue(60),this.formGroup.controls.retirementIncome.setValue(e.retirementIncome),this.formGroup.controls.retirementSaving.setValue(e.retirementSaving),this.formGroup.controls.retirementSavingSpouse.setValue(e.retirementSavingSpouse),this.formGroup.controls.retirementIncomeText.setValue(this.fnaService.mathRoundTo(e.retirementIncome,2)),this.formGroup.controls.retirementSavingText.setValue(this.fnaService.mathRoundTo(e.retirementSaving,2)),this.formGroup.controls.retirementSavingSpouseText.setValue(this.fnaService.mathRoundTo(e.retirementSavingSpouse,2)),this.formGroup.controls.createdAt.setValue(e.createdAt),this.formGroup.controls.updatedAt.setValue(e.updatedAt)}isControlValid(e){const n=this.formGroup.controls[e];return n.valid&&(n.dirty||n.touched)}isControlInvalid(e){const n=this.formGroup.controls[e];return n.invalid&&(n.dirty||n.touched)}saveRetirement(){return(0,d.mG)(this,void 0,void 0,function*(){this.formGroup.invalid?(0,E.w)(this.formGroup):(yield this.calculate(),this.formGroup.value.id?yield this.fnaRetirementService.updateRetirement(this.getRetirement()).toPromise().then(e=>{e&&this.alertService.activate("This record was updated","Success Message").then(n=>{this.backAction()})}):yield this.fnaRetirementService.saveRetirement(this.getRetirement()).toPromise().then(e=>{e&&(this.formGroup.controls.id.setValue(e),this.alertService.activate("This record was created","Success Message").then(n=>{this.backAction()}))}))})}calculate(){this.isCalculate=!0;let e=this.formGroup.value.retirementAge-this.calculate_age(new Date(this.formGroup.value.dateOfBirth.split("-").reverse().join("-"))),s=1.05*Number(this.fnaService.mathRoundTo(this.currentIncome,2).replace(/,/g,""))^e,u=.8*s,G=1.35*u,Ie=this.fnaService.mathRoundTo(s,2),Me=this.fnaService.mathRoundTo(u,2),be=this.fnaService.mathRoundTo(G,2);this.formGroup.controls.retirementIncome.setValue(s),this.formGroup.controls.retirementSaving.setValue(u),this.formGroup.controls.retirementSavingSpouse.setValue(G),this.formGroup.controls.retirementIncomeText.setValue(Ie),this.formGroup.controls.retirementSavingText.setValue(Me),this.formGroup.controls.retirementSavingSpouseText.setValue(be)}calculate_age(e){var n=Date.now()-e.getTime(),i=new Date(n);return Math.abs(i.getUTCFullYear()-1970)}formatDateYYYYMMDD(e){var n=new Date(e.split("/").reverse().join("/")),i=""+(n.getMonth()+1),s=""+n.getDate(),u=n.getFullYear();return i.length<2&&(i="0"+i),s.length<2&&(s="0"+s),[u,i,s].join("-")}formatDateDDMMYYY(e){var n=new Date(e),i=""+(n.getMonth()+1),s=""+n.getDate(),u=n.getFullYear();return i.length<2&&(i="0"+i),s.length<2&&(s="0"+s),[s,i,u].join("/")}viewAll(){this.fnaService.fnaRetirementSaving&&this.fnaService.openModal("RetirementSaving")}doValid(e){if("dateOfBirth"==e&&this.formGroup.controls.dateOfBirth.value){let i=H(this.formGroup.controls.dateOfBirth.value).add(0,"years");this.toMaxDate={year:parseInt(i.format("YYYY")),month:parseInt(i.format("M")),day:parseInt(i.format("D"))},this.formGroup.controls.dateOfBirth.setValue(i.format("YYYY-MM-DD"))}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.qu),t.Y36(t.sBO),t.Y36(k.c),t.Y36(Ht),t.Y36(A.T))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-retirement"]],inputs:{retirement:"retirement",fnaId:"fnaId",customerDob:"customerDob",customerId:"customerId"},outputs:{changeAnalysis:"changeAnalysis"},decls:65,vars:26,consts:[[1,"card-label","left-border-image"],["action","#",1,"form",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12",2,"padding-left","26px","margin","5px 0"],[1,"set"],[1,"col-4"],[1,"form-group"],[1,"form-label"],[1,"col-8"],[1,"input-group"],["type","text","readonly","","autocomplete","off","formControlName","dateOfBirth",1,"form-control","form-control-sm","form-control-md"],[1,"col-7",2,"padding","0","float","left"],["type","number","autocomplete","off","formControlName","retirementAge",1,"form-control","form-control-sm","form-control-md"],[1,"col-5",2,"float","right","padding","0"],["type","button",1,"btn","btn-primary","btn-elevate",2,"float","left","width","auto","margin-left","10px",3,"disabled","click"],["type","text","readonly","true","name","retirementIncomeText","autocomplete","off","formControlName","retirementIncomeText",1,"form-control","form-control-sm"],["type","text","readonly","true","name","retirementSavingText","autocomplete","off","formControlName","retirementSavingText",1,"form-control","form-control-sm"],["type","text","readonly","true","name","retirementSavingSpouseText","autocomplete","off","formControlName","retirementSavingSpouseText",1,"form-control","form-control-sm"],[1,"btn-about","col-12"],["type","button","class","btn btn-primary btn-elevate mx-2","style","width: auto; margin-bottom: 10px;",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-elevate",2,"width","auto","margin-bottom","10px",3,"click"],["type","submit",1,"btn","btn-primary","btn-elevate","mx-2",2,"margin-bottom","10px",3,"disabled"],["type","button",1,"btn","btn-primary","btn-elevate","mx-2",2,"width","auto","margin-bottom","10px",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h3",0),t._uU(2,"Retirement Savings"),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return n.saveRetirement()}),t.TgZ(4,"div",2),t.TgZ(5,"div",3),t._uU(6,"Information on children's age and university years collected earlier"),t.qZA(),t.qZA(),t.TgZ(7,"div",4),t.TgZ(8,"div",2),t.TgZ(9,"div",5),t.TgZ(10,"div",6),t.TgZ(11,"label",7),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",8),t.TgZ(15,"div",6),t.TgZ(16,"div",9),t._UZ(17,"input",10),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",2),t.TgZ(19,"div",5),t.TgZ(20,"div",6),t.TgZ(21,"label",7),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",8),t.TgZ(25,"div",11),t.TgZ(26,"div",6),t._UZ(27,"input",12),t.qZA(),t.qZA(),t.TgZ(28,"div",13),t.TgZ(29,"div",6),t.TgZ(30,"button",14),t.NdJ("click",function(){return n.calculate()}),t._uU(31,"Calculate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",2),t.TgZ(33,"div",5),t.TgZ(34,"div",6),t.TgZ(35,"label",7),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"div",8),t.TgZ(39,"div",6),t._UZ(40,"input",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(41,"div",2),t.TgZ(42,"div",5),t.TgZ(43,"div",6),t.TgZ(44,"label",7),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(47,"div",8),t.TgZ(48,"div",6),t._UZ(49,"input",16),t.qZA(),t.qZA(),t.qZA(),t.TgZ(50,"div",2),t.TgZ(51,"div",5),t.TgZ(52,"div",6),t.TgZ(53,"label",7),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",8),t._UZ(57,"input",17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(58,"div",18),t.YNc(59,Qt,2,0,"button",19),t.TgZ(60,"button",20),t.NdJ("click",function(){return n.backAction()}),t._uU(61,"Back Main Page"),t.qZA(),t.TgZ(62,"button",21),t._uU(63),t.ALo(64,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Q6J("formGroup",n.formGroup),t.xp6(9),t.Oqu(t.lcZ(13,14,"FORM.date_of_birth")),t.xp6(10),t.Oqu(t.lcZ(23,16,"FORM.retirement_age")),t.xp6(5),t.ekj("is-invalid",n.isControlInvalid("retirementAge"))("is-valid",n.isControlValid("retirementAge")),t.xp6(3),t.Q6J("disabled",!n.currentIncome),t.xp6(6),t.Oqu(t.lcZ(37,18,"FORM.pre_retirement_income")),t.xp6(9),t.Oqu(t.lcZ(46,20,"FORM.retirement_savings_required")),t.xp6(9),t.Oqu(t.lcZ(55,22,"FORM.retirement_savings_incl_spouse")),t.xp6(5),t.Q6J("ngIf",n.fnaService.fnaRetirementSaving),t.xp6(3),t.Q6J("disabled",!n.isCalculate),t.xp6(1),t.Oqu(t.lcZ(64,24,"FORM.btn_save")))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.wV,h.O5],pipes:[M.X],styles:[".btn-about[_ngcontent-%COMP%]{text-align:end;padding:0;margin-top:150px}.btn-about[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0!important}h3[_ngcontent-%COMP%]{font-size:.9rem}.col-4[_ngcontent-%COMP%]{padding-left:26px}.col-4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red;display:inline-block;padding:0 0 0 5px}button[_ngcontent-%COMP%]{width:120px}"]}),o})();var nt,zt=c(90949);nt||(nt={});class X{constructor(){this.protect=!1}}const R=`${O.N.apiUrl}/fna`;let Wt=(()=>{class o extends D.i{constructor(e){super(e,R),this.httpClient=e}getAllAsset(e){return this.httpClient.get(R+"/"+e+"/asset")}saveAsset(e){return this.httpClient.post(R+"/asset",e)}deleteAssetById(e){return this.httpClient.delete(R+"/asset/"+e)}updateAsset(e){return this.httpClient.put(R+"/asset/",e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(N.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Kt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"a",21),t.NdJ("click",function(){return t.CHM(e),t.oxw().deleteAsset()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"FORM.btn_delete")))}function Xt(o,r){if(1&o&&(t.TgZ(0,"option",10),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.typeCode),t.xp6(1),t.hij("",e.typeValue," ")}}function $t(o,r){if(1&o&&(t.TgZ(0,"div",2),t.TgZ(1,"div",3),t.TgZ(2,"div",7),t.TgZ(3,"label",8),t._uU(4),t.ALo(5,"translate"),t.TgZ(6,"span"),t._uU(7,"*"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",5),t.TgZ(9,"div",7),t._UZ(10,"input",22),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,5,"FORM.please_specify")),t.xp6(6),t.ekj("is-invalid",e.isControlInvalid("remark"))("is-valid",e.isControlValid("remark"))}}function te(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){return t.CHM(e),t.oxw().viewAll()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"FORM.view_all")))}function ee(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){return t.CHM(e),t.oxw().backToStartAction()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"FORM.back_main_page")))}function ne(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){return t.CHM(e),t.oxw().backAction()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"FORM.btn_back")))}function oe(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){return t.CHM(e),t.oxw().addChild()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",!e.formGroup.value.id),t.xp6(1),t.hij(" ",t.lcZ(2,2,"FORM.add_asset"),"")}}function ie(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){return t.CHM(e),t.oxw().addChild()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"FORM.btn_next")))}let ae=(()=>{class o{constructor(e,n,i,s,u){this.fb=e,this.cdf=n,this.alertService=i,this.fnaAssetService=s,this.fnaService=u,this.fnaAssets=null,this.fnaId=null,this.customerId=null,this.changeAnalysis=new t.vpe,this.selectedIndex=0,this.assects=new Array,this.assectDto=new X,this.objIndex=null,this.index=0,this.isNext=!0,this.isAssetType=!1,this.products=[],this.assectTypes=[{typeCode:"building",typeValue:"Building"},{typeCode:"motor",typeValue:"Motor"},{typeCode:"others",typeValue:"Others"}]}ngOnInit(){this.loadForm(),this.assectDto.fnaId=this.fnaId,this.fnaService.fnaAssect&&(this.assects=this.fnaService.fnaAssect,x.k.FNA_DETAIL_LIST=this.assects),this.fnaService.fnaUpdateProducts&&(this.products=this.fnaService.fnaUpdateProducts),this.getAllAsset(),this.checkNextChild()}getAllAsset(){this.assects.length>0&&(0==this.selectedIndex?(this.assectDto=this.assects[0],this.assectDto.costText=this.fnaService.mathRoundTo(this.assects[0].cost,2)):(this.assectDto=this.assects[this.selectedIndex],this.assectDto?this.assectDto.costText=this.fnaService.mathRoundTo(this.assects[this.selectedIndex].cost,2):this.assectDto=new X),this.loadForm(),this.cdf.detectChanges())}saveAsset(){return(0,d.mG)(this,void 0,void 0,function*(){if("others"==this.formGroup.value.assetType?this.addValidate("remark"):this.removeValidate("remark"),this.formGroup.invalid)(0,E.w)(this.formGroup);else{if("others"!=this.formGroup.value.assetType&&(this.formGroup.value.remark=""),"motor"==this.formGroup.value.assetType||"building"==this.formGroup.value.assetType){"motor"==this.formGroup.value.assetType&&this.products.push.apply(this.products,this.fnaService.getFNAProduct("Asset","Motor")),"building"==this.formGroup.value.assetType&&this.products.push.apply(this.products,this.fnaService.getFNAProduct("Asset","Fire")),this.products=this.removeDuplicates(this.products),this.fnaService.fnaUpdateProducts.concat(this.products);let e={customerId:this.customerId,fnaType:"LPP",grandDiscount:0,highDiscount:0,id:this.fnaId,products:this.products};yield this.fnaService.updateFNAProduct(e).toPromise().then(n=>{})}this.formGroup.value.id?yield this.fnaAssetService.updateAsset(this.formGroup.value).toPromise().then(e=>{e&&(this.assects[this.selectedIndex]=this.formGroup.value,this.alertService.activate("This record was updated","Success Message"))}):yield this.fnaAssetService.saveAsset(this.formGroup.value).toPromise().then(e=>{e&&(this.assects[this.selectedIndex]=this.formGroup.value,this.assects[this.selectedIndex].id=e,this.assectDto=new X,this.loadForm(),this.alertService.activate("This record was created","Success Message"))}),this.getAllAsset()}this.checkNextChild(),x.k.FNA_DETAIL_LIST=this.assects})}removeDuplicates(e){let i=new Set(e).values();return Array.from(i)}backAction(){this.isNext=!1,0==this.selectedIndex?this.changeAnalysis.emit("aboutLLP"):(this.selectedIndex--,this.assectDto=this.assects[this.selectedIndex],this.loadForm()),this.checkNextChild()}loadForm(){this.formGroup=new a.cw({assetType:new a.NI(this.assectDto.assetType),cost:new a.NI(this.assectDto.cost||null,[a.kI.required,a.kI.nullValidator]),costText:new a.NI(this.assectDto.costText||null,[a.kI.required,a.kI.nullValidator]),fnaId:new a.NI(this.assectDto.fnaId),id:new a.NI(this.assectDto.id||0),protect:new a.NI(this.assectDto.protect),remark:new a.NI(this.assectDto.remark||""),createdAt:new a.NI(this.assectDto.createdAt||""),updatedAt:new a.NI(this.assectDto.updatedAt||"")}),this.formGroup.controls.fnaId.setValue(this.fnaId),this.cdf.detectChanges()}isControlValid(e){const n=this.formGroup.controls[e];return n.valid&&(n.dirty||n.touched)}isControlInvalid(e){const n=this.formGroup.controls[e];return n.invalid&&(n.dirty||n.touched)}deleteAsset(){return(0,d.mG)(this,void 0,void 0,function*(){this.alertService.activate("Are you sure want to delete?","Warning Message").then(e=>(0,d.mG)(this,void 0,void 0,function*(){if(e){let n=[];this.assectDto.id&&(yield this.fnaAssetService.deleteAssetById(this.assectDto.id).toPromise().then(i=>(0,d.mG)(this,void 0,void 0,function*(){if(i){if(("motor"==this.formGroup.value.assetType||"building"==this.formGroup.value.assetType)&&("motor"==this.formGroup.value.assetType&&(n=this.assects.filter(s=>"motor"==s.assetType),1==n.length&&(this.products=this.products.filter(s=>s!==this.fnaService.getFNAProduct("Asset","Motor")[0]))),"building"==this.formGroup.value.assetType&&(n=this.assects.filter(s=>"building"==s.assetType),1==n.length&&(this.products=this.products.filter(s=>s!==this.fnaService.getFNAProduct("Asset","Fire")[0]))),1==n.length)){this.products=this.removeDuplicates(this.products),this.fnaService.fnaUpdateProducts.concat(this.products);let s={customerId:this.customerId,fnaType:"LPP",grandDiscount:0,highDiscount:0,id:this.fnaId,products:this.products};yield this.fnaService.updateFNAProduct(s).toPromise().then(u=>{})}this.assects=this.assects.filter(s=>s.id!==this.assectDto.id),this.getAllAsset()}})),this.checkNextChild(),x.k.FNA_DETAIL_LIST=this.assects)}}))})}updateCommaInput(e){var n=this.fnaService.getNumber(e.target.value);0==n?(this.formGroup.controls.cost.setValue(""),this.formGroup.controls.costText.setValue("")):(this.formGroup.controls.cost.setValue(n),this.formGroup.controls.costText.setValue(n.toLocaleString()))}addAssets(e){let n={typeCode:"",typeValue:""};"motor"==e&&(n.typeCode="motor",n.typeValue="Motor"),"building"==e&&(n.typeCode="building",n.typeValue="Building"),"others"==e&&(n.typeCode="others",n.typeValue="Others"),this.assectTypes.push(n)}backToStartAction(){this.changeAnalysis.emit("aboutLLP")}viewAll(){this.assects.length>0&&this.fnaService.openModal("Asset")}addChild(){this.selectedIndex++,this.getAllAsset()}removeValidate(e){this.formGroup.get(e).clearValidators(),this.formGroup.get(e).updateValueAndValidity()}addValidate(e){this.formGroup.get(e).setValidators([a.kI.required]),this.formGroup.get(e).updateValueAndValidity()}checkNextChild(){this.nextCount=this.assects.length}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.qu),t.Y36(t.sBO),t.Y36(k.c),t.Y36(Wt),t.Y36(A.T))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-asset"]],viewQuery:function(e,n){if(1&e&&t.Gf(zt.I,5),2&e){let i;t.iGM(i=t.CRH())&&(n.matTable=i.first)}},inputs:{fnaAssets:"fnaAssets",fnaId:"fnaId",customerId:"customerId"},outputs:{changeAnalysis:"changeAnalysis"},decls:60,vars:37,consts:[["action","#",1,"form",3,"formGroup"],[1,"card-label","left-border-image"],[1,"row","form-group"],[1,"col-4"],[1,"form-label","sub-title"],[1,"col-8"],["class"," delete",3,"click",4,"ngIf"],[1,"form-group"],[1,"form-label"],["autocomplete","off","formControlName","assetType","name","builder[layout][subheader][layoutVersion]",1,"form-control","form-control-sm"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["class","row form-group",4,"ngIf"],["formControlName","protect"],[1,"example-margin",3,"value"],["type","text","autocomplete","off","formControlName","costText",1,"form-control","form-control-sm","form-control-md",3,"keyup"],[1,"btn-about"],["type","button","class","btn btn-primary btn-elevate mx-2","style","margin-bottom: 10px;",3,"click",4,"ngIf"],["type","button","class","btn btn-primary btn-elevate mx-2","style","width: auto; margin-bottom: 10px;",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-elevate","mx-2",2,"margin-bottom","10px",3,"click"],["type","button","class","btn btn-primary btn-elevate mx-2","style","width: auto; margin-bottom: 10px;",3,"disabled","click",4,"ngIf"],[1,"delete",3,"click"],["type","text","autocomplete","off","formControlName","remark",1,"form-control","form-control-sm","form-control-md"],["type","button",1,"btn","btn-primary","btn-elevate","mx-2",2,"width","auto","margin-bottom","10px",3,"click"],["type","button",1,"btn","btn-primary","btn-elevate","mx-2",2,"width","auto","margin-bottom","10px",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"form",0),t.TgZ(2,"h3",1),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div"),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"div",5),t.YNc(11,Kt,3,3,"a",6),t.qZA(),t.qZA(),t.TgZ(12,"div",2),t.TgZ(13,"div",3),t.TgZ(14,"div",7),t.TgZ(15,"label",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",5),t.TgZ(19,"div",7),t.TgZ(20,"select",9),t.TgZ(21,"option",10),t._uU(22,"Please Select"),t.qZA(),t.YNc(23,Xt,2,2,"option",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(24,$t,11,7,"div",12),t.TgZ(25,"div",2),t.TgZ(26,"div",3),t.TgZ(27,"div",7),t.TgZ(28,"label",8),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"div",5),t.TgZ(32,"div",7),t.TgZ(33,"mat-radio-group",13),t.TgZ(34,"mat-radio-button",14),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"mat-radio-button",14),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"div",2),t.TgZ(41,"div",3),t.TgZ(42,"div",7),t.TgZ(43,"label",8),t._uU(44),t.ALo(45,"translate"),t.TgZ(46,"span"),t._uU(47,"*"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(48,"div",5),t.TgZ(49,"div",7),t.TgZ(50,"input",15),t.NdJ("keyup",function(s){return n.updateCommaInput(s)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(51,"div",16),t.YNc(52,te,3,3,"button",17),t.YNc(53,ee,3,3,"button",18),t.YNc(54,ne,3,3,"button",17),t.TgZ(55,"button",19),t.NdJ("click",function(){return n.saveAsset()}),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.YNc(58,oe,3,4,"button",20),t.YNc(59,ie,3,3,"button",17),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("formGroup",n.formGroup),t.xp6(2),t.Oqu(t.lcZ(4,23,"FORM.asset")),t.xp6(6),t.hij("Asset ",n.selectedIndex+1,""),t.xp6(2),t.Q6J("ngIf",n.selectedIndex>0),t.xp6(5),t.Oqu(t.lcZ(17,25,"FORM.asset_type")),t.xp6(7),t.Q6J("ngForOf",n.assectTypes),t.xp6(1),t.Q6J("ngIf","others"==n.formGroup.value.assetType),t.xp6(5),t.Oqu(t.lcZ(30,27,"FORM.with_insurance_protection")),t.xp6(5),t.Q6J("value",!0),t.xp6(1),t.hij("",t.lcZ(36,29,"FORM.rad_yes")," "),t.xp6(2),t.Q6J("value",!1),t.xp6(1),t.hij("",t.lcZ(39,31,"FORM.rad_no")," "),t.xp6(6),t.hij("",t.lcZ(45,33,"FORM.replacement_purchase_cost")," "),t.xp6(6),t.ekj("is-invalid",n.isControlInvalid("costText"))("is-valid",n.isControlValid("costText")),t.xp6(2),t.Q6J("ngIf",0==n.selectedIndex&&n.assects.length>0),t.xp6(1),t.Q6J("ngIf",n.selectedIndex>=0),t.xp6(1),t.Q6J("ngIf",n.selectedIndex>0),t.xp6(2),t.Oqu(t.lcZ(57,35,"FORM.btn_save")),t.xp6(2),t.Q6J("ngIf",n.selectedIndex+1>=n.nextCount),t.xp6(1),t.Q6J("ngIf",n.selectedIndex+1<n.nextCount))},directives:[a._Y,a.JL,a.sg,h.O5,a.EJ,a.JJ,a.u,a.YN,a.Kr,h.sg,q.VQ,q.U0,a.Fj],pipes:[M.X],styles:[".btn-about[_ngcontent-%COMP%]{text-align:end;padding:0;margin-top:150px}.btn-about[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0!important}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-size:.9rem}.add-child[_ngcontent-%COMP%]{float:left}.col-4[_ngcontent-%COMP%]{padding-left:26px}.col-4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red;display:inline-block;padding:0 0 0 5px}.delete[_ngcontent-%COMP%]{display:inline-block;color:#005f99!important;text-decoration:underline;font-size:.9rem}button[_ngcontent-%COMP%]{width:120px}.sub-title[_ngcontent-%COMP%]{color:#005f99!important}"]}),o})();const ot=function(o){return{"background-color":o}};function se(o,r){if(1&o&&(t.TgZ(0,"div",21),t.TgZ(1,"div"),t.TgZ(2,"button",22),t.TgZ(3,"label"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.TgZ(6,"button",22),t.TgZ(7,"label"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.VKq(8,ot,"aboutLLP"===e.fnaSwitch?"#005f99":"#A6A6A6")),t.xp6(2),t.Oqu(t.lcZ(5,4,"FORM.about_lpp")),t.xp6(2),t.Q6J("ngStyle",t.VKq(10,ot,"product"===e.fnaSwitch?"#005f99":"#A6A6A6")),t.xp6(2),t.Oqu(t.lcZ(9,6,"FORM.product_recommendation"))}}function re(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"app-llp-analysis",23),t.NdJ("change",function(i){return t.CHM(e),t.oxw().fnaEvent(i)}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("aboutLLP",e.aboutLLP)("customerId",e.customerId)}}function le(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"app-product-analysis",24),t.NdJ("changeProduct",function(i){return t.CHM(e),t.oxw().changeProduct(i)}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("fnaId",e.oldId)("customerId",e.customerId)("passValue",e.passValue)("product",e.product)}}function ce(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"app-education",25),t.NdJ("changeAnalysis",function(i){return t.CHM(e),t.oxw().fnaEvent(i)}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("fnaId",e.oldId)("customerId",e.customerId)("education",e.education)}}function ue(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"app-health",26),t.NdJ("changeAnalysis",function(i){return t.CHM(e),t.oxw().fnaEvent(i)}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("fnaId",e.oldId)("customerId",e.customerId)("health",e.health)}}function de(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"app-income",27),t.NdJ("changeAnalysis",function(i){return t.CHM(e),t.oxw().fnaEvent(i)}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("fnaId",e.oldId)("customerId",e.customerId)("fnaIncome",e.fnaIncome)}}function he(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"app-retirement",28),t.NdJ("changeAnalysis",function(i){return t.CHM(e),t.oxw().fnaEvent(i)}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("fnaId",e.oldId)("customerId",e.customerId)("retirement",e.retirement)("customerDob",e.passValue.customerDob)}}function pe(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"app-asset",29),t.NdJ("changeAnalysis",function(i){return t.CHM(e),t.oxw().fnaEvent(i)}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("fnaId",e.oldId)("customerId",e.customerId)("fnaAssets",e.fnaAssets)}}const me=function(o){return{height:o}},fe=function(o){return{bottom:o}},ge=function(o){return{color:o}};let _e=(()=>{class o{constructor(e,n,i,s,u){this.route=e,this.modalService=n,this.datepipe=i,this.cdf=s,this.fnaService=u,this.fnaSwitch="aboutLLP",this.selected="",this.product={id:123},this.education={},this.health={},this.income={},this.retirement={},this.asset={},this.freedom=[],this.fnaIncome=null,this.fnaAssets=[],this.fnaEducations=null,this.bgColor="progress-middle",this.percentage="",this.totalPercentage=0,this.fnaHealths=[],this.fnaRetirementSaving=null,this.fnaProduct=[],this.passValue={customerName:"",customerDob:"",conductedBy:"",createdAt:"",createdByName:"",leadId:""},this.percentageText=0,this.totalPercentageText=""}ngOnInit(){this.route.queryParams.subscribe(e=>(0,d.mG)(this,void 0,void 0,function*(){let n=JSON.parse(e.passValue);this.leadId=n.leadId,this.fnaId=n.fnaId,this.passValue=n,this.oldId=n.fnaId,this.customerId=n.customerId,this.aboutLLP=this.oldId,"create"!=n.pageStatus&&this.oldId&&(yield this.getFNAById())}))}getFNAById(){return(0,d.mG)(this,void 0,void 0,function*(){this.isValue=!1,this.fnaProduct=[],this.fnaService.fnaUpdateProducts=[],this.fnaService.fnaIncome=new w.V,this.fnaService.fnaRetirementSaving=new v.E,this.fnaService.fnaHealths=new Array,this.fnaService.fnaEducations=new Array,this.fnaService.fnaAssect=new Array,this.fnaService.fnaProduct=new Array,this.fnaService.percentage="",this.fnaService.totalPercentageText="",this.fnaService.bgColor="",this.fnaService.fnaUpdateProducts=new Array,this.fnaService.fnaTextColor=null,yield this.fnaService.findOne(this.oldId).toPromise().then(e=>{e&&(e.fnaAssets.length>0&&e.fnaEducations.length&&e.fnaHealths.length>0&&null!=e.fnaIncome&&null!=e.fnaRetirementSaving&&this.freedom.push({hasData:!0}),this.leadId=e.leadId,this.fnaId=e.id,this.fnaIncome=e.fnaIncome,this.fnaService.fnaIncome=e.fnaIncome,this.fnaRetirementSaving=e.fnaRetirementSaving,this.fnaService.fnaRetirementSaving=this.fnaRetirementSaving,this.fnaHealths=e.fnaHealths,this.fnaService.fnaHealths=this.fnaHealths,this.fnaAssets=e.fnaAssets,this.fnaService.fnaAssect=this.fnaAssets,this.fnaProduct=e.products,this.fnaService.fnaProduct=this.fnaProduct,this.fnaEducations=e.fnaEducations,0==this.fnaEducations.length?(this.fnaService.fnaHealths=this.fnaHealths,this.fnaService.fnaEducations=[]):(this.fnaService.fnaEducations=this.fnaEducations,this.fnaService.fnaHealths=[]),this.fnaService.fnaUpdateProducts=this.fnaProduct,this.fnaAssets.length>0&&(this.totalPercentage+=20),this.fnaEducations.length>0&&(this.totalPercentage+=20),this.fnaHealths.length>0&&(this.totalPercentage+=20),this.fnaIncome&&(this.totalPercentage+=20),this.fnaRetirementSaving&&(this.totalPercentage+=20),this.percentage=this.totalPercentage.toString()+"%",(20==this.totalPercentage||40==this.totalPercentage||60==this.totalPercentage||80==this.totalPercentage||100==this.totalPercentage)&&(this.percentageText=-50),this.totalPercentageText=this.percentageText.toString()+"%",0==this.totalPercentage?(this.bgColor="progress-lower",this.fnaTextColor=null):100==this.totalPercentage?(this.bgColor="progress-upper",this.fnaTextColor=100):(this.bgColor="progress-middle",this.fnaTextColor=null)),this.cdf.detectChanges(),this.isValue=!0})})}fnaEvent(e){"product"==e||"aboutLLP"==e?(this.fnaSwitch=e,this.selected="",this.percentage=this.fnaService.percentage,this.totalPercentageText=this.fnaService.totalPercentageText,this.bgColor=this.fnaService.bgColor,this.fnaTextColor=this.fnaService.fnaTextColor):(this.selected=e,this.fnaSwitch=e)}changeProduct(e){this.fnaSwitch=e}saveFNA(){return(0,d.mG)(this,void 0,void 0,function*(){yield this.fnaService.saveFNA("").toPromise().then(e=>{e&&(this.pageStatus="edit",this.oldId=e,this.aboutLLP=this.oldId)})})}formatDateYYYYMMDD(e){var n=new Date(e.split("/").reverse().join("/")),i=""+(n.getMonth()+1),s=""+n.getDate(),u=n.getFullYear();return i.length<2&&(i="0"+i),s.length<2&&(s="0"+s),[u,i,s].join("-")}convertDateFormatDDMMYYY(e){var n=new Date(e);return String(n.getDate()).padStart(2,"0")+"/"+String(n.getMonth()+1).padStart(2,"0")+"/"+n.getFullYear()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.gz),t.Y36(g.FF),t.Y36(h.uU),t.Y36(t.sBO),t.Y36(A.T))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-fna-detail"]],features:[t._Bn([{provide:g.DO,useClass:_.mU},{provide:g.NG,useClass:_.ke}])],decls:51,vars:30,consts:[[1,"box-grid",2,"background","#fff","border","1px solid #d3cbcb"],[1,"financial-grid"],[2,"width","97%","border-bottom","medium dashed #d9d9d9"],[1,"card-label","left-border-image"],[1,"financial"],[2,"font-weight","bold"],[1,"fna-progress"],[1,"progress"],[2,"width","100%","height","100%",3,"ngClass","ngStyle"],[1,"sub-progress"],[1,"text-rotate",3,"ngStyle"],[3,"ngStyle"],[1,"chart-grid",3,"ngSwitch"],["class","fna-segment",4,"ngIf"],[3,"aboutLLP","customerId","change",4,"ngSwitchDefault"],[3,"fnaId","customerId","passValue","product","changeProduct",4,"ngSwitchCase"],[3,"fnaId","customerId","education","changeAnalysis",4,"ngSwitchCase"],[3,"fnaId","customerId","health","changeAnalysis",4,"ngSwitchCase"],[3,"fnaId","customerId","fnaIncome","changeAnalysis",4,"ngSwitchCase"],[3,"fnaId","customerId","retirement","customerDob","changeAnalysis",4,"ngSwitchCase"],[3,"fnaId","customerId","fnaAssets","changeAnalysis",4,"ngSwitchCase"],[1,"fna-segment"],["type","button",1,"btn",3,"ngStyle"],[3,"aboutLLP","customerId","change"],[3,"fnaId","customerId","passValue","product","changeProduct"],[3,"fnaId","customerId","education","changeAnalysis"],[3,"fnaId","customerId","health","changeAnalysis"],[3,"fnaId","customerId","fnaIncome","changeAnalysis"],[3,"fnaId","customerId","retirement","customerDob","changeAnalysis"],[3,"fnaId","customerId","fnaAssets","changeAnalysis"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Financial Needs Analysis"),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"div"),t.TgZ(7,"label",5),t._uU(8,"Opportunity ID :"),t.qZA(),t.TgZ(9,"label"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"div"),t.TgZ(12,"label",5),t._uU(13,"FNA ID :"),t.qZA(),t.TgZ(14,"label"),t._uU(15),t.qZA(),t.qZA(),t.TgZ(16,"div"),t.TgZ(17,"label",5),t._uU(18,"Customer :"),t.qZA(),t.TgZ(19,"label"),t._uU(20),t.qZA(),t.qZA(),t.TgZ(21,"div"),t.TgZ(22,"label",5),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"label"),t._uU(26),t.qZA(),t.qZA(),t.TgZ(27,"div"),t.TgZ(28,"label",5),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"label"),t._uU(32),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"div",6),t.TgZ(34,"div",7),t.TgZ(35,"span",8),t.TgZ(36,"span",9),t.TgZ(37,"div",10),t._uU(38),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",11),t.TgZ(40,"label"),t._uU(41,"FNA Progress "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",12),t.YNc(43,se,10,12,"div",13),t.YNc(44,re,1,2,"app-llp-analysis",14),t.YNc(45,le,1,4,"app-product-analysis",15),t.YNc(46,ce,1,3,"app-education",16),t.YNc(47,ue,1,3,"app-health",17),t.YNc(48,de,1,3,"app-income",18),t.YNc(49,he,1,4,"app-retirement",19),t.YNc(50,pe,1,3,"app-asset",20),t.qZA(),t.qZA()),2&e&&(t.xp6(10),t.Oqu(n.leadId),t.xp6(5),t.Oqu(n.fnaId),t.xp6(5),t.Oqu(n.passValue.customerName),t.xp6(3),t.hij("",t.lcZ(24,20,"FORM.create_by")," : "),t.xp6(3),t.Oqu(n.passValue.createdByName),t.xp6(3),t.hij("",t.lcZ(30,22,"FORM.create_date")," : "),t.xp6(3),t.Oqu(n.passValue.createdAt),t.xp6(3),t.Q6J("ngClass",n.bgColor)("ngStyle",t.VKq(24,me,n.percentage)),t.xp6(2),t.Q6J("ngStyle",t.VKq(26,fe,n.totalPercentageText)),t.xp6(1),t.Oqu(n.percentage),t.xp6(1),t.Q6J("ngStyle",t.VKq(28,ge,n.fnaTextColor?"#00acea":"#ff8100")),t.xp6(3),t.Q6J("ngSwitch",n.fnaSwitch),t.xp6(1),t.Q6J("ngIf",""==n.selected),t.xp6(2),t.Q6J("ngSwitchCase","product"),t.xp6(1),t.Q6J("ngSwitchCase","Education"),t.xp6(1),t.Q6J("ngSwitchCase","Health"),t.xp6(1),t.Q6J("ngSwitchCase","Income"),t.xp6(1),t.Q6J("ngSwitchCase","Retirement"),t.xp6(1),t.Q6J("ngSwitchCase","Asset"))},directives:[h.mk,h.PC,h.RF,h.O5,h.ED,h.n9,ct,vt,St,Vt,Jt,jt,ae],pipes:[M.X],styles:[".financial-grid[_ngcontent-%COMP%]{width:30%;float:left;overflow:hidden;border-right:1px solid #d3cbcb;position:relative}.financial-grid[_ngcontent-%COMP%]   .financial[_ngcontent-%COMP%]{position:relative}.financial-grid[_ngcontent-%COMP%]   .financial[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{overflow:hidden;color:#7f7f7f}.financial-grid[_ngcontent-%COMP%]   .financial[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:first-child{width:35%;text-align:right;padding-right:5%}.financial-grid[_ngcontent-%COMP%]   .financial[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:last-child{width:65%;text-align:left}.financial-grid[_ngcontent-%COMP%]   .financial[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3)   label[_ngcontent-%COMP%]:last-child{color:#ff8100}.chart-grid[_ngcontent-%COMP%]{width:70%;float:left;overflow:hidden;padding:5px!important}.box-grid[_ngcontent-%COMP%]{box-shadow:none;background-color:#f2f2f2;border-radius:13px;width:100%;overflow:hidden;padding:5px;background:#fff;border:2px solid #f2f2f2}.fna-segment[_ngcontent-%COMP%]{width:80%;margin:0 auto;overflow:hidden}.fna-segment[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:49%;color:#fff}.fna-segment[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{float:right}.btn-group[_ngcontent-%COMP%]{width:100%;overflow:hidden;padding-top:1rem}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%;color:#fff}.box-grid[_ngcontent-%COMP%]{box-shadow:none;background-color:#f2f2f2;border-radius:13px;width:100%;overflow:hidden;padding:5px}.progress[_ngcontent-%COMP%]{top:10px;left:10%;width:50%;height:55%;position:absolute;overflow:hidden;background-color:transparent;border-radius:0!important;text-align:center}.progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;position:absolute;bottom:0;width:100%}.sub-progress[_ngcontent-%COMP%]{animation:progressBar1 1s ease-in-out;animation-fill-mode:forwards}@keyframes progressBar1{0%{height:0}to{height:100%}}.text-rotate[_ngcontent-%COMP%]{color:#fff;position:relative;transform:rotate(0)}.fna-progress[_ngcontent-%COMP%]{position:relative;width:90px;height:345px;top:146px}.progress-lower[_ngcontent-%COMP%]{background:#cac9ca}.progress-middle[_ngcontent-%COMP%]{background:#ff8100}.progress-upper[_ngcontent-%COMP%]{background:#00acea}@media screen and (min-width: 320px) and (max-width: 780px){.financial-grid[_ngcontent-%COMP%]{width:100%}.financial-grid[_ngcontent-%COMP%]   .fna-progress[_ngcontent-%COMP%]{height:0}.chart-grid[_ngcontent-%COMP%]{width:100%}.financial-grid[_ngcontent-%COMP%]{border-right:none}.financial-grid[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:25%!important}.fna-progress[_ngcontent-%COMP%]{height:100%!important;position:absolute;overflow:hidden;background-color:transparent;border-radius:0!important;text-align:center;width:40px;left:unset;top:unset;right:0;bottom:0}.progress[_ngcontent-%COMP%]{width:100%!important;height:70%!important}}@media screen and (min-width: 320px) and (max-width: 1024px){.box-grid[_ngcontent-%COMP%]{padding:5px}.chart-grid[_ngcontent-%COMP%]{padding-left:5px!important}}@media screen and (min-width: 320px) and (max-width: 460px){.chart-grid[_ngcontent-%COMP%]{width:100%;padding:0!important}.fna-segment[_ngcontent-%COMP%]{width:100%}}@media screen and (min-width: 461px) and (max-width: 680px){.fna-segment[_ngcontent-%COMP%]{width:100%}}button[_ngcontent-%COMP%]{color:#fff}button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0}"]}),o})();var ve=c(26025),Q=c(44290),Ae=c(57730),xe=c(92118),Ze=c(47975),Ce=c(63699);let ye=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[A.T,h.uU,{provide:Q._A,useClass:xe.t7,deps:[Q.Ad]},{provide:Q.sG,useValue:Ze.Gs}],imports:[[h.ez,a.u5,a.UX,q.Fk,y.fA,g.M,ve.X,P.FA,Q.XK,Ae.c,Ce.j,K.lN,f.Bz.forChild([{path:"",component:_e}])]]}),o})()}}]);