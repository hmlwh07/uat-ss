"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8524,7975],{92118:(Y,D,a)=>{a.d(D,{t7:()=>A});var p=a(83668),r=a(44290),f=a(92070);const u=a.n(f)()||f,h=new p.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function y(l,M){const n=Array(l);for(let d=0;d<l;d++)n[d]=M(d);return n}let A=(()=>{class l extends r._A{constructor(n,d){super(),this._options=d,this.setLocale(n||u.locale())}setLocale(n){super.setLocale(n);let d=u.localeData(n);this._localeData={firstDayOfWeek:d.firstDayOfWeek(),longMonths:d.months(),shortMonths:d.monthsShort(),dates:y(31,T=>this.createDate(2017,0,T+1).format("D")),longDaysOfWeek:d.weekdays(),shortDaysOfWeek:d.weekdaysShort(),narrowDaysOfWeek:d.weekdaysMin()}}getYear(n){return this.clone(n).year()}getMonth(n){return this.clone(n).month()}getDate(n){return this.clone(n).date()}getDayOfWeek(n){return this.clone(n).day()}getMonthNames(n){return"long"==n?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(n){return"long"==n?this._localeData.longDaysOfWeek:"short"==n?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(n){return this.clone(n).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(n){return this.clone(n).daysInMonth()}clone(n){return n.clone().locale(this.locale)}createDate(n,d,T){const Z=this._createMoment({year:n,month:d,date:T}).locale(this.locale);return Z.isValid(),Z}today(){return this._createMoment().locale(this.locale)}parse(n,d){return n&&"string"==typeof n?this._createMoment(n,d,this.locale):n?this._createMoment(n).locale(this.locale):null}format(n,d){return n=this.clone(n),this.isValid(n),n.format(d)}addCalendarYears(n,d){return this.clone(n).add({years:d})}addCalendarMonths(n,d){return this.clone(n).add({months:d})}addCalendarDays(n,d){return this.clone(n).add({days:d})}toIso8601(n){return this.clone(n).format()}deserialize(n){let d;if(n instanceof Date)d=this._createMoment(n).locale(this.locale);else if(this.isDateInstance(n))return this.clone(n);if("string"==typeof n){if(!n)return null;d=this._createMoment(n,u.ISO_8601).locale(this.locale)}return d&&this.isValid(d)?this._createMoment(d).locale(this.locale):super.deserialize(n)}isDateInstance(n){return u.isMoment(n)}isValid(n){return this.clone(n).isValid()}invalid(){return u.invalid()}_createMoment(n,d,T){const{strict:Z,useUtc:I}=this._options||{};return I?u.utc(n,d,T,Z):u(n,d,T,Z)}}return l.\u0275fac=function(n){return new(n||l)(p.LFG(r.Ad,8),p.LFG(h,8))},l.\u0275prov=p.Yz7({token:l,factory:l.\u0275fac}),l})()},85472:(Y,D,a)=>{a.d(D,{Z:()=>r});var p=a(83668);let r=(()=>{class f{constructor(u){this.el=u}ngOnInit(){for(var u=this.el.nativeElement,h=u.parentElement;u.firstChild;)h.insertBefore(u.firstChild,u);h.removeChild(u)}}return f.\u0275fac=function(u){return new(u||f)(p.Y36(p.SBq))},f.\u0275dir=p.lG2({type:f,selectors:[["","remove-host",""]]}),f})()},15470:(Y,D,a)=>{a.d(D,{Q:()=>E});var p=a(92118),r=a(44290),f=a(47975),e=a(83668),u=a(86019),h=a(49133),t=a(78480);function y(m,_){if(1&m){const i=e.EpF();e.TgZ(0,"div",2),e.TgZ(1,"div",3),e.TgZ(2,"label",4),e._uU(3,"Start Date"),e.qZA(),e.TgZ(4,"div",5),e.TgZ(5,"div",6),e._UZ(6,"input",7),e._UZ(7,"mat-datepicker-toggle",8),e._UZ(8,"mat-datepicker",9,10),e.TgZ(10,"span",11),e.NdJ("click",function(){return e.CHM(i),e.oxw().clearDate("startDate")}),e.TgZ(11,"span",12),e._uU(12,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&m){const i=e.MAs(9),l=e.oxw();e.Q6J("ngClass",l.colClass)("formGroup",l.formInput),e.xp6(6),e.Q6J("matDatepicker",i),e.xp6(1),e.Q6J("for",i)}}function A(m,_){if(1&m){const i=e.EpF();e.TgZ(0,"div",13),e.TgZ(1,"div",3),e.TgZ(2,"label",4),e._uU(3,"End Date"),e.qZA(),e.TgZ(4,"div",5),e.TgZ(5,"div",6),e._UZ(6,"input",14),e._UZ(7,"mat-datepicker-toggle",8),e._UZ(8,"mat-datepicker",9,15),e.TgZ(10,"span",11),e.NdJ("click",function(){return e.CHM(i),e.oxw().clearDate("endDate")}),e.TgZ(11,"span",12),e._uU(12,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&m){const i=e.MAs(9),l=e.oxw();e.Q6J("ngClass",l.colClass)("formGroup",l.formInput),e.xp6(6),e.Q6J("matDatepicker",i),e.xp6(1),e.Q6J("for",i)}}let E=(()=>{class m{constructor(){}ngOnInit(){console.log("data--\x3e ",this.formInput),this.getoneMonth()}clearDate(i){this.formInput.controls[i].setValue(null)}getoneMonth(){let i=new Date,l=new Date(i.setMonth(i.getMonth()-1)),M=new Date(i.setMonth(i.getMonth()+1));this.formInput.controls.startDate.setValue(l.toISOString()),this.formInput.controls.endDate.setValue(M.toISOString())}}return m.\u0275fac=function(i){return new(i||m)},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-start-end-date"]],inputs:{formInput:"formInput",colClass:"colClass"},features:[e._Bn([{provide:r._A,useClass:p.t7,deps:[r.Ad]},{provide:r.sG,useValue:f.Gs}])],decls:2,vars:2,consts:[["ng","",3,"ngClass","formGroup",4,"ngIf"],[3,"ngClass","formGroup",4,"ngIf"],["ng","",3,"ngClass","formGroup"],[1,"form-group","row"],[1,"col-sm-4","col-form-label"],[1,"col-sm-8"],[1,"input-group"],["matInput","","formControlName","startDate","readonly","",1,"form-control-sm","date-input",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["startDate",""],["title","Clear all",1,"ng-clear-wrapper",3,"click"],["aria-hidden","true",1,"ng-clear"],[3,"ngClass","formGroup"],["matInput","","formControlName","endDate","readonly","",1,"form-control-sm","date-input",3,"matDatepicker"],["endDate",""]],template:function(i,l){1&i&&(e.YNc(0,y,13,4,"div",0),e.YNc(1,A,13,4,"div",1)),2&i&&(e.Q6J("ngIf",l.formInput),e.xp6(1),e.Q6J("ngIf",l.formInput))},directives:[u.O5,u.mk,h.JL,h.sg,h.Fj,t.hl,h.JJ,h.u,t.nW,t.Mq],styles:[".input-group[_ngcontent-%COMP%]   .form-control-sm[_ngcontent-%COMP%]{background-color:#fff;background-clip:padding-box;border:1px solid #E4E6EF;padding:0 .75rem;width:100%}.input-group[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;right:5px;top:-2px}.remove-p[_ngcontent-%COMP%]{margin-bottom:0}.col-form-label[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.form-group.row[_ngcontent-%COMP%]{align-items:center}.ng-clear-wrapper[_ngcontent-%COMP%]   .ng-clear[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:3rem;top:.3rem;font-size:1.2rem;color:#999}.ng-clear-wrapper[_ngcontent-%COMP%]   .ng-clear[_ngcontent-%COMP%]:hover{color:#d0021b}"]}),m})()},47975:(Y,D,a)=>{function p(u){try{JSON.parse(u)}catch(h){return!1}return!0}a.d(D,{cU:()=>p,Gs:()=>r,Ny:()=>e});const r={parse:{dateInput:"DD-MM-YYYY"},display:{dateInput:"DD-MM-YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},e={parse:{dateInput:"MM-YYYY"},display:{dateInput:"MM-YYYY",monthYearLabel:"MM-YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MM-YYYY"}}},53489:(Y,D,a)=>{a.d(D,{w:()=>r});var p=a(49133);function r(f){Object.keys(f.controls).forEach(e=>{const u=f.get(e);u instanceof p.NI?u.markAsTouched({onlySelf:!0}):u instanceof p.cw&&this.validateAllFields(u)})}},78524:(Y,D,a)=>{a.r(D),a.d(D,{CurrencyExChangeModule:()=>N});var p=a(86019),r=a(49133),f=a(92118),e=a(44290),u=a(47975),h=a(90949),t=a(83668),y=a(54753),A=a(53489),E=a(92070),m=a(26697),_=a(85378),i=a(78480);function l(g,C){if(1&g){const o=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){return t.CHM(o),t.oxw().modal.dismissAll()}),t._uU(1,"Close"),t.qZA()}}let M=(()=>{class g{constructor(o,s,c){this.masterDataService=o,this.modal=s,this.cdf=c,this.currencyType=[],this.isModal=!1,this.isEdit=!1,this.oldData={},this.formSubmit=new t.vpe}ngOnInit(){this.formGroup=new r.cw({type:new r.NI(this.oldData.type||"usd",[r.kI.required]),amount:new r.NI(this.oldData.amount||null,[r.kI.required]),date:new r.NI(this.oldData.date?E(this.oldData.date):null,[r.kI.required])})}ngAfterViewInit(){this.getType()}getType(){this.masterDataService.getDataByType("CURRENCY_TYPE").pipe((0,y.U)(o=>o.map(s=>s.codeId))).toPromise().then(o=>{o&&(this.currencyType=o,this.cdf.detectChanges())})}isControlValid(o,s){const c=this.formGroup.controls[o];return c.valid&&(c.dirty||c.touched)}isControlInvalid(o,s){const c=this.formGroup.controls[o];return c.invalid&&(c.dirty||c.touched)}controlHasError(o,s,c){const v=this.formGroup.controls[s];return v.hasError(o)&&(v.dirty||v.touched)}isControlTouched(o,s){const c=this.formGroup.controls[o];return c.dirty||c.touched}saveData(){if(this.formGroup.valid)if(this.isModal){let o=E(this.formGroup.value.date);this.formGroup.controls.date.setValue(o),console.log(this.formGroup.value),this.modal.dismissAll({data:Object.assign(Object.assign({},this.formGroup.value),{id:this.id}),cmd:"save"})}else this.formSubmit.emit(Object.assign({},this.formGroup.value));else(0,A.w)(this.formGroup)}}return g.\u0275fac=function(o){return new(o||g)(t.Y36(m.D),t.Y36(_.FF),t.Y36(t.sBO))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-currency-add-form"]],inputs:{isModal:"isModal",isEdit:"isEdit"},outputs:{formSubmit:"formSubmit"},features:[t._Bn([{provide:e._A,useClass:f.t7,deps:[e.Ad]},{provide:e.sG,useValue:u.Gs}])],decls:29,vars:13,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body"],["action","#",1,"form","form-label-right",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"form-label"],[1,"input-group"],["matInput","","placeholder","Date","formControlName","date","readonly","",1,"form-control","form-control-sm","date-input",3,"matDatepicker"],["matSuffix","",2,"z-index","99999",3,"for"],["disabled","false",2,"z-index","99999"],["picker",""],["name","title","placeholder","Currency Type","autocomplete","off","formControlName","type",1,"form-control","form-control-sm"],["value","usd"],["type","number","name","amount","placeholder","Rate","autocomplete","off","formControlName","amount",1,"form-control","form-control-sm"],["type","button","class","btn btn-default",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-primary","mx-2"],["type","button",1,"btn","btn-default",3,"click"]],template:function(o,s){if(1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return s.saveData()}),t.TgZ(7,"div",6),t.TgZ(8,"label",7),t._uU(9,"Date"),t.qZA(),t.TgZ(10,"div",8),t._UZ(11,"input",9),t._UZ(12,"mat-datepicker-toggle",10),t._UZ(13,"mat-datepicker",11,12),t.qZA(),t.qZA(),t.TgZ(15,"div",6),t.TgZ(16,"label",7),t._uU(17,"Currency"),t.qZA(),t.TgZ(18,"select",13),t.TgZ(19,"option",14),t._uU(20,"USD"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",6),t.TgZ(22,"label",7),t._uU(23,"Rate"),t.qZA(),t._UZ(24,"input",15),t.qZA(),t.TgZ(25,"div",6),t.YNc(26,l,2,0,"button",16),t.TgZ(27,"button",17),t._uU(28,"Save"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const c=t.MAs(14);t.xp6(4),t.hij("",s.isEdit?"Edit":"Create"," Currency Exchange"),t.xp6(2),t.Q6J("formGroup",s.formGroup),t.xp6(5),t.Q6J("matDatepicker",c),t.xp6(1),t.Q6J("for",c),t.xp6(6),t.ekj("is-invalid",s.isControlInvalid("type"))("is-valid",s.isControlValid("type")),t.xp6(6),t.ekj("is-invalid",s.isControlInvalid("amount"))("is-valid",s.isControlValid("amount")),t.xp6(2),t.Q6J("ngIf",s.isModal)}},directives:[r._Y,r.JL,r.sg,r.Fj,i.hl,r.JJ,r.u,i.nW,i.Mq,r.EJ,r.YN,r.Kr,r.wV,p.O5],styles:[""]}),g})();var n=a(18510);const d=[{title:"Date",type:n.Y.FEILD,field:"date",isFromatDate:!0},{title:"Currency",type:n.Y.FEILD,field:"type",isUpper:!0},{title:"Rate",type:n.Y.FEILD,field:"amount"},{title:"Actions",type:n.Y.ACTION,field:"actions",btn:{edit:!0,delete:!0}}],T=["date","type","amount","actions"];var Z=a(19113),I=a(60940),L=a(15470),b=a(85472);let S=(()=>{class g{constructor(o,s,c,v){this.currencyService=o,this.cdf=s,this.modalCrl=c,this.alertService=v,this.currencyList=[],this.ELEMENT_COL=JSON.parse(JSON.stringify(d)),this.displayedColumns=JSON.parse(JSON.stringify(T))}ngOnInit(){this.loadForm()}ngAfterViewInit(){this.getData()}loadForm(){this.exchangeForm=new r.cw({startDate:new r.NI(null),endDate:new r.NI(null),currency:new r.NI("usd")})}cancel(){this.exchangeForm.reset(),this.getData()}getData(){this.currencyService.getList(this.exchangeForm.value).toPromise().then(o=>{o&&(this.currencyList=o,this.cdf.detectChanges(),this.matTable.reChangeData())})}addData(){const o=this.modalCrl.open(M,{size:"md",backdrop:!1});o.componentInstance.isModal=!0,o.result.then(()=>{},s=>{s&&"save"==s.cmd&&this.saveData(s.data)})}saveData(o){let s=o;console.log(s),this.currencyService.save(s).toPromise().then(c=>{c&&(this.getData(),this.alertService.activate("This record was created","Success Message"))})}updateData(o){console.log("UPDATE",o),this.currencyService.update(o.id,o).toPromise().then(s=>{s&&(this.getData(),this.alertService.activate("This record was updated","Success Message"))})}editData(o){const s=this.modalCrl.open(M,{size:"md",backdrop:!1});s.componentInstance.oldData=o,s.componentInstance.id=o.id,s.componentInstance.isModal=!0,s.componentInstance.isEdit=!0,s.result.then(()=>{},c=>{c&&"save"==c.cmd&&this.updateData(c.data)})}actionBtn(o){"edit"==o.cmd?this.editData(o.data):"delete"==o.cmd&&this.deleleData(o.data.id)}deleleData(o){this.alertService.activate("Are you sure you want to delete?","Warning Message").then(s=>{s&&this.currencyService.delete(o).toPromise().then(c=>{if(c){let v=this.currencyList.findIndex(O=>O.id==o);v>=0&&(this.currencyList.splice(v,1),this.matTable.reChangeData(),this.alertService.activate("This record was deleted","Success Message").then(O=>{}))}})})}}return g.\u0275fac=function(o){return new(o||g)(t.Y36(Z.d),t.Y36(t.sBO),t.Y36(_.FF),t.Y36(I.c))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-currency-exchange"]],viewQuery:function(o,s){if(1&o&&t.Gf(h.I,5),2&o){let c;t.iGM(c=t.CRH())&&(s.matTable=c.first)}},features:[t._Bn([{provide:e._A,useClass:f.t7,deps:[e.Ad]},{provide:e.sG,useValue:u.Gs}])],decls:41,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"card","card-custom",2,"margin-bottom","15px"],[1,"card-header"],[1,"card-title"],[1,"card-label","left-border-image"],[1,"card-toolbar"],["type","button",1,"btn","btn-primary","btn-circle",2,"margin-right","1rem",3,"click"],[1,"flaticon2-plus"],[1,"flaticon2-magnifier-tool","search-tool",3,"click"],["type","button",1,"btn","btn-primary","ml-2",2,"min-width","50px",3,"click"],[1,""],[1,"card-body"],["action","#",1,"form",3,"formGroup"],[1,"row",2,"align-items","center"],["remove-host","",3,"formInput","colClass"],[1,"col-sm-4"],[1,"form-group","row"],[1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["name","title","placeholder","Currency Type","autocomplete","off","formControlName","currency",1,"form-control","form-control-sm"],["value","usd"],[1,"col-sm-6"],[1,"input-group"],["matInput","","formControlName","date","readonly","",1,"form-control","form-control-sm","date-input",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],[1,"col-sm-12"],[1,"card","card-custom","gutter-b"],[1,"card-body","customer-card-body"],[3,"data","colum","displayedColumns","emitter"]],template:function(o,s){if(1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"h3",5),t._uU(6,"Exchange Rate"),t.qZA(),t.qZA(),t.TgZ(7,"div",6),t.TgZ(8,"button",7),t.NdJ("click",function(){return s.addData()}),t._UZ(9,"span",8),t.qZA(),t.TgZ(10,"span",9),t.NdJ("click",function(){return s.getData()}),t.qZA(),t.TgZ(11,"button",10),t.NdJ("click",function(){return s.cancel()}),t.TgZ(12,"span",11),t._uU(13,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",12),t.TgZ(15,"form",13),t.TgZ(16,"div",14),t._UZ(17,"app-start-end-date",15),t.TgZ(18,"div",16),t.TgZ(19,"div",17),t.TgZ(20,"label",18),t._uU(21,"Currency"),t.qZA(),t.TgZ(22,"div",19),t.TgZ(23,"select",20),t.TgZ(24,"option",21),t._uU(25,"USD"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",22),t.TgZ(27,"div",17),t.TgZ(28,"label",18),t._uU(29,"Date"),t.qZA(),t.TgZ(30,"div",19),t.TgZ(31,"div",23),t._UZ(32,"input",24),t._UZ(33,"mat-datepicker-toggle",25),t._UZ(34,"mat-datepicker",26,27),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",0),t.TgZ(37,"div",28),t.TgZ(38,"div",29),t.TgZ(39,"div",30),t.TgZ(40,"app-material-table-view",31),t.NdJ("emitter",function(v){return s.actionBtn(v)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const c=t.MAs(35);t.xp6(15),t.Q6J("formGroup",s.exchangeForm),t.xp6(2),t.Q6J("formInput",s.exchangeForm)("colClass","col-sm-4"),t.xp6(15),t.Q6J("matDatepicker",c),t.xp6(1),t.Q6J("for",c),t.xp6(7),t.Q6J("data",s.currencyList)("colum",s.ELEMENT_COL)("displayedColumns",s.displayedColumns)}},directives:[r._Y,r.JL,r.sg,L.Q,b.Z,r.EJ,r.JJ,r.u,r.YN,r.Kr,r.Fj,i.hl,i.nW,i.Mq,h.I],styles:[""]}),g})();var P=a(70933),U=a(29018),x=a(45598);let N=(()=>{class g{}return g.\u0275fac=function(o){return new(o||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[[p.ez,r.u5,r.UX,_.bz,_.IJ,i.FA,P.Q,x.fA,U.Bz.forChild([{path:"",component:S}])]]}),g})()},19113:(Y,D,a)=>{a.d(D,{d:()=>A,E:()=>E});var p=a(18260),r=a(91691),f=a(92070),u=a(83668),h=a(44522);const t=`${p.N.apiUrl}/currency`,y=`${p.N.apiUrl}/currencyWithType`;let A=(()=>{class m extends r.i{constructor(i){super(i,t),this.httpClient=i}getList(i={}){let l=y+"/usd?&";return i.startDate&&(l=l+"startDate="+f(i.startDate).format("YYYY-MM-DD")+"&"),i.endDate&&(l=l+"endDate="+f(i.endDate).format("YYYY-MM-DD")+"&"),console.log(l),this.httpClient.get(l)}}return m.\u0275fac=function(i){return new(i||m)(u.LFG(h.eN))},m.\u0275prov=u.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),E=(()=>{class m extends r.i{constructor(i){super(i,y),this.httpClient=i}getByType(i){return this.httpClient.get(y+"/"+i)}}return m.\u0275fac=function(i){return new(i||m)(u.LFG(h.eN))},m.\u0275prov=u.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);