"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8254],{86270:(T,u,s)=>{s.d(u,{Ks:()=>C,Mf:()=>f,Q1:()=>l,qb:()=>p});var c=s(34436);const C=[{title:"First Name",type:c.Y.FEILD,field:"firstName"},{title:"Middle Name",type:c.Y.FEILD,field:"middleName"},{title:"Last Name",type:c.Y.FEILD,field:"lastName"},{title:"Party Code",type:c.Y.FEILD,field:"partyCode"},{title:"ID Type",type:c.Y.FEILD,field:"identityType"},{title:"ID No.",type:c.Y.FEILD,field:"identityNumber"},{title:"Date of Birth",type:c.Y.FEILD,field:"dateOfBirth",isFromatDate:!0},{title:"Father Name",type:c.Y.FEILD,field:"fatherName"},{title:"Status",type:c.Y.FEILD,field:"statusCode",isCustomerStatus:!0},{title:"Actions",type:c.Y.ACTION,field:"actions",btn:{edit:!0}}],l=["firstName","middleName","lastName","partyCode","identityType","identityNumber","dateOfBirth","fatherName","statusCode","actions"],p=[{code:"A",value:"Active"},{code:"I",value:"Inactive"}],f=[{code:"NRC",value:"NRC"},{code:"FRC",value:"FRC"},{code:"PASSPORT",value:"Passport"},{code:"OTHERS",value:"Others"}]},87999:(T,u,s)=>{s.d(u,{c:()=>v});var c=s(15439),l=s(92340),p=s(5e3),f=s(40520);const t=`${l.N.apiUrl}/customer`;let v=(()=>{class d{constructor(n){this.httpClient=n}getCustomerList(n={},Z,L,g){let r=t+"?";return n.name&&(r=r+"name="+n.name+"&"),n.partyCode&&(r=r+"partyCode="+n.partyCode+"&"),n.startDate&&(r=r+"startDate="+c(n.startDate).format("YYYY-MM-DD")+"&"),n.endDate&&(r=r+"endDate="+c(n.endDate).format("YYYY-MM-DD")+"&"),n.statusCode&&(r=r+"statusCode="+n.statusCode+"&"),n.identityType&&(r=r+"identityType="+n.identityType+"&"),n.identityNumber&&(r=r+"identityNumber="+n.identityNumber+"&"),g?r+="statusCode=A":r=r+"isPartyCode="+Z,this.httpClient.get(r)}}return d.\u0275fac=function(n){return new(n||d)(p.LFG(f.eN))},d.\u0275prov=p.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},98254:(T,u,s)=>{s.r(u),s.d(u,{ProspectCustomerListModule:()=>S});var c=s(69808),C=s(96592),l=s(93075),p=s(69544),f=s(50282),t=s(5e3),v=s(86270),d=s(63272),_=s(8812),n=s(19775),Z=s(6517),L=s(88757),g=s(93230),r=s(87999),b=s(32157),A=s(65435),h=s(64537),P=s(60834),N=s(98807);function I(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){return t.CHM(e),t.oxw().navigateToDetail("create")}),t._UZ(1,"span",27),t.qZA()}}function O(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"app-material-table-view",31),t.NdJ("emitter",function(a){return t.CHM(e),t.oxw(2).actionBtn(a)})("rowselect",function(a){return t.CHM(e),t.oxw(2).rowSelected(a)}),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("data",e.customerList)("colum",e.ELEMENT_COL)("displayedColumns",e.displayedColumns)("selectable",e.isPopup)}}function E(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"app-common-list-2",33,34),t.NdJ("btnEvent",function(a){return t.CHM(e),t.oxw(3).actionBtn(a)}),t.qZA()}if(2&i){const e=t.oxw(3);t.Q6J("data",e.customerList)("type","customer")}}function M(i,m){if(1&i&&t.YNc(0,E,2,2,"app-common-list-2",32),2&i){const e=t.oxw(2);t.Q6J("ngIf",e.customerList.length>0)}}function D(i,m){if(1&i&&(t.TgZ(0,"div",28),t.YNc(1,O,2,4,"div",29),t.YNc(2,M,1,1,"ng-template",null,30,t.W1O),t.qZA()),2&i){const e=t.MAs(3),o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.isPopup)("ngIfElse",e)}}function F(i,m){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",35),t.TgZ(2,"button",36),t.NdJ("click",function(){return t.CHM(e),t.oxw().closeModal()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"button",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().nextProd()}),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,3,"FORM.btn_cancel")),t.xp6(2),t.Q6J("disabled",!e.selected.customerId),t.xp6(1),t.Oqu(t.lcZ(7,5,"FORM.btn_next"))}}let x=(()=>{class i{constructor(e,o,a,y){this.router=e,this.cdf=o,this.customerListService=a,this.modalService=y,this.ELEMENT_COL=JSON.parse(JSON.stringify(v.Ks)),this.displayedColumns=JSON.parse(JSON.stringify(v.Q1)),this.customerList=[],this.statusOption=v.qb,this.identityTypeOption=v.Mf,this.selectedUser=new t.vpe,this.isPopup=!1,this.party=!1,this.isDynamic=!1,this.show=!1,this.loadForm()}ngOnInit(){this.isPopup&&(this.ELEMENT_COL.splice(9,1),this.displayedColumns.splice(9,1)),this.ELEMENT_COL.splice(3,1),this.displayedColumns.splice(3,1),this.show=!0}ngAfterViewInit(){this.getList()}loadForm(){this.customerForm=new l.cw({name:new l.NI(null),identityType:new l.NI(null),identityNumber:new l.NI(null),statusCode:new l.NI(null),partyCode:new l.NI(null),startDate:new l.NI(null),endDate:new l.NI(null)})}navigateToDetail(e,o,a){this.router.navigate(["/customer/customer-detail"],{queryParams:{pageStatus:e,pageId:o,pageSecondaryId:a,page:"Prospect"}})}getList(){this.customerListService.getCustomerList(this.customerForm.value,this.party,!(!this.isPopup||this.isDynamic)).toPromise().then(o=>{o&&(this.customerList=o,this.cdf.detectChanges(),this.matTable&&this.matTable.reChangeData())})}get selected(){let e;return this.matTable&&(e=this.matTable.selection.selected[0]),e||{customerId:0}}rowSelected(e){this.selectedUser.emit(e)}cancel(){this.customerForm.reset(),this.getList()}actionBtn(e){"edit"==e.cmd&&this.navigateToDetail("edit",e.data.customerId,e.data.individualId)}isControlValid(e){const o=this.customerForm.controls[e];return o.valid&&(o.dirty||o.touched)}isControlInvalid(e){const o=this.customerForm.controls[e];return o.invalid&&(o.dirty||o.touched)}controlHasError(e,o){const a=this.customerForm.controls[o];return a.hasError(e)&&(a.dirty||a.touched)}isControlTouched(e){const o=this.customerForm.controls[e];return o.dirty||o.touched}nextProd(){this.selected.customerId&&this.modalService.dismissAll({data:this.selected,type:"save"})}closeModal(){this.modalService.dismissAll()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(C.F0),t.Y36(t.sBO),t.Y36(r.c),t.Y36(d.FF))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-prospect-customer-list"]],viewQuery:function(e,o){if(1&e&&t.Gf(g.I,5),2&e){let a;t.iGM(a=t.CRH())&&(o.matTable=a.first)}},inputs:{isPopup:"isPopup",party:"party",isDynamic:"isDynamic"},outputs:{selectedUser:"selectedUser"},features:[t._Bn([{provide:d.DO,useClass:_.Wv},{provide:d.NG,useClass:_.ke},{provide:n._A,useClass:Z.t7,deps:[n.Ad]},{provide:n.sG,useValue:L.Gs}])],decls:54,vars:46,consts:[[1,"row"],[1,"col-12"],[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label","left-border-image"],[1,"card-toolbar"],["type","button","class","btn btn-primary btn-circle","style","margin-right: 1rem;\n                    ",3,"click",4,"ngIf"],[1,"flaticon2-magnifier-tool","search-tool",3,"click"],["type","button",1,"btn","btn-primary","ml-2",2,"min-width","50px",3,"click"],[1,""],[1,"card-body","px-10","py-3"],["action","#",1,"form",3,"formGroup"],[1,"row",2,"align-items","center"],["remove-host","",3,"formInput","colClass"],[1,"col-md-6"],[1,"form-group","row"],[1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","name","name","autocomplete","off","formControlName","name",1,"form-control","form-control-sm"],["bindLabel","value","bindValue","code","formControlName","statusCode",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["bindLabel","value","bindValue","code","formControlName","identityType",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["type","text","name","identityNumber","autocomplete","off","formControlName","identityNumber",1,"form-control","form-control-sm"],[1,"card","card-custom","gutter-b","data"],["class","card-body customer-card-body",4,"ngIf"],[4,"ngIf"],["type","button",1,"btn","btn-primary","btn-circle",2,"margin-right","1rem",3,"click"],[1,"flaticon2-plus"],[1,"card-body","customer-card-body"],[4,"ngIf","ngIfElse"],["no_popup",""],[3,"data","colum","displayedColumns","selectable","emitter","rowselect"],["class","data-list",3,"data","type","btnEvent",4,"ngIf"],[1,"data-list",3,"data","type","btnEvent"],["commonList",""],[1,"card-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","button",1,"btn","btn-primary","btn-elevate",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"h3",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.TgZ(8,"div",6),t.YNc(9,I,2,0,"button",7),t.TgZ(10,"span",8),t.NdJ("click",function(){return o.getList()}),t.qZA(),t.TgZ(11,"button",9),t.NdJ("click",function(){return o.cancel()}),t.TgZ(12,"span",10),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",11),t.TgZ(16,"form",12),t.TgZ(17,"div",13),t._UZ(18,"app-start-end-date",14),t.qZA(),t.TgZ(19,"div",13),t.TgZ(20,"div",15),t.TgZ(21,"div",16),t.TgZ(22,"label",17),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",18),t._UZ(26,"input",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",15),t.TgZ(28,"div",16),t.TgZ(29,"label",17),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"div",18),t._UZ(33,"ng-select",20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"div",13),t.TgZ(35,"div",15),t.TgZ(36,"div",16),t.TgZ(37,"label",17),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"div",18),t._UZ(41,"ng-select",21),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",15),t.TgZ(43,"div",16),t.TgZ(44,"label",17),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"div",18),t._UZ(48,"input",22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"div",0),t.TgZ(50,"div",1),t.TgZ(51,"div",23),t.YNc(52,D,4,2,"div",24),t.YNc(53,F,8,7,"ng-container",25),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.ekj("remove-p",o.isPopup),t.xp6(4),t.hij("",t.lcZ(7,34,"FORM.prospect_customer")," List"),t.xp6(3),t.Q6J("ngIf",!o.isPopup),t.xp6(4),t.Oqu(t.lcZ(14,36,"FORM.btn_cancel")),t.xp6(3),t.Q6J("formGroup",o.customerForm),t.xp6(2),t.Q6J("formInput",o.customerForm)("colClass","col-md-6"),t.xp6(5),t.Oqu(t.lcZ(24,38,"FORM.name")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("name"))("is-valid",o.isControlValid("name")),t.xp6(4),t.Oqu(t.lcZ(31,40,"FORM.status")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("statusCode"))("is-valid",o.isControlValid("statusCode")),t.Q6J("items",o.statusOption),t.xp6(5),t.Oqu(t.lcZ(39,42,"FORM.id_type")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("identityType"))("is-valid",o.isControlValid("identityType")),t.Q6J("items",o.identityTypeOption),t.xp6(4),t.Oqu(t.lcZ(46,44,"FORM.id_no")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("identityNumber"))("is-valid",o.isControlValid("identityNumber")),t.xp6(3),t.ekj("remove-p",o.isPopup),t.xp6(1),t.Q6J("ngIf",o.show),t.xp6(1),t.Q6J("ngIf",o.isPopup&&!o.isDynamic))},directives:[c.O5,l._Y,l.JL,l.sg,b.Q,A.Z,l.Fj,l.JJ,l.u,h.w9,g.I,P.o],pipes:[N.X],styles:[".remove-p[_ngcontent-%COMP%]{margin-bottom:0}.col-form-label[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.form-group.row[_ngcontent-%COMP%]{align-items:center}.draggable[_ngcontent-%COMP%]{color:#fff;border-radius:50%;touch-action:none;-webkit-user-select:none;user-select:none;position:absolute;z-index:999}"]}),i})();var Y=s(94142),U=s(62992),J=s(7181);let S=(()=>{class i{constructor(e){(0,U.r)(e,"ProspectCustomerListModule")}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(i,12))},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[c.ez,l.u5,l.UX,p.vi,h.A0,f.fA,J.j,Y.W,C.Bz.forChild([{path:"",component:x}])]]}),i})()}}]);