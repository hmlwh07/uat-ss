"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7006],{15346:(O,p,o)=>{o.d(p,{X:()=>g});var s=o(83668),m=o(59832);let g=(()=>{class l{constructor(t){this._languageService=t}transform(t){if(t){let c=this._languageService.getSelectedLanguage(),h=t.split(".");if(2==h.length)try{return this._languageService.langs[c][h[0]][h[1]]}catch(x){return"Can't Translate Data"}}return t}}return l.\u0275fac=function(t){return new(t||l)(s.Y36(m.K,16))},l.\u0275pipe=s.Yjl({name:"translate",type:l,pure:!1}),l})()},97006:(O,p,o)=>{o.r(p),o.d(p,{LpManagerDashboardModule:()=>j});var s=o(86019),m=o(64762),g=o(49133),l=o(54753),u=o(18260),t=o(83668),c=o(4205),h=o(22338),x=o(61596),A=o(75396),v=o(15346);const b=["chartAgent"],T=["chartLead"];function C(e,r){if(1&e&&(t.ynx(0),t.TgZ(1,"div",36),t.TgZ(2,"div",37),t._UZ(3,"img",38),t._uU(4),t.qZA(),t.TgZ(5,"div",39),t._uU(6),t.ALo(7,"number"),t.ALo(8,"translate"),t.qZA(),t.qZA(),t.BQk()),2&e){const n=r.$implicit,a=t.oxw(2);t.xp6(3),t.Q6J("src",a.DEFAULT_DOWNLOAD_URL+n.productSmallIcon,t.LSH),t.xp6(1),t.hij(" ",n.productName," "),t.xp6(2),t.AsE("",t.xi3(7,4,n.premium,"1.0-2")," ",t.lcZ(8,7,"FORM.mmk")," ")}}function _(e,r){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,C,9,9,"ng-container",35),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==n.data?null:n.data.yearlyProductPremium)}}function M(e,r){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",41),t.NdJ("click",function(){const d=t.CHM(n).$implicit;return t.oxw(2).goToLPDashboard(d)}),t.TgZ(2,"div",3),t.TgZ(3,"div"),t._UZ(4,"img",42),t.qZA(),t.TgZ(5,"div",43),t.TgZ(6,"div"),t.TgZ(7,"span"),t._uU(8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",44),t.TgZ(10,"span"),t._uU(11),t.ALo(12,"number"),t.ALo(13,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&e){const n=r.$implicit;t.xp6(8),t.Oqu(n.name),t.xp6(3),t.AsE("",t.xi3(12,3,n.premium,"1.0-2")," ",t.lcZ(13,6,"FORM.mmk"),"")}}function y(e,r){if(1&e&&(t.TgZ(0,"div",40),t.YNc(1,M,14,8,"ng-container",35),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==n.data?null:n.data.subAgentMonthlySale)}}function L(e,r){if(1&e&&(t.TgZ(0,"div",45),t._UZ(1,"apx-chart",46),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("series",null==n.chartOptions?null:n.chartOptions.series)("chart",null==n.chartOptions?null:n.chartOptions.chart)("dataLabels",null==n.chartOptions?null:n.chartOptions.dataLabels)("plotOptions",null==n.chartOptions?null:n.chartOptions.plotOptions)("yaxis",null==n.chartOptions?null:n.chartOptions.yaxis)("xaxis",null==n.chartOptions?null:n.chartOptions.xaxis)("legend",null==n.chartOptions?null:n.chartOptions.legend)("colors",null==n.chartOptions?null:n.chartOptions.colors)("grid",null==n.chartOptions?null:n.chartOptions.grid)}}function q(e,r){if(1&e&&(t.TgZ(0,"div",47),t._UZ(1,"apx-chart",48),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("series",n.chartOptionsAgent.series)("chart",n.chartOptionsAgent.chart)("xaxis",n.chartOptionsAgent.xaxis)("yaxis",n.chartOptionsAgent.yaxis)("title",n.chartOptionsAgent.title)("legend",n.chartOptionsAgent.legend)("dataLabels",n.chartOptionsAgent.dataLabels)("markers",n.chartOptionsAgent.markers)}}let P=(()=>{class e{constructor(n,a,i,d,Z){this.cdf=n,this.route=a,this.auth=i,this.dashboardService=d,this.router=Z,this.agentLineChartCategories=[],this.agentLineChartDatas=[],this.leadObj={},this.currentMonthIndex=(new Date).getUTCMonth(),this.currentYear=(new Date).getUTCFullYear(),this.months=["JAN","FEB","Mar","APR","MAY","JUL","AUG","SEP","OCT","NOV","DEC"],this.todayActiveAgent=0,this.DEFAULT_DOWNLOAD_URL=`${u.N.apiUrl}/attachment-downloader/`,this.route.queryParams.subscribe(f=>(0,m.mG)(this,void 0,void 0,function*(){f.empId?(this.id=JSON.parse(f.empId),this.loadForm()):(this.id=this.auth.currentUserValue.id,this.loadForm())}))}ngOnInit(){return(0,m.mG)(this,void 0,void 0,function*(){this.getList(),this.getLeadList(),this.getAgentList()})}loadForm(){this.actForm=new g.cw({empId:new g.NI(this.id)})}getList(){this.dashboardService.getList(this.actForm.value).toPromise().then(n=>{n&&(this.data=n,this.setChartOptions("agent"),this.cdf.detectChanges())})}getLeadList(){this.dashboardService.getLeadList(this.actForm.value).toPromise().then(n=>{n&&(this.leadObj=n,this.setChartOptions("lead"),this.cdf.detectChanges())})}getAgentList(){this.dashboardService.getAgentList(this.actForm.value).pipe((0,l.U)(n=>{let a=[],i=[];return n.weeklyActiveAgents.map(d=>{a.push(d.weekNo),i.push(parseInt(d.noOfActiveAgent))}),Object.assign(Object.assign({},n),{data:i,weeks:a})})).toPromise().then(n=>{n&&(this.agentLineChart=n,this.todayActiveAgent=n.todayNoOfActiveAgent,this.agentLineChartCategories=n.weeks,this.agentLineChartDatas=n.data,Math.max(...this.agentLineChartDatas),this.setChartOptions("agent"),this.cdf.detectChanges())})}ngOnDestroy(){}goToLPDashboard(n){this.router.navigate(["/dashboard/lp-dashboard"],{queryParams:{empId:n.empId}})}goToSalePolicies(){this.router.navigate(["/sale/application/list"])}goToActivities(){this.router.navigate(["activity/activity-management-list"])}setChartOptions(n){let a="lead"==n?"chartOptions":"chartOptionsAgent",i=Math.max(...this.agentLineChartDatas);this[a]="lead"==n?{series:[{name:"",data:["lead"==n?this.leadObj.leadWinCount:this.data.converted,"lead"==n?this.leadObj.leadAssignCount:this.data.assigned]}],chart:{toolbar:{show:!1},height:160,type:"bar",events:{click:function(d,Z){}}},colors:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0","#546E7A","#26a69a","#D10CE8"],yaxis:{tickAmount:5,min:0,max:"lead"==n?this.leadObj.leadAssignCount||10:this.data.assigned||10,labels:{style:{fontSize:"1rem",fontFamily:"Roboto"}}},plotOptions:{bar:{columnWidth:"20%",distributed:!0}},dataLabels:{enabled:!1},legend:{show:!1},grid:{show:!0},xaxis:{categories:[["Converted","lead"==n?this.leadObj.leadWinCount:this.data.converted],["Assigned","lead"==n?this.leadObj.leadAssignCount:this.data.assigned]],labels:{style:{colors:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0","#546E7A","#26a69a","#D10CE8"],fontSize:"12px"}}}}:{series:[{name:"",data:this.agentLineChartDatas,color:"#005f99"}],chart:{height:160,type:"line",toolbar:{show:!1}},title:{text:"",offsetX:0,offsetY:10,floating:!1,style:{fontSize:"1.1rem",fontFamily:"Roboto"}},xaxis:{type:"category",categories:this.agentLineChartCategories,labels:{style:{fontSize:"1rem",fontFamily:"Roboto"}}},yaxis:{min:0,max:i>10?i:10,tickAmount:5,labels:{style:{fontSize:"1rem",fontFamily:"Roboto"}}},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5},dataLabels:{enabled:!1,textAnchor:"middle",offsetX:-10,offsetY:-5,enabledOnSeries:[0]},markers:{size:[5,0,0]}}}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(t.sBO),t.Y36(c.gz),t.Y36(h.e),t.Y36(x.s),t.Y36(c.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-lp-manager-dashboard"]],viewQuery:function(n,a){if(1&n&&(t.Gf(b,5),t.Gf(T,5)),2&n){let i;t.iGM(i=t.CRH())&&(a.chartAgent=i.first),t.iGM(i=t.CRH())&&(a.chartLead=i.first)}},decls:102,vars:47,consts:[[1,"row"],[1,"col-lg-6","col-md-6","col-sm-12","col-xs-12"],[1,"card","card-custom","my-card","gutter-b"],[1,"flex",2,"align-items","center"],[1,"my-center"],["src","./assets/images/user_profile-01.svg","alt","",1,"user-image"],[1,"name-card"],[1,"card-label","primary-color",2,"padding","0px","margin","0px"],[1,"text-dark","center","text-bold"],[1,"row","my-row","my-border-bottom"],[1,"col-12","my-p-10"],[1,"card-label","primary-color"],[1,"col-12"],[1,"text-amt"],[1,"row","my-row","fixed-height"],[1,"col-12","my-pt-15"],[1,"card-label"],[4,"ngIf"],[1,"card","card-custom","my-card","my-card-fixed-height","gutter-b"],[1,"row","my-row"],[1,"col-6","my-p-10"],[1,"col-6","my-p-10","text-right","cursor",3,"click"],[1,"primary-color"],["class","width-100",4,"ngIf"],[1,"w-100"],[1,"col-sm-4"],[1,"card","card-custom","my-card","my-block"],[1,"text-bold"],[1,"font-18"],["id","chartLead",4,"ngIf"],["id","chartAgent",4,"ngIf"],[1,"row","my-row",2,"height","100%","align-items","center"],[1,"col-12","flex",2,"justify-content","center"],[1,"box-1","card-box"],[1,"box-2","card-box"],[4,"ngFor","ngForOf"],[1,"row","my-row","my-p-15","my-border-bottom",2,"align-items","center"],[1,"col-6"],["alt","","srcset","",1,"prod-icon",3,"src"],[1,"col-6","text-right","text-bold"],[1,"width-100"],[1,"my-profile-card","my-border-bottom",3,"click"],["src","./assets/images/user_profile-01.svg","alt","",1,"user-icon"],[1,"pl-5"],[1,"text-right","text-bold",2,"margin-left","auto"],["id","chartLead"],[3,"series","chart","dataLabels","plotOptions","yaxis","xaxis","legend","colors","grid"],["id","chartAgent"],[3,"series","chart","xaxis","yaxis","title","legend","dataLabels","markers"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"img",5),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"h6",7),t._uU(8),t.qZA(),t.TgZ(9,"label",8),t._uU(10),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",2),t.TgZ(12,"div",9),t.TgZ(13,"div",10),t.TgZ(14,"h6",11),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.qZA(),t.TgZ(17,"div",12),t.TgZ(18,"label",13),t._uU(19),t.ALo(20,"number"),t.TgZ(21,"span"),t.TgZ(22,"small"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"div",14),t.TgZ(26,"div",15),t.TgZ(27,"h6",16),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.qZA(),t.TgZ(30,"div",12),t.YNc(31,_,2,1,"div",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",1),t.TgZ(33,"div",18),t.TgZ(34,"div",19),t.TgZ(35,"div",20),t.TgZ(36,"h6",11),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.qZA(),t.TgZ(39,"div",21),t.NdJ("click",function(){return a.goToSalePolicies()}),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.qZA(),t.TgZ(42,"div",19),t.TgZ(43,"div",12),t.TgZ(44,"span",22),t.TgZ(45,"span"),t._uU(46),t.qZA(),t._uU(47),t.qZA(),t.qZA(),t.qZA(),t.YNc(48,y,2,1,"div",23),t.qZA(),t.qZA(),t._UZ(49,"div",24),t.TgZ(50,"div",25),t.TgZ(51,"div",26),t.TgZ(52,"div",19),t.TgZ(53,"div",10),t.TgZ(54,"h6",11),t._uU(55),t.ALo(56,"translate"),t.qZA(),t.qZA(),t.TgZ(57,"div",12),t.TgZ(58,"span",27),t._uU(59),t.qZA(),t.qZA(),t.TgZ(60,"div",12),t.TgZ(61,"span",28),t._uU(62),t.qZA(),t.qZA(),t.qZA(),t.YNc(63,L,2,9,"div",29),t.qZA(),t.qZA(),t.TgZ(64,"div",25),t.TgZ(65,"div",26),t.TgZ(66,"div",19),t.TgZ(67,"div",10),t.TgZ(68,"h6",11),t._uU(69),t.ALo(70,"translate"),t.qZA(),t.qZA(),t.TgZ(71,"div",12),t.TgZ(72,"span",28),t._uU(73),t.qZA(),t.qZA(),t.qZA(),t.YNc(74,q,2,8,"div",30),t.qZA(),t.qZA(),t.TgZ(75,"div",25),t.TgZ(76,"div",26),t.TgZ(77,"div",19),t.TgZ(78,"div",10),t.TgZ(79,"h6",11),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(82,"div",31),t.TgZ(83,"div",32),t.TgZ(84,"div",33),t.TgZ(85,"div",4),t.TgZ(86,"span"),t._uU(87),t.ALo(88,"translate"),t.qZA(),t.qZA(),t._UZ(89,"br"),t.TgZ(90,"div",4),t.TgZ(91,"h5"),t._uU(92),t.qZA(),t.qZA(),t.qZA(),t.TgZ(93,"div",34),t.TgZ(94,"div",4),t.TgZ(95,"span"),t._uU(96),t.ALo(97,"translate"),t.qZA(),t.qZA(),t._UZ(98,"br"),t.TgZ(99,"div",4),t.TgZ(100,"h5"),t._uU(101),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(8),t.hij("",null==a.data||null==a.data.agentInfo?null:a.data.agentInfo.employeeName," "),t.xp6(2),t.Oqu(null==a.data?null:a.data.role),t.xp6(5),t.Oqu(t.lcZ(16,24,"FORM.premium")),t.xp6(4),t.hij(" ",t.xi3(20,26,null==a.data||null==a.data.agentInfo?null:a.data.agentInfo.totalPremium,"1.0-2")," "),t.xp6(4),t.Oqu(t.lcZ(24,29,"FORM.mmk")),t.xp6(5),t.Oqu(t.lcZ(29,31,"FORM.products")),t.xp6(3),t.Q6J("ngIf",a.data&&a.data.yearlyTotalPremium.length>0),t.xp6(6),t.Oqu(t.lcZ(38,33,"FORM.sale_performances")),t.xp6(3),t.hij(" ",t.lcZ(41,35,"FORM.view_all")," "),t.xp6(6),t.Oqu(a.months[a.currentMonthIndex]),t.xp6(1),t.hij(" | Y ",a.currentYear," "),t.xp6(1),t.Q6J("ngIf",a.data&&a.data.subAgentMonthlySale.length>0),t.xp6(7),t.Oqu(t.lcZ(56,37,"FORM.lead_conversation")),t.xp6(4),t.Oqu(null==a.data||null==a.data.agentInfo?null:a.data.agentInfo.branchName),t.xp6(3),t.hij("",a.leadObj.leadWinRate," %"),t.xp6(1),t.Q6J("ngIf",a.chartOptions),t.xp6(6),t.Oqu(t.lcZ(70,39,"FORM.active_agent_today")),t.xp6(4),t.Oqu(a.todayActiveAgent),t.xp6(1),t.Q6J("ngIf",a.chartOptionsAgent),t.xp6(6),t.hij("",t.lcZ(81,41,"FORM.things_to_follow_up_today")," "),t.xp6(7),t.Oqu(t.lcZ(88,43,"FORM.activity")),t.xp6(5),t.Oqu(a.leadObj.taskToday),t.xp6(4),t.Oqu(t.lcZ(97,45,"FORM.lead_today")),t.xp6(5),t.Oqu(a.leadObj.leadToday))},directives:[s.O5,s.sg,A.x],pipes:[v.X,s.JJ],styles:[".top-box[_ngcontent-%COMP%]{color:#b5b5c3;margin-left:50px}.top-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.my-center[_ngcontent-%COMP%]{text-align:center}.user-image[_ngcontent-%COMP%]{width:60px;margin-left:15px}.user-icon[_ngcontent-%COMP%]{width:24px}.icon-image[_ngcontent-%COMP%]{width:20px}.font-24[_ngcontent-%COMP%]{font-size:24px!important}.font-18[_ngcontent-%COMP%]{font-size:18px!important}.font-14[_ngcontent-%COMP%]{font-size:14px!important}.underline[_ngcontent-%COMP%]{text-decoration:underline}.bold[_ngcontent-%COMP%]{font-weight:600}.flex[_ngcontent-%COMP%]{display:flex}.my-border-left[_ngcontent-%COMP%]{border-left:1px solid #7e8299}.my-card-title[_ngcontent-%COMP%]{justify-content:center;width:100%}.width-100[_ngcontent-%COMP%]{width:100%}.float-right[_ngcontent-%COMP%]{float:right}.text-right[_ngcontent-%COMP%]{text-align:right}.my-p-15[_ngcontent-%COMP%]{padding:15px 15px 15px 0}.name-card[_ngcontent-%COMP%]{padding:15px}.my-pt-15[_ngcontent-%COMP%]{padding-top:15px}.my-profile-card[_ngcontent-%COMP%]{padding:8px 8px 8px 15px;cursor:pointer}.my-border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #dad9d9}.my-border-none[_ngcontent-%COMP%]{border:none}.my-row[_ngcontent-%COMP%]{margin-left:0!important;margin-right:0!important}.my-mt-5[_ngcontent-%COMP%]{margin-top:5px}.my-p-10[_ngcontent-%COMP%]{padding:15px 15px 0}.my-box[_ngcontent-%COMP%], .box-3[_ngcontent-%COMP%], .box-2[_ngcontent-%COMP%], .box-1[_ngcontent-%COMP%]{width:150px;height:150px;color:#fff;padding:8px;border-radius:8px}.box-1[_ngcontent-%COMP%]{margin-right:8px;background-color:#00acea}.box-2[_ngcontent-%COMP%]{background-color:#015eab}.box-3[_ngcontent-%COMP%]{background-color:#6868fa}.container[_ngcontent-%COMP%]{width:100%;min-height:200px}.fist-panel-container[_ngcontent-%COMP%]{width:100%;height:50%}.my-card[_ngcontent-%COMP%]{overflow:hidden;background-color:#fff!important;border:1px solid lightgrey!important}.fixed-height[_ngcontent-%COMP%], .my-card-fixed-height[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;overflow-x:hidden}.prod-icon[_ngcontent-%COMP%]{width:24px;margin-right:10px}.my-card-fixed-height[_ngcontent-%COMP%]{background-color:#fff!important;max-height:625px}.primary-color[_ngcontent-%COMP%]{color:#005f99!important}.card-50[_ngcontent-%COMP%]{height:230px}#chart[_ngcontent-%COMP%]{max-width:650px;margin:35px auto}.cursor[_ngcontent-%COMP%]{cursor:pointer}.red[_ngcontent-%COMP%]{color:red!important}.my-block[_ngcontent-%COMP%]{width:100%;height:250px;max-height:250px}.card-label[_ngcontent-%COMP%]{font-weight:bold;color:#005f99!important}#chartAgent[_ngcontent-%COMP%]{position:absolute;bottom:-10px;width:100%}"]}),e})();var U=o(85993),F=o(70933),w=o(18410),D=o(25011),I=o(63699);let j=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[s.uU,s.JJ],imports:[[s.ez,g.u5,g.UX,U.bz,F.Q,w.J,I.j,D.s,A.X,c.Bz.forChild([{path:"",component:P}])]]}),e})()}}]);