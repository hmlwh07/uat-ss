"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3712],{12591:(O,g,a)=>{a.d(g,{n:()=>s,t:()=>i});var c=a(34436);const s=[{title:"Activity No.",type:c.Y.FEILD,field:"activityNo"},{title:"Activity Type",type:c.Y.FEILD,field:"activityType"},{title:"Activity Title",type:c.Y.FEILD,field:"activityTitle"},{title:"Related To",type:c.Y.FEILD,field:"relatedTo"},{title:"Assigned To",type:c.Y.FEILD,field:"assignName"},{title:"Due Date",type:c.Y.FEILD,field:"dueDate",isFromatDate:!0},{title:"Status",type:c.Y.FEILD,field:"status",isActivityStatus:!0},{title:"Customer",type:c.Y.FEILD,field:"customerName"},{title:"Actions",type:c.Y.ACTION,field:"actions",btn:{edit:!0}}],i=["activityNo","activityType","activityTitle","relatedTo","assignName","dueDate","status","customerName","actions"]},63712:(O,g,a)=>{a.d(g,{h:()=>Et});var c=a(70655),s=a(93075),i=a(6517),v=a(19775),I=a(15439),m=a(70262),C=a(39646),Z=a(4128),A=a(54004),N=a(41018),D=a(88757),h=a(17606),E=a(12591),M=a(17525),P=a(52921),q=a(4721),b=a(3777),_=a(39641),p=a(76394),r=a(16537),t=a(5e3),u=a(69808),f=a(27670),y=a(96592),J=a(56581),R=a(63272),w=a(78680),L=a(55410),Y=a(25492),k=a(64537),Q=a(65981),F=a(65884),B=a(21223),S=a(84095),K=a(93230),W=a(98807);const V=["fna"],H=["activity"],j=["application"],G=["attachment"],z=["quotation"];function X(n,d){if(1&n&&(t.TgZ(0,"div",53),t.TgZ(1,"h3",54),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu("create"==e.pageStatus?"Create Prospect Profile":"Customer Detail")}}function $(n,d){if(1&n&&(t.TgZ(0,"div",53),t.TgZ(1,"h3",54),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu("create"==e.pageStatus?"Create Prospect Profile":"Prospect Profile Detail")}}function tt(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).toggleAccordion("Detail")}),t._UZ(1,"span",59),t.qZA()}}function et(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).toggleAccordion("Detail")}),t._UZ(1,"span",61),t.qZA()}}function it(n,d){if(1&n&&(t.TgZ(0,"div",55),t.YNc(1,tt,2,0,"button",56),t.YNc(2,et,2,0,"button",57),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.isDetail),t.xp6(1),t.Q6J("ngIf",!e.isDetail)}}function ot(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"input",62),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).openModal()}),t.qZA()}if(2&n){const e=t.oxw(2);t.ekj("is-invalid",e.isControlInvalid("identityNumber"))("is-valid",e.isControlValid("identityNumber"))}}function nt(n,d){if(1&n&&t._UZ(0,"input",63),2&n){const e=t.oxw(2);t.ekj("is-invalid",e.isControlInvalid("identityNumber"))("is-valid",e.isControlValid("identityNumber"))}}function at(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"button",64),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).doCustomer()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"FORM.btn_save")))}function st(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"div",3),t.TgZ(2,"div",4),t.TgZ(3,"div",5),t.YNc(4,X,3,1,"div",6),t.YNc(5,$,3,1,"div",6),t.YNc(6,it,3,2,"div",7),t.qZA(),t.TgZ(7,"div",8),t.TgZ(8,"form",9),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().doCustomer()}),t.TgZ(9,"div",10),t.TgZ(10,"div",11),t.TgZ(11,"div",12),t.TgZ(12,"label",13),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"div",14),t._UZ(16,"ng-select",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",11),t.TgZ(18,"div",12),t.TgZ(19,"label",13),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"div",14),t._UZ(23,"input",16),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",10),t.TgZ(25,"div",11),t.TgZ(26,"div",12),t.TgZ(27,"label",13),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"div",14),t._UZ(31,"input",17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",11),t.TgZ(33,"div",12),t.TgZ(34,"label",13),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"div",14),t._UZ(38,"input",18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",10),t.TgZ(40,"div",11),t.TgZ(41,"div",12),t.TgZ(42,"label",13),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"div",14),t._UZ(46,"input",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(47,"div",11),t.TgZ(48,"div",12),t.TgZ(49,"label",13),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"div",14),t._UZ(53,"input",20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(54,"div",10),t.TgZ(55,"div",11),t.TgZ(56,"div",12),t.TgZ(57,"label",13),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.TgZ(60,"div",14),t._UZ(61,"input",21),t.qZA(),t.qZA(),t.qZA(),t.TgZ(62,"div",11),t.TgZ(63,"div",12),t.TgZ(64,"label",13),t._uU(65),t.ALo(66,"translate"),t.qZA(),t.TgZ(67,"div",14),t.TgZ(68,"div",22),t._UZ(69,"input",23),t._UZ(70,"mat-datepicker-toggle",24),t._UZ(71,"mat-datepicker",25,26),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(73,"div",10),t.TgZ(74,"div",11),t.TgZ(75,"div",12),t.TgZ(76,"label",13),t._uU(77),t.ALo(78,"translate"),t.qZA(),t.TgZ(79,"div",14),t._UZ(80,"ng-select",27),t.qZA(),t.qZA(),t.qZA(),t.TgZ(81,"div",11),t.TgZ(82,"div",12),t.TgZ(83,"label",13),t._uU(84),t.ALo(85,"translate"),t.qZA(),t.TgZ(86,"div",14),t._UZ(87,"ng-select",28),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(88,"div",2),t.TgZ(89,"div",29),t.TgZ(90,"div",12),t.TgZ(91,"label",30),t._uU(92),t.ALo(93,"translate"),t.qZA(),t.TgZ(94,"div",31),t.TgZ(95,"div",32),t.TgZ(96,"mat-radio-group",33),t.NdJ("click",function(){return t.CHM(e),t.oxw().isIdentitiyType()}),t.TgZ(97,"mat-radio-button",34),t._uU(98,"NRC"),t.qZA(),t.TgZ(99,"mat-radio-button",35),t._uU(100,"FRC"),t.qZA(),t.TgZ(101,"mat-radio-button",36),t._uU(102,"Passport "),t.qZA(),t.TgZ(103,"mat-radio-button",37),t._uU(104,"Others "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(105,"div",2),t.TgZ(106,"div",11),t.TgZ(107,"div",12),t.TgZ(108,"label",13),t._uU(109),t.ALo(110,"translate"),t.qZA(),t.TgZ(111,"div",14),t.YNc(112,ot,1,4,"input",38),t.YNc(113,nt,1,4,"input",39),t.qZA(),t.qZA(),t.TgZ(114,"div",12),t.TgZ(115,"label",13),t._uU(116),t.ALo(117,"translate"),t.qZA(),t.TgZ(118,"div",14),t._UZ(119,"ng-select",40),t.qZA(),t.qZA(),t.TgZ(120,"div",12),t.TgZ(121,"label",13),t._uU(122),t.ALo(123,"translate"),t.qZA(),t.TgZ(124,"div",14),t._UZ(125,"ng-select",41),t.qZA(),t.qZA(),t.TgZ(126,"div",12),t.TgZ(127,"label",13),t._uU(128),t.ALo(129,"translate"),t.qZA(),t.TgZ(130,"div",14),t.TgZ(131,"ng-select",42),t.NdJ("change",function(){return t.CHM(e),t.oxw().onChangeState()}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(132,"div",12),t.TgZ(133,"label",13),t._uU(134),t.ALo(135,"translate"),t.qZA(),t.TgZ(136,"div",14),t.TgZ(137,"ng-select",43),t.NdJ("change",function(){return t.CHM(e),t.oxw().onChangeDistrict()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(138,"div",11),t.TgZ(139,"div",12),t.TgZ(140,"label",13),t._uU(141),t.ALo(142,"translate"),t.qZA(),t.TgZ(143,"div",14),t._UZ(144,"input",44),t.qZA(),t.qZA(),t.TgZ(145,"div",12),t.TgZ(146,"label",13),t._uU(147),t.ALo(148,"translate"),t.qZA(),t.TgZ(149,"div",14),t._UZ(150,"input",45),t.qZA(),t.qZA(),t.TgZ(151,"div",12),t.TgZ(152,"label",13),t._uU(153),t.ALo(154,"translate"),t.qZA(),t.TgZ(155,"div",14),t._UZ(156,"input",46),t.qZA(),t.qZA(),t.TgZ(157,"div",12),t.TgZ(158,"label",13),t._uU(159),t.ALo(160,"translate"),t.qZA(),t.TgZ(161,"div",14),t._UZ(162,"input",47),t.qZA(),t.qZA(),t.TgZ(163,"div",12),t.TgZ(164,"label",13),t._uU(165),t.ALo(166,"translate"),t.qZA(),t.TgZ(167,"div",14),t._UZ(168,"ng-select",48),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(169,"div",10),t.TgZ(170,"div",11),t.TgZ(171,"div",12),t.TgZ(172,"label",13),t._uU(173),t.ALo(174,"translate"),t.qZA(),t.TgZ(175,"div",14),t._UZ(176,"input",49),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(177,"div",50),t.TgZ(178,"button",51),t.NdJ("click",function(){return t.CHM(e),t.oxw().backLocation()}),t._uU(179),t.ALo(180,"translate"),t.qZA(),t.YNc(181,at,3,3,"button",52),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.MAs(72),o=t.oxw();t.xp6(2),t.ekj("gutter-b",!o.isPopup),t.xp6(2),t.Q6J("ngIf","Customer"==o.pageName),t.xp6(1),t.Q6J("ngIf","Prospect"==o.pageName),t.xp6(1),t.Q6J("ngIf",!o.isPopup),t.xp6(1),t.Q6J("ngClass",o.isDetail?"active":"inactive"),t.xp6(1),t.Q6J("formGroup",o.customerForm),t.xp6(5),t.Oqu(t.lcZ(14,123,"FORM.cs_title")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("titleCode"))("is-valid",o.isControlValid("titleCode")),t.Q6J("items",o.titleOption),t.xp6(4),t.Oqu(t.lcZ(21,125,"FORM.father_name")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("fatherName"))("is-valid",o.isControlValid("fatherName")),t.xp6(5),t.Oqu(t.lcZ(29,127,"FORM.first_name")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("firstName"))("is-valid",o.isControlValid("firstName")),t.xp6(4),t.Oqu(t.lcZ(36,129,"FORM.mobile")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("phone"))("is-valid",o.isControlValid("phone")),t.xp6(5),t.Oqu(t.lcZ(44,131,"FORM.middle_name")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("middleName"))("is-valid",o.isControlValid("middleName")),t.xp6(4),t.Oqu(t.lcZ(51,133,"FORM.email")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("email"))("is-valid",o.isControlValid("email")),t.xp6(5),t.Oqu(t.lcZ(59,135,"FORM.last_name")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("lastName"))("is-valid",o.isControlValid("lastName")),t.xp6(4),t.Oqu(t.lcZ(66,137,"FORM.date_of_birth")),t.xp6(4),t.ekj("is-invalid",o.isControlInvalid("dateOfBirth"))("is-valid",o.isControlValid("dateOfBirth")),t.Q6J("matDatepicker",e),t.xp6(1),t.Q6J("for",e),t.xp6(7),t.Oqu(t.lcZ(78,139,"FORM.natoinality")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("nationalityCode"))("is-valid",o.isControlValid("nationalityCode")),t.Q6J("items",o.nationalityOption),t.xp6(4),t.Oqu(t.lcZ(85,141,"FORM.occupation")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("occupationCode"))("is-valid",o.isControlValid("occupationCode")),t.Q6J("items",o.occupationOption),t.xp6(5),t.Oqu(t.lcZ(93,143,"FORM.id_type")),t.xp6(17),t.Oqu(t.lcZ(110,145,"FORM.id_no")),t.xp6(3),t.Q6J("ngIf","NRC"==o.customerForm.get("identityType").value),t.xp6(1),t.Q6J("ngIf","NRC"!=o.customerForm.get("identityType").value),t.xp6(3),t.Oqu(t.lcZ(117,147,"FORM.gender")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("genderCode"))("is-valid",o.isControlValid("genderCode")),t.Q6J("items",o.genderOption),t.xp6(3),t.Oqu(t.lcZ(123,149,"FORM.status")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("statusCode"))("is-valid",o.isControlValid("statusCode")),t.Q6J("items",o.statusOption),t.xp6(3),t.Oqu(t.lcZ(129,151,"FORM.state")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("stateCode"))("is-valid",o.isControlValid("stateCode")),t.Q6J("items",o.stateOption),t.xp6(3),t.Oqu(t.lcZ(135,153,"FORM.district")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("districtCode"))("is-valid",o.isControlValid("districtCode")),t.Q6J("items",o.districtOption),t.xp6(4),t.Oqu(t.lcZ(142,155,"FORM.party_code")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("partyCode"))("is-valid",o.isControlValid("partyCode")),t.xp6(3),t.Oqu(t.lcZ(148,157,"FORM.house")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("houseNumber"))("is-valid",o.isControlValid("houseNumber")),t.xp6(3),t.Oqu(t.lcZ(154,159,"FORM.road")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("road"))("is-valid",o.isControlValid("road")),t.xp6(3),t.Oqu(t.lcZ(160,161,"FORM.block_area")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("blockArea"))("is-valid",o.isControlValid("blockArea")),t.xp6(3),t.hij("",t.lcZ(166,163,"FORM.township")," "),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("townshipCode"))("is-valid",o.isControlValid("townshipCode")),t.Q6J("items",o.townshipOption),t.xp6(5),t.Oqu(t.lcZ(174,165,"FORM.company_name")),t.xp6(3),t.ekj("is-invalid",o.isControlInvalid("companyName"))("is-valid",o.isControlValid("companyName")),t.xp6(3),t.Oqu(t.lcZ(180,167,"FORM.btn_cancel")),t.xp6(2),t.Q6J("ngIf",o.cusAccess.edit)}}function lt(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).toggleAccordion("FNA")}),t._UZ(1,"span",59),t.qZA()}}function ct(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).toggleAccordion("FNA")}),t._UZ(1,"span",61),t.qZA()}}function rt(n,d){if(1&n&&(t.TgZ(0,"div",5),t.TgZ(1,"div",53),t.TgZ(2,"h3",54),t._uU(3,"FNA"),t.qZA(),t.qZA(),t.TgZ(4,"div",55),t.YNc(5,lt,2,0,"button",56),t.YNc(6,ct,2,0,"button",57),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(5),t.Q6J("ngIf",e.isFNA),t.xp6(1),t.Q6J("ngIf",!e.isFNA)}}function dt(n,d){if(1&n&&(t.TgZ(0,"div",66),t.YNc(1,rt,7,2,"div",67),t.TgZ(2,"div",8),t.TgZ(3,"section"),t._UZ(4,"app-material-table-view",72,73),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.isPopup),t.xp6(1),t.Q6J("ngClass",e.isFNA?"active":"inactive"),t.xp6(2),t.Q6J("data",e.fnaList)("colum",e.FNAELEMENT_COL)("displayedColumns",e.FNAdisplayedColumns)("selectable",e.isPopup)}}function _t(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).toggleAccordion("Activity")}),t._UZ(1,"span",75),t.qZA()}}function ut(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).toggleAccordion("Activity")}),t._UZ(1,"span",76),t.qZA()}}function mt(n,d){if(1&n&&(t.TgZ(0,"div",5),t.TgZ(1,"div",53),t.TgZ(2,"h3",54),t._uU(3,"Activity"),t.qZA(),t.qZA(),t.TgZ(4,"div",55),t.YNc(5,_t,2,0,"button",56),t.YNc(6,ut,2,0,"button",57),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(5),t.Q6J("ngIf",e.isActivity),t.xp6(1),t.Q6J("ngIf",!e.isActivity)}}function pt(n,d){if(1&n&&(t.TgZ(0,"div",66),t.YNc(1,mt,7,2,"div",67),t.TgZ(2,"div",8),t.TgZ(3,"section"),t._UZ(4,"app-material-table-view",72,74),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.isPopup),t.xp6(1),t.Q6J("ngClass",e.isActivity?"active":"inactive"),t.xp6(2),t.Q6J("data",e.activityList)("colum",e.ACTIVITY_ELEMENT_COL)("displayedColumns",e.ACTIVITYdisplayedColumns)("selectable",e.isPopup)}}function gt(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).toggleAccordion("Quotation")}),t._UZ(1,"span",75),t.qZA()}}function vt(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).toggleAccordion("Quotation")}),t._UZ(1,"span",76),t.qZA()}}function ft(n,d){if(1&n&&(t.TgZ(0,"div",5),t.TgZ(1,"div",53),t.TgZ(2,"h3",54),t._uU(3,"Quotation"),t.qZA(),t.qZA(),t.TgZ(4,"div",55),t.YNc(5,gt,2,0,"button",56),t.YNc(6,vt,2,0,"button",57),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(5),t.Q6J("ngIf",e.isQuotation),t.xp6(1),t.Q6J("ngIf",!e.isQuotation)}}function Ct(n,d){if(1&n&&(t.TgZ(0,"div",66),t.YNc(1,ft,7,2,"div",67),t.TgZ(2,"div",8),t.TgZ(3,"section"),t._UZ(4,"app-material-table-view",72,77),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.isPopup),t.xp6(1),t.Q6J("ngClass",e.isQuotation?"active":"inactive"),t.xp6(2),t.Q6J("data",e.quatationList)("colum",e.QUOTATION_ELEMENT_COL)("displayedColumns",e.QuotationdisplayedColumns)("selectable",e.isPopup)}}function At(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).toggleAccordion("Application")}),t._UZ(1,"span",75),t.qZA()}}function ht(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).toggleAccordion("Application")}),t._UZ(1,"span",76),t.qZA()}}function Zt(n,d){if(1&n&&(t.TgZ(0,"div",5),t.TgZ(1,"div",53),t.TgZ(2,"h3",54),t._uU(3,"Application"),t.qZA(),t.qZA(),t.TgZ(4,"div",55),t.YNc(5,At,2,0,"button",56),t.YNc(6,ht,2,0,"button",57),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(5),t.Q6J("ngIf",e.isApplication),t.xp6(1),t.Q6J("ngIf",!e.isApplication)}}function Tt(n,d){if(1&n&&(t.TgZ(0,"div",66),t.YNc(1,Zt,7,2,"div",67),t.TgZ(2,"div",68),t.TgZ(3,"section",69),t._UZ(4,"app-material-table-view",72,78),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.isPopup),t.xp6(2),t.Q6J("ngClass",e.isApplication?"active":"inactive"),t.xp6(1),t.Q6J("data",e.applicationList)("colum",e.APPLICATION_ELEMENT_COL)("displayedColumns",e.ApplicationdisplayedColumns)("selectable",e.isPopup)}}function Ot(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).toggleAccordion("Attachment")}),t._UZ(1,"span",75),t.qZA()}}function It(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).toggleAccordion("Attachment")}),t._UZ(1,"span",76),t.qZA()}}function bt(n,d){if(1&n&&(t.TgZ(0,"div",5),t.TgZ(1,"div",53),t.TgZ(2,"h3",54),t._uU(3,"Attachment"),t.qZA(),t.qZA(),t.TgZ(4,"div",55),t.YNc(5,Ot,2,0,"button",56),t.YNc(6,It,2,0,"button",57),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("ngIf",e.isAttachment),t.xp6(1),t.Q6J("ngIf",!e.isAttachment)}}function xt(n,d){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,dt,6,6,"div",65),t.YNc(2,pt,6,6,"div",65),t.YNc(3,Ct,6,6,"div",65),t.YNc(4,Tt,6,6,"div",65),t.TgZ(5,"div",66),t.YNc(6,bt,7,2,"div",67),t.TgZ(7,"div",68),t.TgZ(8,"section",69),t.TgZ(9,"app-material-table-view",70,71),t.NdJ("emitter",function(l){return t.CHM(e),t.oxw().actionBtn(l)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.fnaAccess.view),t.xp6(1),t.Q6J("ngIf",e.activityAccess.view),t.xp6(1),t.Q6J("ngIf",e.quoAccess.view),t.xp6(1),t.Q6J("ngIf",e.policyAccess.view),t.xp6(2),t.Q6J("ngIf",!e.isPopup),t.xp6(2),t.Q6J("ngClass",e.isAttachment?"active":"inactive"),t.xp6(1),t.Q6J("data",e.attachmentList)("colum",e.ATTACHMENT_ELEMENT_COL)("displayedColumns",e.AttachmentdisplayedColumns)("selectable",e.isPopup)}}let Et=(()=>{class n{constructor(e,o,l,T,U,yt,Nt,Dt,Mt,Pt,qt,Lt,Ft,Ut,Rt){this.fb=e,this.location=o,this.masterDataService=l,this.route=T,this.customerService=U,this.modalService=yt,this.cdf=Nt,this.prodctService=Dt,this.router=Mt,this.AttachmentUploadService=Pt,this.CustomerAttachmentService=qt,this.AttachmentDownloadService=Lt,this.alertService=Ft,this.menuService=Ut,this.ngbModal=Rt,this.FNAELEMENT_COL=JSON.parse(JSON.stringify(M.q)),this.FNAdisplayedColumns=JSON.parse(JSON.stringify(b.MN)),this.ACTIVITY_ELEMENT_COL=JSON.parse(JSON.stringify(E.n)),this.ACTIVITYdisplayedColumns=JSON.parse(JSON.stringify(E.t)),this.QUOTATION_ELEMENT_COL=JSON.parse(JSON.stringify(r.J)),this.QuotationdisplayedColumns=JSON.parse(JSON.stringify(r.L)),this.APPLICATION_ELEMENT_COL=JSON.parse(JSON.stringify(_.j9)),this.ApplicationdisplayedColumns=JSON.parse(JSON.stringify(_.kZ)),this.ATTACHMENT_ELEMENT_COL=JSON.parse(JSON.stringify(b.uK)),this.AttachmentdisplayedColumns=JSON.parse(JSON.stringify(b.A6)),this.fnaList=[],this.activityList=[],this.quatationList=[],this.applicationList=[],this.attachmentList=[],this.config={name:"identityNumber"},this.toMinDate=null,this.fromMinDate=null,this.toMaxDate=null,this.fromMaxDate=null,this.isPopup=!1,this.isLead=!1,this.nationalityOption=[],this.occupationOption=[],this.statusOption=[],this.stateOption=[],this.districtOption=[],this.townshipOption=[],this.genderOption=[],this.titleOption=[],this.tabs=[{name:"FNA",active:!1},{name:"Activity",active:!1},{name:"Quotation",active:!1},{name:"Application",active:!1},{name:"Attachment",active:!1}],this.isFNA=!1,this.isApplication=!1,this.isAttachment=!1,this.isQuotation=!1,this.isActivity=!1,this.isMenuOpen=!1,this.isMore=!1,this.isDetail=!0,this.pageName="",this.description="",this.cusAccess=h.w,this.activityAccess=h.w,this.policyAccess=h.w,this.quoAccess=h.w,this.attachAccess=h.w,this.fnaAccess=h.w,this.ACTIVITYdisplayedColumns.splice(8,1),this.QuotationdisplayedColumns.splice(7,2),this.ApplicationdisplayedColumns.splice(7,1)}ngOnInit(){this.loadForm(),this.route.queryParams.subscribe(e=>{this.pageStatus=e.pageStatus,this.pageName=e.page,"create"==this.pageStatus||this.isPopup?(this.loadForm(this.oldData),this.isLead&&this.customerForm.controls.statusCode.setValue("A")):(this.oldId=e.pageId,this.oldSecondaryId=e.pageSecondaryId,this.getOld())})}checkPremission(){this.menuService.dataAccess.subscribe(e=>{e&&(this.cusAccess=e.customer,this.activityAccess=e.activity,this.policyAccess=e.application,this.quoAccess=e.quotation,this.fnaAccess=e.fna,this.cusAccess.view||this.location.back(),this.cdf.detectChanges())})}ngAfterViewInit(){this.getMaster()}getNationality(){return this.masterDataService.getDataByType("NATIONALITY").pipe((0,A.U)(e=>this.getFormatOpt(e)),(0,m.K)(e=>(0,C.of)([])))}getMaster(){(0,Z.D)([this.getTitle(),this.getGender(),this.getOccupation(),this.getStatus(),this.getState(),this.getNationality()]).toPromise().then(e=>{e&&(this.titleOption=e[0],this.genderOption=e[1],this.occupationOption=e[2],this.statusOption=e[3],this.stateOption=e[4],this.nationalityOption=e[5],this.cdf.detectChanges())})}getTitle(){return this.masterDataService.getDataByType("TITLE").pipe((0,A.U)(e=>this.getFormatOpt(e)),(0,m.K)(e=>(0,C.of)([])))}getGender(){return this.masterDataService.getDataByType("TB_GENDER").pipe((0,A.U)(e=>this.getFormatOpt(e)),(0,m.K)(e=>(0,C.of)([])))}getOccupation(){return this.masterDataService.getDataByType("OCCUPATION").pipe((0,A.U)(e=>this.getFormatOpt(e)),(0,m.K)(e=>(0,C.of)([])))}getStatus(){return this.masterDataService.getDataByType("CUST_STATUS").pipe((0,A.U)(e=>this.getFormatOpt(e)),(0,m.K)(e=>(0,C.of)([])))}getFormatOpt(e){return e.map(o=>({code:o.codeId,value:o.codeName||o.codeValue}))}getState(){return this.masterDataService.getDataByType("PT_STATE",!0).pipe((0,A.U)(e=>this.getFormatOpt(e)),(0,m.K)(e=>(0,C.of)([])))}getDistrict(e){this.masterDataService.getAddressDataByType("PT_DISTRICT",e).pipe((0,A.U)(o=>this.getFormatOpt(o))).toPromise().then(o=>{o&&(this.districtOption=o,this.cdf.detectChanges())})}getTownship(e){this.masterDataService.getAddressDataByType("PT_TOWNSHIP",e).pipe((0,A.U)(o=>this.getFormatOpt(o))).toPromise().then(o=>{o&&(this.townshipOption=o,this.cdf.detectChanges())})}getOld(){this.customerService.findOne(this.oldId).toPromise().then(e=>{e&&(this.oldData=e,this.activityList=null!=this.oldData.activities?this.oldData.activities:[],this.quatationList=null!=this.oldData.resourceQuotations?this.oldData.resourceQuotations:[],this.applicationList=null!=this.oldData.resourcePolicies?this.oldData.resourcePolicies:[],this.attachmentList=null!=this.oldData.attachments?this.oldData.attachments:[],this.loadForm(e),this.onInitAddress(this.oldData),this.cdf.detectChanges(),this.activitymatTable.reChangeData(),this.fnamatTable.reChangeData(),this.attachmentmatTable.reChangeData(),this.quotationmatTable.reChangeData(),this.applicationmatTable.reChangeData())})}loadForm(e){let o=!!e&&!!e.partyCode;this.customerForm=null,this.cdf.detectChanges(),this.customerForm=new s.cw({titleCode:new s.NI({value:e?e.titleCode:"",disabled:o},s.kI.required),firstName:new s.NI({value:e?e.firstName:"",disabled:o},s.kI.required),lastName:new s.NI({value:e?e.lastName:"",disabled:o},s.kI.required),middleName:new s.NI({value:e?e.middleName:"",disabled:o}),genderCode:new s.NI({value:e?e.genderCode:"",disabled:o},s.kI.required),nationalityCode:new s.NI({value:e?e.nationalityCode:"",disabled:o},s.kI.required),identityType:new s.NI({value:e?"OTHER"==e.identityType?"OTHERS":e.identityType:"NRC",disabled:o},s.kI.required),identityNumber:new s.NI({value:e?e.identityNumber:"",disabled:o},s.kI.required),statusCode:new s.NI({value:e?e.statusCode:"A",disabled:o||this.isLead},s.kI.required),partyCode:new s.NI({value:e?e.partyCode:"",disabled:o}),fatherName:new s.NI({value:e?e.fatherName:"",disabled:o},[s.kI.required]),phone:new s.NI({value:e?e.phone:"",disabled:o},[s.kI.required,s.kI.maxLength(11),s.kI.minLength(9)]),email:new s.NI({value:e?e.email:"",disabled:o},[s.kI.email,s.kI.required]),dateOfBirth:new s.NI({value:e&&e.dateOfBirth?I(e.dateOfBirth):null,disabled:o},s.kI.required),occupationCode:new s.NI({value:e?e.occupationCode:"",disabled:o}),houseNumber:new s.NI({value:e?e.houseNumber:"",disabled:o},s.kI.required),road:new s.NI({value:e?e.road:"",disabled:o},s.kI.required),blockArea:new s.NI({value:e?e.blockArea:"",disabled:o},s.kI.required),townshipCode:new s.NI({value:e?e.townshipCode:"",disabled:o},s.kI.required),districtCode:new s.NI({value:e?e.districtCode:"",disabled:o},s.kI.required),stateCode:new s.NI({value:e?e.stateCode:"",disabled:o},s.kI.required),companyName:new s.NI({value:e&&e.companyName||"KBZMS",disabled:!0})})}clearDOB(e){"dateOfBirth"==e&&this.customerForm.controls.dateOfBirth.setValue(null)}onInitAddress(e){this.getDistrict(e.stateCode),this.getTownship(e.districtCode),this.cdf.detectChanges()}onChangeState(){this.districtOption=[],this.townshipOption=[],this.customerForm.controls.districtCode.setValue(""),this.customerForm.controls.townshipCode.setValue(""),this.getDistrict(this.customerForm.controls.stateCode.value),this.cdf.detectChanges()}onChangeDistrict(){this.customerForm.controls.townshipCode.setValue(""),""==this.customerForm.controls.stateCode.value?this.townshipOption=[]:this.getTownship(this.customerForm.controls.districtCode.value),this.cdf.detectChanges()}isIdentitiyType(){this.customerForm.controls.identityNumber.setValue("")}backLocation(){this.isPopup?this.modalService.dismissAll():(this.loadForm(this.oldData),this.onInitAddress(this.oldData))}doCustomer(){if(console.log("POPUP",this.isPopup),this.customerForm.invalid)return(0,N.w)(this.customerForm),!0;{let e=this.customerForm.getRawValue();this.isPopup||"create"==this.pageStatus?this.create(e):this.edit(e)}}create(e){let o=Object.assign(Object.assign({},e),{customerId:null,individualId:null});this.customerService.save(o).toPromise().then(l=>{if(l)if(this.isPopup){let T=o.firstName+" "+o.middleName+" "+o.lastName;this.ngbModal.dismiss({data:Object.assign(Object.assign({},e),{name:T,customerId:l}),type:"save"})}else this.alertService.activate("This record was created","Success Message"),this.location.back()})}edit(e){let o=Object.assign(Object.assign({},e),{customerId:this.oldId,individualId:this.oldSecondaryId});this.customerService.updateNoID(o).toPromise().then(l=>{l&&(this.alertService.activate("This record was updated","Success Message"),this.location.back())})}toggleAccordion(e){"FNA"==e&&(this.isFNA=!this.isFNA),"Application"==e&&(this.isApplication=!this.isApplication),"Quotation"==e&&(this.isQuotation=!this.isQuotation),"Attachment"==e&&(this.isAttachment=!this.isAttachment,this.isAttachment&&this.getCustomerAttachment()),"Activity"==e&&(this.isActivity=!this.isActivity),"More"==e&&(this.isMore=!this.isMore),"Detail"==e&&(this.isDetail=!this.isDetail)}add(e){if("Application"==e){const o=this.modalService.open(p.P,{size:"xl",backdrop:!1});o.componentInstance.type="modal",o.result.then(()=>{},l=>{l&&"save"==l.type&&(this.prodctService.creatingCustomer=this.oldData,this.prodctService.createingProd=l.data,this.prodctService.editData=null,this.prodctService.referenceID=null,this.prodctService.viewType="policy",this.prodctService.type="policy",this.router.navigateByUrl("/product-form"))})}if("Quotation"==e){const o=this.modalService.open(p.P,{size:"xl",backdrop:!1});o.componentInstance.type="modal",o.result.then(()=>{},l=>{l&&"save"==l.type&&(this.prodctService.createingProd=l.data,this.prodctService.creatingCustomer=this.oldData,this.prodctService.viewType="quotation",this.prodctService.editData=null,this.prodctService.referenceID=null,this.prodctService.type="quotation",this.router.navigateByUrl("/product-form"))})}"Activity"==e&&this.router.navigate(["/activity/activity-management-detail"],{queryParams:{customerId:this.oldData.customerId,name:this.oldData.firstName,pageStatus:"create"}})}openModal(){let e;e=this.modalService.open(q.V,{size:"xl",backdrop:!1}),e.componentInstance.config=this.config,e.componentInstance.group=this.customerForm}actionBtn(e){"download"==e.cmd&&this.AttachmentDownloadService.getDownload(e.data.id,e.data.fileName),"delete"==e.cmd&&this.alertService.activate("Are you sure want to delete?","Warning Message").then(o=>{o&&this.CustomerAttachmentService.delete(e.data.id).toPromise().then(l=>{l&&(this.getCustomerAttachment(),this.alertService.activate("This record was deleted","Success Message").then(T=>{}))})})}addAttachment(){return(0,c.mG)(this,void 0,void 0,function*(){let e;e=this.modalService.open(P.F,{size:"lg",backdrop:!1}),e.componentInstance.type="description",e.componentInstance.oldId=this.oldId,e.result.then(()=>{},o=>{o&&(this.description=o.description,this.AttachmentUploadService.save(o.data).toPromise().then(l=>{l&&this.CustomerAttachmentService.save({attachmentId:l,description:this.description,refDocNo:this.oldId,refDocType:"CUST"}).toPromise().then(U=>{U&&this.getCustomerAttachment()})}).catch(l=>{}))})})}getCustomerAttachment(){return(0,c.mG)(this,void 0,void 0,function*(){this.CustomerAttachmentService.getAttachmentListRef(this.oldId,"CUST").toPromise().then(e=>{e&&(this.attachmentList=e,this.attachmentmatTable.reChangeData(),this.cdf.detectChanges())})})}isControlValid(e){const o=this.customerForm.controls[e];return o.valid&&(o.dirty||o.touched)}isControlInvalid(e){const o=this.customerForm.controls[e];return o.invalid&&(o.dirty||o.touched)}controlHasError(e,o){const l=this.customerForm.controls[o];return l.hasError(e)&&(l.dirty||l.touched)}isControlTouched(e){const o=this.customerForm.controls[e];return o.dirty||o.touched}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(u.Ye),t.Y36(f.D),t.Y36(y.gz),t.Y36(J.v),t.Y36(R.FF),t.Y36(t.sBO),t.Y36(w.f),t.Y36(y.F0),t.Y36(L.p3),t.Y36(L.ou),t.Y36(L.Ys),t.Y36(Y.c),t.Y36(h.q),t.Y36(R.Kz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-customer-detail"]],viewQuery:function(e,o){if(1&e&&(t.Gf(V,5),t.Gf(H,5),t.Gf(j,5),t.Gf(G,5),t.Gf(z,5)),2&e){let l;t.iGM(l=t.CRH())&&(o.fnamatTable=l.first),t.iGM(l=t.CRH())&&(o.activitymatTable=l.first),t.iGM(l=t.CRH())&&(o.applicationmatTable=l.first),t.iGM(l=t.CRH())&&(o.attachmentmatTable=l.first),t.iGM(l=t.CRH())&&(o.quotationmatTable=l.first)}},inputs:{isPopup:"isPopup",pageStatus:"pageStatus",isLead:"isLead"},features:[t._Bn([{provide:v._A,useClass:i.t7,deps:[v.Ad]},{provide:v.sG,useValue:D.Gs}])],decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[1,"card","card-custom"],[1,"card-header"],["class","card-title",4,"ngIf"],["class","card-toolbar",4,"ngIf"],[1,"card-body","px-10","py-3",3,"ngClass"],["action","#",1,"form",3,"formGroup","ngSubmit"],[1,"row",2,"align-items","center"],[1,"col-sm-6"],[1,"form-group","row"],[1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["bindLabel","value","bindValue","code","formControlName","titleCode",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["type","text","name","fatherName","autocomplete","off","formControlName","fatherName",1,"form-control","form-control-sm"],["type","text","name","firstName","autocomplete","off","formControlName","firstName",1,"form-control","form-control-sm"],["type","text","name","phone","autocomplete","off","formControlName","phone",1,"form-control","form-control-sm"],["type","text","name","middleName","autocomplete","off","formControlName","middleName",1,"form-control","form-control-sm"],["type","email","name","email","autocomplete","off","formControlName","email",1,"form-control","form-control-sm"],["type","text","name","lastName","autocomplete","off","formControlName","lastName",1,"form-control","form-control-sm"],[1,"input-group","input-group-sm"],["matInput","","formControlName","dateOfBirth","readonly","",1,"form-control-sm","date-input",2,"width","100%",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],["bindLabel","value","bindValue","code","formControlName","nationalityCode",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["bindLabel","value","bindValue","code","formControlName","occupationCode",1,"ng-custom-select","ng-custom-select-sm",3,"items"],[1,"col-sm-12"],[1,"col-sm-2","col-form-label"],[1,"col-sm-10"],[1,""],["name","identityType","formControlName","identityType",3,"click"],["value","NRC",1,"example-margin"],["value","FRC",1,"example-margin"],["value","PASSPORT",1,"example-margin"],["value","OTHERS",1,"example-margin"],["type","text","class","form-control form-control-sm ","name","identityNumber","autocomplete","off","formControlName","identityNumber","readonly","",3,"is-invalid","is-valid","click",4,"ngIf"],["type","text","class","form-control form-control-sm ","name","identityNumber","autocomplete","off","formControlName","identityNumber",3,"is-invalid","is-valid",4,"ngIf"],["bindLabel","value","bindValue","code","formControlName","genderCode",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["bindLabel","value","bindValue","code","formControlName","statusCode",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["bindLabel","value","bindValue","code","formControlName","stateCode",1,"ng-custom-select","ng-custom-select-sm",3,"items","change"],["bindLabel","value","bindValue","code","formControlName","districtCode",1,"ng-custom-select","ng-custom-select-sm",3,"items","change"],["type","text","readonly","true","name","partyCode","autocomplete","off","formControlName","partyCode",1,"form-control","form-control-sm"],["type","text","name","houseNumber","autocomplete","off","formControlName","houseNumber",1,"form-control","form-control-sm"],["type","text","name","road","autocomplete","off","formControlName","road",1,"form-control","form-control-sm"],["type","text","name","blockArea","autocomplete","off","formControlName","blockArea",1,"form-control","form-control-sm"],["bindLabel","value","bindValue","code","formControlName","townshipCode",1,"ng-custom-select","ng-custom-select-sm",3,"items"],["type","text","name","companyName","autocomplete","off","formControlName","companyName",1,"form-control","form-control-sm"],[1,"form-group",2,"text-align","right"],["type","button",1,"btn","btn-light","btn-elevate",3,"click"],["type","button","class","btn btn-primary btn-elevate mx-2",3,"click",4,"ngIf"],[1,"card-title"],[1,"card-label","left-border-image"],[1,"card-toolbar"],["type","button","class","icon",3,"click",4,"ngIf"],["type","button","class","icon ml-2",3,"click",4,"ngIf"],["type","button",1,"icon",3,"click"],[1,"flaticon2-back"],["type","button",1,"icon","ml-2",3,"click"],[1,"flaticon2-down"],["type","text","name","identityNumber","autocomplete","off","formControlName","identityNumber","readonly","",1,"form-control","form-control-sm",3,"click"],["type","text","name","identityNumber","autocomplete","off","formControlName","identityNumber",1,"form-control","form-control-sm"],["type","button",1,"btn","btn-primary","btn-elevate","mx-2",3,"click"],["class","card card-custom gutter-b",4,"ngIf"],[1,"card","card-custom","gutter-b"],["class","card-header",4,"ngIf"],[1,"card-body","px-10","py-3"],[3,"ngClass"],[3,"data","colum","displayedColumns","selectable","emitter"],["attachment",""],[3,"data","colum","displayedColumns","selectable"],["fna",""],["activity",""],[1,"flaticon2-back","icon"],[1,"flaticon2-down","icon"],["quotation",""],["application",""]],template:function(e,o){1&e&&(t.YNc(0,st,182,169,"div",0),t.YNc(1,xt,11,10,"ng-container",1)),2&e&&(t.Q6J("ngIf",o.customerForm),t.xp6(1),t.Q6J("ngIf",!o.isPopup&&o.oldId))},directives:[u.O5,u.mk,s._Y,s.JL,s.sg,k.w9,s.JJ,s.u,s.Fj,Q.Nt,F.hl,F.nW,B.R9,F.Mq,S.VQ,S.U0,K.I],pipes:[W.X],styles:[".input-group[_ngcontent-%COMP%]   .form-control-sm[_ngcontent-%COMP%]{background-color:#fff;background-clip:padding-box;border:1px solid #E4E6EF;padding:0px .75rem}.input-group[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;right:5px}.active[_ngcontent-%COMP%]{display:block}.inactive[_ngcontent-%COMP%]{display:none}.icon[_ngcontent-%COMP%]{position:relative;border:none;margin:0;font-size:1.5rem;background-color:transparent}.add[_ngcontent-%COMP%]{top:-11px;position:relative;border:none;background:#f2f2f2;margin:0}.add[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:-52px;right:78px;width:110px}.btn-box[_ngcontent-%COMP%]{text-align:end}.btn-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;width:127%;height:100%;opacity:0}h2[_ngcontent-%COMP%]{font-size:13px;color:#005ca2;background:#F2F2F2;border:none;cursor:pointer;position:relative;margin-top:24px;padding:12px 24px 1px}h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:14px;top:5px}h2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:6px;height:12px;float:left}h2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;padding-left:18px}.tab-div[_ngcontent-%COMP%]{position:relative;padding:20px 0 0;background:#d1d7e2;border-bottom:1px solid #d2d2d2;margin:-10px 0 0}.tab-div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}"]}),n})()},56581:(O,g,a)=>{a.d(g,{v:()=>x});var c=a(92340),s=a(38313),i=a(5e3),v=a(40520);const I=`${c.N.apiUrl}/customer`;let x=(()=>{class m extends s.i{constructor(Z){super(Z,I),this.httpClient=Z}}return m.\u0275fac=function(Z){return new(Z||m)(i.LFG(v.eN))},m.\u0275prov=i.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},17525:(O,g,a)=>{a.d(g,{I:()=>i,q:()=>s});var c=a(34436);const s=[{title:"Date",type:c.Y.FEILD,field:"createdAt"},{title:"FNA Type",type:c.Y.FEILD,field:"fnaType"},{title:"Conducted By",type:c.Y.FEILD,field:"conductedBy"},{title:"Actions",type:c.Y.ACTION,field:"actions",btn:{edit:!0,delete:!0}}],i=["createdAt","fnaType","conductedBy","actions"]},52921:(O,g,a)=>{a.d(g,{F:()=>b});var c=a(70655),s=a(55213),i=a(5e3),v=a(93075),I=a(63272),x=a(55410),m=a(69808),C=a(98807);const Z=["selectedFile"];function A(_,p){1&_&&(i.TgZ(0,"div",11),i.TgZ(1,"span",12),i._uU(2,"Please add Reject Reason"),i.qZA(),i.qZA())}function N(_,p){1&_&&(i.TgZ(0,"div",11),i.TgZ(1,"span",12),i._uU(2,"Please add Lost Reason"),i.qZA(),i.qZA())}function D(_,p){1&_&&(i.TgZ(0,"div",11),i.TgZ(1,"span",12),i._uU(2,"Please add Attachment Description"),i.qZA(),i.qZA())}function h(_,p){if(1&_){const r=i.EpF();i.TgZ(0,"div",13),i.TgZ(1,"textarea",14),i.NdJ("ngModelChange",function(u){return i.CHM(r),i.oxw().lostReason=u}),i.qZA(),i.qZA()}if(2&_){const r=i.oxw();i.xp6(1),i.Q6J("ngModel",r.lostReason)}}function E(_,p){if(1&_){const r=i.EpF();i.TgZ(0,"div",13),i.TgZ(1,"input",15),i.NdJ("ngModelChange",function(u){return i.CHM(r),i.oxw().description=u}),i.ALo(2,"translate"),i.qZA(),i.qZA()}if(2&_){const r=i.oxw();i.xp6(1),i.s9C("placeholder",i.lcZ(2,2,"FORM.description")),i.Q6J("ngModel",r.description)}}function M(_,p){if(1&_){const r=i.EpF();i.TgZ(0,"div",13),i.TgZ(1,"input",16,17),i.NdJ("change",function(u){return i.CHM(r),i.oxw().importDocument(u)}),i.qZA(),i.TgZ(3,"div",18),i.TgZ(4,"input",19),i.NdJ("ngModelChange",function(u){return i.CHM(r),i.oxw().fileName=u}),i.qZA(),i.TgZ(5,"div",20),i.TgZ(6,"button",21),i.NdJ("click",function(){return i.CHM(r),i.oxw().openFile()}),i._uU(7),i.ALo(8,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&_){const r=i.oxw();i.xp6(4),i.Q6J("ngModel",r.fileName),i.xp6(3),i.Oqu(i.lcZ(8,2,"FORM.btn_browse"))}}function P(_,p){if(1&_){const r=i.EpF();i.TgZ(0,"button",22),i.NdJ("click",function(){return i.CHM(r),i.oxw().save()}),i._uU(1),i.ALo(2,"translate"),i.qZA()}if(2&_){const r=i.oxw();i.Q6J("disabled",!r.description),i.xp6(1),i.Oqu(i.lcZ(2,2,"FORM.btn_save"))}}function q(_,p){if(1&_){const r=i.EpF();i.TgZ(0,"button",22),i.NdJ("click",function(){return i.CHM(r),i.oxw().save()}),i._uU(1),i.ALo(2,"translate"),i.qZA()}if(2&_){const r=i.oxw();i.Q6J("disabled",!r.lostReason),i.xp6(1),i.Oqu(i.lcZ(2,2,"FORM.btn_save"))}}let b=(()=>{class _{constructor(r,t,u,f){this.fb=r,this.modal=t,this.AttachmentUploadService=u,this.cdf=f,this.oldId="",this.fileName="",this.subscriptions=[]}ngOnInit(){}ngOnDestroy(){}save(){"reason"==this.type&&this.modal.dismiss(this.lostReason),"description"==this.type&&this.modal.dismiss({data:this.fileData,description:this.description})}importDocument(r){return(0,c.mG)(this,void 0,void 0,function*(){if(r){const t=r.target.files[0],u=(0,s.y)();u.readAsDataURL(t),u.onload=()=>{if(u.result){let y={fileStr:u.result.toString().split(",")[1],fileName:t.name,fileType:t.type,fileSize:t.size,contentType:t.type,fileExtension:t.name.split(".").pop()};this.fileName=t.name,this.fileData=y,this.cdf.detectChanges()}}}})}openFile(){this.selectedFileEl.nativeElement.click()}}return _.\u0275fac=function(r){return new(r||_)(i.Y36(v.qu),i.Y36(I.Kz),i.Y36(x.p3),i.Y36(i.sBO))},_.\u0275cmp=i.Xpm({type:_,selectors:[["app-custom-input-alert"]],viewQuery:function(r,t){if(1&r&&i.Gf(Z,5),2&r){let u;i.iGM(u=i.CRH())&&(t.selectedFileEl=u.first)}},inputs:{config:"config",type:"type",status:"status",oldId:"oldId"},decls:19,vars:11,consts:[[1,"modal-content"],[1,"modal-header"],["class","modal-title h4 left-border-image",4,"ngIf"],[1,"overlay","overlay-block","cursor-default","modal-body"],[1,"row"],["class","col-sm-12",4,"ngIf"],[1,"row",2,"margin-top","25px"],[1,"col-12"],[1,"modal-footer"],["type","button","class","btn btn-light btn-elevate mr-2",3,"disabled","click",4,"ngIf"],[1,"btn","btn-primary","btn-elevate",3,"click"],[1,"modal-title","h4","left-border-image"],[1,"text-muted","font-weight-bold","font-size-sm","mt-1"],[1,"col-sm-12"],["type","text","name","lostReason","placeholder","Reason","autocomplete","off",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","text","name","description","autocomplete","off",1,"form-control","form-control-sm",3,"placeholder","ngModel","ngModelChange"],["type","file","name","phone",1,"form-control","form-control-sm",2,"display","none",3,"change"],["selectedFile",""],[1,"input-group"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"disabled","click"]],template:function(r,t){1&r&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.YNc(2,A,3,0,"div",2),i.YNc(3,N,3,0,"div",2),i.YNc(4,D,3,0,"div",2),i.qZA(),i.TgZ(5,"div",3),i.TgZ(6,"div",4),i.YNc(7,h,2,1,"div",5),i.YNc(8,E,3,4,"div",5),i.qZA(),i.TgZ(9,"div",6),i.YNc(10,M,9,4,"div",5),i.qZA(),i.qZA(),i.TgZ(11,"div",4),i.TgZ(12,"div",7),i.TgZ(13,"div",8),i.YNc(14,P,3,4,"button",9),i.YNc(15,q,3,4,"button",9),i.TgZ(16,"button",10),i.NdJ("click",function(){return t.modal.dismiss()}),i._uU(17),i.ALo(18,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&r&&(i.xp6(2),i.Q6J("ngIf","reason"==t.type&&"04"==t.status),i.xp6(1),i.Q6J("ngIf","reason"==t.type&&"06"==t.status),i.xp6(1),i.Q6J("ngIf","description"==t.type),i.xp6(3),i.Q6J("ngIf","reason"==t.type),i.xp6(1),i.Q6J("ngIf","description"==t.type),i.xp6(2),i.Q6J("ngIf","description"==t.type),i.xp6(4),i.Q6J("ngIf","description"==t.type),i.xp6(1),i.Q6J("ngIf","reason"==t.type),i.xp6(2),i.Oqu(i.lcZ(18,9,"FORM.btn_cancel")))},directives:[m.O5,v.Fj,v.JJ,v.On],pipes:[C.X],styles:[".active[_ngcontent-%COMP%]{background-color:#3699ff!important;color:#fff}.btn-box[_ngcontent-%COMP%]{text-align:end}.btn-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;width:127%;height:100%;opacity:0}"]}),_})()},39641:(O,g,a)=>{a.d(g,{j9:()=>s,kZ:()=>i,uv:()=>v});var c=a(34436);const s=[{title:"Application ID",type:c.Y.FEILD,field:"id"},{title:"Product Name",type:c.Y.FEILD,field:"productName"},{title:"Product Code",type:c.Y.FEILD,field:"productCode"},{title:"Quotation ID",type:c.Y.FEILD,field:"quotationId"},{title:"Agent Name",type:c.Y.FEILD,field:"agentFirstName"},{title:"Premium",type:c.Y.FEILD,field:"premium",amtFormat:!0},{title:"Status",type:c.Y.FEILD,field:"status",isStatus:!0},{title:"Submission Status",type:c.Y.FEILD,field:"apiStatus",isApiStatus:!0},{title:"Date",type:c.Y.FEILD,field:"createdAt",isDate:!0},{title:"Actions",type:c.Y.ACTION,field:"actions",btn:{view:!0,edit:!0,editOnState:!0}}],i=["id","productName","productCode","agentFirstName","premium","status","apiStatus","createdAt","actions"],v=[{code:"D",value:"DRAFT APPLICATION"},{code:"A",value:"APPROVED APPLICATION"},{code:"R",value:"REJECT APPLICATION"},{code:"05",value:"ACTIVE POLICY"},{code:"04",value:"APPROVE RENEWAL"},{code:"25",value:"CANCELLATION IN PROGRESS"},{code:"09",value:"CANCELLED"},{code:"06",value:"DNDORSEMENT/ALTERTION STARTED"},{code:"13",value:"EXPIRED/MATURED"},{code:"17",value:"FORFEITED"},{code:"15",value:"LAPSED"},{code:"19",value:"PAID UP"},{code:"10",value:"QUICK QUOTE"},{code:"07",value:"REFFERED TO UNDERWRITE"},{code:"12",value:"RENEWAL IN PROGRESS"},{code:"16",value:"REVIVAL IN PROGRESS"},{code:"18",value:"REVIVED POLICY"},{code:"14",value:"SPECIAL REVIVAL IN PROGRESS"},{code:"08",value:"SUSPENDED"},{code:"11",value:"WITHDRAW/SURRENDERED"},{code:"F",value:"FAIL"},{code:"S",value:"SENDING"}]},16537:(O,g,a)=>{a.d(g,{J:()=>s,L:()=>i});var c=a(34436);const s=[{title:"Quotation ID",type:c.Y.FEILD,field:"id"},{title:"Product Name",type:c.Y.FEILD,field:"productName"},{title:"Product Code",type:c.Y.FEILD,field:"productCode"},{title:"Agent Name",type:c.Y.FEILD,field:"agentFirstName"},{title:"Premium",type:c.Y.FEILD,field:"premium",amtFormat:!0},{title:"Status",type:c.Y.FEILD,field:"status",isStatus:!0},{title:"Date",type:c.Y.FEILD,field:"createdAt",isDate:!0},{title:"Application",type:c.Y.TEXT,field:"create application"},{title:"Actions",type:c.Y.ACTION,field:"actions",btn:{view:!0,edit:!0}}],i=["id","productName","productCode","agentFirstName","premium","status","createdAt","create application","actions"]}}]);