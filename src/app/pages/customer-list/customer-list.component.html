<div class="row">
    <div class="col-12">
        <div class="card card-custom gutter-b" [class.remove-p]="isPopup">
            <div class="card-header">
                <div class="card-title">
                    <h3 class="card-label left-border-image">{{"FORM.customer_list" | translate}}</h3>
                </div>
                <div class="card-toolbar">
                    <!-- <button *ngIf="!isPopup" type="button" class="btn btn-primary btn-circle" style="margin-right: 1rem;
                    " (click)="navigateToDetail('create')">
                        <span class="flaticon2-plus"></span>
                    </button> -->
                    <!-- <button type="button" class="btn btn-primary ml-2" style="min-width: 50px;" (click)="getList()">
                        <span class="flaticon2-magnifier-tool search-tool"></span>
                    </button> -->
                    <span class="flaticon2-magnifier-tool search-tool" (click)="searchCustomer()"></span>
                    <button type="button" class="btn btn-primary ml-2" style="min-width: 50px;" (click)="cancel()">
                        <span class="">{{"FORM.btn_cancel" | translate}}</span>
                    </button>
                </div>
            </div>

            <div class="card-body px-10 py-3">
                <form action="#" class="form" [formGroup]="customerForm">
                    <div class="row" style="align-items: center;">
                        <app-start-end-date [formInput]="customerForm" remove-host [colClass]="'col-md-6'">
                        </app-start-end-date>
                    </div>

                    <div class="row" style="align-items: center;">
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="col-sm-4 col-form-label">{{"FORM.status" | translate}}</label>
                                <div class="col-sm-8">
                                    <ng-select class="ng-custom-select ng-custom-select-sm"
                                        [class.is-invalid]="isControlInvalid('statusCode')"
                                        [class.is-valid]="isControlValid('statusCode')" [items]="statusOption"
                                        bindLabel="value" bindValue="code" formControlName="statusCode">
                                    </ng-select>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="col-sm-4 col-form-label">{{"FORM.party_code" | translate}}</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control form-control-sm " name="partyCode"
                                        autocomplete="off" [class.is-invalid]="isControlInvalid('partyCode')"
                                        [class.is-valid]="isControlValid('partyCode')" formControlName="partyCode" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row" style="align-items: center;">
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="col-sm-4 col-form-label">{{"FORM.identity_type" | translate}}</label>
                                <div class="col-sm-8">
                                    <ng-select class="ng-custom-select ng-custom-select-sm"
                                        [class.is-invalid]="isControlInvalid('identityType')"
                                        [class.is-valid]="isControlValid('identityType')" [items]="identityTypeOption"
                                        bindLabel="value" bindValue="code" formControlName="identityType">
                                    </ng-select>

                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="col-sm-4 col-form-label">{{"FORM.name" | translate}}</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control form-control-sm " name="name"
                                        autocomplete="off" [class.is-invalid]="isControlInvalid('name')"
                                        [class.is-valid]="isControlValid('name')" formControlName="name" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row" style="align-items: center;">
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="col-sm-4 col-form-label">{{"FORM.nrc_frc_passport" | translate}}</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control form-control-sm " name="identityNumber"
                                        autocomplete="off" [class.is-invalid]="isControlInvalid('identityNumber')"
                                        [class.is-valid]="isControlValid('identityNumber')"
                                        formControlName="identityNumber" />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="col-sm-4 col-form-label">{{"FORM.phone_number" | translate}}</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control form-control-sm " name="phoneNo"
                                        autocomplete="off" [class.is-invalid]="isControlInvalid('phoneNo')"
                                        [class.is-valid]="isControlValid('phoneNo')" formControlName="phoneNo" />
                                </div>
                            </div>
                        </div>
                    </div>

                </form>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-12">
        <div class="card card-custom gutter-b data" [class.remove-p]="isPopup">
            <div class="card-body customer-card-body" *ngIf="show">
                <div *ngIf="isPopup;else no_popup">
                    <app-material-table-view [data]="customerList" [colum]="ELEMENT_COL"
                        [displayedColumns]="displayedColumns" (emitter)="actionBtn($event)"
                        (rowselect)="rowSelected($event)" [selectable]="isPopup">
                    </app-material-table-view>
                </div>
                <ng-template #no_popup>
                    <app-common-list-2 *ngIf="customerList.length > 0" class="data-list" #commonList
                        [data]="customerList" [type]="'customer'" (btnEvent)="actionBtn($event)"></app-common-list-2>
                </ng-template>
                <div class="row">
                    <div class="col-12">
                        <ng-container *ngIf="isPopup && !isDynamic">
                            <div class="card-footer">
                                <button type="button" class="btn btn-light btn-elevate mr-2"
                                    (click)="closeModal()">{{"FORM.btn_cancel" | translate}}</button>
                                <button type="button" class="btn btn-primary btn-elevate" (click)="nextProd()"
                                    [disabled]="!selected.customerId">{{"FORM.btn_next" | translate}}</button>
                            </div>
                        </ng-container>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>